"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[9210],{69210:(e,o,n)=>{n.r(o),n.d(o,{default:()=>M});var i=n(6907),t=n(34045),r=n(64802),s=n(61146),l=n(72791),a=n(57621),d=n(79836),c=n(13838),p=n(10266),h=n(53382),u=n(39281),x=n(38072),_=n(19208),m=n(4419),v=n(66630),y=n(40268),g=n(10261),j=n(35456),f=n(73379),b=n(38062),w=n(16386),Z=n(16029),C=n(49900),P=n(82626),L=n(9195),k=n(68745),D=n(13400),O=n(24845),R=n(80184);function S(e){let{row:o,selected:n,onEditRow:i,onSelectRow:t}=e;const{code:r,unit_service_type:s,country:l,city:a,sector:d,commercial_name:c,province:p,address:h,phone_number_1:u,Phone_number_2:x,work_shift:_,constitution_objective:m,type_of_specialty_1:v,type_of_specialty_2:g,created_at:j,user_creation:f,ip_address_user_creation:b,updated_at:S,user_modification:T,ip_address_user_modification:W,modifications_nums:B}=o,E=(0,O.S)(),F=(0,O.S)(),M=(0,R.jsxs)(L.Z,{hover:!0,selected:n,children:[(0,R.jsx)(k.Z,{align:"center",children:(0,R.jsx)(Z.Z,{children:r})}),(0,R.jsx)(k.Z,{align:"center",children:s}),(0,R.jsx)(k.Z,{align:"center",children:l}),(0,R.jsx)(k.Z,{align:"center",children:a}),(0,R.jsx)(k.Z,{align:"center",children:d}),(0,R.jsx)(k.Z,{align:"center",children:c}),(0,R.jsx)(k.Z,{align:"center",children:p}),(0,R.jsx)(k.Z,{align:"center",children:h}),(0,R.jsx)(k.Z,{align:"center",children:u}),(0,R.jsx)(k.Z,{align:"center",children:x}),(0,R.jsx)(k.Z,{align:"center",children:_}),(0,R.jsx)(k.Z,{align:"center",children:m}),(0,R.jsx)(k.Z,{align:"center",children:v}),(0,R.jsx)(k.Z,{align:"center",children:g}),(0,R.jsx)(k.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,R.jsx)(D.Z,{color:E.open?"inherit":"default",onClick:E.onOpen,children:(0,R.jsx)(y.Z,{icon:"eva:more-vertical-fill"})})})]});return(0,R.jsxs)(R.Fragment,{children:[M,(0,R.jsxs)(O.Z,{open:E.open,onClose:E.onClose,arrow:"right-top",sx:{width:140},children:[(0,R.jsxs)(P.Z,{lang:"ar",onClick:()=>{i(),E.onClose()},children:[(0,R.jsx)(y.Z,{icon:"fluent:edit-32-filled"}),"Edit"]}),(0,R.jsxs)(P.Z,{lang:"ar",onClick:F.onOpen,children:[(0,R.jsx)(y.Z,{icon:"carbon:data-quality-definition"}),"DDL"]})]}),(0,R.jsxs)(O.Z,{open:F.open,onClose:F.onClose,arrow:"right-top",sx:{padding:2,fontSize:"14px"},children:[(0,R.jsx)(Z.Z,{sx:{fontWeight:600},children:"Creation Time:"}),(0,R.jsx)(Z.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,R.jsx)(C.Z,{primary:(0,w.Z)(new Date(j),"dd MMM yyyy"),secondary:(0,w.Z)(new Date(j),"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{component:"span",typography:"caption"}})}),(0,R.jsx)(Z.Z,{sx:{pt:1,fontWeight:600},children:"created by:"}),(0,R.jsx)(Z.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===f||void 0===f?void 0:f.email}),(0,R.jsx)(Z.Z,{sx:{pt:1,fontWeight:600},children:"created by IP:"}),(0,R.jsx)(Z.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:b}),(0,R.jsx)(Z.Z,{sx:{pt:1,fontWeight:600},children:"Editing Time:"}),(0,R.jsx)(Z.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,R.jsx)(C.Z,{primary:(0,w.Z)(new Date(S),"dd MMM yyyy"),secondary:(0,w.Z)(new Date(S),"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{component:"span",typography:"caption"}})}),(0,R.jsx)(Z.Z,{sx:{pt:1,fontWeight:600},children:"Editor:"}),(0,R.jsx)(Z.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===T||void 0===T?void 0:T.email}),(0,R.jsx)(Z.Z,{sx:{pt:1,fontWeight:600},children:"Editor IP:"}),(0,R.jsx)(Z.Z,{sx:{pb:1,borderBottom:"1px solid gray",fontWeight:"400"},children:W}),(0,R.jsxs)(Z.Z,{sx:{pt:1,fontWeight:600},children:["Modifications No: ",B]})]})]})}var T=n(65483),W=n(49172);const B=[{id:"code",label:"code"},{id:"unit_service_type",label:"unit_service_type"},{id:"country",label:"country"},{id:"city",label:"city"},{id:"sector",label:"sector"},{id:"commercial_name",label:"commercial_name"},{id:"province",label:"province"},{id:"address",label:"address"},{id:"phone_number_1",label:"phone_number_1"},{id:"Phone_number_2",label:"Phone_number_2"},{id:"work_shift",label:"work_shift"},{id:"constitution_objective",label:"constitution_objective"},{id:"type_of_specialty_1",label:"type_of_specialty_1"},{id:"type_of_specialty_2",label:"type_of_specialty_2"},{id:"",width:88}],E={name:""};function F(){const e=(0,b.x6)({defaultOrderBy:"code"}),o=(0,l.useRef)(),n=(0,_.tv)(),{companiesData:i,loading:w}=(0,v.jsU)(),[Z,C]=(0,l.useState)(E),P=!(!Z.startDate||!Z.endDate)&&Z.startDate.getTime()>Z.endDate.getTime(),L=function(e){let{inputData:o,comparator:n,filters:i,dateError:t}=e;const{name:r}=i,s=o.map(((e,o,n)=>[e,o]));s.sort(((e,o)=>{const i=n(e[0],o[0]);return 0!==i?i:e[1]-o[1]})),o=s.map(((e,o)=>e[0])),r&&(o=o.filter((e=>{var o,n,i,t,s,l,a,d,c,p,h,u,x;return(null===e||void 0===e?void 0:e.name_english)&&-1!==(null===e||void 0===e||null===(o=e.name_english)||void 0===o?void 0:o.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.name_arabic)&&-1!==(null===e||void 0===e||null===(n=e.name_arabic)||void 0===n?void 0:n.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.commercial_name)&&-1!==(null===e||void 0===e||null===(i=e.commercial_name)||void 0===i?void 0:i.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.province)&&-1!==(null===e||void 0===e||null===(t=e.province)||void 0===t?void 0:t.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.country)&&-1!==(null===e||void 0===e||null===(s=e.country)||void 0===s?void 0:s.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.city)&&-1!==(null===e||void 0===e||null===(l=e.city)||void 0===l?void 0:l.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.email)&&-1!==(null===e||void 0===e||null===(a=e.email)||void 0===a?void 0:a.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.phone_number_1)&&-1!==(null===e||void 0===e||null===(d=e.phone_number_1)||void 0===d?void 0:d.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.type_of_specialty_1)&&-1!==(null===e||void 0===e||null===(c=e.type_of_specialty_1)||void 0===c?void 0:c.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.type_of_specialty_2)&&-1!==(null===e||void 0===e||null===(p=e.type_of_specialty_2)||void 0===p?void 0:p.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.unit_service_type)&&-1!==(null===e||void 0===e||null===(h=e.unit_service_type)||void 0===h?void 0:h.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.sector)&&-1!==(null===e||void 0===e||null===(u=e.sector)||void 0===u?void 0:u.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.info)&&-1!==(null===e||void 0===e||null===(x=e.info)||void 0===x?void 0:x.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e._id)===r||JSON.stringify(e.code)===r})));return o}({inputData:i,comparator:(0,b.sQ)(e.order,e.orderBy),filters:Z,dateError:P}),k=e.dense?52:72,D=!(null===Z||void 0===Z||!Z.name),O=!L.length&&D||!L.length,F=(0,s.useReactToPrint)({content:()=>o.current}),M=(0,l.useCallback)(((o,n)=>{e.onResetPage(),C((e=>({...e,[o]:n})))}),[e]),H=(0,l.useCallback)((e=>{n.push(x.H.superadmin.tables.companies.edit(e))}),[n]),I=(0,l.useCallback)((()=>{C(E)}),[]);return w?(0,R.jsx)(j.a,{}):(0,R.jsxs)(p.Z,{maxWidth:"xl",children:[(0,R.jsx)(f.Z,{heading:"companies",links:[{name:"dashboard",href:x.H.superadmin.root},{name:"Tables",href:x.H.superadmin.tables.list},{name:"companies"}],action:(0,R.jsx)(c.Z,{component:m.r,href:x.H.superadmin.tables.companies.new,variant:"contained",startIcon:(0,R.jsx)(y.Z,{icon:"mingcute:add-line"}),children:"New company"}),sx:{mb:{xs:3,md:5}}}),(0,R.jsxs)(a.Z,{children:[(0,R.jsx)(T.Z,{onPrint:F,filters:Z,onFilters:M,onDownload:()=>{const e=L.reduce(((e,o)=>(e.push({code:o.code,name:o.name_english,description:o.description}),e)),[]),o=t.P6.book_new(),n=t.P6.json_to_sheet(e);t.P6.book_append_sheet(o,n,"Sheet 1");const i=t.cW(o,{bookType:"xlsx",type:"array"}),s=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,r.saveAs)(s,"companiesTable.xlsx")},canReset:D,onResetFilters:I}),D&&(0,R.jsx)(W.Z,{filters:Z,onFilters:M,onResetFilters:I,results:L.length,sx:{p:2.5,pt:0}}),(0,R.jsx)(u.Z,{children:(0,R.jsx)(g.Z,{children:(0,R.jsxs)(d.Z,{ref:o,size:e.dense?"small":"medium",children:[(0,R.jsx)(b.K,{order:e.order,orderBy:e.orderBy,headLabel:B,rowCount:L.length,numSelected:e.selected.length,onSort:e.onSort}),(0,R.jsxs)(h.Z,{children:[L.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map(((o,n)=>(0,R.jsx)(S,{row:o,selected:e.selected.includes(o._id),onSelectRow:()=>e.onSelectRow(o._id),onEditRow:()=>H(o._id)},n))),(0,R.jsx)(b.$W,{height:k,emptyRows:(0,b.fQ)(e.page,e.rowsPerPage,i.length)}),(0,R.jsx)(b.et,{notFound:O})]})]})})}),(0,R.jsx)(b.S_,{count:L.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]})}function M(){return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(i.ql,{children:[(0,R.jsx)("title",{children:" Dashboard: companies Table"}),(0,R.jsx)("meta",{name:"description",content:"meta"})]}),(0,R.jsx)(F,{})]})}}}]);
//# sourceMappingURL=9210.270f22fc.chunk.js.map