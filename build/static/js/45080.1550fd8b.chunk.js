"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[45080],{19229:(e,s,r)=>{r.d(s,{A:()=>k});var n=r(80899),a=r(65043),i=r(24858),l=r(18403),t=r(81e3),d=r(12110),o=r(74600),c=r(22075),m=r(38246),u=r(71861),x=r(94814),h=r(51787),p=r(17392),j=r(48407),A=r(67132),g=r(59229),v=r(31673),f=r(35151),b=r(94857),y=r(59699),w=r(70579);function k(e){let{currentSelected:s}=e;const r=(0,A.rd)(),k=(0,g.C)(),[_,S]=(0,a.useState)(),{enqueueSnackbar:C}=(0,b.dh)(),I=n.Ik().shape({userName:n.Yj().required("userName is required"),email:n.Yj().required("email is required"),password:n.Yj(),confirmPassword:n.Yj(),role:n.Yj().required("role is required")}),q=(0,a.useMemo)((()=>({userName:(null===s||void 0===s?void 0:s.userName)||"",email:(null===s||void 0===s?void 0:s.email)||"",password:(null===s||void 0===s?void 0:s.password)||"",confirmPassword:(null===s||void 0===s?void 0:s.confirmPassword)||"",role:(null===s||void 0===s?void 0:s.role)||""})),[s]),L=(0,i.mN)({mode:"all",resolver:(0,l.t)(I),defaultValues:q}),{reset:N,handleSubmit:P,formState:{isSubmitting:T}}=L,Y=P((async e=>{try{s?await v.Ay.patch(v.vZ.auth.user(s._id),e):await v.Ay.post(v.vZ.auth.users,{...e,email:e.email.toLowerCase()}),N(),C(s?"Update success!":"Create success!"),r.push(j.f.superadmin.users.root)}catch(n){S("string"===typeof n?n:n.message),console.error(n)}}));return(0,w.jsx)(y.Ay,{methods:L,onSubmit:Y,children:(0,w.jsx)(c.A,{container:!0,spacing:3,children:(0,w.jsx)(c.A,{xs:12,maxWidth:"md",children:(0,w.jsxs)(d.A,{sx:{p:3},children:[(0,w.jsxs)(t.A,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"},children:[!!_&&(0,w.jsx)(u.A,{severity:"error",children:(0,w.jsx)("div",{dangerouslySetInnerHTML:{__html:_}})}),(0,w.jsx)(y.o3,{name:"userName",label:"username"}),(0,w.jsx)(y.o3,{name:"email",label:"email"}),(0,w.jsxs)(y.tX,{name:"role",label:"Role",children:[(0,w.jsx)(x.A,{lang:"ar",value:"admin",children:"admin"}),(0,w.jsx)(x.A,{lang:"ar",value:"superadmin",children:"superadmin"}),(0,w.jsx)(x.A,{lang:"ar",value:"employee",children:"employee"}),(0,w.jsx)(x.A,{lang:"ar",value:"patient",children:"patient"})]}),!s&&(0,w.jsx)(y.o3,{name:"password",label:"password",type:k.value?"text":"password",InputProps:{endAdornment:(0,w.jsx)(h.A,{position:"end",children:(0,w.jsx)(p.A,{onClick:k.onToggle,edge:"end",children:(0,w.jsx)(f.A,{icon:k.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),!s&&(0,w.jsx)(y.o3,{name:"confirmPassword",label:"confirm password",type:k.value?"text":"password",InputProps:{endAdornment:(0,w.jsx)(h.A,{position:"end",children:(0,w.jsx)(p.A,{onClick:k.onToggle,edge:"end",children:(0,w.jsx)(f.A,{icon:k.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}})]}),(0,w.jsx)(o.A,{alignItems:"flex-end",sx:{mt:3},children:(0,w.jsx)(m.A,{type:"submit",tabIndex:-1,variant:"contained",loading:T,children:s?"Save Changes":"Create One"})})]})})})})}},45080:(e,s,r)=>{r.r(s),r.d(s,{default:()=>u});var n=r(29490),a=r(77224),i=r(48407),l=r(67132),t=r(7625),d=r(83858),o=r(19229),c=r(70579);function m(){const e=(0,l.g)(),{id:s}=e,{data:r}=(0,t.be)(s);return(0,c.jsxs)(a.A,{maxWidth:"xl",children:[(0,c.jsx)(d.A,{heading:"Edit user",links:[{name:"dashboard",href:i.f.superadmin.root},{name:"users",href:i.f.superadmin.users.root},{name:"edit"}],sx:{mb:{xs:3,md:5}}}),r&&(0,c.jsx)(o.A,{currentSelected:r})]})}function u(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(n.mg,{children:[(0,c.jsx)("title",{children:"edit user"}),(0,c.jsx)("meta",{name:"description",content:"meta"})]}),(0,c.jsx)(m,{})]})}},83858:(e,s,r)=>{r.d(s,{A:()=>n.A});var n=r(91720)},91720:(e,s,r)=>{r.d(s,{A:()=>m});var n=r(81e3),a=r(88446),i=r(74600),l=r(94496),t=r(22698),d=r(65381),o=r(70579);function c(e){let{link:s,activeLast:r,disabled:i}=e;const l={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...i&&!r&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},t=(0,o.jsxs)(o.Fragment,{children:[s.icon&&(0,o.jsx)(n.A,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:s.icon}),s.name]});return s.href?(0,o.jsx)(a.A,{component:d.W,href:s.href,sx:l,children:t}):(0,o.jsxs)(n.A,{sx:l,children:[" ",t," "]})}function m(e){let{links:s,action:r,heading:d,moreLink:m,activeLast:x,sx:h,...p}=e;const j=s&&s[s.length-1].name;return(0,o.jsxs)(n.A,{sx:{...h},children:[(0,o.jsxs)(i.A,{direction:"row",alignItems:"center",children:[(0,o.jsxs)(n.A,{sx:{flexGrow:1,display:"flex",gap:{md:3},alignItems:{md:"center"},flexDirection:{xs:"column",md:"row"}},children:[d&&(0,o.jsx)(l.A,{textTransform:"capitalize",variant:"h4",gutterBottom:!0,children:d}),s&&!!s.length&&(0,o.jsx)(t.A,{separator:(0,o.jsx)(u,{}),...p,children:null===s||void 0===s?void 0:s.map(((e,s)=>(0,o.jsx)(c,{link:e,activeLast:x,disabled:e.name===j},s)))})]}),r&&(0,o.jsxs)(n.A,{sx:{flexShrink:0,textTransform:"capitalize"},children:[" ",r," "]})]}),!!m&&(0,o.jsx)(n.A,{sx:{mt:2},children:m.map(((e,s)=>(0,o.jsx)(a.A,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},s)))})]})}function u(){return(0,o.jsx)(n.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}}}]);
//# sourceMappingURL=45080.1550fd8b.chunk.js.map