{"version":3,"file":"static/js/8580.6c6ad240.chunk.js","mappings":"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","sources":["sections/employee/entranceManagement/invoice-new-edit-details.jsx","sections/employee/entranceManagement/invoice-new-edit-address.jsx","sections/employee/entranceManagement/invoice-new-edit-status-date.jsx","sections/employee/entranceManagement/view/accounting.jsx","pages/employee/entranceManagement/accounting.jsx","../node_modules/lodash/_baseSum.js","../node_modules/lodash/sum.js"],"sourcesContent":["import sum from 'lodash/sum';\r\nimport { useEffect, useCallback } from 'react';\r\nimport { useFieldArray, useFormContext } from 'react-hook-form';\r\n\r\nimport Box from '@mui/material/Box';\r\nimport Stack from '@mui/material/Stack';\r\nimport Button from '@mui/material/Button';\r\nimport Divider from '@mui/material/Divider';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport Typography from '@mui/material/Typography';\r\nimport InputAdornment from '@mui/material/InputAdornment';\r\nimport { inputBaseClasses } from '@mui/material/InputBase';\r\n\r\nimport { fCurrency } from 'src/utils/format-number';\r\n\r\n// import { INVOICE_SERVICE_OPTIONS } from 'src/_mock';\r\n\r\nimport Iconify from 'src/components/iconify';\r\nimport { RHFSelect, RHFTextField } from 'src/components/hook-form';\r\nimport { useGetUSActiveServiceTypes } from 'src/api';\r\nimport { useAuthContext } from 'src/auth/hooks';\r\n// import { useLocales } from 'src/locales';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function InvoiceNewEditDetails() {\r\n  // const { currentLang } = useLocales();\r\n  // const curLangAr = currentLang.value === 'ar';\r\n\r\n  const { user } = useAuthContext();\r\n  const { serviceTypesData } = useGetUSActiveServiceTypes(\r\n    user?.employee?.employee_engagements?.[user.employee.selected_engagement]?.unit_service?._id\r\n  );\r\n\r\n  const { control, setValue, watch } = useFormContext();\r\n\r\n  const { fields, append, remove } = useFieldArray({\r\n    control,\r\n    name: 'items',\r\n  });\r\n\r\n  const values = watch();\r\n\r\n  const subtotalOnRow = values.items.map((item) => item.subtotal);\r\n  const totalOnRow = values.items.map((item) => item.total);\r\n\r\n  const subTotal = sum(subtotalOnRow);\r\n\r\n  const totalAmount = sum(totalOnRow);\r\n\r\n  useEffect(() => {\r\n    setValue('totalAmount', totalAmount);\r\n  }, [setValue, totalAmount]);\r\n\r\n  useEffect(() => {\r\n    const total = values.items?.reduce((acc, one) => acc + (one.tax / 100) * one.subtotal, 0);\r\n    setValue('taxes', total);\r\n\r\n    const deductiontotal = values.items?.reduce(\r\n      (acc, one) => acc + (one.deduction / 100) * one.subtotal,\r\n      0\r\n    );\r\n    setValue('deduction', deductiontotal);\r\n\r\n    const newTotal = values.items?.reduce((acc, one) => {\r\n      const selected = serviceTypesData?.find((service) => service._id === one.service);\r\n      return one.price !== Number(selected?.Price_per_unit) && selected\r\n        ? acc + (Number(selected.Price_per_unit) - one.price) * one.quantity\r\n        : acc;\r\n    }, 0);\r\n    setValue('discount', newTotal);\r\n  }, [totalAmount, setValue, values.items, serviceTypesData]);\r\n\r\n  const handleAdd = () => {\r\n    append({\r\n      service: null,\r\n      quantity: 1,\r\n      price: 0,\r\n      subtotal: 0,\r\n      tax: 0,\r\n      total: 0,\r\n    });\r\n  };\r\n\r\n  const handleRemove = (index) => {\r\n    remove(index);\r\n  };\r\n\r\n  // const handleClearService = useCallback(\r\n  //   (index) => {\r\n  //     resetField(`items[${index}].quantity`);\r\n  //     resetField(`items[${index}].price`);\r\n  //     resetField(`items[${index}].subtotal`);\r\n  //     resetField(`items[${index}].tax`);\r\n  //     resetField(`items[${index}].total`);\r\n  //   },\r\n  //   [resetField]\r\n  // );\r\n\r\n  const handleSelectService = useCallback(\r\n    (index, option) => {\r\n      const selected = serviceTypesData?.find((service) => service._id === option);\r\n      setValue(`items[${index}].price`, selected?.Price_per_unit);\r\n      setValue(\r\n        `items[${index}].subtotal`,\r\n        values.items.map((item) => item.quantity * item.price)[index]\r\n      );\r\n      setValue(`items[${index}].tax`, selected?.tax?.percentage || 0);\r\n      setValue(`items[${index}].deduction`, selected?.deduction?.percentage || 0);\r\n      setValue(\r\n        `items[${index}].total`,\r\n        values.items.map(\r\n          (item) =>\r\n            item.subtotal * ((100 + item.tax) / 100) + item.subtotal * (item.deduction / 100)\r\n        )[index]\r\n      );\r\n    },\r\n    [setValue, values.items, serviceTypesData]\r\n  );\r\n\r\n  const handleChangeQuantity = useCallback(\r\n    (event, index) => {\r\n      setValue(`items[${index}].quantity`, Number(event.target.value));\r\n      setValue(\r\n        `items[${index}].subtotal`,\r\n        values.items.map((item) => item.quantity * item.price)[index]\r\n      );\r\n      setValue(\r\n        `items[${index}].total`,\r\n        values.items.map(\r\n          (item) =>\r\n            item.subtotal * ((100 + item.tax) / 100) + item.subtotal * (item.deduction / 100)\r\n        )[index]\r\n      );\r\n    },\r\n    [setValue, values.items]\r\n  );\r\n\r\n  const handleChangePrice = useCallback(\r\n    (event, index) => {\r\n      setValue(`items[${index}].price`, Number(event.target.value));\r\n      setValue(\r\n        `items[${index}].subtotal`,\r\n        values.items.map((item) => item.quantity * item.price)[index]\r\n      );\r\n      setValue(\r\n        `items[${index}].total`,\r\n        values.items.map(\r\n          (item) =>\r\n            item.subtotal * ((100 + item.tax) / 100) + item.subtotal * (item.deduction / 100)\r\n        )[index]\r\n      );\r\n    },\r\n    [setValue, values.items]\r\n  );\r\n\r\n  const renderTotal = (\r\n    <Stack\r\n      spacing={2}\r\n      alignItems=\"flex-end\"\r\n      sx={{ mt: 3, textAlign: 'right', typography: 'body2' }}\r\n    >\r\n      <Stack direction=\"row\">\r\n        <Box sx={{ color: 'text.secondary' }}>Discount</Box>\r\n        <Box\r\n          sx={{\r\n            width: 160,\r\n            ...(values.discount && { color: 'error.main' }),\r\n          }}\r\n        >\r\n          {values.discount ? `- ${fCurrency(values.discount)}` : '-'}\r\n        </Box>\r\n      </Stack>\r\n\r\n      <Stack direction=\"row\">\r\n        <Box sx={{ color: 'text.secondary' }}>Subtotal</Box>\r\n        <Box sx={{ width: 160, typography: 'subtitle2' }}>{fCurrency(subTotal) || '-'}</Box>\r\n      </Stack>\r\n\r\n      <Stack direction=\"row\">\r\n        <Box sx={{ color: 'text.secondary' }}>Taxes</Box>\r\n        <Box sx={{ width: 160 }}>{values.taxes ? fCurrency(values.taxes) : '-'}</Box>\r\n      </Stack>\r\n\r\n      <Stack direction=\"row\">\r\n        <Box sx={{ color: 'text.secondary' }}>Deduction</Box>\r\n        <Box sx={{ width: 160 }}>{values.deduction ? fCurrency(values.deduction) : '-'}</Box>\r\n      </Stack>\r\n\r\n      <Stack direction=\"row\" sx={{ typography: 'subtitle1' }}>\r\n        <Box>Total</Box>\r\n        <Box sx={{ width: 160 }}>{fCurrency(totalAmount) || '-'}</Box>\r\n      </Stack>\r\n    </Stack>\r\n  );\r\n\r\n  return (\r\n    <Box sx={{ p: 3 }}>\r\n      <Typography variant=\"h6\" sx={{ color: 'text.disabled', mb: 3 }}>\r\n        Details:\r\n      </Typography>\r\n\r\n      <Stack divider={<Divider flexItem sx={{ borderStyle: 'dashed' }} />} spacing={2}>\r\n        {fields.map((item, index) => (\r\n          <Stack key={item.id} alignItems=\"flex-end\" spacing={1.5}>\r\n            <Stack\r\n              direction={{ xs: 'column', md: 'row' }}\r\n              justifyContent=\"center\"\r\n              spacing={2}\r\n              sx={{ width: 1 }}\r\n            >\r\n              {/* <RHFAutocomplete\r\n                placeholder=\"type\"\r\n                name={`items[${index}].service`}\r\n                label=\"Service\"\r\n                sx={{ width: '300px' }}\r\n                size=\"small\"\r\n                InputLabelProps={{ shrink: true }}\r\n                options={serviceTypesData.map((speciality) => speciality._id)}\r\n                getOptionLabel={(option) =>\r\n                  serviceTypesData?.find((one) => one._id === option)?.[\r\n                    curLangAr ? 'name_arabic' : 'name_english'\r\n                  ]\r\n                }\r\n                renderOption={(props, option, idx) => (\r\n                  <li {...props} key={idx} value={option}>\r\n                    {\r\n                      serviceTypesData.find((one) => one._id === option)?.[\r\n                        curLangAr ? 'name_arabic' : 'name_english'\r\n                      ]\r\n                    }\r\n                  </li>\r\n                )}\r\n              /> */}\r\n              <RHFSelect\r\n                name={`items[${index}].service`}\r\n                size=\"small\"\r\n                label=\"Service\"\r\n                sx={{ maxWidth: '450px' }}\r\n                InputLabelProps={{ shrink: true }}\r\n              >\r\n                {serviceTypesData?.map((service) => (\r\n                  <MenuItem\r\n                    key={service._id}\r\n                    value={service._id}\r\n                    onClick={() => handleSelectService(index, service._id)}\r\n                  >\r\n                    {service.name_english}\r\n                  </MenuItem>\r\n                ))}\r\n              </RHFSelect>\r\n\r\n              <RHFTextField\r\n                size=\"small\"\r\n                type=\"number\"\r\n                name={`items[${index}].quantity`}\r\n                label=\"Quantity\"\r\n                placeholder=\"0\"\r\n                onChange={(event) => handleChangeQuantity(event, index)}\r\n                InputLabelProps={{ shrink: true }}\r\n                sx={{ maxWidth: { md: 150 } }}\r\n              />\r\n\r\n              <RHFTextField\r\n                size=\"small\"\r\n                type=\"number\"\r\n                name={`items[${index}].price`}\r\n                label=\"Price\"\r\n                placeholder=\"0.00\"\r\n                onChange={(event) => handleChangePrice(event, index)}\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>$</Box>\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n                sx={{ maxWidth: { md: 150 } }}\r\n              />\r\n              <RHFTextField\r\n                disabled\r\n                size=\"small\"\r\n                type=\"number\"\r\n                name={`items[${index}].subtotal`}\r\n                label=\"Subtotal\"\r\n                placeholder=\"0.00\"\r\n                value={\r\n                  values.items[index].subtotal === 0 ? '' : values.items[index].subtotal.toFixed(2)\r\n                }\r\n                onChange={(event) => handleChangePrice(event, index)}\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>$</Box>\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n                sx={{\r\n                  maxWidth: { md: 150 },\r\n                  [`& .${inputBaseClasses.input}`]: {\r\n                    textAlign: { md: 'right' },\r\n                  },\r\n                }}\r\n              />\r\n              <RHFTextField\r\n                disabled\r\n                size=\"small\"\r\n                type=\"number\"\r\n                name={`items[${index}].tax`}\r\n                label=\"tax\"\r\n                placeholder=\"00\"\r\n                // value={values.items[index].total === 0 ? '' : values.items[index].total.toFixed(2)}\r\n                // onChange={(event) => handleChangePrice(event, index)}\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>%</Box>\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n                sx={{\r\n                  maxWidth: { md: 150 },\r\n                  [`& .${inputBaseClasses.input}`]: {\r\n                    textAlign: { md: 'right' },\r\n                  },\r\n                }}\r\n              />\r\n              <RHFTextField\r\n                disabled\r\n                size=\"small\"\r\n                type=\"number\"\r\n                name={`items[${index}].deduction`}\r\n                label=\"deduction\"\r\n                placeholder=\"00\"\r\n                // value={values.items[index].total === 0 ? '' : values.items[index].total.toFixed(2)}\r\n                // onChange={(event) => handleChangePrice(event, index)}\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>%</Box>\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n                sx={{\r\n                  maxWidth: { md: 150 },\r\n                  [`& .${inputBaseClasses.input}`]: {\r\n                    textAlign: { md: 'right' },\r\n                  },\r\n                }}\r\n              />\r\n              <RHFTextField\r\n                disabled\r\n                size=\"small\"\r\n                type=\"number\"\r\n                name={`items[${index}].total`}\r\n                label=\"Total\"\r\n                placeholder=\"0.00\"\r\n                value={values.items[index].total === 0 ? '' : values.items[index].total.toFixed(2)}\r\n                // onChange={(event) => handleChangePrice(event, index)}\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>$</Box>\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n                sx={{\r\n                  maxWidth: { md: 150 },\r\n                  [`& .${inputBaseClasses.input}`]: {\r\n                    textAlign: { md: 'right' },\r\n                  },\r\n                }}\r\n              />\r\n              <Button size=\"small\" color=\"error\" onClick={() => handleRemove(index)}>\r\n                <Iconify icon=\"solar:trash-bin-trash-bold\" />\r\n              </Button>\r\n            </Stack>\r\n          </Stack>\r\n        ))}\r\n      </Stack>\r\n\r\n      <Divider sx={{ my: 3, borderStyle: 'dashed' }} />\r\n\r\n      <Stack\r\n        spacing={3}\r\n        direction={{ xs: 'column', md: 'row' }}\r\n        alignItems={{ xs: 'flex-end', md: 'center' }}\r\n      >\r\n        <Button\r\n          size=\"small\"\r\n          color=\"primary\"\r\n          startIcon={<Iconify icon=\"mingcute:add-line\" />}\r\n          onClick={handleAdd}\r\n          sx={{ flexShrink: 0 }}\r\n        >\r\n          Add Item\r\n        </Button>\r\n\r\n        {/* <Stack\r\n          spacing={2}\r\n          justifyContent=\"flex-end\"\r\n          direction={{ xs: 'column', md: 'row' }}\r\n          sx={{ width: 1 }}\r\n        >\r\n          <RHFTextField\r\n            disabled\r\n            size=\"small\"\r\n            label=\"Discount\"\r\n            name=\"discount\"\r\n            type=\"number\"\r\n            sx={{ maxWidth: { md: 120 } }}\r\n          />\r\n\r\n          <RHFTextField\r\n            disabled\r\n            size=\"small\"\r\n            label=\"Tax\"\r\n            name=\"taxes\"\r\n            type=\"number\"\r\n            sx={{ maxWidth: { md: 120 } }}\r\n          />\r\n        </Stack> */}\r\n      </Stack>\r\n\r\n      {renderTotal}\r\n    </Box>\r\n  );\r\n}\r\n","import { useFormContext } from 'react-hook-form';\r\n\r\nimport Stack from '@mui/material/Stack';\r\nimport Button from '@mui/material/Button';\r\n// import Divider from '@mui/material/Divider';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nimport { useBoolean } from 'src/hooks/use-boolean';\r\n// import { useResponsive } from 'src/hooks/use-responsive';\r\n\r\n// import { _addressBooks } from 'src/_mock';\r\n\r\nimport Iconify from 'src/components/iconify';\r\nimport { AddressListDialog } from 'src/components/address';\r\nimport { useAuthContext } from 'src/auth/hooks';\r\n\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function InvoiceNewEditAddress() {\r\n  const {\r\n    watch,\r\n    setValue,\r\n    // formState: { errors },\r\n  } = useFormContext();\r\n\r\n  const {user} = useAuthContext()\r\n  const myUS = user?.employee?.employee_engagements[user?.employee.selected_engagement]?.unit_service\r\n\r\n  // const mdUp = useResponsive('up', 'md');\r\n\r\n  const values = watch();\r\n\r\n  const { invoiceFrom, invoiceTo } = values;\r\n\r\n  const from = useBoolean();\r\n\r\n  const to = useBoolean();\r\n\r\n  return (\r\n    <>\r\n      <Stack\r\n        spacing={{ xs: 3, md: 5 }}\r\n        // direction={{ xs: 'column', md: 'row' }}\r\n        // divider={\r\n        //   <Divider\r\n        //     flexItem\r\n        //     orientation={mdUp ? 'vertical' : 'horizontal'}\r\n        //     sx={{ borderStyle: 'dashed' }}\r\n        //   />\r\n        // }\r\n        sx={{ p: 3 }}\r\n      >\r\n        <Stack sx={{ width: 1 }}>\r\n\r\n          <Stack spacing={1}>\r\n            <Typography variant=\"h4\">{invoiceFrom?.name || myUS.name_english}</Typography>\r\n            <Typography variant=\"body2\">{invoiceFrom?.fullAddress || myUS.address}</Typography>\r\n            <Typography variant=\"body2\"> {invoiceFrom?.phoneNumber || myUS.phone}</Typography>\r\n          </Stack>\r\n        </Stack>\r\n\r\n        <Stack sx={{ width: 1 }}>\r\n          <Stack direction=\"row\" alignItems=\"center\" sx={{ mb: 1 }}>\r\n            <Typography variant=\"h6\" sx={{ color: 'text.disabled', flexGrow: 1 }}>\r\n              To:\r\n            </Typography>\r\n{/* \r\n            <IconButton onClick={to.onTrue}>\r\n              <Iconify icon={invoiceTo ? 'solar:pen-bold' : 'mingcute:add-line'} />\r\n            </IconButton> */}\r\n          </Stack>\r\n\r\n          {/* {invoiceTo ? ( */}\r\n            <Stack spacing={1}>\r\n              <Typography variant=\"subtitle2\">{invoiceTo?.name_english }</Typography>\r\n              <Typography variant=\"body2\">{invoiceTo?.address }</Typography>\r\n              <Typography variant=\"body2\"> {invoiceTo?.phone }</Typography>\r\n            </Stack>\r\n          {/* ) : (\r\n            <Typography typography=\"caption\" sx={{ color: 'error.main' }}>\r\n              {errors.invoiceTo?.message}\r\n            </Typography>\r\n          )} */}\r\n        </Stack>\r\n      </Stack>\r\n{/* \r\n      <AddressListDialog\r\n        title=\"Customers\"\r\n        open={from.value}\r\n        onClose={from.onFalse}\r\n        selected={(selectedId) => invoiceFrom?.id === selectedId}\r\n        onSelect={(address) => setValue('invoiceFrom', address)}\r\n        // list={_addressBooks}\r\n        action={\r\n          <Button\r\n            size=\"small\"\r\n            startIcon={<Iconify icon=\"mingcute:add-line\" />}\r\n            sx={{ alignSelf: 'flex-end' }}\r\n          >\r\n            New\r\n          </Button>\r\n        }\r\n      /> */}\r\n\r\n      {/* <AddressListDialog\r\n        title=\"Customers\"\r\n        open={to.value}\r\n        onClose={to.onFalse}\r\n        selected={(selectedId) => invoiceTo?.id === selectedId}\r\n        onSelect={(address) => setValue('invoiceTo', address)}\r\n        // list={_addressBooks}\r\n        action={\r\n          <Button\r\n            size=\"small\"\r\n            startIcon={<Iconify icon=\"mingcute:add-line\" />}\r\n            sx={{ alignSelf: 'flex-end' }}\r\n          >\r\n            New\r\n          </Button>\r\n        }\r\n      /> */}\r\n    </>\r\n  );\r\n}\r\n","import { Controller, useFormContext } from 'react-hook-form';\r\n\r\nimport Stack from '@mui/material/Stack';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\r\n\r\nimport { RHFSelect, RHFTextField } from 'src/components/hook-form';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function InvoiceNewEditStatusDate() {\r\n  const { control } = useFormContext();\r\n\r\n  // const values = watch();\r\n\r\n  return (\r\n    <Stack\r\n      spacing={2}\r\n      direction={{ xs: 'column', sm: 'row' }}\r\n      sx={{ p: 3, bgcolor: 'background.neutral' }}\r\n    >\r\n      {/* <RHFTextField\r\n        disabled\r\n        name=\"invoiceNumber\"\r\n        label=\"Invoice number\"\r\n        value={values.invoiceNumber}\r\n      /> */}\r\n\r\n      <RHFSelect\r\n        fullWidth\r\n        name=\"status\"\r\n        label=\"Status\"\r\n        InputLabelProps={{ shrink: true }}\r\n        PaperPropsSx={{ textTransform: 'capitalize' }}\r\n      >\r\n        {['paid', 'pending', 'overdue', 'draft'].map((option) => (\r\n          <MenuItem key={option} value={option}>\r\n            {option}\r\n          </MenuItem>\r\n        ))}\r\n      </RHFSelect>\r\n\r\n      <Controller\r\n        name=\"createDate\"\r\n        control={control}\r\n        render={({ field, fieldState: { error } }) => (\r\n          <DatePicker\r\n            label=\"Date create\"\r\n            value={field.value}\r\n            onChange={(newValue) => {\r\n              field.onChange(newValue);\r\n            }}\r\n            slotProps={{\r\n              textField: {\r\n                fullWidth: true,\r\n                error: !!error,\r\n                helperText: error?.message,\r\n              },\r\n            }}\r\n          />\r\n        )}\r\n      />\r\n\r\n      <Controller\r\n        name=\"dueDate\"\r\n        control={control}\r\n        render={({ field, fieldState: { error } }) => (\r\n          <DatePicker\r\n            label=\"Due date\"\r\n            value={field.value}\r\n            onChange={(newValue) => {\r\n              field.onChange(newValue);\r\n            }}\r\n            slotProps={{\r\n              textField: {\r\n                fullWidth: true,\r\n                error: !!error,\r\n                helperText: error?.message,\r\n              },\r\n            }}\r\n          />\r\n        )}\r\n      />\r\n    </Stack>\r\n  );\r\n}\r\n","import * as Yup from 'yup';\r\nimport { useMemo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useForm } from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\n\r\nimport Card from '@mui/material/Card';\r\nimport Stack from '@mui/material/Stack';\r\nimport { Container } from '@mui/material';\r\nimport LoadingButton from '@mui/lab/LoadingButton';\r\n\r\nimport { paths } from 'src/routes/paths';\r\nimport { useRouter } from 'src/routes/hooks';\r\n\r\nimport { useBoolean } from 'src/hooks/use-boolean';\r\n\r\n// import { _addressBooks } from 'src/_mock';\r\n\r\nimport FormProvider from 'src/components/hook-form';\r\n\r\nimport InvoiceNewEditDetails from '../invoice-new-edit-details';\r\nimport InvoiceNewEditAddress from '../invoice-new-edit-address';\r\nimport InvoiceNewEditStatusDate from '../invoice-new-edit-status-date';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function InvoiceNewEditForm({ currentInvoice }) {\r\n  const router = useRouter();\r\n\r\n  const loadingSave = useBoolean();\r\n\r\n  const loadingSend = useBoolean();\r\n\r\n  const NewInvoiceSchema = Yup.object().shape({\r\n    invoiceTo: Yup.mixed().nullable().required('Invoice to is required'),\r\n    createDate: Yup.mixed().nullable().required('Create date is required'),\r\n    dueDate: Yup.mixed()\r\n      .required('Due date is required')\r\n      .test(\r\n        'date-min',\r\n        'Due date must be later than create date',\r\n        (value, { parent }) => value.getTime() > parent.createDate.getTime()\r\n      ),\r\n    items: Yup.lazy(() =>\r\n      Yup.array().of(\r\n        Yup.object({\r\n          title: Yup.string().required('Title is required'),\r\n          service: Yup.string().required('Service is required'),\r\n          quantity: Yup.number()\r\n            .required('Quantity is required')\r\n            .min(1, 'Quantity must be more than 0'),\r\n        })\r\n      )\r\n    ),\r\n    // not required\r\n    taxes: Yup.number(),\r\n    deduction: Yup.number(),\r\n    status: Yup.string(),\r\n    discount: Yup.number(),\r\n    shipping: Yup.number(),\r\n    invoiceFrom: Yup.mixed(),\r\n    totalAmount: Yup.number(),\r\n    invoiceNumber: Yup.string(),\r\n  });\r\n\r\n  const defaultValues = useMemo(\r\n    () => ({\r\n      invoiceNumber: currentInvoice?.invoiceNumber || 'INV-1990',\r\n      createDate: currentInvoice?.createDate || new Date(),\r\n      dueDate: currentInvoice?.dueDate || null,\r\n      taxes: currentInvoice?.taxes || 0,\r\n      deduction: currentInvoice?.deduction || 0,\r\n      shipping: currentInvoice?.shipping || 0,\r\n      status: currentInvoice?.status || 'draft',\r\n      discount: currentInvoice?.discount || 0,\r\n      invoiceFrom: currentInvoice?.invoiceFrom || '',\r\n      invoiceTo: currentInvoice?.invoiceTo || null,\r\n      items: currentInvoice?.items || [\r\n        {\r\n          //   title: '',\r\n          //   description: '',\r\n          service: null,\r\n          quantity: 1,\r\n          price: 0,\r\n          subtotal: 0,\r\n          tax: 0,\r\n          total: 0,\r\n        },\r\n      ],\r\n      totalAmount: currentInvoice?.totalAmount || 0,\r\n    }),\r\n    [currentInvoice]\r\n  );\r\n\r\n  const methods = useForm({\r\n    resolver: yupResolver(NewInvoiceSchema),\r\n    defaultValues,\r\n  });\r\n\r\n  const {\r\n    reset,\r\n    handleSubmit,\r\n    formState: { isSubmitting },\r\n  } = methods;\r\n\r\n  const handleSaveAsDraft = handleSubmit(async (data) => {\r\n    loadingSave.onTrue();\r\n\r\n    try {\r\n      await new Promise((resolve) => setTimeout(resolve, 500));\r\n      reset();\r\n      loadingSave.onFalse();\r\n      router.push(paths.dashboard.invoice.root);\r\n      console.info('DATA', JSON.stringify(data, null, 2));\r\n    } catch (error) {\r\n      console.error(error);\r\n      loadingSave.onFalse();\r\n    }\r\n  });\r\n\r\n  const handleCreateAndSend = handleSubmit(async (data) => {\r\n    loadingSend.onTrue();\r\n\r\n    try {\r\n      await new Promise((resolve) => setTimeout(resolve, 500));\r\n      reset();\r\n      loadingSend.onFalse();\r\n      router.push(paths.dashboard.invoice.root);\r\n      console.info('DATA', JSON.stringify(data, null, 2));\r\n    } catch (error) {\r\n      console.error(error);\r\n      loadingSend.onFalse();\r\n    }\r\n  });\r\n\r\n  return (\r\n    <Container maxWidth=\"xl\">\r\n      <FormProvider methods={methods}>\r\n        <Card>\r\n          <InvoiceNewEditAddress />\r\n\r\n          <InvoiceNewEditStatusDate />\r\n\r\n          <InvoiceNewEditDetails />\r\n        </Card>\r\n\r\n        <Stack justifyContent=\"flex-end\" direction=\"row\" spacing={2} sx={{ mt: 3 }}>\r\n          <LoadingButton\r\n            color=\"inherit\"\r\n            size=\"large\"\r\n            variant=\"outlined\"\r\n            loading={loadingSave.value && isSubmitting}\r\n            onClick={handleSaveAsDraft}\r\n          >\r\n            Save as Draft\r\n          </LoadingButton>\r\n\r\n          <LoadingButton\r\n            size=\"large\"\r\n            variant=\"contained\"\r\n            loading={loadingSend.value && isSubmitting}\r\n            onClick={handleCreateAndSend}\r\n          >\r\n            {currentInvoice ? 'Update' : 'Create'} & Send\r\n          </LoadingButton>\r\n        </Stack>\r\n      </FormProvider>\r\n    </Container>\r\n  );\r\n}\r\n\r\nInvoiceNewEditForm.propTypes = {\r\n  currentInvoice: PropTypes.object,\r\n};\r\n","import { Helmet } from 'react-helmet-async';\r\n\r\nimport ACLGuard from 'src/auth/guard/acl-guard';\r\n\r\nimport EntranceManagementACC from 'src/sections/employee/entranceManagement/view/accounting';\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function EntranceManagementAccPage() {\r\n  return (\r\n    <ACLGuard category=\"work_group\" subcategory=\"entrance_management\" acl=\"read\">\r\n      <Helmet>\r\n        <title>Entrance Management Accounting</title>\r\n        <meta name=\"description\" content=\"meta\" />\r\n      </Helmet>\r\n\r\n      <EntranceManagementACC />\r\n    </ACLGuard>\r\n  );\r\n}\r\n","/**\n * The base implementation of `_.sum` and `_.sumBy` without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the sum.\n */\nfunction baseSum(array, iteratee) {\n  var result,\n      index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var current = iteratee(array[index]);\n    if (current !== undefined) {\n      result = result === undefined ? current : (result + current);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseSum;\n","var baseSum = require('./_baseSum'),\n    identity = require('./identity');\n\n/**\n * Computes the sum of the values in `array`.\n *\n * @static\n * @memberOf _\n * @since 3.4.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {number} Returns the sum.\n * @example\n *\n * _.sum([4, 2, 8, 6]);\n * // => 20\n */\nfunction sum(array) {\n  return (array && array.length)\n    ? baseSum(array, identity)\n    : 0;\n}\n\nmodule.exports = sum;\n"],"names":["InvoiceNewEditDetails","_user$employee","_user$employee$employ","_user$employee$employ2","_user$employee$employ3","user","useAuthContext","serviceTypesData","useGetUSActiveServiceTypes","employee","employee_engagements","selected_engagement","unit_service","_id","control","setValue","watch","useFormContext","fields","append","remove","useFieldArray","name","values","subtotalOnRow","items","map","item","subtotal","totalOnRow","total","subTotal","sum","totalAmount","useEffect","_values$items","_values$items2","_values$items3","reduce","acc","one","tax","deductiontotal","deduction","newTotal","selected","find","service","price","Number","Price_per_unit","quantity","handleSelectService","useCallback","index","option","_selected$tax","_selected$deduction","concat","percentage","handleChangeQuantity","event","target","value","handleChangePrice","renderTotal","_jsxs","Stack","spacing","alignItems","sx","mt","textAlign","typography","children","direction","_jsx","Box","color","width","discount","fCurrency","taxes","p","Typography","variant","mb","divider","Divider","flexItem","borderStyle","xs","md","justifyContent","RHFSelect","size","label","maxWidth","InputLabelProps","shrink","MenuItem","onClick","name_english","RHFTextField","type","placeholder","onChange","InputProps","startAdornment","InputAdornment","position","disabled","toFixed","inputBaseClasses","input","Button","handleRemove","Iconify","icon","id","my","startIcon","handleAdd","flexShrink","InvoiceNewEditAddress","myUS","invoiceFrom","invoiceTo","useBoolean","_Fragment","fullAddress","address","phoneNumber","phone","flexGrow","InvoiceNewEditStatusDate","sm","bgcolor","fullWidth","PaperPropsSx","textTransform","Controller","render","_ref","field","fieldState","error","DatePicker","newValue","slotProps","textField","helperText","message","_ref2","InvoiceNewEditForm","currentInvoice","router","useRouter","loadingSave","loadingSend","NewInvoiceSchema","Yup","shape","nullable","required","createDate","dueDate","test","parent","getTime","of","title","min","status","shipping","invoiceNumber","defaultValues","useMemo","Date","methods","useForm","resolver","yupResolver","reset","handleSubmit","formState","isSubmitting","handleSaveAsDraft","async","onTrue","Promise","resolve","setTimeout","onFalse","push","paths","dashboard","invoice","root","console","info","JSON","stringify","data","handleCreateAndSend","Container","FormProvider","Card","LoadingButton","loading","EntranceManagementAccPage","ACLGuard","category","subcategory","acl","Helmet","content","EntranceManagementACC","module","exports","array","iteratee","result","length","current","undefined","baseSum","require","identity"],"sourceRoot":""}