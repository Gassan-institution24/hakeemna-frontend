"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[51109],{3900:(e,t,a)=>{a.d(t,{A:()=>s});a(65043);var r=a(66734),n=a(70579);const s=(0,r.A)((0,n.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},22698:(e,t,a)=>{a.d(t,{A:()=>z});var r=a(58168),n=a(98587),s=a(65043),l=a(58387),o=a(98610),i=a(88092),d=a(34535),c=a(98206),u=a(94496),m=a(67266),p=a(66734),h=a(70579);const x=(0,p.A)((0,h.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var g=a(96030);const b=["slots","slotProps"],j=(0,d.Ay)(g.A)((e=>{let{theme:t}=e;return(0,r.A)({display:"flex",marginLeft:`calc(${t.spacing(1)} * 0.5)`,marginRight:`calc(${t.spacing(1)} * 0.5)`},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,r.A)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,r.A)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,m.tL)(t.palette.grey[200],.12)}:{backgroundColor:(0,m.tL)(t.palette.grey[600],.12)})})})),f=(0,d.Ay)(x)({width:24,height:16});const v=function(e){const{slots:t={},slotProps:a={}}=e,s=(0,n.A)(e,b),l=e;return(0,h.jsx)("li",{children:(0,h.jsx)(j,(0,r.A)({focusRipple:!0},s,{ownerState:l,children:(0,h.jsx)(f,(0,r.A)({as:t.CollapsedIcon,ownerState:l},a.collapsedIcon))}))})};var A=a(92532),w=a(72372);function y(e){return(0,w.Ay)("MuiBreadcrumbs",e)}const _=(0,A.A)("MuiBreadcrumbs",["root","ol","li","separator"]),C=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],k=(0,d.Ay)(u.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{[`& .${_.li}`]:t.li},t.root]})({}),S=(0,d.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),P=(0,d.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function I(e,t,a,r){return e.reduce(((n,s,l)=>(l<e.length-1?n=n.concat(s,(0,h.jsx)(P,{"aria-hidden":!0,className:t,ownerState:r,children:a},`separator-${l}`)):n.push(s),n)),[])}const z=s.forwardRef((function(e,t){const a=(0,c.b)({props:e,name:"MuiBreadcrumbs"}),{children:d,className:u,component:m="nav",slots:p={},slotProps:x={},expandText:g="Show path",itemsAfterCollapse:b=1,itemsBeforeCollapse:j=1,maxItems:f=8,separator:A="/"}=a,w=(0,n.A)(a,C),[_,P]=s.useState(!1),z=(0,r.A)({},a,{component:m,expanded:_,expandText:g,itemsAfterCollapse:b,itemsBeforeCollapse:j,maxItems:f,separator:A}),L=(e=>{const{classes:t}=e;return(0,o.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},y,t)})(z),T=(0,i.A)({elementType:p.CollapsedIcon,externalSlotProps:x.collapsedIcon,ownerState:z}),Y=s.useRef(null),W=s.Children.toArray(d).filter((e=>s.isValidElement(e))).map(((e,t)=>(0,h.jsx)("li",{className:L.li,children:e},`child-${t}`)));return(0,h.jsx)(k,(0,r.A)({ref:t,component:m,color:"text.secondary",className:(0,l.A)(L.root,u),ownerState:z},w,{children:(0,h.jsx)(S,{className:L.ol,ref:Y,ownerState:z,children:I(_||f&&W.length<=f?W:(e=>j+b>=e.length?e:[...e.slice(0,j),(0,h.jsx)(v,{"aria-label":g,slots:{CollapsedIcon:p.CollapsedIcon},slotProps:{collapsedIcon:T},onClick:()=>{P(!0);const e=Y.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-b,e.length)])(W),L.separator,A,z)})}))}))},50120:(e,t,a)=>{a.r(t),a.d(t,{default:()=>M});var r=a(29490),n=a(60778),s=a(65043),l=a(40360),o=a(29013),i=a(38246),d=a(77224),c=a(74600),u=a(49633),m=a(94496),p=a(48407),h=a(31673),x=a(7625),g=a(75139),b=a(35151),j=a(70074),f=a(83858),v=a(80899),A=a(24858),w=a(18403),y=a(94113),_=a(81e3),C=a(12110),k=a(22075),S=a(84284),P=a(94814),I=a(94857),z=a(59699),L=a(70579);function T(e){var t,a,r,l,o,d,u;let{data:p,refetch:b}=e;const{user:j}=(0,g.Z)(),[f,T]=(0,s.useState)(null),{enqueueSnackbar:Y}=(0,I.dh)(),{countriesData:W}=(0,x.oOq)({select:"name_english name_arabic"}),{t:$}=(0,n.WD)(),[N,R]=(0,s.useState)(p.mobile_num1),[M,q]=(0,s.useState)(p.mobile_num2),D=v.Ik().shape({name_english:v.Yj().required("Englis name is required").test("at-least-three-words",$("must be at least three words"),(e=>{if(!e)return!1;return e.trim().split(/\s+/).length>=3})),name_arabic:v.Yj().required("Arabic name is required").test("at-least-three-words",$("must be at least three words"),(e=>{if(!e)return!1;return e.trim().split(/\s+/).length>=3})),email:v.Yj(),height:v.Yj(),weight:v.Yj(),mobile_num1:v.Yj().required($("required field")),mobile_num2:v.Yj(),is_on_eating_diet:v.Yj().nullable(),country:v.Yj(),gender:v.Yj(),birth_date:v.gl(),city:v.Yj(),address:v.Yj(),sport_exercises:v.Yj(),smoking:v.Yj(),profile_picture:v.Yj()}),B={name_english:(null===p||void 0===p?void 0:p.name_english)||"",name_arabic:(null===p||void 0===p?void 0:p.name_arabic)||"",email:(null===p||void 0===p?void 0:p.email)||"",gender:(null===p||void 0===p?void 0:p.gender)||"",birth_date:null!==p&&void 0!==p&&p.birth_date?new Date(p.birth_date):null,height:(null===p||void 0===p?void 0:p.height)||"",weight:(null===p||void 0===p?void 0:p.weight)||"",mobile_num1:(null===p||void 0===p?void 0:p.mobile_num1)||"",mobile_num2:(null===p||void 0===p?void 0:p.mobile_num2)||"",is_on_eating_diet:(null===(t=j.patient)||void 0===t?void 0:t.is_on_eating_diet)||"",country:(null===(a=j.patient)||void 0===a||null===(r=a.country)||void 0===r?void 0:r._id)||null,city:(null===(l=j.patient)||void 0===l||null===(o=l.city)||void 0===o?void 0:o._id)||null,address:(null===p||void 0===p?void 0:p.address)||"",sport_exercises:(null===p||void 0===p?void 0:p.sport_exercises)||"",smoking:(null===p||void 0===p?void 0:p.smoking)||"",other_medication_notes:(null===j||void 0===j||null===(d=j.patient)||void 0===d?void 0:d.other_medication_notes)||"",profile_picture:(null===p||void 0===p||null===(u=p.profile_picture)||void 0===u?void 0:u.replace(/\\/g,"//"))||""},O=(0,A.mN)({mode:"all",resolver:(0,w.t)(D),defaultValues:B}),{handleSubmit:F,control:V,watch:Z,setValue:E,formState:{isSubmitting:X}}=O,{tableData:G}=(0,x.RmE)(Z().country,{select:"name_english name_arabic"});return(0,L.jsx)(z.Ay,{methods:O,onSubmit:F((async e=>{const t=new FormData;Object.keys(e).forEach((a=>{t.append(a,e[a])})),f&&t.append("ter",f);try{await h.Ay.patch(`${h.vZ.patients.one(null===j||void 0===j?void 0:j.patient._id)}`,t),Y(`${$("Profile updated successfully")}`,{variant:"success"}),setTimeout((()=>{window.location.reload()}),1e3)}catch(a){Y("string"===typeof a?a:a.message,{variant:"error"})}})),children:(0,L.jsxs)(k.A,{container:!0,spacing:3,children:[(0,L.jsx)(k.A,{xs:12,md:4,children:(0,L.jsx)(C.A,{sx:{pt:10,height:{md:"100%"},pb:{xs:5},px:3,textAlign:"center"},children:(0,L.jsx)(z.BF,{name:"profile_picture",onDrop:e=>{const t=e[0],a=(()=>{const e=[".jpeg",".jpg",".png",".gif"];return{validateFile:t=>{const a=t.slice(t.lastIndexOf(".")).toLowerCase();return e.includes(a)},validateSize:e=>e<=3145728}})(t.size);if(a.validateFile(t.name)&&a.validateSize(t.size)){T(t);const e=Object.assign(t,{preview:URL.createObjectURL(t)});E("profile_picture",e)}else Y($("Invalid file type or size"),{variant:"error"})},helperText:(0,L.jsxs)(m.A,{variant:"caption",sx:{mt:6,mx:"auto",display:"block",textAlign:"center",color:"text.disabled",fontSize:17},children:["Allowed *.jpeg, *.jpg, *.png, *.gif *.pdf",(0,L.jsx)("br",{})," max size of 3MB"]})})})}),(0,L.jsx)(k.A,{xs:12,md:8,children:(0,L.jsxs)(C.A,{sx:{p:3},children:[(0,L.jsxs)(_.A,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,L.jsx)(z.o3,{name:"name_english",label:$("name in english"),onChange:e=>{/^[a-zA-Z0-9\s,@#$!*_\-&^%.()]*$/.test(e.target.value)&&O.setValue(e.target.name,e.target.value,{shouldValidate:!0})}}),(0,L.jsx)(z.o3,{name:"name_arabic",label:$("Name in arabic"),onChange:e=>{/^[\u0600-\u06FF0-9\s!@#$%^&*_\-().]*$/.test(e.target.value)&&O.setValue(e.target.name,e.target.value,{shouldValidate:!0})}}),(0,L.jsx)(y.fD,{label:`${$("Mobile Number")} *`,forceCallingCode:!0,defaultCountry:"JO",value:N,onChange:e=>{(0,y.l0)(e),R(e),O.setValue("mobile_num1",e)}}),(0,L.jsx)(y.fD,{label:`${$("Alternative Mobile Number")} *`,forceCallingCode:!0,defaultCountry:"JO",value:M,onChange:e=>{(0,y.l0)(e),q(e),O.setValue("mobile_num2",e)}}),(0,L.jsx)(z.o3,{name:"email",label:$("Email Address"),disabled:!0}),(0,L.jsx)(z.tX,{label:$("residence country"),fullWidth:!0,name:"country",InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},children:W.map(((e,t)=>(0,L.jsx)(P.A,{lang:"ar",value:e._id,children:e.name_english},t)))}),(0,L.jsx)(z.tX,{label:$("city"),fullWidth:!0,name:"city",InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},children:G.map(((e,t)=>(0,L.jsx)(P.A,{lang:"ar",value:e._id,children:e.name_english},t)))}),(0,L.jsx)(z.o3,{name:"address",label:$("Address")}),(0,L.jsx)(z.tX,{label:$("gender"),fullWidth:!0,name:"gender",InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},children:["male","female"].map(((e,t)=>(0,L.jsx)(P.A,{lang:"ar",value:e,children:e},t)))}),(0,L.jsx)(A.xI,{name:"birth_date",control:V,render:e=>{let{field:t,fieldState:{error:a}}=e;return(0,L.jsx)(S.l,{...t,label:$("birth date"),sx:{mb:2},slotProps:{textField:{fullWidth:!0,error:!!a,helperText:null===a||void 0===a?void 0:a.message}}})}}),(0,L.jsx)(z.o3,{name:"height",label:(0,L.jsxs)("span",{children:[$("Height"),(0,L.jsx)("span",{style:{color:"green",fontWeight:600},children:"/"})," ",$("cm")]})}),(0,L.jsx)(z.o3,{name:"weight",label:(0,L.jsxs)("span",{children:[$("Weight"),(0,L.jsx)("span",{style:{color:"green",fontWeight:600},children:"/"})," ",$("kg")]})}),(0,L.jsx)(z.tX,{label:$("Sport Exercises"),fullWidth:!0,name:"sport_exercises",InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},children:["0","once a week","twice a week","3-4 times a week","often"].map(((e,t)=>(0,L.jsx)(P.A,{lang:"ar",value:e,children:$(e)},t)))}),(0,L.jsx)(z.tX,{label:$("On Diet"),fullWidth:!0,name:"is_on_eating_diet",InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},children:["Yes","No"].map(((e,t)=>(0,L.jsx)(P.A,{lang:"ar",value:e,children:$(e)},t)))}),(0,L.jsx)(z.tX,{label:$("Smoking"),fullWidth:!0,name:"smoking",InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},children:["not smoker","light smoker","heavy smoker"].map(((e,t)=>(0,L.jsx)(P.A,{lang:"ar",value:e,children:$(e)},t)))}),(0,L.jsx)(z.o3,{name:"other_medication_notes",label:$("More information")})]}),(0,L.jsx)(c.A,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:(0,L.jsx)(i.A,{type:"submit",tabIndex:-1,variant:"contained",loading:X,children:$("Save Changes")})})]})})]})})}var Y=a(17392),W=a(51787),$=a(59229);function N(){const{logout:e}=(0,g.Z)(),{enqueueSnackbar:t}=(0,I.dh)(),{t:a}=(0,n.WD)(),{currentLang:r}=(0,n.jc)(),s="ar"===r.value,l=(0,$.C)(),o=(0,$.C)(),d=(0,$.C)(),u=v.Ik().shape({passwordCurrent:v.Yj().required("Old Password is required"),password:v.Yj().required("New Password is required").min(8,"Password must be at least 6 characters").test("no-match","New password must be different than old password",((e,t)=>{let{parent:a}=t;return e!==a.passwordCurrent})),confirmPassword:v.Yj().oneOf([v.KR("password")],"Passwords must match")}),m=(0,A.mN)({mode:"all",resolver:(0,w.t)(u),defaultValues:{passwordCurrent:"",password:"",confirmPassword:""}}),{reset:p,handleSubmit:x,formState:{isSubmitting:j}}=m,f=x((async r=>{try{const{passwordCurrent:n,password:s,confirmPassword:l}=r,o={passwordCurrent:n,password:s,confirmPassword:l},i=await h.Ay.patch(h.vZ.auth.updatepassword,o);200===i.status?(p(),t(`${a("Password updated successfully!")}`,{variant:"success"})):t(i.data||`${a("Password update failed!")}`,{variant:"error"}),await e()}catch(n){t(s&&`${n.arabic_message}`||`${n.message}`,{variant:"error"})}}));return(0,L.jsx)(z.Ay,{methods:m,onSubmit:f,children:(0,L.jsxs)(c.A,{component:C.A,spacing:3,sx:{p:3},children:[(0,L.jsx)(z.o3,{name:"passwordCurrent",type:l.value?"text":"password",label:a("Current Password"),InputProps:{endAdornment:(0,L.jsx)(W.A,{position:"end",children:(0,L.jsx)(Y.A,{onClick:l.onToggle,edge:"end",children:(0,L.jsx)(b.A,{icon:l.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,L.jsx)(z.o3,{name:"password",label:a("New Password"),type:o.value?"text":"password",InputProps:{endAdornment:(0,L.jsx)(W.A,{position:"end",children:(0,L.jsx)(Y.A,{onClick:o.onToggle,edge:"end",children:(0,L.jsx)(b.A,{icon:o.value?"solar:eye-bold":"solar:eye-closed-bold"})})})},helperText:(0,L.jsxs)(c.A,{component:"span",direction:"row",alignItems:"center",children:[(0,L.jsx)(b.A,{icon:"eva:info-fill",width:16,sx:{mr:.5}})," ",a("Password must be minimum 8+")]})}),(0,L.jsx)(z.o3,{name:"confirmPassword",type:d.value?"text":"password",label:a("Confirm New Password"),InputProps:{endAdornment:(0,L.jsx)(W.A,{position:"end",children:(0,L.jsx)(Y.A,{onClick:d.onToggle,edge:"end",children:(0,L.jsx)(b.A,{icon:d.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,L.jsx)(i.A,{type:"submit",tabIndex:-1,variant:"contained",loading:j,sx:{ml:"auto"},children:a("Save Changes")})]})})}function R(){var e;const{logout:t}=(0,g.Z)(),{t:a}=(0,n.WD)(),[r,v]=(0,s.useState)(!1),A=[{value:"general",label:a("General"),icon:(0,L.jsx)(b.A,{icon:"solar:user-id-bold",width:24})},{value:"security",label:a("Security"),icon:(0,L.jsx)(b.A,{icon:"ic:round-vpn-key",width:24})}],{user:w}=(0,g.Z)(),{data:y,refetch:_,loading:C}=(0,x.J02)(null===w||void 0===w||null===(e=w.patient)||void 0===e?void 0:e._id),[k,S]=(0,s.useState)("general"),P=(0,s.useCallback)(((e,t)=>{S(t)}),[]);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(d.A,{maxWidth:"xl",children:[(0,L.jsx)(f.A,{heading:a("Account"),links:[{name:a("dashboard"),href:p.f.dashboard.root},{name:a("user"),href:p.f.dashboard.user.root},{name:a("Account")}],sx:{mb:{xs:3,md:5}}}),(0,L.jsxs)(c.A,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,L.jsx)(o.A,{value:k,onChange:P,sx:{mb:{xs:3,md:5}},children:A.map(((e,t)=>(0,L.jsx)(l.A,{label:e.label,icon:e.icon,value:e.value},t)))}),(0,L.jsx)(c.A,{justifyContent:"center",children:(0,L.jsx)(u.A,{variant:"contained",color:"error",onClick:()=>v(!0),children:a("delete my account")})})]}),"general"===k&&!C&&(0,L.jsx)(T,{data:y,refetch:_}),"security"===k&&(0,L.jsx)(N,{})]}),(0,L.jsx)(j.T,{open:r,onClose:()=>v(!1),title:a("delete my account"),content:(0,L.jsx)(m.A,{children:a("You will not be able to undelete after you did it, are you sure you want to delete your account with its information?")}),action:(0,L.jsx)(i.A,{variant:"contained",color:"error",loading:C,onClick:async()=>{await h.Ay.delete(h.vZ.auth.deletMe),t()},children:a("submit")})})]})}function M(){const{t:e}=(0,n.WD)();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(r.mg,{children:[(0,L.jsxs)("title",{children:[" ",e("Account Settings")," "]}),(0,L.jsx)("meta",{name:"description",content:"meta"})]}),(0,L.jsx)(R,{})]})}},51639:(e,t,a)=>{a.d(t,{A:()=>s});a(65043);var r=a(66734),n=a(70579);const s=(0,r.A)((0,n.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},83858:(e,t,a)=>{a.d(t,{A:()=>r.A});var r=a(91720)},91720:(e,t,a)=>{a.d(t,{A:()=>u});var r=a(81e3),n=a(88446),s=a(74600),l=a(94496),o=a(22698),i=a(65381),d=a(70579);function c(e){let{link:t,activeLast:a,disabled:s}=e;const l={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...s&&!a&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},o=(0,d.jsxs)(d.Fragment,{children:[t.icon&&(0,d.jsx)(r.A,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:t.icon}),t.name]});return t.href?(0,d.jsx)(n.A,{component:i.W,href:t.href,sx:l,children:o}):(0,d.jsxs)(r.A,{sx:l,children:[" ",o," "]})}function u(e){let{links:t,action:a,heading:i,moreLink:u,activeLast:p,sx:h,...x}=e;const g=t&&t[t.length-1].name;return(0,d.jsxs)(r.A,{sx:{...h},children:[(0,d.jsxs)(s.A,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(r.A,{sx:{flexGrow:1,display:"flex",gap:{md:3},alignItems:{md:"center"},flexDirection:{xs:"column",md:"row"}},children:[i&&(0,d.jsx)(l.A,{textTransform:"capitalize",variant:"h4",gutterBottom:!0,children:i}),t&&!!t.length&&(0,d.jsx)(o.A,{separator:(0,d.jsx)(m,{}),...x,children:null===t||void 0===t?void 0:t.map(((e,t)=>(0,d.jsx)(c,{link:e,activeLast:p,disabled:e.name===g},t)))})]}),a&&(0,d.jsxs)(r.A,{sx:{flexShrink:0,textTransform:"capitalize"},children:[" ",a," "]})]}),!!u&&(0,d.jsx)(r.A,{sx:{mt:2},children:u.map(((e,t)=>(0,d.jsx)(n.A,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},t)))})]})}function m(){return(0,d.jsx)(r.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}}}]);
//# sourceMappingURL=51109.1dd722d8.chunk.js.map