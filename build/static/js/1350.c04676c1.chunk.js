/*! For license information please see 1350.c04676c1.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[1350],{5316:(e,n,o)=>{o.r(n),o.d(n,{default:()=>H});var t=o(6907),r=o(72791),i=o(57621),s=o(79836),a=o(13838),l=o(89164),d=o(53382),c=o(39281),u=o(4419),x=o(38072),h=o(76932),p=o(19208),g=o(22459),m=o(61146),f=o(34045),v=o(64802),j=(o(84954),o(40268)),Z=o(10261),b=(o(77008),o(25279)),w=o(73379),C=o(38062),_=o(6965),P=o(79572),y=(o(6385),o(68870)),k=o(27938),S=o(36314),R=o(56125),D=o(82626),B=o(9195),E=o(68745),O=o(13400),F=o(30250),I=o(24845),T=o(80184);function W(e){let{row:n,selected:o,onEditRow:t}=e;const{code:r,name_english:i,diseases:s,description:a,created_at:l,user_creation:d,ip_address_user_creation:c,updated_at:u,user_modification:x,ip_address_user_modification:h,modifications_nums:p}=n,m=(0,I.S)(),f=(0,I.S)(),v=((0,I.S)(),(0,g.k)()),Z=(0,T.jsxs)(B.Z,{hover:!0,selected:o,children:[(0,T.jsx)(E.Z,{align:"center",children:(0,T.jsx)(y.Z,{children:r})}),(0,T.jsx)(E.Z,{align:"center",children:i}),(0,T.jsx)(E.Z,{align:"center",children:a}),(0,T.jsxs)(E.Z,{align:"center",children:["Diseases",(0,T.jsx)(O.Z,{color:v.value?"inherit":"default",onClick:v.onToggle,sx:{...v.value&&{bgcolor:"action.hover"}},children:(0,T.jsx)(j.Z,{icon:"eva:arrow-ios-downward-fill"})})]}),(0,T.jsx)(E.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,T.jsx)(O.Z,{color:m.open?"inherit":"default",onClick:m.onOpen,children:(0,T.jsx)(j.Z,{icon:"eva:more-vertical-fill"})})})]}),b=(0,T.jsx)(B.Z,{children:(0,T.jsx)(E.Z,{sx:{p:0,border:"none"},colSpan:14,children:(0,T.jsx)(R.Z,{in:v.value,timeout:"auto",unmountOnExit:!0,sx:{bgcolor:"background.neutral"},children:(0,T.jsxs)(S.Z,{component:k.Z,sx:{m:1.5},children:[(0,T.jsxs)(S.Z,{direction:"row",alignItems:"center",sx:{p:e=>e.spacing(1.5,2,1.5,1.5),"&:not(:last-of-type)":{borderBottom:e=>"solid 2px ".concat(e.palette.background.neutral)}},children:[(0,T.jsx)(y.Z,{sx:{flex:1},children:"Code"}),(0,T.jsx)(y.Z,{sx:{flex:1},children:"name"}),(0,T.jsx)(y.Z,{sx:{flex:1},children:"Category"})]}),s.map((e=>{var n,o;return(0,T.jsxs)(S.Z,{direction:"row",alignItems:"center",sx:{p:e=>e.spacing(1.5,2,1.5,1.5),"&:not(:last-of-type)":{borderBottom:e=>"solid 2px ".concat(e.palette.background.neutral)}},children:[(0,T.jsx)(y.Z,{sx:{flex:1},children:e.code}),(0,T.jsx)(y.Z,{sx:{flex:1},children:e.name_english||e.name}),(0,T.jsx)(y.Z,{sx:{flex:1},children:(null===(n=e.category)||void 0===n?void 0:n.name_english)||(null===(o=e.category)||void 0===o?void 0:o.name)})]},e._id)}))]})})})});return(0,T.jsxs)(T.Fragment,{children:[Z,b,(0,T.jsxs)(I.Z,{open:m.open,onClose:m.onClose,arrow:"right-top",sx:{width:140},children:[(0,T.jsxs)(D.Z,{onClick:()=>{t(),m.onClose()},children:[(0,T.jsx)(j.Z,{icon:"fluent:edit-32-filled"}),"Edit"]}),(0,T.jsxs)(D.Z,{onClick:f.onOpen,children:[(0,T.jsx)(j.Z,{icon:"carbon:data-quality-definition"}),"DDL"]})]}),(0,T.jsxs)(I.Z,{open:f.open,onClose:f.onClose,arrow:"right-top",sx:{padding:2,fontSize:"14px"},children:[(0,T.jsx)(y.Z,{sx:{fontWeight:600},children:"Creation Time:"}),(0,T.jsx)(y.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,F.zM)(l)}),(0,T.jsx)(y.Z,{sx:{pt:1,fontWeight:600},children:"Creator:"}),(0,T.jsx)(y.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===d||void 0===d?void 0:d.email}),(0,T.jsx)(y.Z,{sx:{pt:1,fontWeight:600},children:"Creator IP:"}),(0,T.jsx)(y.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:c}),(0,T.jsx)(y.Z,{sx:{pt:1,fontWeight:600},children:"Editing Time:"}),(0,T.jsx)(y.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,F.zM)(u)}),(0,T.jsx)(y.Z,{sx:{pt:1,fontWeight:600},children:"Editor:"}),(0,T.jsx)(y.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===x||void 0===x?void 0:x.email}),(0,T.jsx)(y.Z,{sx:{pt:1,fontWeight:600},children:"Editor IP:"}),(0,T.jsx)(y.Z,{sx:{pb:1,borderBottom:"1px solid gray",fontWeight:"400"},children:h}),(0,T.jsxs)(y.Z,{sx:{pt:1,fontWeight:600},children:["Modifications No: ",p]})]})]})}var L=o(65483),z=o(49172);const U=[{id:"code",label:"Code"},{id:"name",label:"name"},{id:"description",label:"description"},{id:"diseases",label:"diseases"},{id:"",width:88}],A={name:"",status:"all"};function q(){const e=(0,C.x6)({defaultOrderBy:"code"}),{t:n}=(0,h.qM)(),o=(0,r.useRef)(),t=(0,p.tv)(),g=(0,b.K$)(),{tableData:y,loading:k,refetch:S}=(0,P.Jq)(),[R,D]=(0,r.useState)(A),B=!(!R.startDate||!R.endDate)&&R.startDate.getTime()>R.endDate.getTime(),E=function(e){let{inputData:n,comparator:o,filters:t,dateError:r}=e;const{status:i,name:s}=t,a=n.map(((e,n)=>[e,n]));a.sort(((e,n)=>{const t=o(e[0],n[0]);return 0!==t?t:e[1]-n[1]})),n=a.map((e=>e[0])),s&&(n=n.filter((e=>{var n,o,t,r;return(null===e||void 0===e?void 0:e.name_english)&&-1!==(null===e||void 0===e||null===(n=e.name_english)||void 0===n?void 0:n.toLowerCase().indexOf(s.toLowerCase()))||(null===e||void 0===e?void 0:e.name_arabic)&&-1!==(null===e||void 0===e||null===(o=e.name_arabic)||void 0===o?void 0:o.toLowerCase().indexOf(s.toLowerCase()))||(null===e||void 0===e?void 0:e.diseases[0])&&(null===e||void 0===e||null===(t=e.diseases)||void 0===t?void 0:t.some((e=>{var n;return-1!==(null===e||void 0===e||null===(n=e.name_arabic)||void 0===n?void 0:n.toLowerCase().indexOf(s.toLowerCase()))})))||(null===e||void 0===e?void 0:e.diseases[0])&&(null===e||void 0===e||null===(r=e.diseases)||void 0===r?void 0:r.some((e=>{var n;return-1!==(null===e||void 0===e||null===(n=e.name_english)||void 0===n?void 0:n.toLowerCase().indexOf(s.toLowerCase()))})))||(null===e||void 0===e?void 0:e._id)===s||JSON.stringify(e.code)===s})));"all"!==i&&(n=n.filter((e=>e.status===i)));return n}({inputData:y,comparator:(0,C.sQ)(e.order,e.orderBy),filters:R,dateError:B}),O=(E.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),e.dense?52:72),F=!(null===R||void 0===R||!R.name)||"all"!==R.status,I=!E.length&&F||!E.length,q=(0,m.useReactToPrint)({content:()=>o.current}),H=(0,r.useCallback)(((n,o)=>{e.onResetPage(),D((e=>({...e,[n]:o})))}),[e]),M=(0,r.useCallback)((e=>{t.push(x.H.superadmin.tables.surgeries.edit(e))}),[t]),N=(0,r.useCallback)((()=>{D(A)}),[]);return k?(0,T.jsx)(_.a,{}):(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(l.Z,{maxWidth:!g.themeStretch&&"lg",children:[(0,T.jsx)(w.Z,{heading:"Surgeries",links:[{name:n("dashboard"),href:x.H.superadmin.root},{name:"Tables",href:x.H.superadmin.tables.list},{name:"Surgeries"}],action:(0,T.jsx)(a.Z,{component:u.r,href:x.H.superadmin.tables.surgeries.new,variant:"contained",startIcon:(0,T.jsx)(j.Z,{icon:"mingcute:add-line"}),children:"New Surgery"}),sx:{mb:{xs:3,md:5}}}),(0,T.jsxs)(i.Z,{children:[(0,T.jsx)(L.Z,{onPrint:q,filters:R,onFilters:H,onDownload:()=>{const e=E.reduce(((e,n)=>{var o;return e.push({code:n.code,name:n.name_english,description:n.description,diseases:null===(o=n.diseases)||void 0===o?void 0:o.map((e=>e.name_english))}),e}),[]),n=f.P6.book_new(),o=f.P6.json_to_sheet(e);f.P6.book_append_sheet(n,o,"Sheet 1");const t=f.cW(n,{bookType:"xlsx",type:"array"}),r=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,v.saveAs)(r,"surgeriesTable.xlsx")},canReset:F,onResetFilters:N}),F&&(0,T.jsx)(z.Z,{filters:R,onFilters:H,onResetFilters:N,results:E.length,sx:{p:2.5,pt:0}}),(0,T.jsx)(c.Z,{children:(0,T.jsx)(Z.Z,{children:(0,T.jsxs)(s.Z,{ref:o,size:e.dense?"small":"medium",children:[(0,T.jsx)(C.K,{order:e.order,orderBy:e.orderBy,headLabel:U,rowCount:E.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:!1}),(0,T.jsxs)(d.Z,{children:[E.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map((n=>(0,T.jsx)(W,{row:n,selected:e.selected.includes(n._id),onSelectRow:()=>e.onSelectRow(n._id),onEditRow:()=>M(n._id)},n._id))),(0,T.jsx)(C.$W,{height:O,emptyRows:(0,C.fQ)(e.page,e.rowsPerPage,y.length)}),(0,T.jsx)(C.et,{notFound:I})]})]})})}),(0,T.jsx)(C.S_,{count:E.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]})})}function H(){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(t.ql,{children:(0,T.jsx)("title",{children:" Dashboard: Surgeries Table"})}),(0,T.jsx)(q,{})]})}},6385:(e,n,o)=>{o.d(n,{Z:()=>s});var t=o(31243),r=o(88329),i=o(33805);async function s(e){let{setData:n,setError:o,method:s,path:a,data:l}=e;const d="".concat(i.E0).concat(a),c=r.Z.get("user_token"),u=await(0,t.Z)({method:s,url:d,headers:{authorization:"Bearer ".concat(c)},data:l});return u.status,n&&n(u.data),u}},88329:(e,n,o)=>{function t(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var t in o)e[t]=o[t]}return e}o.d(n,{Z:()=>r});var r=function e(n,o){function r(e,r,i){if("undefined"!==typeof document){"number"===typeof(i=t({},o,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in i)i[a]&&(s+="; "+a,!0!==i[a]&&(s+="="+i[a].split(";")[0]));return document.cookie=e+"="+n.write(r,e)+s}}return Object.create({set:r,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var o=document.cookie?document.cookie.split("; "):[],t={},r=0;r<o.length;r++){var i=o[r].split("="),s=i.slice(1).join("=");try{var a=decodeURIComponent(i[0]);if(t[a]=n.read(s,a),e===a)break}catch(l){}}return e?t[e]:t}},remove:function(e,n){r(e,"",t({},n,{expires:-1}))},withAttributes:function(n){return e(this.converter,t({},this.attributes,n))},withConverter:function(n){return e(t({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}}]);
//# sourceMappingURL=1350.c04676c1.chunk.js.map