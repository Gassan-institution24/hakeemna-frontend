"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[78550],{22698:(e,n,t)=>{t.d(n,{A:()=>M});var o=t(58168),l=t(98587),i=t(65043),s=t(58387),a=t(98610),r=t(88092),d=t(34535),c=t(98206),u=t(94496),p=t(67266),m=t(66734),h=t(70579);const g=(0,m.A)((0,h.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var v=t(96030);const x=["slots","slotProps"],y=(0,d.Ay)(v.A)((e=>{let{theme:n}=e;return(0,o.A)({display:"flex",marginLeft:`calc(${n.spacing(1)} * 0.5)`,marginRight:`calc(${n.spacing(1)} * 0.5)`},"light"===n.palette.mode?{backgroundColor:n.palette.grey[100],color:n.palette.grey[700]}:{backgroundColor:n.palette.grey[700],color:n.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,o.A)({},"light"===n.palette.mode?{backgroundColor:n.palette.grey[200]}:{backgroundColor:n.palette.grey[600]}),"&:active":(0,o.A)({boxShadow:n.shadows[0]},"light"===n.palette.mode?{backgroundColor:(0,p.tL)(n.palette.grey[200],.12)}:{backgroundColor:(0,p.tL)(n.palette.grey[600],.12)})})})),A=(0,d.Ay)(g)({width:24,height:16});const f=function(e){const{slots:n={},slotProps:t={}}=e,i=(0,l.A)(e,x),s=e;return(0,h.jsx)("li",{children:(0,h.jsx)(y,(0,o.A)({focusRipple:!0},i,{ownerState:s,children:(0,h.jsx)(A,(0,o.A)({as:n.CollapsedIcon,ownerState:s},t.collapsedIcon))}))})};var j=t(92532),b=t(72372);function w(e){return(0,b.Ay)("MuiBreadcrumbs",e)}const C=(0,j.A)("MuiBreadcrumbs",["root","ol","li","separator"]),_=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],k=(0,d.Ay)(u.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,n)=>[{[`& .${C.li}`]:n.li},n.root]})({}),P=(0,d.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,n)=>n.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),S=(0,d.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,n)=>n.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function R(e,n,t,o){return e.reduce(((l,i,s)=>(s<e.length-1?l=l.concat(i,(0,h.jsx)(S,{"aria-hidden":!0,className:n,ownerState:o,children:t},`separator-${s}`)):l.push(i),l)),[])}const M=i.forwardRef((function(e,n){const t=(0,c.b)({props:e,name:"MuiBreadcrumbs"}),{children:d,className:u,component:p="nav",slots:m={},slotProps:g={},expandText:v="Show path",itemsAfterCollapse:x=1,itemsBeforeCollapse:y=1,maxItems:A=8,separator:j="/"}=t,b=(0,l.A)(t,_),[C,S]=i.useState(!1),M=(0,o.A)({},t,{component:p,expanded:C,expandText:v,itemsAfterCollapse:x,itemsBeforeCollapse:y,maxItems:A,separator:j}),D=(e=>{const{classes:n}=e;return(0,a.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},w,n)})(M),I=(0,r.A)({elementType:m.CollapsedIcon,externalSlotProps:g.collapsedIcon,ownerState:M}),T=i.useRef(null),L=i.Children.toArray(d).filter((e=>i.isValidElement(e))).map(((e,n)=>(0,h.jsx)("li",{className:D.li,children:e},`child-${n}`)));return(0,h.jsx)(k,(0,o.A)({ref:n,component:p,color:"text.secondary",className:(0,s.A)(D.root,u),ownerState:M},b,{children:(0,h.jsx)(P,{className:D.ol,ref:T,ownerState:M,children:R(C||A&&L.length<=A?L:(e=>y+x>=e.length?e:[...e.slice(0,y),(0,h.jsx)(f,{"aria-label":v,slots:{CollapsedIcon:m.CollapsedIcon},slotProps:{collapsedIcon:I},onClick:()=>{S(!0);const e=T.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-x,e.length)])(L),D.separator,j,M)})}))}))},33546:(e,n,t)=>{t.d(n,{A:()=>r});var o=t(81e3),l=t(74600),i=t(90310),s=t(94496),a=t(70579);function r(e){let{title:n,imgUrl:t,action:r,filled:d,description:c,sx:u,...p}=e;return(0,a.jsxs)(l.A,{flexGrow:1,alignItems:"center",justifyContent:"center",sx:{px:3,height:1,...d&&{borderRadius:2,bgcolor:e=>(0,i.X4)(e.palette.grey[500],.04),border:e=>`dashed 1px ${(0,i.X4)(e.palette.grey[500],.08)}`},...u},...p,children:[(0,a.jsx)(o.A,{component:"img",alt:"empty content",src:t||"/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),n&&(0,a.jsx)(s.A,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:n}),c&&(0,a.jsx)(s.A,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:c}),r&&r]})}},35924:(e,n,t)=>{t.d(n,{l:()=>l});var o=t(60778);const l=()=>{const{t:e}=(0,o.WD)();return{STATUS_OPTIONS:[{value:"active",label:e("active")},{value:"inactive",label:e("inactive")}],QC_STATUS_OPTIONS:[{value:"unread",label:e("unread")},{value:"read",label:e("read")}]}}},44847:(e,n,t)=>{t.d(n,{A:()=>o.A});var o=t(33546)},75950:(e,n,t)=>{function o(e,n,t){return null===e[t]?1:null===n[t]||n[t]<e[t]?-1:n[t]>e[t]?1:0}function l(e,n){return"desc"===e?(e,t)=>o(e,t,n):(e,t)=>-o(e,t,n)}t.d(n,{er:()=>y,Sm:()=>p,We:()=>P,Uv:()=>j,hz:()=>l,K2:()=>s});var i=t(65043);function s(e){const[n,t]=(0,i.useState)(!(null===e||void 0===e||!e.defaultDense)),[o,l]=(0,i.useState)((null===e||void 0===e?void 0:e.defaultCurrentPage)||0),[s,a]=(0,i.useState)((null===e||void 0===e?void 0:e.defaultOrderBy)||"created_at"),[r,d]=(0,i.useState)((null===e||void 0===e?void 0:e.defaultRowsPerPage)||10),[c,u]=(0,i.useState)((null===e||void 0===e?void 0:e.defaultOrder)||"desc"),[p,m]=(0,i.useState)((null===e||void 0===e?void 0:e.defaultSelected)||[]),h=(0,i.useCallback)((e=>{""!==e&&(u(s===e&&"asc"===c?"desc":"asc"),a(e))}),[c,s]),g=(0,i.useCallback)((e=>{const n=p.includes(e)?p.filter((n=>n!==e)):[...p,e];m(n)}),[p]),v=(0,i.useCallback)((e=>{l(0),d(parseInt(e.target.value,10))}),[]),x=(0,i.useCallback)((e=>{t(e.target.checked)}),[]),y=(0,i.useCallback)(((e,n)=>{m(e?n:[])}),[]),A=(0,i.useCallback)(((e,n)=>{l(n)}),[]),f=(0,i.useCallback)((()=>{l(0)}),[]),j=(0,i.useCallback)((e=>{m([]),o&&e<2&&l(o-1)}),[o]),b=(0,i.useCallback)((e=>{let{totalRows:n,totalRowsInPage:t,totalRowsFiltered:i}=e;const s=p.length;if(m([]),o)if(s===t)l(o-1);else if(s===i)l(0);else if(s>t){const e=Math.ceil((n-s)/r)-1;l(e)}}),[o,r,p.length]);return{dense:n,order:c,page:o,orderBy:s,rowsPerPage:r,selected:p,onSelectRow:g,onSelectAllRows:y,onSort:h,onChangePage:A,onChangeDense:x,onResetPage:f,onChangeRowsPerPage:v,onUpdatePageDeleteRow:j,onUpdatePageDeleteRows:b,setPage:l,setDense:t,setOrder:u,setOrderBy:a,setSelected:m,setRowsPerPage:d}}var a=t(68738),r=t(39652),d=t(60778),c=t(44847),u=t(70579);function p(e){let{notFound:n,sx:t}=e;const{t:o}=(0,d.WD)();return(0,u.jsx)(a.A,{children:n?(0,u.jsx)(r.A,{colSpan:12,children:(0,u.jsx)(c.A,{filled:!0,title:o("No Data"),sx:{py:10,...t}})}):(0,u.jsx)(r.A,{colSpan:12,sx:{p:0}})})}var m=t(81e3),h=t(1273),g=t(84882),v=t(58093);const x={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function y(e){let{order:n,orderBy:t,rowCount:o=0,headLabel:l,numSelected:i=0,onSort:s,onSelectAllRows:c,sx:p}=e;const{t:y}=(0,d.WD)();return(0,u.jsx)(g.A,{sx:p,children:(0,u.jsxs)(a.A,{children:[c&&(0,u.jsx)(r.A,{padding:"checkbox",children:(0,u.jsx)(h.A,{indeterminate:!!i&&i<o,checked:!!o&&i===o,onChange:e=>c(e.target.checked)})}),l.map(((e,o)=>(0,u.jsx)(r.A,{align:e.align||"center",sortDirection:t===e.id&&n,sx:{width:e.width,minWidth:e.minWidth},children:s?(0,u.jsxs)(v.A,{hideSortIcon:!0,active:t===e.id,direction:t===e.id?n:"asc",onClick:()=>s(e.id),sx:{textTransform:"capitalize"},children:[y(e.label),t===e.id?(0,u.jsx)(m.A,{sx:{...x},children:"desc"===n?"sorted descending":"sorted ascending"}):null]}):y(e.label)},o)))]})})}var A=t(74600),f=t(94496);function j(e){let{dense:n,action:t,rowCount:o,numSelected:l,onSelectAllRows:i,sx:s,color:a,...r}=e;const{t:c}=(0,d.WD)();return l?(0,u.jsxs)(A.A,{direction:"row",alignItems:"center",sx:{pl:1,pr:2,top:0,left:0,width:1,zIndex:9,height:58,position:"absolute",bgcolor:`${a}.lighter`,...n&&{height:38},...s},...r,children:[(0,u.jsx)(h.A,{indeterminate:!!l&&l<o,checked:!!o&&l===o,onChange:e=>i(e.target.checked)}),(0,u.jsxs)(f.A,{variant:"subtitle2",sx:{ml:2,flexGrow:1,color:`${a}.main`,...n&&{ml:3}},children:[l," ",c("selected")]}),t&&t]}):null}var b=t(19042),w=t(72221),C=t(94814),_=t(79266),k=t(99784);function P(e){let{dense:n,count:t,page:o,onChangeDense:l,rowsPerPage:i,setPage:s,rowsPerPageOptions:a=[5,10,25,50],sx:r,...c}=e;const{t:p}=(0,d.WD)();return(0,u.jsxs)(m.A,{sx:{position:"relative",...r},children:[(0,u.jsx)(_.A,{showFirstButton:!0,showLastButton:!0,rowsPerPageOptions:a,component:"div",count:t,page:o,rowsPerPage:i,...c,sx:{borderTopColor:"transparent"}}),l&&(0,u.jsx)(k.A,{label:p("dense"),control:(0,u.jsx)(b.A,{checked:n,onChange:l}),sx:{pl:2,py:1.5,top:0,position:{sm:"absolute"}}}),s&&(0,u.jsx)(k.A,{label:p("page"),control:(0,u.jsx)(w.A,{value:o,onChange:e=>s(e.target.value),variant:"filled",sx:{height:0,width:68,mr:1,backgroundColor:"white",".MuiSelect-select":{paddingTop:1,paddingBottom:1,lineHeight:"40px"}},children:Array.from({length:Math.ceil(t/i)},((e,n)=>(0,u.jsx)(C.A,{value:n,children:n+1},n)))}),sx:{ml:18,my:2,top:5,position:{sm:"absolute"}}})]})}},78550:(e,n,t)=>{t.r(n),t.d(n,{default:()=>oe});var o=t(29490),l=t(68719),i=t(75139),s=t(93141),a=t(65043),r=t(40360),d=t(29013),c=t(12110),u=t(71806),p=t(49633),m=t(77739),h=t(90310),g=t(77224),v=t(73460),x=t(17392),y=t(79650),A=t(48407),f=t(67132),j=t(65381),b=t(59229),w=t(7625),C=t(60778),_=t(35924),k=t(16236),P=t(35151),S=t(51440),R=t(70074),M=t(67555),D=t(83858),I=t(75950),T=t(31673),L=t(91562),$=t(94857),W=t(81e3),F=t(26353),B=t(94814),O=t(68738),U=t(1273),z=t(39652),N=t(57442),E=t(34624),Z=t(70579);function V(e){var n,t,o;let{row:i,selected:s,onEditRow:a,onSelectRow:r,onActivate:d,onInactivate:c,setFilters:u,filters:p,onViewRow:m,onChangeVisPage:h,onChangeVisOnlineApp:g}=e;const{employee:v,visibility_online_appointment:y,visibility_US_page:A,adjust_schedual:f,status:j,created_at:b,user_creation:w,ip_address_user_creation:_,updated_at:S,user_modification:R,ip_address_user_modification:M,modifications_nums:D,online:I}=i,{t:T}=(0,C.WD)(),L=(0,l.v)(),{currentLang:$}=(0,C.jc)(),V="ar"===$.value,q=(0,E.f)(),G=(0,E.f)(),X=(0,Z.jsxs)(O.A,{hover:!0,selected:s,children:[(0,Z.jsx)(z.A,{padding:"checkbox",children:(0,Z.jsx)(U.A,{checked:s,onClick:r})}),(0,Z.jsxs)(z.A,{sx:{cursor:"pointer",color:"#3F54EB"},onClick:m,align:"center",children:[String(null===v||void 0===v||null===(n=v.nationality)||void 0===n?void 0:n.code).padStart(3,"0"),"-",v.sequence_number]}),(0,Z.jsx)(z.A,{align:"center",children:(0,Z.jsx)(P.A,{icon:I?"noto:green-circle":"noto:red-circle",style:{width:"10px"}})}),(0,Z.jsx)(z.A,{sx:{cursor:"pointer",color:"#3F54EB"},onClick:m,align:"center",children:V?null===v||void 0===v?void 0:v.name_arabic:null===v||void 0===v?void 0:v.name_english}),(0,Z.jsx)(z.A,{align:"center",children:V?null===v||void 0===v||null===(t=v.employee_type)||void 0===t?void 0:t.name_arabic:null===v||void 0===v||null===(o=v.employee_type)||void 0===o?void 0:o.name_english}),(0,Z.jsx)(z.A,{sx:{textTransform:"lowercase"},align:"center",children:null===v||void 0===v?void 0:v.email}),(0,Z.jsx)(z.A,{align:"center",children:(0,Z.jsx)(U.A,{checked:y,onClick:g})}),(0,Z.jsx)(z.A,{align:"center",children:(0,Z.jsx)(U.A,{checked:A,onClick:h})}),(0,Z.jsx)(z.A,{align:"center",children:(0,Z.jsx)(P.A,{icon:f?"eva:checkmark-fill":"mingcute:close-line",width:16})}),(0,Z.jsx)(z.A,{align:"center",children:(0,Z.jsx)(k.A,{variant:"soft",color:("active"===j?"success":"inactive"===j&&"error")||"default",children:T(j)})}),(0,Z.jsx)(z.A,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,Z.jsx)(x.A,{color:q.open?"inherit":"default",onClick:q.onOpen,children:(0,Z.jsx)(P.A,{icon:"eva:more-vertical-fill"})})})]});return(0,Z.jsxs)(Z.Fragment,{children:[X,(0,Z.jsxs)(E.A,{open:q.open,onClose:q.onClose,arrow:"right-top",sx:{width:140},children:["active"===j?L({category:"unit_service",subcategory:"employees",acl:"delete"})&&(0,Z.jsxs)(B.A,{lang:"ar",onClick:()=>{c(),q.onClose()},sx:{color:"error.main"},children:[(0,Z.jsx)(P.A,{icon:"ic:baseline-pause"}),T("inactivate")]}):L({category:"unit_service",subcategory:"employees",acl:"update"})&&(0,Z.jsxs)(B.A,{lang:"ar",onClick:()=>{d(),q.onClose()},sx:{color:"success.main"},children:[(0,Z.jsx)(P.A,{icon:"bi:play-fill"}),T("activate")]}),(0,Z.jsxs)(B.A,{lang:"ar",onClick:m,children:[(0,Z.jsx)(P.A,{icon:"solar:eye-bold"}),T("view")]}),(0,Z.jsxs)(B.A,{lang:"ar",onClick:G.onOpen,children:[(0,Z.jsx)(P.A,{icon:"carbon:data-quality-definition"}),T("DDL")]})]}),(0,Z.jsxs)(E.A,{open:G.open,onClose:G.onClose,arrow:"right-top",sx:{padding:2,fontSize:"14px"},children:[(0,Z.jsxs)(W.A,{sx:{fontWeight:600},children:[T("creation time"),":"]}),(0,Z.jsx)(W.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,Z.jsx)(F.A,{primary:(0,N.ts)(b,"dd MMMMMMMM yyyy"),secondary:(0,N.ts)(b,"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{component:"span",typography:"caption"}})}),(0,Z.jsxs)(W.A,{sx:{pt:1,fontWeight:600},children:[T("created by"),":"]}),(0,Z.jsx)(W.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===w||void 0===w?void 0:w.email}),(0,Z.jsxs)(W.A,{sx:{pt:1,fontWeight:600},children:[T("created by IP"),":"]}),(0,Z.jsx)(W.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:_}),(0,Z.jsxs)(W.A,{sx:{pt:1,fontWeight:600},children:[T("editing time"),":"]}),(0,Z.jsx)(W.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,Z.jsx)(F.A,{primary:(0,N.ts)(S,"dd MMMMMMMM yyyy"),secondary:(0,N.ts)(S,"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{component:"span",typography:"caption"}})}),(0,Z.jsxs)(W.A,{sx:{pt:1,fontWeight:600},children:[T("editor"),":"]}),(0,Z.jsx)(W.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===R||void 0===R?void 0:R.email}),(0,Z.jsxs)(W.A,{sx:{pt:1,fontWeight:600},children:[T("editor IP"),":"]}),(0,Z.jsx)(W.A,{sx:{pb:1,borderBottom:"1px solid gray",fontWeight:"400"},children:M}),(0,Z.jsxs)(W.A,{sx:{pt:1,fontWeight:600},children:[T("modifications no"),": ",D]})]})]})}var q=t(74600),G=t(67784),X=t(51787);function H(e){let{filters:n,onFilters:t,onPrint:o,onDownload:l,canReset:i,onResetFilters:s}=e;const r=(0,E.f)(),{t:d}=(0,C.WD)(),c=(0,a.useCallback)((e=>{t("name",e.target.value)}),[t]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(q.A,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:[(0,Z.jsx)(q.A,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:(0,Z.jsx)(G.A,{fullWidth:!0,value:n.name,onChange:c,placeholder:d("Search name or number..."),InputProps:{startAdornment:(0,Z.jsx)(X.A,{position:"start",children:(0,Z.jsx)(P.A,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})}),i&&(0,Z.jsx)(p.A,{color:"error",sx:{flexShrink:0},onClick:s,startIcon:(0,Z.jsx)(P.A,{icon:"solar:trash-bin-trash-bold"}),children:d("clear")})]}),(0,Z.jsxs)(E.A,{open:r.open,onClose:r.onClose,arrow:"right-top",sx:{width:140},children:[(0,Z.jsxs)(B.A,{lang:"ar",onClick:()=>{o(),r.onClose()},children:[(0,Z.jsx)(P.A,{icon:"solar:printer-minimalistic-bold"}),d("print")]}),(0,Z.jsxs)(B.A,{lang:"ar",onClick:()=>{l(),r.onClose()},children:[(0,Z.jsx)(P.A,{icon:"solar:import-bold"}),"Import"]})]})]})}var K=t(26487),J=t(8555),Q=t(91264);function Y(e){let{filters:n,onFilters:t,onResetFilters:o,results:l,...i}=e;const{t:s}=(0,C.WD)(),a=(0,Q.fT)(n.startDate,n.endDate);return(0,Z.jsxs)(q.A,{spacing:1.5,...i,children:[(0,Z.jsxs)(W.A,{sx:{typography:"body2"},children:[(0,Z.jsx)("strong",{children:l}),(0,Z.jsx)(W.A,{component:"span",sx:{color:"text.secondary",ml:.25},children:s("results found")})]}),(0,Z.jsxs)(q.A,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:["active"!==n.status&&(0,Z.jsx)(ee,{label:s("status:"),children:(0,Z.jsx)(K.A,{size:"small",label:s(n.status),onDelete:()=>{t("status","all")}})}),n.startDate&&n.endDate&&(0,Z.jsx)(ee,{label:s("date:"),children:(0,Z.jsx)(K.A,{size:"small",label:a,onDelete:()=>{t("startDate",null),t("endDate",null)}})}),(0,Z.jsx)(p.A,{color:"error",onClick:o,startIcon:(0,Z.jsx)(P.A,{icon:"solar:trash-bin-trash-bold"}),children:s("clear")})]})]})}function ee(e){let{label:n,children:t,sx:o,...l}=e;return(0,Z.jsxs)(q.A,{component:J.A,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...o},...l,children:[(0,Z.jsx)(W.A,{component:"span",sx:{typography:"subtitle2"},children:n}),(0,Z.jsx)(q.A,{spacing:1,direction:"row",flexWrap:"wrap",children:t})]})}const ne={name:"",status:"active"};function te(){var e,n,t;const{t:o}=(0,C.WD)(),{currentLang:W}=(0,C.jc)(),F="ar"===W.value,B=[{id:"sequence_number",label:o("number")},{id:"online",label:o("online")},{id:"name_english",label:o("name")},{id:"employee_type",label:o("employee type")},{id:"email",label:o("email")},{id:"visibility_online_appointment",label:o("visibility online appointment")},{id:"visibility_US_page",label:o("visibility page")},{id:"adjust_schedual",label:o("adjust schedual")},{id:"status",label:o("status")},{id:"",width:88}],{enqueueSnackbar:O}=(0,$.dh)(),U=(0,l.v)(),{STATUS_OPTIONS:z}=(0,_.l)(),N=(0,I.K2)({defaultOrderBy:"code"}),E=(0,a.useRef)(),{user:q}=(0,i.Z)(),G=(0,b.C)(),X=(0,b.C)(),K=(0,f.rd)(),{employeesData:J,loading:Q,refetch:ee}=(0,w.pA$)(null===q||void 0===q||null===(e=q.employee)||void 0===e||null===(n=e.employee_engagements)||void 0===n||null===(t=n[null===q||void 0===q?void 0:q.employee.selected_engagement])||void 0===t?void 0:t.unit_service._id),[te,oe]=(0,a.useState)(ne),le=!(!te.startDate||!te.endDate)&&te.startDate.getTime()>te.endDate.getTime(),ie=function(e){var n;let{inputData:t,comparator:o,filters:l,dateError:i}=e;const{status:s,name:a}=l,r=null===(n=t)||void 0===n?void 0:n.map(((e,n,t)=>[e,n]));r.sort(((e,n)=>{const t=o(e[0],n[0]);return 0!==t?t:e[1]-n[1]})),t=r.map(((e,n)=>e[0])),a&&(t=t.filter((e=>{var n,t,o,l,i,s,r,d,c,u,p,m,h,g,v,x,y,A,f,j,b,w,C,_,k,P,S,R,M,D,I,T,L,$,W,F,B,O,U,z,N,E;return(null===e||void 0===e||null===(n=e.employee)||void 0===n?void 0:n.name_english)&&-1!==(null===e||void 0===e||null===(t=e.employee)||void 0===t||null===(o=t.name_english)||void 0===o?void 0:o.toLowerCase().indexOf(a.toLowerCase()))||(null===e||void 0===e||null===(l=e.employee)||void 0===l?void 0:l.name_arabic)&&-1!==(null===e||void 0===e||null===(i=e.employee)||void 0===i||null===(s=i.name_arabic)||void 0===s?void 0:s.toLowerCase().indexOf(a.toLowerCase()))||(null===e||void 0===e||null===(r=e.employee)||void 0===r?void 0:r.name_english)&&-1!==(null===e||void 0===e||null===(d=e.employee)||void 0===d||null===(c=d.name_english)||void 0===c?void 0:c.toLowerCase().indexOf(a.toLowerCase()))||(null===e||void 0===e||null===(u=e.employee)||void 0===u||null===(p=u.country)||void 0===p?void 0:p.name_english)&&-1!==(null===e||void 0===e||null===(m=e.employee)||void 0===m||null===(h=m.country)||void 0===h||null===(g=h.name_english)||void 0===g?void 0:g.toLowerCase().indexOf(a.toLowerCase()))||(null===e||void 0===e||null===(v=e.employee)||void 0===v||null===(x=v.country)||void 0===x?void 0:x.name_arabic)&&-1!==(null===e||void 0===e||null===(y=e.employee)||void 0===y||null===(A=y.country)||void 0===A||null===(f=A.name_arabic)||void 0===f?void 0:f.toLowerCase().indexOf(a.toLowerCase()))||(null===e||void 0===e||null===(j=e.employee)||void 0===j||null===(b=j.city)||void 0===b?void 0:b.name_english)&&-1!==(null===e||void 0===e||null===(w=e.employee)||void 0===w||null===(C=w.city)||void 0===C||null===(_=C.name_english)||void 0===_?void 0:_.toLowerCase().indexOf(a.toLowerCase()))||(null===e||void 0===e||null===(k=e.employee)||void 0===k||null===(P=k.city)||void 0===P?void 0:P.name_arabic)&&-1!==(null===e||void 0===e||null===(S=e.employee)||void 0===S||null===(R=S.city)||void 0===R||null===(M=R.name_arabic)||void 0===M?void 0:M.toLowerCase().indexOf(a.toLowerCase()))||(null===e||void 0===e||null===(D=e.employee)||void 0===D||null===(I=D.nationality)||void 0===I?void 0:I.name_english)&&-1!==(null===e||void 0===e||null===(T=e.employee)||void 0===T||null===(L=T.nationality)||void 0===L||null===($=L.name_english)||void 0===$?void 0:$.toLowerCase().indexOf(a.toLowerCase()))||(null===e||void 0===e||null===(W=e.employee)||void 0===W||null===(F=W.nationality)||void 0===F?void 0:F.name_arabic)&&-1!==(null===e||void 0===e||null===(B=e.employee)||void 0===B||null===(O=B.nationality)||void 0===O||null===(U=O.name_arabic)||void 0===U?void 0:U.toLowerCase().indexOf(a.toLowerCase()))||(null===e||void 0===e||null===(z=e.employee)||void 0===z?void 0:z.email)&&-1!==(null===e||void 0===e||null===(N=e.employee)||void 0===N||null===(E=N.email)||void 0===E?void 0:E.toLowerCase().indexOf(a.toLowerCase()))||(null===e||void 0===e?void 0:e._id)===a||JSON.stringify(e.code)===a})));"all"!==s&&(t=t.filter((e=>e.status===s)));return t}({inputData:J,comparator:(0,I.hz)(N.order,N.orderBy),filters:te,dateError:le}),se=ie.slice(N.page*N.rowsPerPage,N.page*N.rowsPerPage+N.rowsPerPage),ae=!(null===te||void 0===te||!te.name)||"active"!==te.status,re=!ie.length&&ae||!ie.length,de=(0,s.useReactToPrint)({content:()=>E.current}),ce=(0,a.useCallback)((async e=>{try{var n;await T.Ay.patch(`${T.vZ.employee_engagements.one(e._id)}/updatestatus`,{status:"active"}),L.A.emit("updated",{user:q,link:A.f.unitservice.employees.root,msg:`activated an employee <strong>${null===e||void 0===e||null===(n=e.employee)||void 0===n?void 0:n.name_english}</strong>`})}catch(t){O(F&&`${t.arabic_message}`||`${t.message}`,{variant:"error"}),console.error(t)}ee(),N.onUpdatePageDeleteRow(se.length)}),[se.length,N,ee,q,O,F]),ue=(0,a.useCallback)((async e=>{try{var n;await T.Ay.patch(`${T.vZ.employee_engagements.one(e._id)}/updatestatus`,{status:"inactive"}),L.A.emit("updated",{user:q,link:A.f.unitservice.employees.root,msg:`inactivated an employee <strong>${null===e||void 0===e||null===(n=e.employee)||void 0===n?void 0:n.name_english}</strong>`})}catch(t){O(F&&`${t.arabic_message}`||`${t.message}`,{variant:"error"}),console.error(t)}ee(),N.onUpdatePageDeleteRow(se.length)}),[se.length,N,ee,q,O,F]),pe=(0,a.useCallback)((async()=>{try{await T.Ay.patch(`${T.vZ.employee_engagements.ones}/updatestatus`,{status:"active",ids:N.selected}),L.A.emit("updated",{user:q,link:A.f.unitservice.employees.root,msg:"activated many employees"})}catch(e){O(F&&`${e.arabic_message}`||`${e.message}`,{variant:"error"}),console.error(e)}ee(),N.onUpdatePageDeleteRows({totalRows:J.length,totalRowsInPage:se.length,totalRowsFiltered:ie.length})}),[ie.length,se.length,N,J,ee,q,F,O]),me=(0,a.useCallback)((async()=>{try{await T.Ay.patch(`${T.vZ.employee_engagements.ones}/updatestatus`,{status:"inactive",ids:N.selected}),L.A.emit("updated",{user:q,link:A.f.unitservice.employees.root,msg:"inactivated many employees "})}catch(e){O(F&&`${e.arabic_message}`||`${e.message}`,{variant:"error"}),console.error(e)}ee(),N.onUpdatePageDeleteRows({totalRows:J.length,totalRowsInPage:se.length,totalRowsFiltered:ie.length})}),[ie.length,se.length,N,J,ee,q,F,O]),he=(0,a.useCallback)(((e,n)=>{N.onResetPage(),oe((t=>({...t,[e]:n})))}),[N]),ge=(0,a.useCallback)((e=>{K.push(A.f.unitservice.employees.edit(e))}),[K]),ve=(0,a.useCallback)((e=>{K.push(A.f.unitservice.employees.info(e))}),[K]),xe=(0,a.useCallback)((()=>{oe(ne)}),[]),ye=(0,a.useCallback)((async e=>{try{await T.Ay.patch(T.vZ.employee_engagements.one(e),{visibility_US_page:!J.find((n=>n._id===e)).visibility_US_page}),ee(),O(o("updated successfully!"))}catch(n){O(F&&`${n.arabic_message}`||`${n.message}`,{variant:"error"})}}),[J,ee,o,O,F]),Ae=(0,a.useCallback)((async e=>{try{await T.Ay.patch(T.vZ.employee_engagements.one(e),{visibility_online_appointment:!J.find((n=>n._id===e)).visibility_online_appointment}),ee(),O(o("updated successfully!"))}catch(n){O(F&&`${n.arabic_message}`||`${n.message}`,{variant:"error"})}}),[J,ee,o,O,F]),fe=(0,a.useCallback)(((e,n)=>{he("status",n)}),[he]);return(0,a.useEffect)((()=>{L.A.on("employeeStatusUpdated",(e=>{var n,t,o,l,i;let{unit_service:s}=e;(null===q||void 0===q||null===(n=q.employee)||void 0===n||null===(t=n.employee_engagements)||void 0===t||null===(o=t[null===q||void 0===q||null===(i=q.employee)||void 0===i?void 0:i.selected_engagement])||void 0===o||null===(l=o.unit_service)||void 0===l?void 0:l._id)===s&&ee()}))}),[]),Q?(0,Z.jsx)(M.x,{}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(g.A,{maxWidth:"xl",children:[(0,Z.jsx)(D.A,{heading:o("employees"),links:[{name:o("dashboard"),href:A.f.unitservice.root},{name:o("employees")}],action:U({category:"unit_service",subcategory:"employees",acl:"create"})&&(0,Z.jsx)(p.A,{component:j.W,href:A.f.unitservice.employees.new,variant:"contained",startIcon:(0,Z.jsx)(P.A,{icon:"mingcute:add-line"}),children:o("new employee")}),sx:{mb:{xs:3,md:5},mt:{xs:3,md:5}}}),(0,Z.jsxs)(c.A,{children:[(0,Z.jsx)(d.A,{value:te.status,onChange:fe,sx:{px:2.5,boxShadow:e=>`inset 0 -2px 0 0 ${(0,h.X4)(e.palette.grey[500],.08)}`},children:z.map(((e,n)=>(0,Z.jsx)(r.A,{iconPosition:"end",value:e.value,label:e.label,icon:(0,Z.jsxs)(k.A,{variant:"all"===e.value||e.value===te.status?"filled":"soft",color:("active"===e.value?"success":"inactive"===e.value&&"error")||"default",children:["all"===e.value&&J.length,"active"===e.value&&J.filter((e=>"active"===e.status)).length,"inactive"===e.value&&J.filter((e=>"inactive"===e.status)).length]})},n)))}),(0,Z.jsx)(H,{onPrint:de,filters:te,onFilters:he,canReset:ae,onResetFilters:xe}),ae&&(0,Z.jsx)(Y,{filters:te,onFilters:he,onResetFilters:xe,results:ie.length,sx:{p:2.5,pt:0}}),(0,Z.jsxs)(y.A,{children:[(0,Z.jsx)(I.Uv,{dense:N.dense,numSelected:N.selected.length,rowCount:ie.length,onSelectAllRows:e=>N.onSelectAllRows(e,ie.map(((e,n)=>e._id))),action:(0,Z.jsx)(Z.Fragment,{children:ie.filter((e=>N.selected.includes(e._id))).some((e=>"inactive"===e.status))?(0,Z.jsx)(m.A,{title:"Activate all",children:(0,Z.jsx)(x.A,{color:"primary",onClick:G.onTrue,children:(0,Z.jsx)(P.A,{icon:"codicon:run-all"})})}):(0,Z.jsx)(m.A,{title:"Inactivate all",children:(0,Z.jsx)(x.A,{color:"error",onClick:X.onTrue,children:(0,Z.jsx)(P.A,{icon:"iconoir:pause-solid"})})})}),color:ie.filter((e=>N.selected.includes(e._id))).some((e=>"inactive"===e.status))?"primary":"error"}),(0,Z.jsx)(S.A,{children:(0,Z.jsxs)(u.A,{ref:E,size:N.dense?"small":"medium",children:[(0,Z.jsx)(I.er,{order:N.order,orderBy:N.orderBy,headLabel:B,rowCount:ie.length,numSelected:N.selected.length,onSort:N.onSort,onSelectAllRows:e=>N.onSelectAllRows(e,ie.map(((e,n)=>e._id)))}),(0,Z.jsxs)(v.A,{children:[ie.slice(N.page*N.rowsPerPage,N.page*N.rowsPerPage+N.rowsPerPage).map(((e,n)=>(0,Z.jsx)(V,{row:e,filters:te,setFilters:oe,selected:N.selected.includes(e._id),onSelectRow:()=>N.onSelectRow(e._id),onActivate:()=>ce(e),onViewRow:()=>ve(e._id),onInactivate:()=>ue(e),onEditRow:()=>ge(e._id),onChangeVisPage:()=>ye(e._id),onChangeVisOnlineApp:()=>Ae(e._id)},n))),(0,Z.jsx)(I.Sm,{notFound:re})]})]})})]}),(0,Z.jsx)(I.We,{count:ie.length,page:N.page,rowsPerPage:N.rowsPerPage,onPageChange:N.onChangePage,onRowsPerPageChange:N.onChangeRowsPerPage,dense:N.dense,onChangeDense:N.onChangeDense})]})]}),(0,Z.jsx)(R.T,{open:X.value,onClose:X.onFalse,title:"Inactivate",content:(0,Z.jsxs)(Z.Fragment,{children:["Are you sure want to Inactivate ",(0,Z.jsxs)("strong",{children:[" ",N.selected.length," "]})," items?"]}),action:(0,Z.jsx)(p.A,{variant:"contained",color:"error",onClick:()=>{me(),X.onFalse()},children:"Inactivate"})}),(0,Z.jsx)(R.T,{open:G.value,onClose:G.onFalse,title:"Activate",content:(0,Z.jsxs)(Z.Fragment,{children:["Are you sure want to Activate ",(0,Z.jsxs)("strong",{children:[" ",N.selected.length," "]})," items?"]}),action:(0,Z.jsx)(p.A,{variant:"contained",color:"primary",onClick:()=>{pe(),G.onFalse()},children:"Activate"})})]})}function oe(){var e,n,t,s,a;const{user:r}=(0,i.Z)(),d=null===r||void 0===r||null===(e=r.employee)||void 0===e||null===(n=e.employee_engagements)||void 0===n||null===(t=n[null===r||void 0===r||null===(a=r.employee)||void 0===a?void 0:a.selected_engagement])||void 0===t||null===(s=t.unit_service)||void 0===s?void 0:s.name_english;return(0,Z.jsxs)(l.A,{category:"unit_service",subcategory:"employees",acl:"read",children:[(0,Z.jsxs)(o.mg,{children:[(0,Z.jsxs)("title",{children:[d||"unit of service"," : Employees"]}),(0,Z.jsx)("meta",{name:"description",content:"meta"})]}),(0,Z.jsx)(te,{})]})}},79650:(e,n,t)=>{t.d(n,{A:()=>v});var o=t(58168),l=t(98587),i=t(65043),s=t(58387),a=t(98610),r=t(98206),d=t(34535),c=t(92532),u=t(72372);function p(e){return(0,u.Ay)("MuiTableContainer",e)}(0,c.A)("MuiTableContainer",["root"]);var m=t(70579);const h=["className","component"],g=(0,d.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,n)=>n.root})({width:"100%",overflowX:"auto"}),v=i.forwardRef((function(e,n){const t=(0,r.b)({props:e,name:"MuiTableContainer"}),{className:i,component:d="div"}=t,c=(0,l.A)(t,h),u=(0,o.A)({},t,{component:d}),v=(e=>{const{classes:n}=e;return(0,a.A)({root:["root"]},p,n)})(u);return(0,m.jsx)(g,(0,o.A)({ref:n,as:d,className:(0,s.A)(v.root,i),ownerState:u},c))}))},83858:(e,n,t)=>{t.d(n,{A:()=>o.A});var o=t(91720)},91264:(e,n,t)=>{t.d(n,{fT:()=>a});var o=t(41210),l=t(407),i=t(2431),s=t(57442);function a(e,n){const t=(new Date).getFullYear(),a=e?(0,o.A)(e):null,r=n?(0,o.A)(n):null,d=t===a&&t===r,c=!(!e||!n)&&(0,l.A)(new Date(e),new Date(n)),u=!(!e||!n)&&(0,i.A)(new Date(e),new Date(n));return d?u?c?(0,s.ts)(n,"dd MMM yy"):`${(0,s.ts)(e,"dd")} - ${(0,s.ts)(n,"dd MMM yy")}`:`${(0,s.ts)(e,"dd MMM")} - ${(0,s.ts)(n,"dd MMM yy")}`:`${(0,s.ts)(e,"dd MMM yy")} - ${(0,s.ts)(n,"dd MMM yy")}`}t(70579);t(65043)},91720:(e,n,t)=>{t.d(n,{A:()=>u});var o=t(81e3),l=t(88446),i=t(74600),s=t(94496),a=t(22698),r=t(65381),d=t(70579);function c(e){let{link:n,activeLast:t,disabled:i}=e;const s={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...i&&!t&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},a=(0,d.jsxs)(d.Fragment,{children:[n.icon&&(0,d.jsx)(o.A,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:n.icon}),n.name]});return n.href?(0,d.jsx)(l.A,{component:r.W,href:n.href,sx:s,children:a}):(0,d.jsxs)(o.A,{sx:s,children:[" ",a," "]})}function u(e){let{links:n,action:t,heading:r,moreLink:u,activeLast:m,sx:h,...g}=e;const v=n&&n[n.length-1].name;return(0,d.jsxs)(o.A,{sx:{...h},children:[(0,d.jsxs)(i.A,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(o.A,{sx:{flexGrow:1,display:"flex",gap:{md:3},alignItems:{md:"center"},flexDirection:{xs:"column",md:"row"}},children:[r&&(0,d.jsx)(s.A,{textTransform:"capitalize",variant:"h4",gutterBottom:!0,children:r}),n&&!!n.length&&(0,d.jsx)(a.A,{separator:(0,d.jsx)(p,{}),...g,children:null===n||void 0===n?void 0:n.map(((e,n)=>(0,d.jsx)(c,{link:e,activeLast:m,disabled:e.name===v},n)))})]}),t&&(0,d.jsxs)(o.A,{sx:{flexShrink:0,textTransform:"capitalize"},children:[" ",t," "]})]}),!!u&&(0,d.jsx)(o.A,{sx:{mt:2},children:u.map(((e,n)=>(0,d.jsx)(l.A,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},n)))})]})}function p(){return(0,d.jsx)(o.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}}}]);
//# sourceMappingURL=78550.c1b1a4da.chunk.js.map