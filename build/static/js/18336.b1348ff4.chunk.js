"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[18336,71861],{12604:(e,a,t)=>{t.d(a,{A:()=>l});var n=t(79386),r=t(84402);const i=(0,t(92532).A)("MuiBox",["root"]),l=(0,r.A)({defaultClassName:i.root,generateClassName:n.A.generate})},71861:(e,a,t)=>{t.d(a,{A:()=>k});var n=t(98587),r=t(58168),i=t(65043),l=t(58387),o=t(98610),s=t(67266),d=t(34535),c=t(98206),u=t(4162),m=t(6803),p=t(8555),h=t(70962),v=t(17392),g=t(66734),A=t(70579);const x=(0,g.A)((0,A.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),j=(0,g.A)((0,A.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),f=(0,g.A)((0,A.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),y=(0,g.A)((0,A.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");var b=t(16871);const _=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],C=(0,d.Ay)(p.A,{name:"MuiAlert",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.root,a[t.variant],a[`${t.variant}${(0,m.A)(t.color||t.severity)}`]]}})((e=>{let{theme:a}=e;const t="light"===a.palette.mode?s.e$:s.a,n="light"===a.palette.mode?s.a:s.e$;return(0,r.A)({},a.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(a.palette).filter((e=>{let[,a]=e;return a.main&&a.light})).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"standard"},style:{color:a.vars?a.vars.palette.Alert[`${r}Color`]:t(a.palette[r].light,.6),backgroundColor:a.vars?a.vars.palette.Alert[`${r}StandardBg`]:n(a.palette[r].light,.9),[`& .${h.A.icon}`]:a.vars?{color:a.vars.palette.Alert[`${r}IconColor`]}:{color:a.palette[r].main}}}})),...Object.entries(a.palette).filter((e=>{let[,a]=e;return a.main&&a.light})).map((e=>{let[n]=e;return{props:{colorSeverity:n,variant:"outlined"},style:{color:a.vars?a.vars.palette.Alert[`${n}Color`]:t(a.palette[n].light,.6),border:`1px solid ${(a.vars||a).palette[n].light}`,[`& .${h.A.icon}`]:a.vars?{color:a.vars.palette.Alert[`${n}IconColor`]}:{color:a.palette[n].main}}}})),...Object.entries(a.palette).filter((e=>{let[,a]=e;return a.main&&a.dark})).map((e=>{let[t]=e;return{props:{colorSeverity:t,variant:"filled"},style:(0,r.A)({fontWeight:a.typography.fontWeightMedium},a.vars?{color:a.vars.palette.Alert[`${t}FilledColor`],backgroundColor:a.vars.palette.Alert[`${t}FilledBg`]}:{backgroundColor:"dark"===a.palette.mode?a.palette[t].dark:a.palette[t].main,color:a.palette.getContrastText(a.palette[t].main)})}}))]})})),w=(0,d.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,a)=>a.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),S=(0,d.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,a)=>a.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),$=(0,d.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,a)=>a.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),q={success:(0,A.jsx)(x,{fontSize:"inherit"}),warning:(0,A.jsx)(j,{fontSize:"inherit"}),error:(0,A.jsx)(f,{fontSize:"inherit"}),info:(0,A.jsx)(y,{fontSize:"inherit"})},k=i.forwardRef((function(e,a){const t=(0,c.b)({props:e,name:"MuiAlert"}),{action:i,children:s,className:d,closeText:p="Close",color:g,components:x={},componentsProps:j={},icon:f,iconMapping:y=q,onClose:k,role:M="alert",severity:P="success",slotProps:z={},slots:L={},variant:I="standard"}=t,R=(0,n.A)(t,_),V=(0,r.A)({},t,{color:g,severity:P,variant:I,colorSeverity:g||P}),N=(e=>{const{variant:a,color:t,severity:n,classes:r}=e,i={root:["root",`color${(0,m.A)(t||n)}`,`${a}${(0,m.A)(t||n)}`,`${a}`],icon:["icon"],message:["message"],action:["action"]};return(0,o.A)(i,h.X,r)})(V),O={slots:(0,r.A)({closeButton:x.CloseButton,closeIcon:x.CloseIcon},L),slotProps:(0,r.A)({},j,z)},[Y,E]=(0,u.A)("closeButton",{elementType:v.A,externalForwardedProps:O,ownerState:V}),[F,T]=(0,u.A)("closeIcon",{elementType:b.A,externalForwardedProps:O,ownerState:V});return(0,A.jsxs)(C,(0,r.A)({role:M,elevation:0,ownerState:V,className:(0,l.A)(N.root,d),ref:a},R,{children:[!1!==f?(0,A.jsx)(w,{ownerState:V,className:N.icon,children:f||y[P]||q[P]}):null,(0,A.jsx)(S,{ownerState:V,className:N.message,children:s}),null!=i?(0,A.jsx)($,{ownerState:V,className:N.action,children:i}):null,null==i&&k?(0,A.jsx)($,{ownerState:V,className:N.action,children:(0,A.jsx)(Y,(0,r.A)({size:"small","aria-label":p,title:p,color:"inherit",onClick:k},E,{children:(0,A.jsx)(F,(0,r.A)({fontSize:"small"},T))}))}):null]}))}))},89879:(e,a,t)=>{t.r(a),t.d(a,{default:()=>q});var n=t(80899),r=t(65043),i=t(24858),l=t(18403),o=t(12604),s=t(71861),d=t(74600),c=t(84284),u=t(17392),m=t(38246),p=t(94496),h=t(94814),v=t(51787),g=t(48407),A=t(67132),x=t(59229),j=t(75139),f=t(97742),y=t(60778),b=t(7625),_=t(54583),C=t(35151),w=t(59699);const S=t.p+"static/media/family.8f32b33d494d80ce830c.png";var $=t(70579);function q(){const{countriesData:e}=(0,b.oOq)({select:"name_english name_arabic"}),{register:a}=(0,j.Z)(),{t:t}=(0,y.WD)(),[q,k]=(0,r.useState)(),{currentLang:M}=(0,y.jc)(),P="ar"===M.value,z=(0,A.rd)(),[L,I]=(0,r.useState)(""),R=(0,x.C)(),V=n.Ik().shape({name_english:n.Yj().required("english name required"),name_arabic:n.Yj().required("arabic name required"),email:n.Yj().required("Email is required").email("Email must be a valid email address"),password:n.Yj().required("Password is required"),confirmPassword:n.Yj().oneOf([n.KR("password"),t("must be exactly as password")],"Passwords must match").min(8,`${t("must be at least")} 8`),scanned_identification:n.gl().required(t("required field")),identification_num:n.Yj().required("Identification number is required"),birth_date:n.gl().required("birth_date is required"),gender:n.Yj().required("Gender is required"),country:n.Yj().required("Country is required"),nationality:n.Yj().required("Nationality is required"),city:n.Yj().required("City is required")}),N=(0,i.mN)({mode:"all",resolver:(0,l.t)(V),defaultValues:{name_english:"",name_arabic:"",email:"",nationality:"",password:"",confirmPassword:"",scanned_identification:null,birth_date:"",identification_num:"",gender:"",country:null,city:null}}),{watch:O,setValue:Y,control:E,handleSubmit:F,formState:{isSubmitting:T}}=N,D=O(),{tableData:B}=(0,b.RmE)(D.country,{select:"name_english name_arabic"}),W=F((async e=>{try{var t;e.email=null===(t=e.email)||void 0===t?void 0:t.toLowerCase();const n=new FormData;n.append("identification",q[0]),Object.keys(e).forEach((a=>{"scanned_identification"!==a&&(Array.isArray(e[a])?e[a].forEach(((e,t)=>{n.append(`${a}[${t}]`,e)})):n.append(a,e[a]))})),await(null===a||void 0===a?void 0:a({userName:`${e.name_english}`,...e})),z.push(g.f.auth.verify(e.email)||f.EJ)}catch(n){console.error(n),I("string"===typeof n?n:n.message)}}));return(0,$.jsx)(w.Ay,{methods:N,onSubmit:W,children:(0,$.jsxs)(o.A,{sx:{display:"flex",flexDirection:{md:"row",xs:"column"}},children:[(0,$.jsxs)(d.A,{spacing:2.5,sx:{width:{md:"50%",xs:"80%"},ml:5,mt:5,mr:15},children:[!!L&&(0,$.jsx)(s.A,{severity:"error",children:L}),(0,$.jsx)(p.A,{variant:"h3",sx:{textAlign:"center",display:{md:"none",xs:"block"}},children:t("Add Account")}),(0,$.jsxs)(d.A,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,$.jsx)(w.o3,{name:"name_english",label:t("full name english"),onChange:e=>{/^[a-zA-Z0-9\s,@#$!*_\-&^%.()]*$/.test(e.target.value)&&N.setValue(e.target.name,e.target.value,{shouldValidate:!0})}}),(0,$.jsx)(w.o3,{name:"name_arabic",label:t("full name arabic"),onChange:e=>{/^[\u0600-\u06FF0-9\s!@#$%^&*_\-().]*$/.test(e.target.value)&&N.setValue(e.target.name,e.target.value,{shouldValidate:!0})}})]}),(0,$.jsx)(w.o3,{name:"identification_num",label:t("Identification number")}),(0,$.jsxs)(d.A,{gap:1,children:[(0,$.jsx)(p.A,{variant:"caption",sx:{color:"warning.main"},children:t("upload the photo with the identification number in the proof document")}),(0,$.jsx)(w.Y4,{name:"scanned_identification",onDrop:e=>{if(k(e),e&&e.length>0){const a=Object.assign(e[0],{preview:URL.createObjectURL(e[0])});Y("scanned_identification",a)}}})]}),(0,$.jsx)(i.xI,{name:"birth_date",control:E,render:e=>{let{field:a,fieldState:{error:n}}=e;return(0,$.jsx)(c.l,{label:t("birth date"),value:new Date(D.birth_date?D.birth_date:""),onChange:e=>{a.onChange(e)},slotProps:{textField:{fullWidth:!0,error:!!n,helperText:null===n||void 0===n?void 0:n.message}}})}}),(0,$.jsx)(w.tX,{onChange:e=>{const a=e.target.value;N.setValue("nationality",a,{shouldValidate:!0})},name:"nationality",label:t("nationality"),children:null===e||void 0===e?void 0:e.map(((e,a)=>(0,$.jsx)(h.A,{lang:"ar",value:null===e||void 0===e?void 0:e._id,children:P?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},a)))}),(0,$.jsxs)(d.A,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,$.jsx)(w.tX,{onChange:e=>{const a=e.target.value;N.setValue("country",a,{shouldValidate:!0})},name:"country",label:t("country"),children:null===e||void 0===e?void 0:e.map(((e,a)=>(0,$.jsx)(h.A,{lang:"ar",value:null===e||void 0===e?void 0:e._id,children:P?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},a)))}),(0,$.jsx)(w.tX,{name:"city",label:t("City"),children:null===B||void 0===B?void 0:B.map(((e,a)=>(0,$.jsx)(h.A,{lang:"ar",value:null===e||void 0===e?void 0:e._id,children:P?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},a)))}),(0,$.jsxs)(w.tX,{name:"gender",label:t("Gender"),children:[(0,$.jsx)(h.A,{lang:"ar",value:"male",children:t("male")}),(0,$.jsx)(h.A,{lang:"ar",value:"female",children:t("female")})]})]}),(0,$.jsx)(w.o3,{name:"email",label:t("Email address")}),(0,$.jsx)(w.o3,{name:"password",label:t("Password"),type:R.value?"text":"password",InputProps:{endAdornment:(0,$.jsx)(v.A,{position:"end",children:(0,$.jsx)(u.A,{onClick:R.onToggle,edge:"end",children:(0,$.jsx)(C.A,{icon:R.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,$.jsx)(w.o3,{name:"confirmPassword",label:t("Confirm Password"),type:R.value?"text":"password",InputProps:{endAdornment:(0,$.jsx)(v.A,{position:"end",children:(0,$.jsx)(u.A,{onClick:R.onToggle,edge:"end",children:(0,$.jsx)(C.A,{icon:R.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,$.jsx)(m.A,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:T,children:t("create account")})]}),(0,$.jsxs)(d.A,{sx:{display:{md:"block",xs:"none"},ml:4,mt:5},children:[(0,$.jsx)(p.A,{variant:"h3",sx:{textAlign:"center"},children:t("Add Account")}),(0,$.jsx)(_.A,{src:S})]})]})})}}}]);
//# sourceMappingURL=18336.b1348ff4.chunk.js.map