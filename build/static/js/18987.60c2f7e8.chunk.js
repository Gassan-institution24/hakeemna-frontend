"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[18987],{18987:(e,n,i)=>{i.r(n),i.d(n,{default:()=>r});var a=i(29490),t=i(68719),s=i(75139),l=i(66706),o=i(70579);function r(){var e,n,i,r,c;const{user:d}=(0,s.Z)(),u=null===d||void 0===d||null===(e=d.employee)||void 0===e||null===(n=e.employee_engagements)||void 0===n||null===(i=n[null===d||void 0===d||null===(c=d.employee)||void 0===c?void 0:c.selected_engagement])||void 0===i||null===(r=i.unit_service)||void 0===r?void 0:r.name_english;return(0,o.jsxs)(t.A,{category:"unit_service",subcategory:"permissions",acl:"read",children:[(0,o.jsxs)(a.mg,{children:[(0,o.jsxs)("title",{children:[u||"unit of service"," : permissions"]}),(0,o.jsx)("meta",{name:"description",content:"meta"})]}),(0,o.jsx)(l.A,{})]})}},66706:(e,n,i)=>{i.d(n,{A:()=>T});var a=i(80899),t=i(24858),s=i(65043),l=i(18403),o=i(74600),r=i(38246),c=i(68903),d=i(94496),u=i(12110),v=i(79958),p=i(77224),m=i(48407),x=i(67132),h=i(88887),g=i(31673),f=i(91562),j=i(75139),y=i(60778),A=i(7625),_=i(94857),b=i(59699),w=i(70579);function T(){var e,n,i;const{t:T}=(0,y.WD)(),{currentLang:E}=(0,y.jc)(),k="ar"===E.value,z=[{label:T("read"),value:"read"},{label:T("create"),value:"create"},{label:T("edit"),value:"update"},{label:T("delete"),value:"delete"}],{id:O}=(0,x.g)(),{user:C}=(0,j.Z)(),Y=(0,x.rd)(),{data:S}=(0,A.tH$)(O),$=(0,h.Q)("up","md"),{enqueueSnackbar:N}=(0,_.dh)(),H=a.Ik().shape({departments:a.YO(),employees:a.YO(),management_tables:a.YO(),appointments:a.YO(),appointment_configs:a.YO(),accounting:a.YO(),offers:a.YO(),quality_control:a.YO(),unit_service_info:a.YO(),old_patient:a.YO(),entrance:a.YO()}),M=(0,s.useMemo)((()=>{var e,n,i,a,t,s,l,o,r,c,d,u,v,p,m,x,h,g,f,j,y,A,_,b,w,T;return{departments:(null===S||void 0===S||null===(e=S.acl)||void 0===e||null===(n=e.unit_service)||void 0===n?void 0:n.departments)||[],employees:(null===S||void 0===S||null===(i=S.acl)||void 0===i||null===(a=i.unit_service)||void 0===a?void 0:a.employees)||[],management_tables:(null===S||void 0===S||null===(t=S.acl)||void 0===t||null===(s=t.unit_service)||void 0===s?void 0:s.management_tables)||[],appointments:(null===S||void 0===S||null===(l=S.acl)||void 0===l||null===(o=l.unit_service)||void 0===o?void 0:o.appointments)||[],appointment_configs:(null===S||void 0===S||null===(r=S.acl)||void 0===r||null===(c=r.unit_service)||void 0===c?void 0:c.appointment_configs)||[],accounting:(null===S||void 0===S||null===(d=S.acl)||void 0===d||null===(u=d.unit_service)||void 0===u?void 0:u.accounting)||[],offers:(null===S||void 0===S||null===(v=S.acl)||void 0===v||null===(p=v.unit_service)||void 0===p?void 0:p.offers)||[],quality_control:(null===S||void 0===S||null===(m=S.acl)||void 0===m||null===(x=m.unit_service)||void 0===x?void 0:x.quality_control)||[],unit_service_info:(null===S||void 0===S||null===(h=S.acl)||void 0===h||null===(g=h.unit_service)||void 0===g?void 0:g.unit_service_info)||[],old_patient:(null===S||void 0===S||null===(f=S.acl)||void 0===f||null===(j=f.unit_service)||void 0===j?void 0:j.old_patient)||[],permissions:(null===S||void 0===S||null===(y=S.acl)||void 0===y||null===(A=y.unit_service)||void 0===A?void 0:A.permissions)||[],hr:(null===S||void 0===S||null===(_=S.acl)||void 0===_||null===(b=_.unit_service)||void 0===b?void 0:b.hr)||[],entrance:(null===S||void 0===S||null===(w=S.acl)||void 0===w||null===(T=w.unit_service)||void 0===T?void 0:T.entrance)||[]}}),[S]),R=(0,t.mN)({mode:"all",resolver:(0,l.t)(H),defaultValues:M}),{reset:q,handleSubmit:P,formState:{isSubmitting:Z,errors:D}}=R,{employeesData:F,loading:I}=(0,A.hZ$)(null===C||void 0===C||null===(e=C.employee)||void 0===e||null===(n=e.employee_engagements)||void 0===n||null===(i=n[null===C||void 0===C?void 0:C.employee.selected_engagement])||void 0===i?void 0:i.unit_service._id,{select:"employee"});(0,s.useEffect)((()=>{var e,n;O||I||null===F||void 0===F||null===(e=F[0])||void 0===e||!e._id||Y.push(`${m.f.unitservice.acl.unitservice}/${null===F||void 0===F||null===(n=F[0])||void 0===n?void 0:n._id}`)}),[O,F,Y,I]),(0,s.useEffect)((()=>{Object.keys(D).length&&Object.keys(D).forEach(((e,n)=>{var i;return N(`${e}: ${(null===D||void 0===D||null===(i=D[e])||void 0===i?void 0:i.message)||"error"}`,{variant:"error"})}))}),[D,N]),(0,s.useEffect)((()=>{q(M)}),[M,q]);const W=P((async e=>{try{const n=S.acl;n.unit_service=e,g.Ay.patch(g.vZ.employee_engagements.one(O),{acl:n}),f.A.emit("updated",{user:C,link:m.f.unitservice.employees.acl(O),msg:"updated a unit of service employee permissions"}),N(T("updated successfully!"))}catch(n){N(k&&`${n.arabic_message}`||`${n.message}`,{variant:"error"}),console.error(n)}})),B=(0,w.jsxs)(w.Fragment,{children:[$&&(0,w.jsxs)(c.Ay,{md:4,children:[(0,w.jsx)(d.A,{variant:"h6",sx:{mb:.5},children:T("permissions")}),(0,w.jsx)(d.A,{variant:"body2",sx:{color:"text.secondary"},children:T("giving or withdrowing permissions refered to all")}),(0,w.jsx)(d.A,{variant:"body2",sx:{color:"text.secondary"},children:T("unit of service and all its departments")})]}),(0,w.jsx)(c.Ay,{xs:12,md:8,children:(0,w.jsxs)(u.A,{children:[!$&&(0,w.jsx)(v.A,{title:T("permissions")}),(0,w.jsxs)(o.A,{spacing:3,sx:{p:3},children:[(0,w.jsxs)(o.A,{spacing:1,children:[(0,w.jsx)(d.A,{title:"Permissions",textTransform:"capitalize",variant:"subtitle2",children:T("departments")}),(0,w.jsx)(b.lE,{row:!0,spacing:4,name:"departments",options:z})]}),(0,w.jsxs)(o.A,{spacing:1,children:[(0,w.jsx)(d.A,{textTransform:"capitalize",variant:"subtitle2",children:T("employees")}),(0,w.jsx)(b.lE,{row:!0,spacing:4,name:"employees",options:z})]}),(0,w.jsxs)(o.A,{spacing:1,children:[(0,w.jsx)(d.A,{textTransform:"capitalize",variant:"subtitle2",children:T("management tables")}),(0,w.jsx)(b.lE,{row:!0,spacing:4,name:"management_tables",options:z})]}),(0,w.jsxs)(o.A,{spacing:1,children:[(0,w.jsx)(d.A,{textTransform:"capitalize",variant:"subtitle2",children:T("appointments")}),(0,w.jsx)(b.lE,{row:!0,spacing:4,name:"appointments",options:z})]}),(0,w.jsxs)(o.A,{spacing:1,children:[(0,w.jsx)(d.A,{textTransform:"capitalize",variant:"subtitle2",children:T("appointment configuration")}),(0,w.jsx)(b.lE,{row:!0,spacing:4,name:"appointment_configs",options:z})]}),(0,w.jsxs)(o.A,{spacing:1,children:[(0,w.jsx)(d.A,{textTransform:"capitalize",variant:"subtitle2",children:T("accounting")}),(0,w.jsx)(b.lE,{row:!0,spacing:4,name:"accounting",options:z})]}),(0,w.jsxs)(o.A,{spacing:1,children:[(0,w.jsx)(d.A,{textTransform:"capitalize",variant:"subtitle2",children:T("offers")}),(0,w.jsx)(b.lE,{row:!0,spacing:4,name:"offers",options:z})]}),(0,w.jsxs)(o.A,{spacing:1,children:[(0,w.jsx)(d.A,{textTransform:"capitalize",variant:"subtitle2",children:T("quality control")}),(0,w.jsx)(b.lE,{row:!0,spacing:4,name:"quality_control",options:z})]}),(0,w.jsxs)(o.A,{spacing:1,children:[(0,w.jsx)(d.A,{textTransform:"capitalize",variant:"subtitle2",children:T("old patient data")}),(0,w.jsx)(b.lE,{row:!0,spacing:4,name:"old_patient",options:z})]}),(0,w.jsxs)(o.A,{spacing:1,children:[(0,w.jsx)(d.A,{textTransform:"capitalize",variant:"subtitle2",children:T("unit of service info")}),(0,w.jsx)(b.lE,{row:!0,spacing:4,name:"unit_service_info",options:z})]}),(0,w.jsxs)(o.A,{spacing:1,children:[(0,w.jsx)(d.A,{textTransform:"capitalize",variant:"subtitle2",children:T("permissions")}),(0,w.jsx)(b.lE,{row:!0,spacing:4,name:"permissions",options:z})]}),(0,w.jsxs)(o.A,{spacing:1,children:[(0,w.jsx)(d.A,{textTransform:"capitalize",variant:"subtitle2",children:T("human resource")}),(0,w.jsx)(b.lE,{row:!0,spacing:4,name:"hr",options:z})]}),(0,w.jsxs)(o.A,{spacing:1,children:[(0,w.jsx)(d.A,{textTransform:"capitalize",variant:"subtitle2",children:T("entrance management")}),(0,w.jsx)(b.lE,{row:!0,spacing:4,name:"entrance",options:[{label:T("appointment"),value:"appointment"},{label:T("rooms"),value:"rooms"},{label:T("finished"),value:"finished"}]})]})]})]})})]}),L=(0,w.jsxs)(w.Fragment,{children:[$&&(0,w.jsx)(c.Ay,{md:4}),(0,w.jsx)(c.Ay,{xs:12,md:8,sx:{display:"flex",justifyContent:"flex-end"},children:(0,w.jsx)(r.A,{type:"submit",variant:"contained",loading:Z,sx:{m:2},children:T("save changes")})})]});return(0,w.jsx)(p.A,{maxWidth:"lg",children:(0,w.jsx)(b.Ay,{methods:R,onSubmit:W,children:(0,w.jsxs)(c.Ay,{container:!0,spacing:3,children:[B,L]})})})}},79958:(e,n,i)=>{i.d(n,{A:()=>A});var a=i(98587),t=i(58168),s=i(65043),l=i(58387),o=i(98610),r=i(94496),c=i(98206),d=i(34535),u=i(92532),v=i(72372);function p(e){return(0,v.Ay)("MuiCardHeader",e)}const m=(0,u.A)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var x=i(70579);const h=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],g=(0,d.Ay)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,n)=>(0,t.A)({[`& .${m.title}`]:n.title,[`& .${m.subheader}`]:n.subheader},n.root)})({display:"flex",alignItems:"center",padding:16}),f=(0,d.Ay)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,n)=>n.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),j=(0,d.Ay)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,n)=>n.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),y=(0,d.Ay)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,n)=>n.content})({flex:"1 1 auto"}),A=s.forwardRef((function(e,n){const i=(0,c.b)({props:e,name:"MuiCardHeader"}),{action:s,avatar:d,className:u,component:v="div",disableTypography:m=!1,subheader:A,subheaderTypographyProps:_,title:b,titleTypographyProps:w}=i,T=(0,a.A)(i,h),E=(0,t.A)({},i,{component:v,disableTypography:m}),k=(e=>{const{classes:n}=e;return(0,o.A)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},p,n)})(E);let z=b;null==z||z.type===r.A||m||(z=(0,x.jsx)(r.A,(0,t.A)({variant:d?"body2":"h5",className:k.title,component:"span",display:"block"},w,{children:z})));let O=A;return null==O||O.type===r.A||m||(O=(0,x.jsx)(r.A,(0,t.A)({variant:d?"body2":"body1",className:k.subheader,color:"text.secondary",component:"span",display:"block"},_,{children:O}))),(0,x.jsxs)(g,(0,t.A)({className:(0,l.A)(k.root,u),as:v,ref:n,ownerState:E},T,{children:[d&&(0,x.jsx)(f,{className:k.avatar,ownerState:E,children:d}),(0,x.jsxs)(y,{className:k.content,ownerState:E,children:[z,O]}),s&&(0,x.jsx)(j,{className:k.action,ownerState:E,children:s})]}))}))}}]);
//# sourceMappingURL=18987.60c2f7e8.chunk.js.map