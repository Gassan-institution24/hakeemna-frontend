"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[88883],{50233:(e,i,n)=>{n.d(i,{A:()=>L});var a=n(65043),t=n(81e3),l=n(94496),r=n(67784),s=n(49633),o=n(48407),d=n(67132),c=n(75139),m=n(60778),u=n(7625),h=n(51807),x=n(80899),v=n(24858),p=n(18403),g=n(14256),j=n(83462),f=n(37684),b=n(43360),y=n(17642),A=n(53193),_=n(4219),k=n(29347),w=n(35316),S=n(59229),C=n(31673),W=n(54583),D=n(94857),$=n(87410),F=n(70579);function R(){var e,i,n,r,o,d;const{enqueueSnackbar:h}=(0,D.dh)(),{t:R}=(0,m.WD)(),{currentLang:L}=(0,m.jc)(),B="ar"===L.value,N=x.Ik().shape({Rate:x.ai(),Body:x.Yj(),Selection:x.Yj().nullable()}),[T,q]=(0,a.useState)(),[z,P]=(0,a.useState)(),[V,I]=(0,a.useState)(null),{user:O}=(0,c.Z)(),{feedbackData:Y,refetch:Z}=(0,u.nq0)(null===O||void 0===O||null===(e=O.patient)||void 0===e?void 0:e._id),H={Body:"",Selection:V,Rate:T},J=(0,v.mN)({mode:"all",resolver:(0,p.t)(N),defaultValues:H}),{handleSubmit:E,formState:{isSubmitting:G}}=J,K=(0,S.C)(!0),M=["Negligence in treatment","Staff behavior","Cleanliness","Price","None of the above"];return(0,F.jsx)(j.A,{open:K.value,onClose:K.onTrue,PaperProps:{sx:{width:"500px",maxWidth:"500px"}},children:(0,F.jsxs)($.A,{methods:J,onSubmit:E((async e=>{try{await C.Ay.patch(`api/feedback/${null===Y||void 0===Y?void 0:Y._id}`,{Selection:V,Rate:T,Body:z}),K.onFalse(),h(R("Thanks for your cooperation"),{variant:"success"}),Z()}catch(i){console.error(i.message),h(B&&`${i.arabic_message}`||`${i.message}`,{variant:"error"})}})),children:[(0,F.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",margin:"20px",gap:"10px"},children:[(0,F.jsx)(_.A,{children:R("Rate your appointment")}),(0,F.jsxs)(w.A,{children:[R("How was your experience with ")," ",B?`${null===Y||void 0===Y||null===(i=Y.unit_service)||void 0===i?void 0:i.name_arabic}`:`${null===Y||void 0===Y||null===(n=Y.unit_service)||void 0===n?void 0:n.name_english}`,(0,F.jsx)("br",{}),(0,F.jsx)("span",{style:{textAlign:"center"},children:B?`${null===Y||void 0===Y||null===(r=Y.employee)||void 0===r?void 0:r.name_arabic}`:`${null===Y||void 0===Y||null===(o=Y.employee)||void 0===o?void 0:o.name_english}`})]}),(0,F.jsx)(W.A,{src:null===Y||void 0===Y||null===(d=Y.unit_service)||void 0===d?void 0:d.company_logo,sx:{width:"60px",height:"60px",border:1,borderRadius:"50px"}}),(0,F.jsx)(f.A,{size:"large",precision:1,max:5,name:"Rate",value:T,onChange:e=>{q(parseFloat(e.target.value))}})]}),T<4?(0,F.jsx)(w.A,{children:(0,F.jsxs)(t.A,{component:"form",noValidate:!0,children:[(0,F.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr"},children:null===M||void 0===M?void 0:M.map(((e,i)=>(0,F.jsx)("div",{children:(0,F.jsxs)(t.A,{sx:{fontSize:{md:"15px",xs:"9px"},fontWeight:{md:"400",xs:"bolder"}},children:[(0,F.jsx)(g.A,{checked:V===e,onChange:()=>{return i=e,void I((e=>e===i?null:i));var i},name:"Selection"}),R(e)]})},i)))}),(0,F.jsxs)(A.A,{sx:{my:5,minWidth:"100%"},children:[(0,F.jsx)(y.A,{htmlFor:"max-width",children:R("Other")}),(0,F.jsx)(b.A,{id:"max-width",name:"Body",onChange:e=>P(e.target.value)})]})]})}):(0,F.jsxs)(w.A,{children:[(0,F.jsx)(l.A,{sx:{ml:2,mb:1,fontSize:15},children:R("We hope that everything was to your satisfaction")}),(0,F.jsx)(t.A,{component:"form",noValidate:!0,children:(0,F.jsxs)(A.A,{sx:{my:3,minWidth:"100%"},children:[(0,F.jsx)(y.A,{htmlFor:"max-width",children:R("Leave a comment")}),(0,F.jsx)(b.A,{id:"max-width",name:"Body",onChange:e=>P(e.target.value)})]})})]}),(0,F.jsxs)(k.A,{children:[(0,F.jsx)(s.A,{onClick:async()=>{try{await C.Ay.patch(`api/feedback/${null===Y||void 0===Y?void 0:Y._id}`,{skip:!0}),K.onFalse()}catch(e){console.error(e.message)}},loading:G,variant:"outlined",color:"inherit",type:"submit",children:R("Skip")}),(0,F.jsx)(s.A,{type:"submit",variant:"contained",children:R("Submit")})]})]})})}function L(){var e;const i=(0,d.rd)(),{t:n}=(0,m.WD)(),{currentLang:x}=(0,m.jc)(),v="ar"===x.value,{specialtiesData:p}=(0,u.srd)(),{user:g}=(0,c.Z)(),[j,f]=(0,a.useState)(),b=function(e){var i;let{inputData:n,filterforspecialties:a}=e;if(!a)return n;const t=B(a.toLowerCase());return n=null===(i=n)||void 0===i?void 0:i.filter((e=>{const i=B(null===e||void 0===e?void 0:e.name_english.toLowerCase()),n=B(null===e||void 0===e?void 0:e.name_arabic.toLowerCase());return i.includes(t)||n.includes(t)||(null===e||void 0===e?void 0:e._id)===a||JSON.stringify(e.code)===a})),n}({inputData:p,filterforspecialties:j}),{feedbackData:y}=(0,u.nq0)(null===g||void 0===g||null===(e=g.patient)||void 0===e?void 0:e._id);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(l.A,{variant:"h3",mb:10,sx:{ml:{xs:0,sm:6,md:14},width:{xs:400,sm:700,md:700}},children:n("What medical specialty are you looking for?")}),(0,F.jsx)(r.A,{onChange:e=>f(e.target.value),sx:{mb:5,ml:{md:14,xs:11.5},width:{md:"20%",xs:"50%"},border:.7,borderRadius:1},placeholder:"Search..."}),y?(0,F.jsx)(R,{}):"",(0,F.jsx)(t.A,{gap:{xs:0,sm:3,md:3},display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 3fr)",md:"repeat(2, 1fr)",lg:"repeat(2, 1fr)",xl:"repeat(3, 1fr)"},sx:{ml:{xs:6.5,sm:7,md:2,lg:6,xl:8}},children:b.map(((e,n)=>(0,F.jsxs)(s.A,{sx:{display:"block",bgcolor:"inherit",color:"black",width:"40vh",mb:{xs:2,sm:0,md:0}},variant:"outlined",onClick:()=>{return n=null===e||void 0===e?void 0:e._id,void i.push(o.f.dashboard.user.bookappointment(n));var n},children:[(0,F.jsx)(h.A,{src:null===e||void 0===e?void 0:e.speciality_image,sx:{width:70,height:70,mb:2}}),(0,F.jsx)(l.A,{sx:{fontWeight:600},children:v?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english})]},n)))})]})}function B(e){return e.replace(/\u0623/g,"\u0627")}},88883:(e,i,n)=>{n.r(i),n.d(i,{default:()=>s});var a=n(29490),t=n(60778),l=n(50233),r=n(70579);function s(){const{t:e}=(0,t.WD)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.mg,{children:[(0,r.jsx)("title",{children:e("specialities")}),(0,r.jsx)("meta",{name:"description",content:"meta"})]}),(0,r.jsx)(l.A,{})]})}}}]);
//# sourceMappingURL=88883.f8ffd209.chunk.js.map