{"version":3,"file":"static/js/54086.844a8db1.chunk.js","mappings":"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","sources":["../node_modules/@mui/material/internal/svg-icons/MoreHoriz.js","../node_modules/@mui/material/Breadcrumbs/BreadcrumbCollapsed.js","../node_modules/@mui/material/Breadcrumbs/breadcrumbsClasses.js","../node_modules/@mui/material/Breadcrumbs/Breadcrumbs.js","../node_modules/lodash/sum.js","sections/unit-service/accounting/economic-movements/invoice-new-edit-address.jsx","sections/unit-service/accounting/economic-movements/invoice-new-edit-details.jsx","sections/unit-service/accounting/economic-movements/invoice-new-edit-insurance.jsx","sections/unit-service/accounting/economic-movements/invoice-new-edit-status-date.jsx","sections/unit-service/accounting/economic-movements/invoice-new-edit-tax-details.jsx","sections/unit-service/accounting/economic-movements/invoice-new-edit-installment.jsx","sections/unit-service/accounting/economic-movements/new-edit-form.jsx","components/custom-breadcrumbs/link-item.jsx","components/custom-breadcrumbs/custom-breadcrumbs.jsx","../node_modules/lodash/_baseSum.js"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"\n}), 'MoreHoriz');","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"slots\", \"slotProps\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { emphasize } from '@mui/system/colorManipulator';\nimport styled from '../styles/styled';\nimport MoreHorizIcon from '../internal/svg-icons/MoreHoriz';\nimport ButtonBase from '../ButtonBase';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst BreadcrumbCollapsedButton = styled(ButtonBase)(({\n  theme\n}) => _extends({\n  display: 'flex',\n  marginLeft: `calc(${theme.spacing(1)} * 0.5)`,\n  marginRight: `calc(${theme.spacing(1)} * 0.5)`\n}, theme.palette.mode === 'light' ? {\n  backgroundColor: theme.palette.grey[100],\n  color: theme.palette.grey[700]\n} : {\n  backgroundColor: theme.palette.grey[700],\n  color: theme.palette.grey[100]\n}, {\n  borderRadius: 2,\n  '&:hover, &:focus': _extends({}, theme.palette.mode === 'light' ? {\n    backgroundColor: theme.palette.grey[200]\n  } : {\n    backgroundColor: theme.palette.grey[600]\n  }),\n  '&:active': _extends({\n    boxShadow: theme.shadows[0]\n  }, theme.palette.mode === 'light' ? {\n    backgroundColor: emphasize(theme.palette.grey[200], 0.12)\n  } : {\n    backgroundColor: emphasize(theme.palette.grey[600], 0.12)\n  })\n}));\nconst BreadcrumbCollapsedIcon = styled(MoreHorizIcon)({\n  width: 24,\n  height: 16\n});\n\n/**\n * @ignore - internal component.\n */\nfunction BreadcrumbCollapsed(props) {\n  const {\n      slots = {},\n      slotProps = {}\n    } = props,\n    otherProps = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = props;\n  return /*#__PURE__*/_jsx(\"li\", {\n    children: /*#__PURE__*/_jsx(BreadcrumbCollapsedButton, _extends({\n      focusRipple: true\n    }, otherProps, {\n      ownerState: ownerState,\n      children: /*#__PURE__*/_jsx(BreadcrumbCollapsedIcon, _extends({\n        as: slots.CollapsedIcon,\n        ownerState: ownerState\n      }, slotProps.collapsedIcon))\n    }))\n  });\n}\nprocess.env.NODE_ENV !== \"production\" ? BreadcrumbCollapsed.propTypes = {\n  /**\n   * The props used for the CollapsedIcon slot.\n   * @default {}\n   */\n  slotProps: PropTypes.shape({\n    collapsedIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n  }),\n  /**\n   * The components used for each slot inside the BreadcumbCollapsed.\n   * Either a string to use a HTML element or a component.\n   * @default {}\n   */\n  slots: PropTypes.shape({\n    CollapsedIcon: PropTypes.elementType\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object\n} : void 0;\nexport default BreadcrumbCollapsed;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getBreadcrumbsUtilityClass(slot) {\n  return generateUtilityClass('MuiBreadcrumbs', slot);\n}\nconst breadcrumbsClasses = generateUtilityClasses('MuiBreadcrumbs', ['root', 'ol', 'li', 'separator']);\nexport default breadcrumbsClasses;","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"children\", \"className\", \"component\", \"slots\", \"slotProps\", \"expandText\", \"itemsAfterCollapse\", \"itemsBeforeCollapse\", \"maxItems\", \"separator\"];\nimport * as React from 'react';\nimport { isFragment } from 'react-is';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport integerPropType from '@mui/utils/integerPropType';\nimport composeClasses from '@mui/utils/composeClasses';\nimport useSlotProps from '@mui/utils/useSlotProps';\nimport styled from '../styles/styled';\nimport { useDefaultProps } from '../DefaultPropsProvider';\nimport Typography from '../Typography';\nimport BreadcrumbCollapsed from './BreadcrumbCollapsed';\nimport breadcrumbsClasses, { getBreadcrumbsUtilityClass } from './breadcrumbsClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    li: ['li'],\n    ol: ['ol'],\n    separator: ['separator']\n  };\n  return composeClasses(slots, getBreadcrumbsUtilityClass, classes);\n};\nconst BreadcrumbsRoot = styled(Typography, {\n  name: 'MuiBreadcrumbs',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    return [{\n      [`& .${breadcrumbsClasses.li}`]: styles.li\n    }, styles.root];\n  }\n})({});\nconst BreadcrumbsOl = styled('ol', {\n  name: 'MuiBreadcrumbs',\n  slot: 'Ol',\n  overridesResolver: (props, styles) => styles.ol\n})({\n  display: 'flex',\n  flexWrap: 'wrap',\n  alignItems: 'center',\n  padding: 0,\n  margin: 0,\n  listStyle: 'none'\n});\nconst BreadcrumbsSeparator = styled('li', {\n  name: 'MuiBreadcrumbs',\n  slot: 'Separator',\n  overridesResolver: (props, styles) => styles.separator\n})({\n  display: 'flex',\n  userSelect: 'none',\n  marginLeft: 8,\n  marginRight: 8\n});\nfunction insertSeparators(items, className, separator, ownerState) {\n  return items.reduce((acc, current, index) => {\n    if (index < items.length - 1) {\n      acc = acc.concat(current, /*#__PURE__*/_jsx(BreadcrumbsSeparator, {\n        \"aria-hidden\": true,\n        className: className,\n        ownerState: ownerState,\n        children: separator\n      }, `separator-${index}`));\n    } else {\n      acc.push(current);\n    }\n    return acc;\n  }, []);\n}\nconst Breadcrumbs = /*#__PURE__*/React.forwardRef(function Breadcrumbs(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiBreadcrumbs'\n  });\n  const {\n      children,\n      className,\n      component = 'nav',\n      slots = {},\n      slotProps = {},\n      expandText = 'Show path',\n      itemsAfterCollapse = 1,\n      itemsBeforeCollapse = 1,\n      maxItems = 8,\n      separator = '/'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const [expanded, setExpanded] = React.useState(false);\n  const ownerState = _extends({}, props, {\n    component,\n    expanded,\n    expandText,\n    itemsAfterCollapse,\n    itemsBeforeCollapse,\n    maxItems,\n    separator\n  });\n  const classes = useUtilityClasses(ownerState);\n  const collapsedIconSlotProps = useSlotProps({\n    elementType: slots.CollapsedIcon,\n    externalSlotProps: slotProps.collapsedIcon,\n    ownerState\n  });\n  const listRef = React.useRef(null);\n  const renderItemsBeforeAndAfter = allItems => {\n    const handleClickExpand = () => {\n      setExpanded(true);\n\n      // The clicked element received the focus but gets removed from the DOM.\n      // Let's keep the focus in the component after expanding.\n      // Moving it to the <ol> or <nav> does not cause any announcement in NVDA.\n      // By moving it to some link/button at least we have some announcement.\n      const focusable = listRef.current.querySelector('a[href],button,[tabindex]');\n      if (focusable) {\n        focusable.focus();\n      }\n    };\n\n    // This defends against someone passing weird input, to ensure that if all\n    // items would be shown anyway, we just show all items without the EllipsisItem\n    if (itemsBeforeCollapse + itemsAfterCollapse >= allItems.length) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error(['MUI: You have provided an invalid combination of props to the Breadcrumbs.', `itemsAfterCollapse={${itemsAfterCollapse}} + itemsBeforeCollapse={${itemsBeforeCollapse}} >= maxItems={${maxItems}}`].join('\\n'));\n      }\n      return allItems;\n    }\n    return [...allItems.slice(0, itemsBeforeCollapse), /*#__PURE__*/_jsx(BreadcrumbCollapsed, {\n      \"aria-label\": expandText,\n      slots: {\n        CollapsedIcon: slots.CollapsedIcon\n      },\n      slotProps: {\n        collapsedIcon: collapsedIconSlotProps\n      },\n      onClick: handleClickExpand\n    }, \"ellipsis\"), ...allItems.slice(allItems.length - itemsAfterCollapse, allItems.length)];\n  };\n  const allItems = React.Children.toArray(children).filter(child => {\n    if (process.env.NODE_ENV !== 'production') {\n      if (isFragment(child)) {\n        console.error([\"MUI: The Breadcrumbs component doesn't accept a Fragment as a child.\", 'Consider providing an array instead.'].join('\\n'));\n      }\n    }\n    return /*#__PURE__*/React.isValidElement(child);\n  }).map((child, index) => /*#__PURE__*/_jsx(\"li\", {\n    className: classes.li,\n    children: child\n  }, `child-${index}`));\n  return /*#__PURE__*/_jsx(BreadcrumbsRoot, _extends({\n    ref: ref,\n    component: component,\n    color: \"text.secondary\",\n    className: clsx(classes.root, className),\n    ownerState: ownerState\n  }, other, {\n    children: /*#__PURE__*/_jsx(BreadcrumbsOl, {\n      className: classes.ol,\n      ref: listRef,\n      ownerState: ownerState,\n      children: insertSeparators(expanded || maxItems && allItems.length <= maxItems ? allItems : renderItemsBeforeAndAfter(allItems), classes.separator, separator, ownerState)\n    })\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Breadcrumbs.propTypes /* remove-proptypes */ = {\n  //  Warning \n  //  These PropTypes are generated from the TypeScript type definitions. \n  //     To update them, edit the d.ts file and run `pnpm proptypes`.     \n  // \n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * Override the default label for the expand button.\n   *\n   * For localization purposes, you can use the provided [translations](/material-ui/guides/localization/).\n   * @default 'Show path'\n   */\n  expandText: PropTypes.string,\n  /**\n   * If max items is exceeded, the number of items to show after the ellipsis.\n   * @default 1\n   */\n  itemsAfterCollapse: integerPropType,\n  /**\n   * If max items is exceeded, the number of items to show before the ellipsis.\n   * @default 1\n   */\n  itemsBeforeCollapse: integerPropType,\n  /**\n   * Specifies the maximum number of breadcrumbs to display. When there are more\n   * than the maximum number, only the first `itemsBeforeCollapse` and last `itemsAfterCollapse`\n   * will be shown, with an ellipsis in between.\n   * @default 8\n   */\n  maxItems: integerPropType,\n  /**\n   * Custom separator node.\n   * @default '/'\n   */\n  separator: PropTypes.node,\n  /**\n   * The props used for each slot inside the Breadcumb.\n   * @default {}\n   */\n  slotProps: PropTypes.shape({\n    collapsedIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n  }),\n  /**\n   * The components used for each slot inside the Breadcumb.\n   * Either a string to use a HTML element or a component.\n   * @default {}\n   */\n  slots: PropTypes.shape({\n    CollapsedIcon: PropTypes.elementType\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Breadcrumbs;","var baseSum = require('./_baseSum'),\n    identity = require('./identity');\n\n/**\n * Computes the sum of the values in `array`.\n *\n * @static\n * @memberOf _\n * @since 3.4.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {number} Returns the sum.\n * @example\n *\n * _.sum([4, 2, 8, 6]);\n * // => 20\n */\nfunction sum(array) {\n  return (array && array.length)\n    ? baseSum(array, identity)\n    : 0;\n}\n\nmodule.exports = sum;\n","import { useFieldArray, useFormContext } from 'react-hook-form';\n\nimport Stack from '@mui/material/Stack';\nimport Typography from '@mui/material/Typography';\n\nimport { useLocales, useTranslate } from 'src/locales';\nimport {\n  useGetPatient,\n  useGetUSPatient,\n  useGetUnitservice,\n  useGetOneUSPatient,\n  useGetOneEntranceManagement,\n} from 'src/api';\n\nimport { RHFAutocomplete } from 'src/components/hook-form';\n\n// ----------------------------------------------------------------------\n\nexport default function InvoiceNewEditAddress() {\n  const { control, watch } = useFormContext();\n\n  const { append } = useFieldArray({\n    control,\n    name: 'items',\n  });\n\n  const handleInvoicing = (activity) => {\n    append({\n      service_type: null,\n      activity: activity || null,\n      quantity: 1,\n      price_per_unit: 0,\n      subtotal: 0,\n      discount_amount: 0,\n      deduction: 0,\n      tax: 0,\n      total: 0,\n    });\n  };\n\n  const { t } = useTranslate();\n  const { currentLang } = useLocales();\n  const curLangAr = currentLang.value === 'ar';\n\n  const values = watch();\n\n  const { unit_service, patient, entrance, unit_service_patient } = values;\n  const { data } = useGetPatient(patient);\n  const { usPatientData } = useGetOneUSPatient(unit_service_patient, {\n    populate: [\n      { path: 'country', select: 'name_english name_arabic' },\n      { path: 'city', select: 'name_english name_arabic' },\n    ],\n  });\n  const { data: USData } = useGetUnitservice(unit_service);\n  const { Entrance } = useGetOneEntranceManagement(entrance, {\n    select: 'activity_happened',\n    populate: [{ path: 'activity_happened', select: 'name_english name_arabic' }],\n  });\n  const { patientsData } = useGetUSPatient(USData?._id, { select: 'name_english name_arabic' });\n\n  return (\n    <Stack direction={{ md: 'row' }}>\n      <Stack spacing={{ xs: 2, md: 3 }} sx={{ p: 3 }} flex={1}>\n        {/* <Stack sx={{ width: 1 }}>\n          <Stack spacing={1}>\n            <Typography variant=\"h4\">\n              {curLangAr ? USData?.name_arabic : USData?.name_english}\n            </Typography>\n            <Typography variant=\"body2\">\n              {curLangAr\n                ? `${USData?.city?.name_arabic}, ${USData?.country?.name_arabic}`\n                : `${USData?.city?.name_english}, ${USData?.country?.name_english}`}\n            </Typography>\n            <Typography variant=\"body2\"> {USData?.phone}</Typography>\n          </Stack>\n        </Stack> */}\n\n        <Stack sx={{ width: 1 }}>\n          <Stack direction=\"row\" alignItems=\"center\" sx={{ mb: 1 }}>\n            <Typography variant=\"h6\" sx={{ color: 'text.disabled', flexGrow: 1 }}>\n              {t('to')}:\n            </Typography>\n          </Stack>\n          {patient && (\n            <Stack spacing={1}>\n              <Typography variant=\"subtitle2\">\n                {curLangAr ? data?.name_arabic : data?.name_english}\n              </Typography>\n              <Typography variant=\"body2\">\n                {curLangAr\n                  ? `${data?.city?.name_arabic || ''}, ${data?.country?.name_arabic || ''}`\n                  : `${data?.city?.name_english || ''}, ${data?.country?.name_english || ''}`}\n              </Typography>\n              <Typography variant=\"body2\"> {data?.phone}</Typography>\n            </Stack>\n          )}\n          {unit_service_patient && (\n            <Stack spacing={1}>\n              <Typography variant=\"subtitle2\">\n                {curLangAr ? usPatientData?.name_arabic : usPatientData?.name_english}\n              </Typography>\n              {/* <Typography variant=\"body2\">\n                {curLangAr\n                  ? `${usPatientData?.city?.name_arabic}, ${usPatientData?.country?.name_arabic}`\n                  : `${usPatientData?.city?.name_english}, ${usPatientData?.country?.name_english}`}\n              </Typography> */}\n              <Typography variant=\"body2\"> {usPatientData?.phone}</Typography>\n            </Stack>\n          )}\n          {!patient && !unit_service_patient && (\n            <Stack direction=\"row\" justifyContent=\"flex-start\">\n              <RHFAutocomplete\n                lang=\"ar\"\n                sx={{ minWidth: 200 }}\n                name=\"patient\"\n                options={patientsData.map((speciality) => speciality._id)}\n                getOptionLabel={(option) =>\n                  patientsData.find((one) => one._id === option)?.[\n                    curLangAr ? 'name_arabic' : 'name_english'\n                  ]\n                }\n                renderOption={(props, option, idx) => (\n                  <li lang=\"ar\" {...props} key={idx} value={option}>\n                    {\n                      patientsData.find((one) => one._id === option)?.[\n                        curLangAr ? 'name_arabic' : 'name_english'\n                      ]\n                    }\n                  </li>\n                )}\n              />\n              {/* <RHFSelect name='invoiceTo' sx={{ maxWidth: 200 }} >\n              {patientsData?.map((one) => (\n                <MenuItem value={one._id}>{one.name_english}</MenuItem>\n              ))}\n            </RHFSelect> */}\n            </Stack>\n          )}\n        </Stack>\n      </Stack>\n      {Entrance?.activity_happened?.length > 0 && (\n        <Stack flex={0.5} sx={{ p: { md: 5, xs: 2 } }}>\n          <Typography variant=\"body1\">{t('activities')}:</Typography>\n          <Stack gap={0.5} px={2} mt={1} maxHeight={120} overflow=\"auto\">\n            {Entrance?.activity_happened?.map((one) => (\n              <Stack direction=\"row\" gap={2}>\n                <Typography variant=\"subtitle2\">\n                  <li>{curLangAr ? one.name_arabic : one.name_english}</li>\n                </Typography>\n                <Typography\n                  variant=\"caption\"\n                  sx={{ color: 'primary.main', cursor: 'pointer' }}\n                  onClick={() => handleInvoicing(one._id)}\n                >\n                  {t('invoicing')}\n                </Typography>\n              </Stack>\n            ))}\n          </Stack>\n        </Stack>\n      )}\n    </Stack>\n  );\n}\n","import sum from 'lodash/sum';\nimport { useEffect, useCallback } from 'react';\nimport { useFieldArray, useFormContext } from 'react-hook-form';\n\nimport Box from '@mui/material/Box';\nimport Stack from '@mui/material/Stack';\nimport Button from '@mui/material/Button';\nimport Divider from '@mui/material/Divider';\nimport MenuItem from '@mui/material/MenuItem';\nimport Typography from '@mui/material/Typography';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport { inputBaseClasses } from '@mui/material/InputBase';\n\nimport { paths } from 'src/routes/paths';\n\nimport { useNewScreen } from 'src/hooks/use-new-screen';\n\nimport { useAuthContext } from 'src/auth/hooks';\nimport { useLocales, useTranslate } from 'src/locales';\nimport {\n  useGetTaxes,\n  // useGetDeductions,\n  useGetUSActivities,\n  useGetUSActiveServiceTypes,\n} from 'src/api';\n\nimport Iconify from 'src/components/iconify';\nimport { RHFSelect, RHFTextField } from 'src/components/hook-form';\n\n// ----------------------------------------------------------------------\n\nexport default function InvoiceNewEditDetails() {\n  const { t } = useTranslate();\n  const { currentLang } = useLocales();\n  const curLangAr = currentLang.value === 'ar';\n\n  const { handleAddNew } = useNewScreen();\n  const { user } = useAuthContext();\n\n  const myUS =\n    user?.employee?.employee_engagements?.[user.employee.selected_engagement]?.unit_service;\n\n  const { serviceTypesData } = useGetUSActiveServiceTypes(myUS?._id, {\n    select: '_id name_english name_arabic Price_per_unit',\n  });\n  const { activitiesData } = useGetUSActivities(myUS?._id);\n\n  const { taxesData } = useGetTaxes();\n  // const { deductionsData } = useGetDeductions();\n\n  const { control, setValue, watch } = useFormContext();\n\n  const { fields, append, remove, update } = useFieldArray({\n    control,\n    name: 'items',\n  });\n\n  const handleAdd = () => {\n    append({\n      service_type: null,\n      activity: null,\n      quantity: 1,\n      price_per_unit: 0,\n      subtotal: 0,\n      discount_amount: 0,\n      // deduction: 0,\n      tax: 0,\n      total: 0,\n    });\n  };\n\n  const handleRemove = (index) => {\n    remove(index);\n  };\n\n  const values = watch();\n\n  // when add item from address component - from activities -\n  useEffect(() => {\n    update();\n  }, [values.items.length, update]);\n\n  const subtotalOnRow = values.items.map((item) => item.subtotal);\n  const subTotal = sum(subtotalOnRow);\n\n  useEffect(() => {\n    setValue('subtotal', subTotal);\n  }, [setValue, subTotal]);\n\n  const amountAfterDiscount = values.subtotal - values.discount;\n  const taxData = taxesData.find((one) => one._id === values.taxes_type);\n  // const deductionData = deductionsData.find((one) => one._id === values.deduction_type);\n  const taxes = amountAfterDiscount * (taxData ? (taxData.percentage || 0) / 100 : 0);\n  // const deduction =\n  //   amountAfterDiscount * (deductionData ? (deductionData.percentage || 0) / 100 : 0);\n  // const Amount = amountAfterDiscount + taxes + deduction;\n  const Amount = amountAfterDiscount + taxes;\n\n  useEffect(() => {\n    setValue('taxes', taxes);\n  }, [setValue, taxes]);\n  // useEffect(() => {\n  //   setValue('deduction', deduction);\n  // }, [setValue, deduction]);\n  useEffect(() => {\n    setValue('totalAmount', Amount);\n  }, [setValue, Amount]);\n\n  const handleChangeItemDetails = useCallback(\n    (event, index) => {\n      if (event.target.name === `items[${index}].service_type`) {\n        setValue(event.target.name, event.target.value);\n        const selected = serviceTypesData?.find((service) => service._id === event.target.value);\n        setValue(`items[${index}].price_per_unit`, selected?.Price_per_unit);\n      } else {\n        setValue(event.target.name, Number(event.target.value));\n      }\n      setValue(\n        `items[${index}].subtotal`,\n        values.items[index].quantity * values.items[index].price_per_unit\n      );\n      setValue(\n        `items[${index}].total`,\n        values.items[index].quantity * values.items[index].price_per_unit\n      );\n    },\n    [setValue, values.items, serviceTypesData]\n  );\n\n  const renderTotal = (\n    <>\n      <Divider />\n      <Stack\n        my={1}\n        gap={{ md: 2, xs: 1 }}\n        direction={{ md: 'row' }}\n        alignItems={{ md: 'center', xs: 'flex-end' }}\n        sx={{ textAlign: 'right', typography: 'body2' }}\n      >\n        <Stack direction=\"row\" alignItems=\"center\" gap={1}>\n          <Box sx={{ color: 'text.secondary' }}>{t('subtotal')}:</Box>\n          <Box sx={{ typography: 'subtitle2' }}>\n            <RHFTextField\n              disabled\n              type=\"number\"\n              name=\"subtotal\"\n              size=\"small\"\n              sx={{\n                width: 160,\n                [`& .${inputBaseClasses.input}`]: {\n                  textAlign: { md: 'right' },\n                },\n              }}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Box>\n        </Stack>\n\n        <Stack direction=\"row\" alignItems=\"center\" gap={1}>\n          <Box sx={{ color: 'text.secondary' }}>{t('discount')}:</Box>\n          <Box\n            sx={{\n              ...(values.discount && { color: 'error.main' }),\n            }}\n          >\n            <RHFTextField\n              type=\"number\"\n              name=\"discount\"\n              size=\"small\"\n              sx={{\n                width: 160,\n                [`& .${inputBaseClasses.input}`]: {\n                  textAlign: { md: 'right' },\n                },\n              }}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Box>\n        </Stack>\n\n        {myUS?.has_tax && (\n          <Stack direction=\"row\" alignItems=\"center\" gap={1}>\n            <Box sx={{ color: 'text.secondary' }}>{t('tax')}:</Box>\n            <Box>\n              <RHFSelect\n                name=\"taxes_type\"\n                size=\"small\"\n                sx={{\n                  width: 160,\n                  [`& .${inputBaseClasses.input}`]: {\n                    textAlign: { md: 'left' },\n                  },\n                }}\n                // onChange={handleChangeOverall}\n              >\n                {taxesData.map((one, idx) => (\n                  <MenuItem lang=\"ar\" key={idx} value={one._id}>\n                    {curLangAr ? one.name_arabic : one.name_english} {one.percentage}%\n                  </MenuItem>\n                ))}\n              </RHFSelect>\n            </Box>\n          </Stack>\n        )}\n\n        {/* <Stack direction=\"row\">\n        <Box sx={{ color: 'text.secondary' }}>{t('deduction')}</Box>\n        <Box sx={{ width: 180 }}>\n          <RHFSelect\n            name=\"deduction_type\"\n            size=\"small\"\n            sx={{\n              width: 160,\n              [`& .${inputBaseClasses.input}`]: {\n                textAlign: { md: 'left' },\n              },\n            }}\n          // onChange={handleChangeOverall}\n          >\n            {deductionsData.map((one, idx) => (\n              <MenuItem lang=\"ar\" key={idx} value={one._id}>\n                {curLangAr ? one.name_arabic : one.name_english} {one.percentage}%\n              </MenuItem>\n            ))}\n          </RHFSelect>\n        </Box>\n      </Stack> */}\n\n        <Stack direction=\"row\" sx={{ typography: 'subtitle1' }} alignItems=\"center\" gap={1}>\n          <Box>{t('total')}:</Box>\n          <Box>\n            <RHFTextField\n              disabled\n              type=\"number\"\n              name=\"totalAmount\"\n              size=\"small\"\n              sx={{\n                width: 160,\n                [`& .${inputBaseClasses.input}`]: {\n                  textAlign: { md: 'right' },\n                },\n              }}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Box>\n        </Stack>\n      </Stack>\n      <Divider />\n    </>\n  );\n\n  return (\n    <>\n      <Divider />\n      <Box sx={{ p: 3 }}>\n        <Typography variant=\"h6\" sx={{ color: 'text.disabled', mb: 3 }}>\n          {t('details')}:\n        </Typography>\n\n        <Stack divider={<Divider flexItem sx={{ borderStyle: 'dashed' }} />} spacing={2}>\n          {fields.map((item, index) => (\n            <Stack key={item.id} alignItems=\"flex-start\" spacing={1.5}>\n              <Stack\n                direction={{ xs: 'column', md: 'row' }}\n                justifyContent=\"flex-start\"\n                spacing={2}\n                sx={{ width: 1 }}\n              >\n                <RHFSelect\n                  name={`items[${index}].service_type`}\n                  size=\"small\"\n                  label={t('service')}\n                  sx={{ maxWidth: { md: 400 } }}\n                  InputLabelProps={{ shrink: true }}\n                  onChange={(event) => handleChangeItemDetails(event, index)}\n                >\n                  {serviceTypesData?.map((service) => (\n                    <MenuItem lang=\"ar\" key={service._id} value={service._id}>\n                      {curLangAr ? service.name_arabic : service.name_english}\n                    </MenuItem>\n                  ))}\n                  <Divider />\n                  <MenuItem\n                    lang=\"ar\"\n                    sx={{\n                      display: 'flex',\n                      justifyContent: 'flex-end',\n                      gap: 1,\n                      fontWeight: 600,\n                      // color: 'error.main',\n                    }}\n                    onClick={() => handleAddNew(paths.unitservice.tables.services.new)}\n                  >\n                    <Typography variant=\"body2\" sx={{ color: 'info.main' }}>\n                      {t('Add new')}\n                    </Typography>\n                    <Iconify icon=\"material-symbols:new-window-sharp\" />\n                  </MenuItem>\n                </RHFSelect>\n                <RHFSelect\n                  name={`items[${index}].activity`}\n                  size=\"small\"\n                  label={t('activity')}\n                  sx={{ maxWidth: { md: 200 } }}\n                  InputLabelProps={{ shrink: true }}\n                >\n                  {activitiesData?.map((one) => (\n                    <MenuItem lang=\"ar\" key={one._id} value={one._id}>\n                      {curLangAr ? one.name_arabic : one.name_english}\n                    </MenuItem>\n                  ))}\n                  <Divider />\n                  <MenuItem\n                    lang=\"ar\"\n                    sx={{\n                      display: 'flex',\n                      justifyContent: 'flex-end',\n                      gap: 1,\n                      fontWeight: 600,\n                      // color: 'error.main',\n                    }}\n                    onClick={() => handleAddNew(paths.unitservice.tables.activities.new)}\n                  >\n                    <Typography variant=\"body2\" sx={{ color: 'info.main' }}>\n                      {t('Add new')}\n                    </Typography>\n                    <Iconify icon=\"material-symbols:new-window-sharp\" />\n                  </MenuItem>\n                </RHFSelect>\n\n                <RHFTextField\n                  size=\"small\"\n                  type=\"number\"\n                  name={`items[${index}].quantity`}\n                  label={t('quantity')}\n                  placeholder=\"0\"\n                  onChange={(event) => handleChangeItemDetails(event, index)}\n                  InputLabelProps={{ shrink: true }}\n                  sx={{\n                    maxWidth: { md: 200 },\n                    [`& .${inputBaseClasses.input}`]: {\n                      textAlign: { md: 'right' },\n                    },\n                  }}\n                />\n\n                <RHFTextField\n                  disabled\n                  size=\"small\"\n                  type=\"number\"\n                  name={`items[${index}].price_per_unit`}\n                  label={t('price')}\n                  placeholder=\"0.00\"\n                  // onChange={(event) => handleChangeItemDetails(event, index)}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                      </InputAdornment>\n                    ),\n                  }}\n                  sx={{\n                    maxWidth: { md: 200 },\n                    [`& .${inputBaseClasses.input}`]: {\n                      textAlign: { md: 'right' },\n                    },\n                  }}\n                />\n                <RHFTextField\n                  disabled\n                  size=\"small\"\n                  type=\"number\"\n                  name={`items[${index}].total`}\n                  label={t('total')}\n                  placeholder=\"0.00\"\n                  value={\n                    values.items[index]?.total === 0 ? '' : values.items[index]?.total?.toFixed(2)\n                  }\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                      </InputAdornment>\n                    ),\n                  }}\n                  sx={{\n                    maxWidth: { md: 200 },\n                    [`& .${inputBaseClasses.input}`]: {\n                      textAlign: { md: 'right' },\n                    },\n                  }}\n                />\n                <Button\n                  size=\"small\"\n                  color=\"error\"\n                  tabIndex={-1}\n                  onClick={() => handleRemove(index)}\n                >\n                  <Iconify icon=\"solar:trash-bin-trash-bold\" />\n                </Button>\n              </Stack>\n            </Stack>\n          ))}\n        </Stack>\n\n        <Divider sx={{ mt: 2, mb: 1, borderStyle: 'dashed' }} />\n\n        <Stack\n          spacing={3}\n          mb={2}\n          direction={{ xs: 'column', md: 'row' }}\n          justifyContent=\"flex-end\"\n          alignItems={{ xs: 'flex-end', md: 'center' }}\n        >\n          <Button\n            size=\"small\"\n            color=\"primary\"\n            startIcon={<Iconify icon=\"mingcute:add-line\" />}\n            onClick={handleAdd}\n            sx={{ flexShrink: 0 }}\n          >\n            {t('add item')}\n          </Button>\n        </Stack>\n        {renderTotal}\n      </Box>\n    </>\n  );\n}\n","import PropTypes from 'prop-types';\nimport { useFormContext } from 'react-hook-form';\n\nimport {\n  Box,\n  Stack,\n  Button,\n  Dialog,\n  Typography,\n  DialogTitle,\n  DialogActions,\n  DialogContent,\n  InputAdornment,\n} from '@mui/material';\n\nimport { useAuthContext } from 'src/auth/hooks';\nimport { useLocales, useTranslate } from 'src/locales';\n\nimport { RHFTextField, RHFRadioGroup, RHFAutocomplete } from 'src/components/hook-form';\n\n// ----------------------------------------------------------------------\n\nexport default function InvoiceNewEditInsurance({ open, onClose, onSubmit }) {\n  const { watch, setValue } = useFormContext();\n\n  const { user } = useAuthContext();\n\n  const { t } = useTranslate();\n  const { currentLang } = useLocales();\n  const curLangAr = currentLang.value === 'ar';\n\n  const USData =\n    user?.employee?.employee_engagements?.[user?.employee.selected_engagement]?.unit_service;\n\n  const values = watch();\n  const changeHandler = (e) => {\n    setValue(e.target.name, e.target.value);\n    if (e.target.name === 'patient_paid') {\n      setValue('insurance_coverage_amount', values.totalAmount - e.target.value);\n    } else {\n      setValue('patient_paid', values.totalAmount - e.target.value);\n    }\n  };\n\n  return (\n    <Dialog fullWidth open={open} onClose={onClose}>\n      <DialogTitle sx={{ pb: 2, textTransform: 'capitalize' }}>{t('payment info')}</DialogTitle>\n      <DialogContent>\n        <Stack gap={2}>\n          <Stack gap={1}>\n            <Typography variant=\"subtitle2\">{t('amount paid by patient')}</Typography>\n            <RHFTextField\n              type=\"number\"\n              name=\"patient_paid\"\n              onChange={changeHandler}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Stack>\n          {values.patient_paid > 0 && (\n            <RHFRadioGroup\n              row\n              name=\"payment_method\"\n              label={t('payment method')}\n              options={[\n                { label: t('cash'), value: 'cash' },\n                { label: t('credit card'), value: 'credit_card' },\n                { label: t('bank transfer'), value: 'bank_transfer' },\n                { label: t('instant bank transfer'), value: 'instant_transfer' },\n              ]}\n            />\n          )}\n          <Stack gap={1}>\n            <Typography variant=\"subtitle2\">{t('amount covered by insurance')}</Typography>\n            <RHFTextField\n              type=\"number\"\n              name=\"insurance_coverage_amount\"\n              onChange={changeHandler}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Stack>\n          <Stack gap={1}>\n            <Typography variant=\"subtitle2\">{t('insurance number')}</Typography>\n            <RHFTextField name=\"insurance_number\" />\n          </Stack>\n          <Stack gap={1}>\n            <Typography variant=\"subtitle2\">{t('insurance company')}</Typography>\n            <RHFAutocomplete\n              lang=\"ar\"\n              sx={{ minWidth: 200 }}\n              name=\"insurance_company\"\n              // label=\"insurance company\"\n              options={USData?.insurance?.map((one) => one._id)}\n              getOptionLabel={(option) =>\n                USData?.insurance?.find((one) => one._id === option)?.[\n                  curLangAr ? 'name_arabic' : 'name_english'\n                ]\n              }\n              renderOption={(props, option, idx) => (\n                <li lang=\"ar\" {...props} key={idx} value={option}>\n                  {\n                    USData?.insurance?.find((one) => one._id === option)?.[\n                      curLangAr ? 'name_arabic' : 'name_english'\n                    ]\n                  }\n                </li>\n              )}\n            />\n          </Stack>\n          {/* <Stack direction={{ md: 'row' }} alignItems='flex-end' gap={2} minWidth={300}> */}\n          {/* <RHFRadioGroup\n              row\n              name=\"insurance_coverage\"\n              label={t('insurance coverage')}\n              options={[\n                { label: 'amount', value: 'amount' },\n                { label: 'percentage', value: 'percentage' },\n                ]}\n                /> */}\n          {/* {values.insurance_coverage === 'amount' &&  */}\n\n          {/* } */}\n          {/* {values.insurance_coverage === 'percentage' && <RHFTextField type='number' size='small' name='insurance_coverage_percent' sx={{ maxWidth: 200 }} InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>%</Box>\n                </InputAdornment>\n              ),\n            }} />} */}\n          {/* </Stack> */}\n        </Stack>\n      </DialogContent>\n\n      <DialogActions>\n        <Button variant=\"outlined\" color=\"inherit\" onClick={onClose}>\n          {t('cancel')}\n        </Button>\n\n        <Button\n          variant=\"contained\"\n          onClick={() => {\n            onSubmit();\n            onClose();\n          }}\n        >\n          {t('submit')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\nInvoiceNewEditInsurance.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func,\n  onSubmit: PropTypes.func,\n};\n","import { Controller, useFormContext } from 'react-hook-form';\n\nimport Stack from '@mui/material/Stack';\nimport MenuItem from '@mui/material/MenuItem';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\n\nimport { useTranslate } from 'src/locales';\n\nimport { RHFSelect } from 'src/components/hook-form';\n\n// ----------------------------------------------------------------------\n\nexport default function InvoiceNewEditStatusDate() {\n  const { control } = useFormContext();\n\n  const { t } = useTranslate();\n\n  return (\n    <Stack\n      spacing={2}\n      direction={{ xs: 'column', sm: 'row' }}\n      sx={{ p: 3, bgcolor: 'background.neutral' }}\n    >\n      {/* <RHFTextField\n        disabled\n        name=\"invoiceNumber\"\n        label=\"Invoice number\"\n        value={values.invoiceNumber}\n      /> */}\n\n      <RHFSelect\n        fullWidth\n        name=\"status\"\n        label={t('status')}\n        InputLabelProps={{ shrink: true }}\n        PaperPropsSx={{ textTransform: 'capitalize' }}\n      >\n        {['paid', 'installment', 'insurance'].map((option) => (\n          <MenuItem key={option} value={option}>\n            {t(option)}\n          </MenuItem>\n        ))}\n      </RHFSelect>\n\n      <Controller\n        name=\"createDate\"\n        control={control}\n        render={({ field, fieldState: { error } }) => (\n          <DatePicker\n            label={t('invoice date')}\n            value={field.value}\n            onChange={(newValue) => {\n              field.onChange(newValue);\n            }}\n            slotProps={{\n              textField: {\n                fullWidth: true,\n                error: !!error,\n                helperText: error?.message,\n              },\n            }}\n          />\n        )}\n      />\n\n      {/* <Controller\n        name=\"dueDate\"\n        control={control}\n        render={({ field, fieldState: { error } }) => (\n          <DatePicker\n            label={t('due date')}\n            value={field.value}\n            onChange={(newValue) => {\n              field.onChange(newValue);\n            }}\n            slotProps={{\n              textField: {\n                fullWidth: true,\n                error: !!error,\n                helperText: error?.message,\n              },\n            }}\n          />\n        )}\n      /> */}\n    </Stack>\n  );\n}\n","import { useFieldArray, useFormContext } from 'react-hook-form';\nimport { useMemo, useState, useEffect, useCallback } from 'react';\n\nimport Box from '@mui/material/Box';\nimport Stack from '@mui/material/Stack';\nimport Button from '@mui/material/Button';\nimport Divider from '@mui/material/Divider';\nimport MenuItem from '@mui/material/MenuItem';\nimport Typography from '@mui/material/Typography';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport { inputBaseClasses } from '@mui/material/InputBase';\n\nimport { fCurrency } from 'src/utils/format-number';\n\n// import { INVOICE_SERVICE_OPTIONS } from 'src/_mock';\n\nimport { paths } from 'src/routes/paths';\n\nimport { useNewScreen } from 'src/hooks/use-new-screen';\n\nimport { useAuthContext } from 'src/auth/hooks';\nimport { useLocales, useTranslate } from 'src/locales';\nimport { useGetUSActivities, useGetUSActiveServiceTypes } from 'src/api';\n\nimport Iconify from 'src/components/iconify';\nimport { RHFSelect, RHFTextField } from 'src/components/hook-form';\n\n// ----------------------------------------------------------------------\n\nexport default function InvoiceNewEditDetails() {\n  const { t } = useTranslate();\n  const { currentLang } = useLocales();\n  const curLangAr = currentLang.value === 'ar';\n\n  const { handleAddNew } = useNewScreen();\n  const { user } = useAuthContext();\n\n  const { serviceTypesData } = useGetUSActiveServiceTypes(\n    user?.employee?.employee_engagements?.[user.employee.selected_engagement]?.unit_service?._id,\n    {\n      select: 'name_english name_arabic Price_per_unit tax deduction',\n      populate: [\n        { path: 'tax', select: 'percentage name_english name_arabic' },\n        // { path: 'deduction', select: 'percentage name_english name_arabic' },\n      ],\n    }\n  );\n  const { activitiesData } = useGetUSActivities(\n    user?.employee?.employee_engagements?.[user.employee.selected_engagement]?.unit_service?._id\n  );\n\n  const { control, setValue, watch } = useFormContext();\n\n  const { fields, append, remove, update } = useFieldArray({\n    control,\n    name: 'items',\n  });\n\n  const values = watch();\n\n  const [taxSums, setTaxSums] = useState({});\n  // const [deductionSums, setDeductionSums] = useState({});\n\n  useEffect(() => {\n    const newTaxSums = {};\n    // const newDeductionSums = {};\n\n    serviceTypesData.forEach((service) => {\n      const matchingItems = values.items.filter((item) => item.service_type === service._id);\n      if (matchingItems.length) {\n        matchingItems.forEach((item) => {\n          const taxId = service.tax._id;\n          const taxAmount =\n            (service.tax.percentage / 100) *\n            (item.price_per_unit * item.quantity - item.discount_amount);\n\n          if (!newTaxSums[taxId]) {\n            newTaxSums[taxId] = {\n              name: curLangAr ? service.tax.name_arabic : service.tax.name_english,\n              value: 0,\n            };\n          }\n\n          newTaxSums[taxId].value += taxAmount;\n\n          // if (service.deduction) {\n          //   const deductionId = service.deduction._id;\n          //   const deductionAmount =\n          //     (service.deduction.percentage / 100) *\n          //     ((item.price_per_unit * item.quantity) - item.discount_amount)\n\n          //   if (!newDeductionSums[deductionId]) {\n          //     newDeductionSums[deductionId] = {\n          //       name: curLangAr ? service.deduction.name_arabic : service.deduction.name_english,\n          //       value: 0,\n          //     };\n          //   }\n\n          //   newDeductionSums[deductionId].value += deductionAmount;\n          // }\n        });\n      }\n    });\n\n    setTaxSums(newTaxSums);\n    // setDeductionSums(newDeductionSums);\n  }, [values, serviceTypesData, curLangAr]);\n\n  const summedTaxes = useMemo(\n    () =>\n      Object.keys(taxSums).map((taxId) => ({\n        name: taxSums[taxId].name,\n        value: taxSums[taxId].value,\n      })),\n    [taxSums]\n  );\n\n  // const summedDeductions = useMemo(\n  //   () =>\n  //     Object.keys(deductionSums).map((deductionId) => ({\n  //       name: deductionSums[deductionId].name,\n  //       value: deductionSums[deductionId].value,\n  //     })),\n  //   [deductionSums]\n  // );\n\n  // useEffect(() => { setValue('taxSums', taxSums) }, [taxSums, setValue])\n  // useEffect(() => { setValue('deductionSums', deductionSums) }, [deductionSums, setValue])\n\n  // when add item from address component - from activities -\n  useEffect(() => {\n    update();\n  }, [values.items.length, update]);\n\n  const subTotal = values.items?.reduce((acc, one) => acc + one.subtotal, 0);\n  const discountTotal = values.items?.reduce((acc, one) => acc + one.discount_amount, 0);\n  const taxesTotal = values.items?.reduce(\n    (acc, one) => acc + (one.tax / 100) * (one.subtotal - one.discount_amount),\n    0\n  );\n  // const deductiontotal = values.items?.reduce(\n  //   (acc, one) => acc + (one.deduction / 100) * (one.subtotal - one.discount_amount),\n  //   0\n  // );\n  const totalAmount = values.items?.reduce((acc, one) => acc + one.total, 0);\n\n  useEffect(() => {\n    setValue('subtotal', subTotal);\n  }, [subTotal, setValue]);\n  useEffect(() => {\n    setValue('discount', discountTotal);\n  }, [discountTotal, setValue]);\n  useEffect(() => {\n    setValue('taxes', taxesTotal);\n  }, [taxesTotal, setValue]);\n  // useEffect(() => {\n  //   setValue('deduction', deductiontotal);\n  // }, [deductiontotal, setValue]);\n  useEffect(() => {\n    setValue('totalAmount', totalAmount);\n  }, [totalAmount, setValue]);\n\n  const handleAdd = () => {\n    append({\n      service_type: null,\n      activity: null,\n      quantity: 1,\n      price_per_unit: 0,\n      subtotal: 0,\n      discount_amount: 0,\n      // deduction: 0,\n      tax: 0,\n      total: 0,\n    });\n  };\n\n  const handleRemove = (index) => {\n    remove(index);\n  };\n\n  const handleSelectService = useCallback(\n    (index, option) => {\n      const selected = serviceTypesData?.find((service) => service._id === option);\n      setValue(`items[${index}].price_per_unit`, selected?.Price_per_unit);\n      setValue(\n        `items[${index}].subtotal`,\n        values.items[index].quantity * values.items[index].price_per_unit\n      );\n      setValue(`items[${index}].tax`, selected?.tax?.percentage || 0);\n      // setValue(`items[${index}].deduction`, selected?.deduction?.percentage || 0);\n      const amountAfterDiscount =\n        values.items[index].subtotal - values.items[index].discount_amount;\n      const tax = amountAfterDiscount * (values.items[index].tax / 100);\n      // const deduction = amountAfterDiscount * (values.items[index].deduction / 100);\n      // const total = amountAfterDiscount + tax + deduction;\n      const total = amountAfterDiscount + tax;\n      setValue(`items[${index}].total`, total);\n    },\n    [setValue, values.items, serviceTypesData]\n  );\n\n  const handleChange = useCallback(\n    (event, index) => {\n      setValue(event.target.name, Number(event.target.value));\n      setValue(\n        `items[${index}].subtotal`,\n        values.items[index].quantity * values.items[index].price_per_unit\n      );\n      const amountAfterDiscount =\n        values.items[index].subtotal - values.items[index].discount_amount;\n      const tax = amountAfterDiscount * (values.items[index].tax / 100);\n      // const deduction = amountAfterDiscount * (values.items[index].deduction / 100);\n      // const total = amountAfterDiscount + tax + deduction;\n      const total = amountAfterDiscount + tax;\n      setValue(`items[${index}].total`, total);\n    },\n    [setValue, values.items]\n  );\n\n  const renderTotal = (\n    <Stack\n      spacing={2}\n      alignItems=\"flex-end\"\n      sx={{ mt: 3, textAlign: 'right', typography: 'body2' }}\n    >\n      {[\n        { name: 'subtotal', value: values.subtotal },\n        { name: 'discount', value: -values.discount, color: 'red' },\n        ...summedTaxes,\n        // ...summedDeductions,\n        // { name: 'taxes', value: values.taxes },\n        // { name: 'deduction', value: values.deduction },\n        {\n          name: 'total',\n          value: values.totalAmount,\n          textColor: 'text.primary',\n          typography: 'subtitle1',\n        },\n      ].map((one) => (\n        <Stack direction=\"row\">\n          <Box sx={{ color: one.textColor || 'text.secondary', typography: one.typography }}>\n            {t(one.name)}\n          </Box>\n          <Box sx={{ width: 160, typography: 'subtitle2', color: one.color }}>\n            {one.value ? fCurrency(one.value) : '-'}\n          </Box>\n        </Stack>\n      ))}\n    </Stack>\n  );\n\n  return (\n    <Box sx={{ p: 3 }}>\n      <Typography variant=\"h6\" sx={{ color: 'text.disabled', mb: 3 }}>\n        {t('details')}:\n      </Typography>\n\n      <Stack divider={<Divider flexItem sx={{ borderStyle: 'dashed' }} />} spacing={2}>\n        {fields.map((item, index) => (\n          <Stack key={item.id} alignItems=\"flex-start\" spacing={1.5}>\n            <Stack\n              direction={{ xs: 'column', md: 'row' }}\n              justifyContent=\"flex-end\"\n              spacing={2}\n              sx={{ width: 1 }}\n            >\n              {/* <RHFAutocomplete\n                placeholder=\"type\"\n                name={`items[${index}].service`}\n                label=\"Service\"\n                sx={{ width: { md: 300 } }}\n                size=\"small\"\n                InputLabelProps={{ shrink: true }}\n                options={serviceTypesData.map((speciality) => speciality._id)}\n                getOptionLabel={(option) =>\n                  serviceTypesData?.find((one) => one._id === option)?.[\n                  curLangAr ? 'name_arabic' : 'name_english'\n                  ]\n                }\n                renderOption={(props, option, idx) => (\n                  <li lang='ar' {...props} key={idx} value={option}>\n                    {\n                      serviceTypesData.find((one) => one._id === option)?.[\n                      curLangAr ? 'name_arabic' : 'name_english'\n                      ]\n                    }\n                  </li>\n                )}\n              /> */}\n              <RHFSelect\n                name={`items[${index}].service_type`}\n                size=\"small\"\n                label={t('service')}\n                sx={{ maxWidth: { md: 400 } }}\n                InputLabelProps={{ shrink: true }}\n              >\n                {serviceTypesData?.map((service) => (\n                  <MenuItem\n                    lang=\"ar\"\n                    key={service._id}\n                    value={service._id}\n                    onClick={() => handleSelectService(index, service._id)}\n                  >\n                    {curLangAr ? service.name_arabic : service.name_english}\n                  </MenuItem>\n                ))}\n                <Divider />\n                <MenuItem\n                  lang=\"ar\"\n                  sx={{\n                    display: 'flex',\n                    justifyContent: 'flex-end',\n                    gap: 1,\n                    fontWeight: 600,\n                    // color: 'error.main',\n                  }}\n                  onClick={() => handleAddNew(paths.unitservice.tables.services.new)}\n                >\n                  <Typography variant=\"body2\" sx={{ color: 'info.main' }}>\n                    {t('Add new')}\n                  </Typography>\n                  <Iconify icon=\"material-symbols:new-window-sharp\" />\n                </MenuItem>\n              </RHFSelect>\n              <RHFSelect\n                name={`items[${index}].activity`}\n                size=\"small\"\n                label={t('activity')}\n                sx={{ maxWidth: { md: 200 } }}\n                InputLabelProps={{ shrink: true }}\n              >\n                {activitiesData?.map((one) => (\n                  <MenuItem lang=\"ar\" key={one._id} value={one._id}>\n                    {curLangAr ? one.name_arabic : one.name_english}\n                  </MenuItem>\n                ))}\n                <Divider />\n                <MenuItem\n                  lang=\"ar\"\n                  sx={{\n                    display: 'flex',\n                    justifyContent: 'flex-end',\n                    gap: 1,\n                    fontWeight: 600,\n                    // color: 'error.main',\n                  }}\n                  onClick={() => handleAddNew(paths.unitservice.tables.activities.new)}\n                >\n                  <Typography variant=\"body2\" sx={{ color: 'info.main' }}>\n                    {t('Add new')}\n                  </Typography>\n                  <Iconify icon=\"material-symbols:new-window-sharp\" />\n                </MenuItem>\n              </RHFSelect>\n              <RHFTextField\n                size=\"small\"\n                type=\"number\"\n                name={`items[${index}].quantity`}\n                label={t('quantity')}\n                placeholder=\"0\"\n                onChange={(event) => handleChange(event, index)}\n                InputLabelProps={{ shrink: true }}\n                sx={{\n                  maxWidth: { md: 200 },\n                  [`& .${inputBaseClasses.input}`]: {\n                    textAlign: { md: 'right' },\n                  },\n                }}\n              />\n\n              <RHFTextField\n                disabled\n                size=\"small\"\n                type=\"number\"\n                name={`items[${index}].price_per_unit`}\n                label={t('price')}\n                placeholder=\"0.00\"\n                // onChange={(event) => handleChange(event, index)}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                    </InputAdornment>\n                  ),\n                }}\n                sx={{\n                  maxWidth: { md: 200 },\n                  [`& .${inputBaseClasses.input}`]: {\n                    textAlign: { md: 'right' },\n                  },\n                }}\n              />\n              <RHFTextField\n                disabled\n                size=\"small\"\n                type=\"number\"\n                name={`items[${index}].subtotal`}\n                label={t('subtotal')}\n                placeholder=\"0.00\"\n                value={\n                  values.items[index].subtotal === 0 ? '' : values.items[index].subtotal.toFixed(2)\n                }\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                    </InputAdornment>\n                  ),\n                }}\n                sx={{\n                  maxWidth: { md: 200 },\n                  [`& .${inputBaseClasses.input}`]: {\n                    textAlign: { md: 'right' },\n                  },\n                }}\n              />\n              <Box width={65} />\n            </Stack>\n            <Stack\n              direction={{ xs: 'column', md: 'row' }}\n              justifyContent=\"flex-end\"\n              spacing={2}\n              sx={{ width: 1 }}\n            >\n              <RHFTextField\n                size=\"small\"\n                type=\"number\"\n                name={`items[${index}].discount_amount`}\n                label={t('discount')}\n                onChange={(event) => handleChange(event, index)}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                    </InputAdornment>\n                  ),\n                }}\n                sx={{\n                  maxWidth: { md: 200 },\n                  [`& .${inputBaseClasses.input}`]: {\n                    textAlign: { md: 'right' },\n                  },\n                }}\n              />\n              <RHFTextField\n                disabled\n                size=\"small\"\n                type=\"number\"\n                name={`items[${index}].tax`}\n                label={t('tax')}\n                placeholder=\"00\"\n                onChange={(event) => handleChange(event, index)}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>%</Box>\n                    </InputAdornment>\n                  ),\n                }}\n                sx={{\n                  maxWidth: { md: 200 },\n                  [`& .${inputBaseClasses.input}`]: {\n                    textAlign: { md: 'right' },\n                  },\n                }}\n              />\n              {/* <RHFTextField\n                disabled\n                size=\"small\"\n                type=\"number\"\n                name={`items[${index}].deduction`}\n                label={t('deduction')}\n                placeholder=\"00\"\n                onChange={(event) => handleChange(event, index)}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>%</Box>\n                    </InputAdornment>\n                  ),\n                }}\n                sx={{\n                  maxWidth: { md: 200 },\n                  [`& .${inputBaseClasses.input}`]: {\n                    textAlign: { md: 'right' },\n                  },\n                }}\n              /> */}\n              <RHFTextField\n                disabled\n                size=\"small\"\n                type=\"number\"\n                name={`items[${index}].total`}\n                label={t('total')}\n                placeholder=\"0.00\"\n                value={values.items[index].total === 0 ? '' : values.items[index].total.toFixed(2)}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                    </InputAdornment>\n                  ),\n                }}\n                sx={{\n                  maxWidth: { md: 200 },\n                  [`& .${inputBaseClasses.input}`]: {\n                    textAlign: { md: 'right' },\n                  },\n                }}\n              />\n              <Button size=\"small\" color=\"error\" onClick={() => handleRemove(index)}>\n                <Iconify icon=\"solar:trash-bin-trash-bold\" />\n              </Button>\n            </Stack>\n          </Stack>\n        ))}\n      </Stack>\n\n      <Divider sx={{ my: 3, borderStyle: 'dashed' }} />\n\n      <Stack\n        spacing={3}\n        direction={{ xs: 'column', md: 'row' }}\n        alignItems={{ xs: 'flex-end', md: 'center' }}\n      >\n        <Button\n          size=\"small\"\n          color=\"primary\"\n          startIcon={<Iconify icon=\"mingcute:add-line\" />}\n          onClick={handleAdd}\n          sx={{ flexShrink: 0 }}\n        >\n          {t('add item')}\n        </Button>\n      </Stack>\n\n      {renderTotal}\n    </Box>\n  );\n}\n","import { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useFieldArray, useFormContext } from 'react-hook-form';\n\nimport {\n  Box,\n  Stack,\n  Button,\n  Dialog,\n  Divider,\n  MenuItem,\n  TextField,\n  DialogTitle,\n  DialogActions,\n  DialogContent,\n  InputAdornment,\n} from '@mui/material';\n\nimport { useTranslate } from 'src/locales';\n\nimport Iconify from 'src/components/iconify';\nimport { RHFSelect, RHFTextField, RHFDatePicker } from 'src/components/hook-form';\n\n// ----------------------------------------------------------------------\n\nexport default function InvoiceNewEditInsurance({ open, onClose, onSubmit }) {\n  const { control, watch, setValue } = useFormContext();\n\n  const { t } = useTranslate();\n\n  const values = watch();\n\n  const { fields, append, remove } = useFieldArray({\n    control,\n    name: 'payment_details',\n  });\n\n  const totalInstallments =\n    (values.patient_paid ? values.patient_paid : 0) +\n    values.payment_details.reduce((acc, one) => acc + one.amount, 0);\n\n  useEffect(() => {\n    setValue('totalInstallments', totalInstallments);\n  }, [totalInstallments, setValue]);\n\n  const handleAdd = () => {\n    append({\n      due_date: values.payment_details?.[values.payment_details.length - 1]?.due_date || new Date(),\n      amount: values.totalAmount - values.totalInstallments,\n    });\n  };\n\n  const handleRemove = (index) => {\n    remove(index);\n  };\n  return (\n    <Dialog fullWidth maxWidth=\"md\" open={open} onClose={onClose}>\n      <DialogTitle sx={{ pb: 2, textTransform: 'capitalize' }}>{t('payment info')}</DialogTitle>\n      <DialogContent>\n        <Stack\n          divider={<Divider flexItem sx={{ borderStyle: 'dashed' }} />}\n          spacing={2}\n          paddingTop={2}\n        >\n          <Stack alignItems=\"flex-start\" spacing={1}>\n            <Stack\n              direction={{ xs: 'column', md: 'row' }}\n              justifyContent=\"flex-start\"\n              spacing={2}\n              sx={{ width: 1 }}\n            >\n              <TextField\n                disabled\n                fullWidth\n                size=\"small\"\n                value={t('now')}\n                label={t('due date')}\n                InputLabelProps={{ shrink: true }}\n              />\n              <RHFTextField\n                size=\"small\"\n                type=\"number\"\n                name=\"patient_paid\"\n                label={t('amount')}\n                placeholder=\"0\"\n                InputLabelProps={{ shrink: true }}\n                sx={{\n                  maxWidth: { md: 200 },\n                }}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                    </InputAdornment>\n                  ),\n                }}\n              />\n              <RHFSelect size=\"small\" name=\"payment_method\" label={t('payment method')}>\n                {[\n                  { label: 'cash', value: 'cash' },\n                  { label: 'credit card', value: 'credit_card' },\n                  { label: 'bank transfer', value: 'bank_transfer' },\n                  { label: 'instant bank transfer', value: 'instant_transfer' },\n                ].map((one, idx) => (\n                  <MenuItem key={idx} value={one.value}>\n                    {t(one.label)}\n                  </MenuItem>\n                ))}\n              </RHFSelect>\n              <Box width={200} />\n            </Stack>\n          </Stack>\n          {fields.map((item, index) => (\n            <Stack key={item.id} alignItems=\"flex-start\" spacing={1}>\n              <Stack\n                direction={{ xs: 'column', md: 'row' }}\n                justifyContent=\"flex-start\"\n                spacing={2}\n                sx={{ width: 1 }}\n              >\n                <RHFDatePicker\n                  size=\"small\"\n                  name={`payment_details[${index}].due_date`}\n                  label={t('due date')}\n                />\n                <RHFTextField\n                  size=\"small\"\n                  type=\"number\"\n                  name={`payment_details[${index}].amount`}\n                  label={t('amount')}\n                  placeholder=\"0\"\n                  InputLabelProps={{ shrink: true }}\n                  // sx={{\n                  //   maxWidth: { md: 200 },\n                  // }}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n                {/* <RHFSelect\n                  size=\"small\"\n                  name={`payment_details[${index}].payment_method`}\n                  label={t('payment method')}\n                >\n                  {[\n                    { label: 'cash', value: 'cash' },\n                    { label: 'credit card', value: 'credit_card' },\n                    { label: 'bank transfer', value: 'bank_transfer' },\n                    { label: 'instant bank transfer', value: 'instant_transfer' },\n                  ].map((one, idx) => (\n                    <MenuItem key={idx} value={one.value}>\n                      {t(one.label)}\n                    </MenuItem>\n                  ))}\n                </RHFSelect> */}\n                <Button\n                  size=\"small\"\n                  color=\"error\"\n                  sx={{ width: 50 }}\n                  tabIndex={-1}\n                  onClick={() => handleRemove(index)}\n                >\n                  <Iconify icon=\"solar:trash-bin-trash-bold\" />\n                </Button>\n              </Stack>\n            </Stack>\n          ))}\n\n          <Stack\n            spacing={3}\n            mb={2}\n            direction={{ xs: 'column', md: 'row' }}\n            // justifyContent=\"flex-start\"\n            alignItems={{ xs: 'flex-end', md: 'center' }}\n          >\n            <Button\n              size=\"small\"\n              color=\"primary\"\n              startIcon={<Iconify icon=\"mingcute:add-line\" />}\n              onClick={handleAdd}\n              sx={{ flexShrink: 0 }}\n            >\n              {t('add installment')}\n            </Button>\n          </Stack>\n        </Stack>\n        <Divider />\n        <Stack\n          my={1}\n          spacing={2}\n          direction=\"row\"\n          alignItems=\"center\"\n          sx={{ textAlign: 'right', typography: 'body2' }}\n        >\n          <Stack direction=\"row\" alignItems=\"center\" gap={1}>\n            <Box sx={{ color: 'text.secondary' }}>{t('invoice total amount')}:</Box>\n            <Box sx={{ typography: 'subtitle2' }}>\n              <RHFTextField\n                disabled\n                type=\"number\"\n                name=\"totalAmount\"\n                size=\"small\"\n                sx={{\n                  width: 120,\n                }}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </Box>\n          </Stack>\n\n          <Stack direction=\"row\" alignItems=\"center\" gap={1}>\n            <Box sx={{ color: 'text.secondary' }}>{t('installments total amount')}:</Box>\n            <Box>\n              <RHFTextField\n                disabled\n                type=\"number\"\n                name=\"totalInstallments\"\n                size=\"small\"\n                sx={{\n                  width: 120,\n                }}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </Box>\n          </Stack>\n          <Stack direction=\"row\" alignItems=\"center\" gap={1}>\n            <Box sx={{ color: 'text.secondary' }}>{t('installments number')}:</Box>\n            <Box>\n              <RHFTextField\n                disabled\n                type=\"number\"\n                value={values.payment_details?.length}\n                name=\"installment_number\"\n                size=\"small\"\n                sx={{\n                  width: 100,\n                }}\n              />\n            </Box>\n          </Stack>\n        </Stack>\n        <Divider />\n        {/* <Divider sx={{ mt: 1, mb: 1, borderStyle: 'dashed' }} /> */}\n      </DialogContent>\n\n      <DialogActions>\n        <Button variant=\"outlined\" color=\"inherit\" onClick={onClose}>\n          {t('cancel')}\n        </Button>\n\n        <Button\n          disabled={values.totalAmount !== values.totalInstallments}\n          variant=\"contained\"\n          onClick={() => {\n            onSubmit();\n            onClose();\n          }}\n        >\n          {t('submit')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\nInvoiceNewEditInsurance.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func,\n  onSubmit: PropTypes.func,\n};\n","import * as Yup from 'yup';\nimport PropTypes from 'prop-types';\nimport { useSnackbar } from 'notistack';\nimport { useForm } from 'react-hook-form';\nimport { useMemo, useState, useEffect } from 'react';\nimport { yupResolver } from '@hookform/resolvers/yup';\n\nimport Card from '@mui/material/Card';\nimport Stack from '@mui/material/Stack';\nimport { Button, Container } from '@mui/material';\nimport LoadingButton from '@mui/lab/LoadingButton';\n\nimport { paths } from 'src/routes/paths';\nimport { useRouter, useSearchParams } from 'src/routes/hooks';\n\nimport { useBoolean } from 'src/hooks/use-boolean';\n\nimport axiosInstance, { endpoints } from 'src/utils/axios';\n\nimport { useAuthContext } from 'src/auth/hooks';\nimport { useLocales, useTranslate } from 'src/locales';\nimport {\n  useGetPatient,\n  useGetServiceType,\n  useGetUnitservice,\n  useGetOneEntranceManagement,\n} from 'src/api';\n\nimport { ConfirmDialog } from 'src/components/custom-dialog';\nimport FormProvider, { RHFCheckbox, RHFTextField, RHFRadioGroup } from 'src/components/hook-form';\n\nimport InvoiceNewEditAddress from './invoice-new-edit-address';\nimport InvoiceNewEditDetails from './invoice-new-edit-details';\nimport InvoiceNewEditInsurance from './invoice-new-edit-insurance';\nimport InvoiceNewEditStatusDate from './invoice-new-edit-status-date';\nimport InvoiceNewEditTaxDetails from './invoice-new-edit-tax-details';\nimport InvoiceNewEditInstallment from './invoice-new-edit-installment';\n\n// ----------------------------------------------------------------------\n\nexport default function InvoiceNewEditForm({ currentInvoice }) {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const appointment = searchParams.get('appointment');\n  const entrance = searchParams.get('entrance');\n  const { Entrance } = useGetOneEntranceManagement(entrance);\n  const [entranceInfo, setEntranceInfo] = useState();\n  const { data: PatientData } = useGetPatient(Entrance?.patient);\n  const { data: unitData } = useGetUnitservice(Entrance?.service_unit);\n  const [appointmentInfo, setAppointmentInfo] = useState();\n  const [invoicing, setInvoicing] = useState(false);\n  const { user } = useAuthContext();\n\n  const { t } = useTranslate();\n  const { currentLang } = useLocales();\n  const curLangAr = currentLang.value === 'ar';\n\n  const NewInvoiceSchema = Yup.object().shape({\n    createDate: Yup.mixed().nullable().required(t('required field')),\n    patient: Yup.mixed().nullable(),\n    unit_service: Yup.mixed(),\n    appointment: Yup.mixed().nullable(),\n    entrance: Yup.mixed().nullable(),\n    employee: Yup.mixed(),\n    dueDate: Yup.mixed().nullable(),\n    detailedTaxes: Yup.bool(),\n    items: Yup.lazy(() =>\n      Yup.array().of(\n        Yup.object({\n          service_type: Yup.string().required(t('required field')),\n          activity: Yup.string().nullable(),\n          price_per_unit: Yup.number(),\n          discount_amount: Yup.number(),\n          subtotal: Yup.number(),\n          tax: Yup.number(),\n          total: Yup.number(),\n          quantity: Yup.number().required(t('required field')),\n        })\n      )\n    ),\n    // not required\n    status: Yup.string(),\n    taxes_type: Yup.string().nullable(),\n    taxes: Yup.number(),\n    discount: Yup.number(),\n    work_shift: Yup.string().nullable(),\n    subtotal: Yup.number(),\n    totalAmount: Yup.number(),\n    concept: Yup.string().required(t('required field')),\n  });\n  const defaultValues = useMemo(\n    () => ({\n      createDate: currentInvoice?.created_at || new Date(),\n      unit_service:\n        currentInvoice?.unit_service?._id ||\n        currentInvoice?.unit_service ||\n        user?.employee?.employee_engagements?.[user?.employee.selected_engagement]?.unit_service\n          ?._id,\n      employee:\n        currentInvoice?.employee?._id ||\n        currentInvoice?.employee ||\n        user?.employee?.employee_engagements?.[user?.employee.selected_engagement]?._id,\n      patient:\n        currentInvoice?.patient?._id ||\n        currentInvoice?.patient ||\n        entranceInfo?.patient ||\n        appointmentInfo?.patient ||\n        null,\n      unit_service_patient:\n        currentInvoice?.unit_service_patient?._id ||\n        currentInvoice?.unit_service_patient ||\n        entranceInfo?.unit_service_patient ||\n        appointmentInfo?.unit_service_patient ||\n        null,\n      work_shift:\n        currentInvoice?.work_shift?._id ||\n        currentInvoice?.work_shift ||\n        entranceInfo?.work_shift ||\n        appointmentInfo?.work_shift ||\n        null,\n      dueDate: currentInvoice?.dueDate || null,\n      entrance: currentInvoice?.entrance || entrance || null,\n      appointment: currentInvoice?.appointment || appointment || entranceInfo?.appointment || null,\n      detailedTaxes: currentInvoice?.detailedTaxes || false,\n      taxes: currentInvoice?.taxes || 0,\n      // deduction: currentInvoice?.Total_deduction_amount || 0,\n      status: currentInvoice?.status || 'paid',\n      discount: currentInvoice?.Total_discount_amount || 0,\n      subtotal: currentInvoice?.Subtotal_Amount || 0,\n      totalAmount: currentInvoice?.totalAmount || 0,\n      items: currentInvoice?.Provided_services ||\n        (entranceInfo?.Service_types?.length > 0 &&\n          entranceInfo?.Service_types?.map((one) => ({\n            service_type: one._id || null,\n            activity: null,\n            quantity: 1,\n            price_per_unit: Number(one.Price_per_unit) || 0,\n            subtotal: Number(one.Price_per_unit) || 0,\n            discount_amount: 0,\n            tax: 0,\n            total: Number(one.Price_per_unit) || 0,\n          }))) || [\n          {\n            service_type: null,\n            activity: null,\n            quantity: 1,\n            price_per_unit: 0,\n            subtotal: 0,\n            discount_amount: 0,\n            tax: 0,\n            total: 0,\n          },\n        ],\n      payment_details: currentInvoice?.payment_details || [],\n    }),\n    [currentInvoice, user?.employee, entrance, appointment, appointmentInfo, entranceInfo]\n  );\n\n  const methods = useForm({\n    resolver: yupResolver(NewInvoiceSchema),\n    defaultValues,\n  });\n\n  const {\n    watch,\n    reset,\n    setValue,\n    handleSubmit,\n    formState: { isSubmitting },\n  } = methods;\n  useEffect(() => {\n    reset(defaultValues);\n  }, [defaultValues, reset]);\n  const values = watch();\n  const firstServiceTypeId = values?.items?.[0]?.service_type;\n  const { data: ServiceTypeData } = useGetServiceType(firstServiceTypeId);\n  const totalQuantity = values?.items?.reduce((acc, item) => acc + (Number(item.quantity) || 0), 0);\n\n  const confirm = useBoolean();\n  const insurance = useBoolean();\n  const installment = useBoolean();\n\n  const loadingSend = useBoolean();\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        if (entrance) {\n          const { data } = await axiosInstance.get(endpoints.entranceManagement.one(entrance), {\n            params: {\n              select: 'Service_types patient unit_service_patient work_shift appointment',\n              populate: [\n                { path: 'Service_types', select: 'name_english name_arabic Price_per_unit' },\n              ],\n            },\n          });\n          setEntranceInfo(data);\n        } else if (appointment) {\n          const { data } = await axiosInstance.get(endpoints.appointments.one(appointment), {\n            params: { select: 'patient unit_service_patient work_shift' },\n          });\n          setAppointmentInfo(data);\n        }\n      } catch (e) {\n        console.log('entranceData', e);\n      }\n    };\n    fetchData();\n  }, [appointment, entrance]);\n\n  const handleCreateAndSend = handleSubmit(async (data) => {\n    loadingSend.onTrue();\n    try {\n      const invoice = await axiosInstance.post(endpoints.economec_movements.all, data);\n      const subtotal = data.subtotal || 0;\n      const quantity = totalQuantity;\n      const concept = data.concept ?? '';\n      const total = data.totalAmount || 0;\n      const discount = data.discount || 0;\n      const payloadForOtherTable = {\n        Secret_Key: unitData.Secret_Key,\n        Activity_Number: unitData.Activity_Number,\n        ClientId: unitData.ClientId,\n        CompanyID: unitData.CompanyID,\n        RegistrationName: unitData.RegistrationName,\n        Buyer: PatientData?.name_arabic,\n        BuyerNum: PatientData?.mobile_num1,\n        BuyerIdNum: PatientData?.identification_num,\n        BuyerCity: PatientData?.city?.name_arabic,\n        service_type: ServiceTypeData?.name_arabic,\n        subtotal,\n        quantity,\n        discount,\n        total,\n        concept,\n      };\n      if (invoicing) {\n        await axiosInstance.post('/api/invoice', payloadForOtherTable);\n      }\n\n      reset();\n      enqueueSnackbar(t('created successfully'));\n\n      if (invoice?.data?.receiptPayment?._id) {\n        window.open(\n          paths.unitservice.accounting.reciepts.info(invoice?.data?.receiptPayment?._id),\n          '_blank'\n        );\n      }\n\n      await router.push(\n        paths.unitservice.accounting.economicmovements.info(invoice?.data?.movement._id)\n      );\n    } catch (error) {\n      enqueueSnackbar(\n        curLangAr ? `${error.arabic_message}` || `${error.message}` : `${error.message}`,\n        { variant: 'error' }\n      );\n    } finally {\n      loadingSend.onFalse();\n    }\n  });\n\n  return (\n    <>\n      <Container maxWidth=\"xl\">\n        <FormProvider methods={methods}>\n          <Card>\n            <InvoiceNewEditAddress />\n\n            {watch().detailedTaxes ? <InvoiceNewEditTaxDetails /> : <InvoiceNewEditDetails />}\n            <InvoiceNewEditStatusDate />\n\n            {watch().status === 'paid' && (\n              <Stack sx={{ px: 3, py: 1 }}>\n                <RHFRadioGroup\n                  row\n                  name=\"payment_method\"\n                  label={t('payment method')}\n                  options={[\n                    { label: t('cash'), value: 'cash' },\n                    { label: t('credit card'), value: 'credit_card' },\n                    { label: t('bank transfer'), value: 'bank_transfer' },\n                    { label: t('instant bank transfer'), value: 'instant_transfer' },\n                  ]}\n                />\n              </Stack>\n            )}\n\n            <Stack sx={{ my: 2, px: 2 }}>\n              <RHFTextField name=\"concept\" label={t('concept (Notes are added to the National Billing System)')} />\n            </Stack>\n            <Stack sx={{ my: 2, px: 2 }}>\n              <RHFCheckbox\n                name=\"\"\n                onChange={() => setInvoicing(!invoicing)}\n                label={t('Do you want to register the invoice in the national Jordanian billing system?')}\n              />\n            </Stack>\n\n            <InvoiceNewEditInstallment\n              open={installment.value}\n              onClose={installment.onFalse}\n              onSubmit={handleCreateAndSend}\n            />\n\n            <InvoiceNewEditInsurance\n              open={insurance.value}\n              onClose={insurance.onFalse}\n              onSubmit={handleCreateAndSend}\n            />\n          </Card>\n\n          <Stack justifyContent=\"flex-end\" direction=\"row\" spacing={2} sx={{ mt: 3 }}>\n            <LoadingButton\n              size=\"large\"\n              variant=\"contained\"\n              loading={loadingSend.value}\n              onClick={() => {\n                if (watch().status === 'installment') {\n                  installment.onTrue();\n                } else if (watch().status === 'insurance') {\n                  insurance.onTrue();\n                } else handleCreateAndSend();\n              }}\n            >\n              {currentInvoice ? t('update') : t('create')} & {t('print')}\n            </LoadingButton>\n          </Stack>\n        </FormProvider>\n      </Container>\n      <ConfirmDialog\n        open={confirm.value}\n        onClose={confirm.onFalse}\n        title={t('confirm changing display option')}\n        content={t('you will loose the all details items data')}\n        action={\n          <Button\n            variant=\"contained\"\n            color=\"error\"\n            onClick={() => {\n              setValue('items', defaultValues.items);\n              setValue('detailedTaxes', !watch().detailedTaxes);\n              confirm.onFalse();\n            }}\n          >\n            {t('confirm')}\n          </Button>\n        }\n      />\n    </>\n  );\n}\n\nInvoiceNewEditForm.propTypes = {\n  currentInvoice: PropTypes.object,\n};\n","import PropTypes from 'prop-types';\n\nimport Box from '@mui/material/Box';\nimport Link from '@mui/material/Link';\n\nimport { RouterLink } from 'src/routes/components';\n\n// ----------------------------------------------------------------------\n\nexport default function BreadcrumbsLink({ link, activeLast, disabled }) {\n  const styles = {\n    typography: 'body2',\n    alignItems: 'center',\n    color: 'text.primary',\n    display: 'inline-flex',\n    ...(disabled &&\n      !activeLast && {\n        cursor: 'default',\n        pointerEvents: 'none',\n        color: 'text.disabled',\n      }),\n  };\n\n  const renderContent = (\n    <>\n      {link.icon && (\n        <Box\n          component=\"span\"\n          sx={{\n            mr: 1,\n            display: 'inherit',\n            '& svg': { width: 20, height: 20 },\n          }}\n        >\n          {link.icon}\n        </Box>\n      )}\n\n      {link.name}\n    </>\n  );\n\n  if (link.href) {\n    return (\n      <Link component={RouterLink} href={link.href} sx={styles}>\n        {renderContent}\n      </Link>\n    );\n  }\n\n  return <Box sx={styles}> {renderContent} </Box>;\n}\n\nBreadcrumbsLink.propTypes = {\n  activeLast: PropTypes.bool,\n  disabled: PropTypes.bool,\n  link: PropTypes.shape({\n    href: PropTypes.string,\n    icon: PropTypes.node,\n    name: PropTypes.string,\n  }),\n};\n","import PropTypes from 'prop-types';\n\nimport Box from '@mui/material/Box';\nimport Link from '@mui/material/Link';\nimport Stack from '@mui/material/Stack';\nimport Typography from '@mui/material/Typography';\nimport Breadcrumbs from '@mui/material/Breadcrumbs';\n\nimport LinkItem from './link-item';\n\n// ----------------------------------------------------------------------\n\nexport default function CustomBreadcrumbs({\n  links,\n  action,\n  heading,\n  moreLink,\n  activeLast,\n  sx,\n  ...other\n}) {\n  const lastLink = links && links[links.length - 1].name;\n\n  return (\n    <Box sx={{ ...sx }}>\n      <Stack direction=\"row\" alignItems=\"center\">\n        <Box\n          sx={{\n            flexGrow: 1,\n            display: 'flex',\n            gap: { md: 3 },\n            alignItems: { md: 'center' },\n            flexDirection: { xs: 'column', md: 'row' },\n          }}\n        >\n          {/* HEADING */}\n          {heading && (\n            <Typography textTransform=\"capitalize\" variant=\"h4\" gutterBottom>\n              {heading}\n            </Typography>\n          )}\n\n          {/* BREADCRUMBS */}\n          {links && !!links.length && (\n            <Breadcrumbs separator={<Separator />} {...other}>\n              {links?.map((link, idx) => (\n                <LinkItem\n                  key={idx}\n                  link={link}\n                  activeLast={activeLast}\n                  disabled={link.name === lastLink}\n                  //\n                />\n              ))}\n            </Breadcrumbs>\n          )}\n        </Box>\n\n        {action && <Box sx={{ flexShrink: 0, textTransform: 'capitalize' }}> {action} </Box>}\n      </Stack>\n\n      {/* MORE LINK */}\n      {!!moreLink && (\n        <Box sx={{ mt: 2 }}>\n          {moreLink.map((href, idx) => (\n            <Link\n              key={idx}\n              href={href}\n              variant=\"body2\"\n              target=\"_blank\"\n              rel=\"noopener\"\n              sx={{ display: 'table' }}\n            >\n              {href}\n            </Link>\n          ))}\n        </Box>\n      )}\n    </Box>\n  );\n}\n\nCustomBreadcrumbs.propTypes = {\n  sx: PropTypes.object,\n  action: PropTypes.node,\n  links: PropTypes.array,\n  heading: PropTypes.string,\n  moreLink: PropTypes.array,\n  activeLast: PropTypes.bool,\n};\n\n// ----------------------------------------------------------------------\n\nfunction Separator() {\n  return (\n    <Box\n      component=\"span\"\n      sx={{\n        width: 4,\n        height: 4,\n        borderRadius: '50%',\n        bgcolor: 'text.disabled',\n      }}\n    />\n  );\n}\n","/**\n * The base implementation of `_.sum` and `_.sumBy` without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the sum.\n */\nfunction baseSum(array, iteratee) {\n  var result,\n      index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var current = iteratee(array[index]);\n    if (current !== undefined) {\n      result = result === undefined ? current : (result + current);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseSum;\n"],"names":["createSvgIcon","_jsx","d","_excluded","BreadcrumbCollapsedButton","styled","ButtonBase","_ref","theme","_extends","display","marginLeft","spacing","marginRight","palette","mode","backgroundColor","grey","color","borderRadius","boxShadow","shadows","emphasize","BreadcrumbCollapsedIcon","MoreHorizIcon","width","height","props","slots","slotProps","otherProps","_objectWithoutPropertiesLoose","ownerState","children","focusRipple","as","CollapsedIcon","collapsedIcon","getBreadcrumbsUtilityClass","slot","generateUtilityClass","generateUtilityClasses","BreadcrumbsRoot","Typography","name","overridesResolver","styles","breadcrumbsClasses","li","root","BreadcrumbsOl","ol","flexWrap","alignItems","padding","margin","listStyle","BreadcrumbsSeparator","separator","userSelect","insertSeparators","items","className","reduce","acc","current","index","length","concat","push","React","inProps","ref","useDefaultProps","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","other","expanded","setExpanded","classes","composeClasses","useUtilityClasses","collapsedIconSlotProps","useSlotProps","elementType","externalSlotProps","listRef","allItems","toArray","filter","child","map","clsx","slice","BreadcrumbCollapsed","onClick","handleClickExpand","focusable","querySelector","focus","renderItemsBeforeAndAfter","baseSum","require","identity","module","exports","array","InvoiceNewEditAddress","_data$city","_data$country","_data$city2","_data$country2","_Entrance$activity_ha","_Entrance$activity_ha2","control","watch","useFormContext","append","useFieldArray","t","useTranslate","currentLang","useLocales","curLangAr","value","values","unit_service","patient","entrance","unit_service_patient","data","useGetPatient","usPatientData","useGetOneUSPatient","populate","path","select","USData","useGetUnitservice","Entrance","useGetOneEntranceManagement","patientsData","useGetUSPatient","_id","_jsxs","Stack","direction","md","xs","sx","p","flex","mb","variant","flexGrow","name_arabic","name_english","city","country","phone","justifyContent","RHFAutocomplete","lang","minWidth","options","speciality","getOptionLabel","option","_patientsData$find","find","one","renderOption","idx","_patientsData$find2","_createElement","key","activity_happened","gap","px","mt","maxHeight","overflow","cursor","handleInvoicing","activity","service_type","quantity","price_per_unit","subtotal","discount_amount","deduction","tax","total","InvoiceNewEditDetails","_user$employee","_user$employee$employ","_user$employee$employ2","handleAddNew","useNewScreen","user","useAuthContext","myUS","employee","employee_engagements","selected_engagement","serviceTypesData","useGetUSActiveServiceTypes","activitiesData","useGetUSActivities","taxesData","useGetTaxes","setValue","fields","remove","update","useEffect","subtotalOnRow","item","subTotal","sum","amountAfterDiscount","discount","taxData","taxes_type","taxes","percentage","Amount","handleChangeItemDetails","useCallback","event","target","selected","service","Price_per_unit","Number","renderTotal","_Fragment","Divider","my","textAlign","typography","Box","RHFTextField","disabled","type","size","inputBaseClasses","input","InputProps","startAdornment","InputAdornment","position","has_tax","RHFSelect","MenuItem","divider","flexItem","borderStyle","_values$items$index","_values$items$index2","_values$items$index2$","label","maxWidth","InputLabelProps","shrink","onChange","fontWeight","paths","unitservice","tables","services","new","Iconify","icon","activities","placeholder","toFixed","Button","tabIndex","handleRemove","id","startIcon","handleAdd","flexShrink","InvoiceNewEditInsurance","_USData$insurance","open","onClose","onSubmit","changeHandler","e","totalAmount","Dialog","fullWidth","DialogTitle","pb","textTransform","DialogContent","patient_paid","RHFRadioGroup","row","insurance","_USData$insurance2","_USData$insurance2$fi","_USData$insurance3","_USData$insurance3$fi","DialogActions","InvoiceNewEditStatusDate","sm","bgcolor","PaperPropsSx","Controller","render","field","fieldState","error","DatePicker","newValue","textField","helperText","message","_user$employee$employ3","_user$employee2","_user$employee2$emplo","_user$employee2$emplo2","_user$employee2$emplo3","_values$items","_values$items2","_values$items3","_values$items4","taxSums","setTaxSums","useState","newTaxSums","forEach","matchingItems","taxId","taxAmount","summedTaxes","useMemo","Object","keys","discountTotal","taxesTotal","handleSelectService","_selected$tax","handleChange","textColor","fCurrency","_values$payment_detai3","totalInstallments","payment_details","amount","paddingTop","TextField","RHFDatePicker","_values$payment_detai","_values$payment_detai2","due_date","Date","InvoiceNewEditForm","_values$items$","currentInvoice","router","useRouter","searchParams","useSearchParams","appointment","get","entranceInfo","setEntranceInfo","PatientData","unitData","service_unit","appointmentInfo","setAppointmentInfo","invoicing","setInvoicing","NewInvoiceSchema","Yup","shape","createDate","nullable","required","dueDate","detailedTaxes","of","status","work_shift","concept","defaultValues","_currentInvoice$unit_","_currentInvoice$emplo","_currentInvoice$patie","_currentInvoice$unit_2","_currentInvoice$work_","_entranceInfo$Service","_entranceInfo$Service2","created_at","Total_discount_amount","Subtotal_Amount","Provided_services","Service_types","methods","useForm","resolver","yupResolver","reset","handleSubmit","formState","isSubmitting","firstServiceTypeId","ServiceTypeData","useGetServiceType","totalQuantity","confirm","useBoolean","installment","loadingSend","enqueueSnackbar","useSnackbar","async","axiosInstance","endpoints","entranceManagement","params","appointments","console","log","fetchData","handleCreateAndSend","onTrue","_data$concept","_PatientData$city","_invoice$data","_invoice$data$receipt","_invoice$data3","invoice","post","economec_movements","all","payloadForOtherTable","Secret_Key","Activity_Number","ClientId","CompanyID","RegistrationName","Buyer","BuyerNum","mobile_num1","BuyerIdNum","identification_num","BuyerCity","_invoice$data2","_invoice$data2$receip","receiptPayment","window","accounting","reciepts","info","economicmovements","movement","arabic_message","onFalse","Container","FormProvider","Card","InvoiceNewEditTaxDetails","py","RHFCheckbox","InvoiceNewEditInstallment","LoadingButton","loading","ConfirmDialog","title","content","action","BreadcrumbsLink","link","activeLast","pointerEvents","renderContent","mr","href","Link","RouterLink","CustomBreadcrumbs","links","heading","moreLink","lastLink","flexDirection","gutterBottom","Breadcrumbs","Separator","LinkItem","rel","iteratee","result","undefined"],"sourceRoot":""}