(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[78800],{4080:(e,t,n)=>{"use strict";n.d(t,{VL:()=>c,Wc:()=>u,nI:()=>r,rS:()=>d,wz:()=>o});var i=n(65043),l=n(40799),a=n(39556),s=n(31673);function o(e){const t=[s.vZ.products.all,{params:e}],{data:n,isLoading:a,error:o,isValidating:r}=(0,l.Ay)(t,s.GO);return(0,i.useMemo)((()=>({products:n||[],productsLoading:a,productsError:o,productsValidating:r,productsEmpty:!a&&!(null!==n&&void 0!==n&&n.length)})),[n,o,a,r])}function r(){const e=s.vZ.productcategories.all,{data:t,isLoading:n,error:a,isValidating:o}=(0,l.Ay)(e,s.GO);return(0,i.useMemo)((()=>({productCat:t||[],productCatLoading:n,productCatError:a,productCatValidating:o,productCatEmpty:!n&&!(null!==t&&void 0!==t&&t.length)})),[t,a,n,o])}function d(e){const t=s.vZ.productcategories.one(e),{data:n,isLoading:a,error:o,isValidating:r}=(0,l.Ay)(t,s.GO);return(0,i.useMemo)((()=>({data:n,productCatLoading:a,productCatError:o,productCatValidating:r,productCatEmpty:!a&&!(null!==n&&void 0!==n&&n.length)})),[n,o,a,r])}function c(e){const t=s.vZ.products.one(e),{data:n,isLoading:a,error:o,isValidating:r}=(0,l.Ay)(t,s.GO);return(0,i.useMemo)((()=>({product:n,productLoading:a,productError:o,productValidating:r})),[n,o,a,r])}function u(e,t){const n=e?[s.vZ.products.stakeholder(e),{params:t}]:"",{data:o,isLoading:r,error:d,isValidating:c}=(0,l.Ay)(n,s.GO);return{...(0,i.useMemo)((()=>({productsData:(null===o||void 0===o?void 0:o.products)||[],length:(null===o||void 0===o?void 0:o.length)||0,loading:r,error:d,isValidating:c})),[o,d,r,c]),refetch:async()=>{await(0,a.j)(n)}}}},22698:(e,t,n)=>{"use strict";n.d(t,{A:()=>S});var i=n(58168),l=n(98587),a=n(65043),s=n(58387),o=n(98610),r=n(88092),d=n(34535),c=n(98206),u=n(94496),p=n(67266),m=n(66734),x=n(70579);const h=(0,m.A)((0,x.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var v=n(96030);const g=["slots","slotProps"],b=(0,d.Ay)(v.A)((e=>{let{theme:t}=e;return(0,i.A)({display:"flex",marginLeft:`calc(${t.spacing(1)} * 0.5)`,marginRight:`calc(${t.spacing(1)} * 0.5)`},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,i.A)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,i.A)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,p.tL)(t.palette.grey[200],.12)}:{backgroundColor:(0,p.tL)(t.palette.grey[600],.12)})})})),A=(0,d.Ay)(h)({width:24,height:16});const j=function(e){const{slots:t={},slotProps:n={}}=e,a=(0,l.A)(e,g),s=e;return(0,x.jsx)("li",{children:(0,x.jsx)(b,(0,i.A)({focusRipple:!0},a,{ownerState:s,children:(0,x.jsx)(A,(0,i.A)({as:t.CollapsedIcon,ownerState:s},n.collapsedIcon))}))})};var y=n(92532),_=n(72372);function f(e){return(0,_.Ay)("MuiBreadcrumbs",e)}const w=(0,y.A)("MuiBreadcrumbs",["root","ol","li","separator"]),C=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],k=(0,d.Ay)(u.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{[`& .${w.li}`]:t.li},t.root]})({}),I=(0,d.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),$=(0,d.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function z(e,t,n,i){return e.reduce(((l,a,s)=>(s<e.length-1?l=l.concat(a,(0,x.jsx)($,{"aria-hidden":!0,className:t,ownerState:i,children:n},`separator-${s}`)):l.push(a),l)),[])}const S=a.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiBreadcrumbs"}),{children:d,className:u,component:p="nav",slots:m={},slotProps:h={},expandText:v="Show path",itemsAfterCollapse:g=1,itemsBeforeCollapse:b=1,maxItems:A=8,separator:y="/"}=n,_=(0,l.A)(n,C),[w,$]=a.useState(!1),S=(0,i.A)({},n,{component:p,expanded:w,expandText:v,itemsAfterCollapse:g,itemsBeforeCollapse:b,maxItems:A,separator:y}),W=(e=>{const{classes:t}=e;return(0,o.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},f,t)})(S),D=(0,r.A)({elementType:m.CollapsedIcon,externalSlotProps:h.collapsedIcon,ownerState:S}),P=a.useRef(null),L=a.Children.toArray(d).filter((e=>a.isValidElement(e))).map(((e,t)=>(0,x.jsx)("li",{className:W.li,children:e},`child-${t}`)));return(0,x.jsx)(k,(0,i.A)({ref:t,component:p,color:"text.secondary",className:(0,s.A)(W.root,u),ownerState:S},_,{children:(0,x.jsx)(I,{className:W.ol,ref:P,ownerState:S,children:z(w||A&&L.length<=A?L:(e=>b+g>=e.length?e:[...e.slice(0,b),(0,x.jsx)(j,{"aria-label":v,slots:{CollapsedIcon:m.CollapsedIcon},slotProps:{collapsedIcon:D},onClick:()=>{$(!0);const e=P.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-g,e.length)])(L),W.separator,y,S)})}))}))},27183:(e,t,n)=>{"use strict";n.d(t,{A:()=>N});var i=n(80899),l=n(46987),a=n(24858),s=n(65043),o=n(18403),r=n(12110),d=n(74600),c=n(77224),u=n(49633),p=n(38246),m=n(48407),x=n(67132),h=n(59229),v=n(31673),g=n(75139),b=n(60778),A=n(70074),j=n(59699),y=n(94496),_=n(7625),f=n(70579);function w(){var e,t,n,i,l,o,r,c;const{watch:u}=(0,a.xW)(),{t:p}=(0,b.WD)(),{currentLang:m}=(0,b.jc)(),x="ar"===m.value,h=u(),{patient:v,unit_service:g}=h,{data:A}=(0,_.J02)(v),{data:w}=(0,_.R_A)(g),{unitservicesData:C}=(0,_.uKn)({select:"name_english name_arabic"}),{patientsData:k}=(0,_.SLX)({select:"name_english name_arabic",status:"active"});return(0,f.jsx)(d.A,{direction:{md:"row"},children:(0,f.jsx)(d.A,{spacing:{xs:2,md:3},sx:{p:3},flex:1,children:(0,f.jsxs)(d.A,{sx:{width:1},children:[!A&&!w&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d.A,{direction:"row",alignItems:"center",sx:{mb:3},children:(0,f.jsx)(j.b$,{row:!0,name:"to",options:[{label:"to patient",value:"to_patient"},{label:"to unit of service",value:"to_unit_service"}]})}),"to_patient"===h.to&&(0,f.jsx)(d.A,{direction:"row",justifyContent:"flex-start",children:(0,f.jsx)(j.j2,{lang:"ar",sx:{minWidth:200},name:"patient",options:k.map((e=>e._id)),getOptionLabel:e=>{var t;return null===(t=k.find((t=>t._id===e)))||void 0===t?void 0:t[x?"name_arabic":"name_english"]},renderOption:(e,t,n)=>{var i;return(0,s.createElement)("li",{lang:"ar",...e,key:n,value:t},null===(i=k.find((e=>e._id===t)))||void 0===i?void 0:i[x?"name_arabic":"name_english"])}})}),"to_unit_service"===h.to&&(0,f.jsx)(d.A,{direction:"row",justifyContent:"flex-start",children:(0,f.jsx)(j.j2,{lang:"ar",sx:{minWidth:200},name:"unit_service",options:C.map((e=>e._id)),getOptionLabel:e=>{var t;return null===(t=C.find((t=>t._id===e)))||void 0===t?void 0:t[x?"name_arabic":"name_english"]},renderOption:(e,t,n)=>{var i;return(0,s.createElement)("li",{lang:"ar",...e,key:n,value:t},null===(i=C.find((e=>e._id===t)))||void 0===i?void 0:i[x?"name_arabic":"name_english"])}})})]}),(A||w)&&(0,f.jsx)(d.A,{direction:"row",alignItems:"center",sx:{mb:1},children:(0,f.jsxs)(y.A,{variant:"h6",sx:{color:"text.disabled",flexGrow:1},children:[p("to"),":"]})}),A&&(0,f.jsxs)(d.A,{spacing:1,children:[(0,f.jsx)(y.A,{variant:"subtitle2",children:x?null===A||void 0===A?void 0:A.name_arabic:null===A||void 0===A?void 0:A.name_english}),(0,f.jsx)(y.A,{variant:"body2",children:x?`${(null===A||void 0===A||null===(e=A.city)||void 0===e?void 0:e.name_arabic)||""}, ${(null===A||void 0===A||null===(t=A.country)||void 0===t?void 0:t.name_arabic)||""}`:`${(null===A||void 0===A||null===(n=A.city)||void 0===n?void 0:n.name_english)||""}, ${(null===A||void 0===A||null===(i=A.country)||void 0===i?void 0:i.name_english)||""}`}),(0,f.jsxs)(y.A,{variant:"body2",children:[" ",null===A||void 0===A?void 0:A.phone]})]}),w&&(0,f.jsxs)(d.A,{spacing:1,children:[(0,f.jsx)(y.A,{variant:"subtitle2",children:x?null===w||void 0===w?void 0:w.name_arabic:null===w||void 0===w?void 0:w.name_english}),(0,f.jsx)(y.A,{variant:"body2",children:x?`${null===w||void 0===w||null===(l=w.city)||void 0===l?void 0:l.name_arabic}, ${null===w||void 0===w||null===(o=w.country)||void 0===o?void 0:o.name_arabic}`:`${null===w||void 0===w||null===(r=w.city)||void 0===r?void 0:r.name_english}, ${null===w||void 0===w||null===(c=w.country)||void 0===c?void 0:c.name_english}`}),(0,f.jsxs)(y.A,{variant:"body2",children:[" ",null===A||void 0===A?void 0:A.phone]})]})]})})})}var C=n(60262),k=n.n(C),I=n(81e3),$=n(39336),z=n(94814),S=n(51787),W=n(1470),D=n(35151);function P(){var e,t,n;const{t:i}=(0,b.WD)(),{currentLang:l}=(0,b.jc)(),o="ar"===l.value,{user:r}=(0,g.Z)(),c=null===r||void 0===r||null===(e=r.employee)||void 0===e||null===(t=e.employee_engagements)||void 0===t||null===(n=t[r.employee.selected_engagement])||void 0===n?void 0:n.unit_service,{serviceTypesData:p}=(0,_._BE)(null===c||void 0===c?void 0:c._id,{select:"_id name_english name_arabic Price_per_unit"}),{activitiesData:m}=(0,_.h0B)(null===c||void 0===c?void 0:c._id),{taxesData:x}=(0,_.Fwg)(),{control:h,setValue:v,watch:A}=(0,a.xW)(),{fields:w,append:C,remove:P,update:L}=(0,a.jz)({control:h,name:"items"}),O=A();(0,s.useEffect)((()=>{L()}),[O.items.length,L]);const E=O.items.map((e=>e.subtotal)),q=k()(E);(0,s.useEffect)((()=>{v("subtotal",q)}),[v,q]);const T=O.subtotal-O.discount,V=x.find((e=>e._id===O.taxes_type)),J=T*(V?(V.percentage||0)/100:0),F=T+J;(0,s.useEffect)((()=>{v("taxes",J)}),[v,J]),(0,s.useEffect)((()=>{v("totalAmount",F)}),[v,F]);const M=(0,s.useCallback)(((e,t)=>{if(e.target.name===`items[${t}].service_type`){v(e.target.name,e.target.value);const n=null===p||void 0===p?void 0:p.find((t=>t._id===e.target.value));v(`items[${t}].price_per_unit`,null===n||void 0===n?void 0:n.Price_per_unit)}else v(e.target.name,Number(e.target.value));v(`items[${t}].subtotal`,O.items[t].quantity*O.items[t].price_per_unit),v(`items[${t}].total`,O.items[t].quantity*O.items[t].price_per_unit)}),[v,O.items,p]),Z=(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)($.A,{}),(0,f.jsxs)(d.A,{my:1,gap:{md:2,xs:1},direction:{md:"row"},alignItems:{md:"center",xs:"flex-end"},sx:{textAlign:"right",typography:"body2"},children:[(0,f.jsxs)(d.A,{direction:"row",alignItems:"center",gap:1,children:[(0,f.jsxs)(I.A,{sx:{color:"text.secondary"},children:[i("subtotal"),":"]}),(0,f.jsx)(I.A,{sx:{typography:"subtitle2"},children:(0,f.jsx)(j.o3,{disabled:!0,type:"number",name:"subtotal",size:"small",sx:{width:160,[`& .${W.A.input}`]:{textAlign:{md:"right"}}},InputProps:{startAdornment:(0,f.jsx)(S.A,{position:"start",children:(0,f.jsx)(I.A,{sx:{typography:"subtitle2",color:"text.disabled"},children:"JOD"})})}})})]}),(0,f.jsxs)(d.A,{direction:"row",alignItems:"center",gap:1,children:[(0,f.jsxs)(I.A,{sx:{color:"text.secondary"},children:[i("discount"),":"]}),(0,f.jsx)(I.A,{sx:{...O.discount&&{color:"error.main"}},children:(0,f.jsx)(j.o3,{type:"number",name:"discount",size:"small",sx:{width:160,[`& .${W.A.input}`]:{textAlign:{md:"right"}}},InputProps:{startAdornment:(0,f.jsx)(S.A,{position:"start",children:(0,f.jsx)(I.A,{sx:{typography:"subtitle2",color:"text.disabled"},children:"JOD"})})}})})]}),(null===c||void 0===c?void 0:c.has_tax)&&(0,f.jsxs)(d.A,{direction:"row",alignItems:"center",gap:1,children:[(0,f.jsxs)(I.A,{sx:{color:"text.secondary"},children:[i("tax"),":"]}),(0,f.jsx)(I.A,{children:(0,f.jsx)(j.tX,{name:"taxes_type",size:"small",sx:{width:160,[`& .${W.A.input}`]:{textAlign:{md:"left"}}},children:x.map(((e,t)=>(0,f.jsxs)(z.A,{lang:"ar",value:e._id,children:[o?e.name_arabic:e.name_english," ",e.percentage,"%"]},t)))})})]}),(0,f.jsxs)(d.A,{direction:"row",sx:{typography:"subtitle1"},alignItems:"center",gap:1,children:[(0,f.jsxs)(I.A,{children:[i("total"),":"]}),(0,f.jsx)(I.A,{children:(0,f.jsx)(j.o3,{disabled:!0,type:"number",name:"totalAmount",size:"small",sx:{width:160,[`& .${W.A.input}`]:{textAlign:{md:"right"}}},InputProps:{startAdornment:(0,f.jsx)(S.A,{position:"start",children:(0,f.jsx)(I.A,{sx:{typography:"subtitle2",color:"text.disabled"},children:"JOD"})})}})})]})]}),(0,f.jsx)($.A,{})]});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)($.A,{}),(0,f.jsxs)(I.A,{sx:{p:3},children:[(0,f.jsxs)(y.A,{variant:"h6",sx:{color:"text.disabled",mb:3},children:[i("details"),":"]}),(0,f.jsx)(d.A,{divider:(0,f.jsx)($.A,{flexItem:!0,sx:{borderStyle:"dashed"}}),spacing:2,children:w.map(((e,t)=>{var n,l,a;return(0,f.jsx)(d.A,{alignItems:"flex-start",spacing:1.5,children:(0,f.jsxs)(d.A,{direction:{xs:"column",md:"row"},justifyContent:"flex-start",spacing:2,sx:{width:1},children:[(0,f.jsx)(j.tX,{name:`items[${t}].service_type`,size:"small",label:i("service"),sx:{maxWidth:{md:400}},InputLabelProps:{shrink:!0},onChange:e=>M(e,t),children:null===p||void 0===p?void 0:p.map((e=>(0,f.jsx)(z.A,{lang:"ar",value:e._id,children:o?e.name_arabic:e.name_english},e._id)))}),(0,f.jsx)(j.tX,{name:`items[${t}].activity`,size:"small",label:i("activity"),sx:{maxWidth:{md:200}},InputLabelProps:{shrink:!0},children:null===m||void 0===m?void 0:m.map((e=>(0,f.jsx)(z.A,{lang:"ar",value:e._id,children:o?e.name_arabic:e.name_english},e._id)))}),(0,f.jsx)(j.o3,{size:"small",type:"number",name:`items[${t}].quantity`,label:i("quantity"),placeholder:"0",onChange:e=>M(e,t),InputLabelProps:{shrink:!0},sx:{maxWidth:{md:200},[`& .${W.A.input}`]:{textAlign:{md:"right"}}}}),(0,f.jsx)(j.o3,{disabled:!0,size:"small",type:"number",name:`items[${t}].price_per_unit`,label:i("price"),placeholder:"0.00",InputProps:{startAdornment:(0,f.jsx)(S.A,{position:"start",children:(0,f.jsx)(I.A,{sx:{typography:"subtitle2",color:"text.disabled"},children:"JOD"})})},sx:{maxWidth:{md:200},[`& .${W.A.input}`]:{textAlign:{md:"right"}}}}),(0,f.jsx)(j.o3,{disabled:!0,size:"small",type:"number",name:`items[${t}].total`,label:i("total"),placeholder:"0.00",value:0===(null===(n=O.items[t])||void 0===n?void 0:n.total)?"":null===(l=O.items[t])||void 0===l||null===(a=l.total)||void 0===a?void 0:a.toFixed(2),InputProps:{startAdornment:(0,f.jsx)(S.A,{position:"start",children:(0,f.jsx)(I.A,{sx:{typography:"subtitle2",color:"text.disabled"},children:"JOD"})})},sx:{maxWidth:{md:200},[`& .${W.A.input}`]:{textAlign:{md:"right"}}}}),(0,f.jsx)(u.A,{size:"small",color:"error",tabIndex:-1,onClick:()=>(e=>{P(e)})(t),children:(0,f.jsx)(D.A,{icon:"solar:trash-bin-trash-bold"})})]})},e.id)}))}),(0,f.jsx)($.A,{sx:{mt:2,mb:1,borderStyle:"dashed"}}),(0,f.jsx)(d.A,{spacing:3,mb:2,direction:{xs:"column",md:"row"},justifyContent:"flex-end",alignItems:{xs:"flex-end",md:"center"},children:(0,f.jsx)(u.A,{size:"small",color:"primary",startIcon:(0,f.jsx)(D.A,{icon:"mingcute:add-line"}),onClick:()=>{C({service_type:null,activity:null,quantity:1,price_per_unit:0,subtotal:0,discount_amount:0,tax:0,total:0})},sx:{flexShrink:0},children:i("add item")})}),Z]})]})}var L=n(83462),O=n(4219),E=n(35316),q=n(29347);function T(e){var t,n,i,l;let{open:o,onClose:r,onSubmit:c}=e;const{watch:p,setValue:m}=(0,a.xW)(),{user:x}=(0,g.Z)(),{t:h}=(0,b.WD)(),{currentLang:v}=(0,b.jc)(),A="ar"===v.value,_=null===x||void 0===x||null===(t=x.employee)||void 0===t||null===(n=t.employee_engagements)||void 0===n||null===(i=n[null===x||void 0===x?void 0:x.employee.selected_engagement])||void 0===i?void 0:i.unit_service,w=p(),C=e=>{m(e.target.name,e.target.value),"patient_paid"===e.target.name?m("insurance_coverage_amount",w.totalAmount-e.target.value):m("patient_paid",w.totalAmount-e.target.value)};return(0,f.jsxs)(L.A,{fullWidth:!0,open:o,onClose:r,children:[(0,f.jsx)(O.A,{sx:{pb:2,textTransform:"capitalize"},children:h("payment info")}),(0,f.jsx)(E.A,{children:(0,f.jsxs)(d.A,{gap:2,children:[(0,f.jsxs)(d.A,{gap:1,children:[(0,f.jsx)(y.A,{variant:"subtitle2",children:h("amount paid by patient")}),(0,f.jsx)(j.o3,{type:"number",name:"patient_paid",onChange:C,InputProps:{startAdornment:(0,f.jsx)(S.A,{position:"start",children:(0,f.jsx)(I.A,{sx:{typography:"subtitle2",color:"text.disabled"},children:"JOD"})})}})]}),w.patient_paid>0&&(0,f.jsx)(j.b$,{row:!0,name:"payment_method",label:h("payment method"),options:[{label:h("cash"),value:"cash"},{label:h("credit card"),value:"credit_card"},{label:h("bank transfer"),value:"bank_transfer"},{label:h("instant bank transfer"),value:"instant_transfer"}]}),(0,f.jsxs)(d.A,{gap:1,children:[(0,f.jsx)(y.A,{variant:"subtitle2",children:h("amount covered by insurance")}),(0,f.jsx)(j.o3,{type:"number",name:"insurance_coverage_amount",onChange:C,InputProps:{startAdornment:(0,f.jsx)(S.A,{position:"start",children:(0,f.jsx)(I.A,{sx:{typography:"subtitle2",color:"text.disabled"},children:"JOD"})})}})]}),(0,f.jsxs)(d.A,{gap:1,children:[(0,f.jsx)(y.A,{variant:"subtitle2",children:h("insurance number")}),(0,f.jsx)(j.o3,{name:"insurance_number"})]}),(0,f.jsxs)(d.A,{gap:1,children:[(0,f.jsx)(y.A,{variant:"subtitle2",children:h("insurance company")}),(0,f.jsx)(j.j2,{lang:"ar",sx:{minWidth:200},name:"insurance_company",options:null===_||void 0===_||null===(l=_.insurance)||void 0===l?void 0:l.map((e=>e._id)),getOptionLabel:e=>{var t,n;return null===_||void 0===_||null===(t=_.insurance)||void 0===t||null===(n=t.find((t=>t._id===e)))||void 0===n?void 0:n[A?"name_arabic":"name_english"]},renderOption:(e,t,n)=>{var i,l;return(0,s.createElement)("li",{lang:"ar",...e,key:n,value:t},null===_||void 0===_||null===(i=_.insurance)||void 0===i||null===(l=i.find((e=>e._id===t)))||void 0===l?void 0:l[A?"name_arabic":"name_english"])}})]})]})}),(0,f.jsxs)(q.A,{children:[(0,f.jsx)(u.A,{variant:"outlined",color:"inherit",onClick:r,children:h("cancel")}),(0,f.jsx)(u.A,{variant:"contained",onClick:()=>{c(),r()},children:h("submit")})]})]})}var V=n(84284);function J(){const{control:e}=(0,a.xW)(),{t:t}=(0,b.WD)();return(0,f.jsxs)(d.A,{spacing:2,direction:{xs:"column",sm:"row"},sx:{p:3,bgcolor:"background.neutral"},children:[(0,f.jsx)(j.tX,{fullWidth:!0,name:"status",label:t("status"),InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},children:["paid","installment","insurance"].map((e=>(0,f.jsx)(z.A,{value:e,children:t(e)},e)))}),(0,f.jsx)(a.xI,{name:"createDate",control:e,render:e=>{let{field:n,fieldState:{error:i}}=e;return(0,f.jsx)(V.l,{label:t("invoice date"),value:n.value,onChange:e=>{n.onChange(e)},slotProps:{textField:{fullWidth:!0,error:!!i,helperText:null===i||void 0===i?void 0:i.message}}})}})]})}var F=n(94289),M=n(4080);function Z(){var e,t,n,i,l,o;const{t:r}=(0,b.WD)(),{currentLang:c}=(0,b.jc)(),p="ar"===c.value,{user:m}=(0,g.Z)(),{productsData:x}=(0,M.Wc)(null===m||void 0===m||null===(e=m.stakeholder)||void 0===e?void 0:e._id,{populate:"tax deduction"}),{control:h,setValue:v,watch:A}=(0,a.xW)(),{fields:_,append:w,remove:C,update:k}=(0,a.jz)({control:h,name:"products"}),P=A(),[L,O]=(0,s.useState)({}),[E,q]=(0,s.useState)({});(0,s.useEffect)((()=>{const e={},t={};x.forEach((n=>{const i=P.products.filter((e=>e.product===n._id));i.length&&i.forEach((i=>{var l;const a=null===n||void 0===n||null===(l=n.tax)||void 0===l?void 0:l._id,s=(n.tax?n.tax.percentage:0)/100*(i.price_per_unit*i.quantity-i.discount_amount);if(s){var o,r;if(!e[a])e[a]={name:p?null===n||void 0===n||null===(o=n.tax)||void 0===o?void 0:o.name_arabic:null===(r=n.tax)||void 0===r?void 0:r.name_english,value:0};e[a].value+=s}if(n.deduction){var d;const e=null===n||void 0===n||null===(d=n.deduction)||void 0===d?void 0:d._id,l=(n.deduction?n.deduction.percentage:0)/100*(i.price_per_unit*i.quantity-i.discount_amount);var c,u;if(!t[e])t[e]={name:p?null===(c=n.deduction)||void 0===c?void 0:c.name_arabic:null===(u=n.deduction)||void 0===u?void 0:u.name_english,value:0};t[e].value+=l}}))})),O(e),q(t)}),[P,x,p]);const T=(0,s.useMemo)((()=>Object.keys(L).map((e=>({name:L[e].name,value:L[e].value})))),[L]),V=(0,s.useMemo)((()=>Object.keys(E).map((e=>({name:E[e].name,value:E[e].value})))),[E]);(0,s.useEffect)((()=>{k()}),[P.products.length,k]);const J=null===(t=P.products)||void 0===t?void 0:t.reduce(((e,t)=>e+t.subtotal),0),Z=null===(n=P.products)||void 0===n?void 0:n.reduce(((e,t)=>e+t.discount_amount),0),R=null===(i=P.products)||void 0===i?void 0:i.reduce(((e,t)=>e+t.tax/100*(t.subtotal-t.discount_amount)),0),B=null===(l=P.products)||void 0===l?void 0:l.reduce(((e,t)=>e+t.deduction/100*(t.subtotal-t.discount_amount)),0),N=null===(o=P.products)||void 0===o?void 0:o.reduce(((e,t)=>e+t.total),0);(0,s.useEffect)((()=>{v("subtotal",J)}),[J,v]),(0,s.useEffect)((()=>{v("discount",Z)}),[Z,v]),(0,s.useEffect)((()=>{v("taxes",R)}),[R,v]),(0,s.useEffect)((()=>{v("deduction",B)}),[B,v]),(0,s.useEffect)((()=>{v("totalAmount",N)}),[N,v]);const G=(0,s.useCallback)(((e,t)=>{var n,i;const l=null===x||void 0===x?void 0:x.find((e=>e._id===t));v(`products[${e}].price_per_unit`,null===l||void 0===l?void 0:l.price),v(`products[${e}].subtotal`,P.products[e].quantity*P.products[e].price_per_unit),v(`products[${e}].tax`,(null===l||void 0===l||null===(n=l.tax)||void 0===n?void 0:n.percentage)||0),v(`products[${e}].deduction`,(null===l||void 0===l||null===(i=l.deduction)||void 0===i?void 0:i.percentage)||0);const a=P.products[e].subtotal-P.products[e].discount_amount,s=a*(P.products[e].tax/100),o=a*(P.products[e].deduction/100);v(`products[${e}].total`,a+s+o)}),[v,P.products,x]),X=(0,s.useCallback)(((e,t)=>{v(e.target.name,Number(e.target.value)),v(`products[${t}].subtotal`,P.products[t].quantity*P.products[t].price_per_unit);const n=P.products[t].subtotal-P.products[t].discount_amount,i=n*(P.products[t].tax/100),l=n*(P.products[t].deduction/100);v(`products[${t}].total`,n+i+l)}),[v,P.products]),Y=(0,f.jsx)(d.A,{spacing:2,alignItems:"flex-end",sx:{mt:3,textAlign:"right",typography:"body2"},children:[{name:"subtotal",value:P.subtotal},{name:"discount",value:-P.discount,color:"red"},...T,...V,{name:"total",value:P.totalAmount,textColor:"text.primary",typography:"subtitle1"}].map((e=>(0,f.jsxs)(d.A,{direction:"row",children:[(0,f.jsx)(I.A,{sx:{color:e.textColor||"text.secondary",typography:e.typography},children:r(e.name)}),(0,f.jsx)(I.A,{sx:{width:160,typography:"subtitle2",color:e.color},children:e.value?(0,F.KZ)(e.value):"-"})]})))});return(0,f.jsxs)(I.A,{sx:{p:3},children:[(0,f.jsxs)(y.A,{variant:"h6",sx:{color:"text.disabled",mb:3},children:[r("details"),":"]}),(0,f.jsx)(d.A,{divider:(0,f.jsx)($.A,{flexItem:!0,sx:{borderStyle:"dashed"}}),spacing:2,children:_.map(((e,t)=>(0,f.jsxs)(d.A,{alignItems:"flex-start",spacing:1.5,children:[(0,f.jsxs)(d.A,{direction:{xs:"column",md:"row"},justifyContent:"flex-end",spacing:2,sx:{width:1},children:[(0,f.jsx)(j.tX,{name:`products[${t}].product`,size:"small",label:r("product"),sx:{maxWidth:{md:300}},InputLabelProps:{shrink:!0},children:null===x||void 0===x?void 0:x.map((e=>(0,f.jsx)(z.A,{lang:"ar",value:e._id,onClick:()=>G(t,e._id),children:p?e.name_arabic:e.name_english},e._id)))}),(0,f.jsx)(j.o3,{size:"small",type:"number",name:`products[${t}].quantity`,label:r("quantity"),placeholder:"0",onChange:e=>X(e,t),InputLabelProps:{shrink:!0},sx:{maxWidth:{md:200},[`& .${W.A.input}`]:{textAlign:{md:"right"}}}}),(0,f.jsx)(j.o3,{disabled:!0,size:"small",type:"number",name:`products[${t}].price_per_unit`,label:r("price"),placeholder:"0.00",InputProps:{startAdornment:(0,f.jsx)(S.A,{position:"start",children:(0,f.jsx)(I.A,{sx:{typography:"subtitle2",color:"text.disabled"},children:"JOD"})})},sx:{maxWidth:{md:200},[`& .${W.A.input}`]:{textAlign:{md:"right"}}}}),(0,f.jsx)(j.o3,{disabled:!0,size:"small",type:"number",name:`products[${t}].subtotal`,label:r("subtotal"),placeholder:"0.00",value:0===P.products[t].subtotal?"":P.products[t].subtotal.toFixed(2),InputProps:{startAdornment:(0,f.jsx)(S.A,{position:"start",children:(0,f.jsx)(I.A,{sx:{typography:"subtitle2",color:"text.disabled"},children:"JOD"})})},sx:{maxWidth:{md:200},[`& .${W.A.input}`]:{textAlign:{md:"right"}}}}),(0,f.jsx)(I.A,{width:65})]}),(0,f.jsxs)(d.A,{direction:{xs:"column",md:"row"},justifyContent:"flex-end",spacing:2,sx:{width:1},children:[(0,f.jsx)(j.o3,{size:"small",type:"number",name:`products[${t}].discount_amount`,label:r("discount"),onChange:e=>X(e,t),InputProps:{startAdornment:(0,f.jsx)(S.A,{position:"start",children:(0,f.jsx)(I.A,{sx:{typography:"subtitle2",color:"text.disabled"},children:"JOD"})})},sx:{maxWidth:{md:200},[`& .${W.A.input}`]:{textAlign:{md:"right"}}}}),(0,f.jsx)(j.o3,{disabled:!0,size:"small",type:"number",name:`products[${t}].tax`,label:r("tax"),placeholder:"00",onChange:e=>X(e,t),InputProps:{startAdornment:(0,f.jsx)(S.A,{position:"start",children:(0,f.jsx)(I.A,{sx:{typography:"subtitle2",color:"text.disabled"},children:"%"})})},sx:{maxWidth:{md:200},[`& .${W.A.input}`]:{textAlign:{md:"right"}}}}),(0,f.jsx)(j.o3,{disabled:!0,size:"small",type:"number",name:`products[${t}].deduction`,label:r("deduction"),placeholder:"00",onChange:e=>X(e,t),InputProps:{startAdornment:(0,f.jsx)(S.A,{position:"start",children:(0,f.jsx)(I.A,{sx:{typography:"subtitle2",color:"text.disabled"},children:"%"})})},sx:{maxWidth:{md:200},[`& .${W.A.input}`]:{textAlign:{md:"right"}}}}),(0,f.jsx)(j.o3,{disabled:!0,size:"small",type:"number",name:`products[${t}].total`,label:r("total"),placeholder:"0.00",value:0===P.products[t].total?"":P.products[t].total.toFixed(2),InputProps:{startAdornment:(0,f.jsx)(S.A,{position:"start",children:(0,f.jsx)(I.A,{sx:{typography:"subtitle2",color:"text.disabled"},children:"JOD"})})},sx:{maxWidth:{md:200},[`& .${W.A.input}`]:{textAlign:{md:"right"}}}}),(0,f.jsx)(u.A,{size:"small",color:"error",onClick:()=>(e=>{C(e)})(t),children:(0,f.jsx)(D.A,{icon:"solar:trash-bin-trash-bold"})})]})]},e.id)))}),(0,f.jsx)($.A,{sx:{my:3,borderStyle:"dashed"}}),(0,f.jsx)(d.A,{spacing:3,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:(0,f.jsx)(u.A,{size:"small",color:"primary",startIcon:(0,f.jsx)(D.A,{icon:"mingcute:add-line"}),onClick:()=>{w({product:null,quantity:1,price_per_unit:0,subtotal:0,discount_amount:0,deduction:0,tax:0,total:0})},sx:{flexShrink:0},children:r("add item")})}),Y]})}var R=n(67784);function B(e){var t;let{open:n,onClose:i,onSubmit:l}=e;const{control:o,watch:r,setValue:c}=(0,a.xW)(),{t:p}=(0,b.WD)(),m=r(),{fields:x,append:h,remove:v}=(0,a.jz)({control:o,name:"payment_details"}),g=(m.patient_paid?m.patient_paid:0)+m.payment_details.reduce(((e,t)=>e+t.amount),0);(0,s.useEffect)((()=>{c("totalInstallments",g)}),[g,c]);return(0,f.jsxs)(L.A,{fullWidth:!0,maxWidth:"md",open:n,onClose:i,children:[(0,f.jsx)(O.A,{sx:{pb:2,textTransform:"capitalize"},children:p("payment info")}),(0,f.jsxs)(E.A,{children:[(0,f.jsxs)(d.A,{divider:(0,f.jsx)($.A,{flexItem:!0,sx:{borderStyle:"dashed"}}),spacing:2,paddingTop:2,children:[(0,f.jsx)(d.A,{alignItems:"flex-start",spacing:1,children:(0,f.jsxs)(d.A,{direction:{xs:"column",md:"row"},justifyContent:"flex-start",spacing:2,sx:{width:1},children:[(0,f.jsx)(R.A,{disabled:!0,fullWidth:!0,size:"small",value:p("now"),label:p("due date"),InputLabelProps:{shrink:!0}}),(0,f.jsx)(j.o3,{size:"small",type:"number",name:"patient_paid",label:p("amount"),placeholder:"0",InputLabelProps:{shrink:!0},sx:{maxWidth:{md:200}},InputProps:{startAdornment:(0,f.jsx)(S.A,{position:"start",children:(0,f.jsx)(I.A,{sx:{typography:"subtitle2",color:"text.disabled"},children:"JOD"})})}}),(0,f.jsx)(j.tX,{size:"small",name:"payment_method",label:p("payment method"),children:[{label:"cash",value:"cash"},{label:"credit card",value:"credit_card"},{label:"bank transfer",value:"bank_transfer"},{label:"instant bank transfer",value:"instant_transfer"}].map(((e,t)=>(0,f.jsx)(z.A,{value:e.value,children:p(e.label)},t)))}),(0,f.jsx)(I.A,{width:200})]})}),x.map(((e,t)=>(0,f.jsx)(d.A,{alignItems:"flex-start",spacing:1,children:(0,f.jsxs)(d.A,{direction:{xs:"column",md:"row"},justifyContent:"flex-start",spacing:2,sx:{width:1},children:[(0,f.jsx)(j.ZE,{size:"small",name:`payment_details[${t}].due_date`,label:p("due date")}),(0,f.jsx)(j.o3,{size:"small",type:"number",name:`payment_details[${t}].amount`,label:p("amount"),placeholder:"0",InputLabelProps:{shrink:!0},InputProps:{startAdornment:(0,f.jsx)(S.A,{position:"start",children:(0,f.jsx)(I.A,{sx:{typography:"subtitle2",color:"text.disabled"},children:"JOD"})})}}),(0,f.jsx)(u.A,{size:"small",color:"error",sx:{width:50},tabIndex:-1,onClick:()=>(e=>{v(e)})(t),children:(0,f.jsx)(D.A,{icon:"solar:trash-bin-trash-bold"})})]})},e.id))),(0,f.jsx)(d.A,{spacing:3,mb:2,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:(0,f.jsx)(u.A,{size:"small",color:"primary",startIcon:(0,f.jsx)(D.A,{icon:"mingcute:add-line"}),onClick:()=>{var e,t;h({due_date:(null===(e=m.payment_details)||void 0===e||null===(t=e[m.payment_details.length-1])||void 0===t?void 0:t.due_date)||new Date,amount:m.totalAmount-m.totalInstallments})},sx:{flexShrink:0},children:p("add installment")})})]}),(0,f.jsx)($.A,{}),(0,f.jsxs)(d.A,{my:1,spacing:2,direction:"row",alignItems:"center",sx:{textAlign:"right",typography:"body2"},children:[(0,f.jsxs)(d.A,{direction:"row",alignItems:"center",gap:1,children:[(0,f.jsxs)(I.A,{sx:{color:"text.secondary"},children:[p("invoice total amount"),":"]}),(0,f.jsx)(I.A,{sx:{typography:"subtitle2"},children:(0,f.jsx)(j.o3,{disabled:!0,type:"number",name:"totalAmount",size:"small",sx:{width:120},InputProps:{startAdornment:(0,f.jsx)(S.A,{position:"start",children:(0,f.jsx)(I.A,{sx:{typography:"subtitle2",color:"text.disabled"},children:"JOD"})})}})})]}),(0,f.jsxs)(d.A,{direction:"row",alignItems:"center",gap:1,children:[(0,f.jsxs)(I.A,{sx:{color:"text.secondary"},children:[p("installments total amount"),":"]}),(0,f.jsx)(I.A,{children:(0,f.jsx)(j.o3,{disabled:!0,type:"number",name:"totalInstallments",size:"small",sx:{width:120},InputProps:{startAdornment:(0,f.jsx)(S.A,{position:"start",children:(0,f.jsx)(I.A,{sx:{typography:"subtitle2",color:"text.disabled"},children:"JOD"})})}})})]}),(0,f.jsxs)(d.A,{direction:"row",alignItems:"center",gap:1,children:[(0,f.jsxs)(I.A,{sx:{color:"text.secondary"},children:[p("installments number"),":"]}),(0,f.jsx)(I.A,{children:(0,f.jsx)(j.o3,{disabled:!0,type:"number",value:null===(t=m.payment_details)||void 0===t?void 0:t.length,name:"installment_number",size:"small",sx:{width:100}})})]})]}),(0,f.jsx)($.A,{})]}),(0,f.jsxs)(q.A,{children:[(0,f.jsx)(u.A,{variant:"outlined",color:"inherit",onClick:i,children:p("cancel")}),(0,f.jsx)(u.A,{disabled:m.totalAmount!==m.totalInstallments,variant:"contained",onClick:()=>{l(),i()},children:p("submit")})]})]})}function N(e){let{currentInvoice:t}=e;const n=(0,x.rd)(),y=(0,x.ok)().get("order"),[_,C]=(0,s.useState)(),{t:k}=(0,b.WD)(),{currentLang:I}=(0,b.jc)(),$="ar"===I.value,{user:z}=(0,g.Z)(),S=(0,h.C)(),W=(0,h.C)(),D=(0,h.C)(),L=(0,h.C)(),{enqueueSnackbar:O}=(0,l.dh)(),E=i.Ik().shape({createDate:i.gl().nullable().required(k("required field")),patient:i.gl().nullable(),unit_service:i.gl().nullable(),appointment:i.gl().nullable(),entrance:i.gl().nullable(),employee:i.gl().nullable(),dueDate:i.gl().nullable(),detailedTaxes:i.lc(),products:i.RZ((()=>i.YO().of(i.Ik({product:i.Yj().required(k("required field")),deduction:i.ai(),price_per_unit:i.ai(),discount_amount:i.ai(),subtotal:i.ai(),tax:i.ai(),total:i.ai(),quantity:i.ai().required(k("required field"))})))),status:i.Yj(),taxes_type:i.Yj().nullable(),taxes:i.ai(),deduction_type:i.Yj().nullable(),deduction:i.ai(),discount:i.ai(),work_shift:i.Yj().nullable(),subtotal:i.ai(),totalAmount:i.ai()}),q=(0,s.useMemo)((()=>{var e,n,i,l,a,s;return{createDate:(null===t||void 0===t?void 0:t.created_at)||new Date,stakeholder:(null===t||void 0===t||null===(e=t.unit_service)||void 0===e?void 0:e._id)||(null===t||void 0===t?void 0:t.unit_service)||(null===z||void 0===z?void 0:z.stakeholder._id)||null,unit_service:(null===t||void 0===t||null===(n=t.unit_service)||void 0===n?void 0:n._id)||(null===t||void 0===t?void 0:t.unit_service)||(null===_||void 0===_||null===(i=_.unit_service)||void 0===i?void 0:i._id)||null,employee:(null===t||void 0===t||null===(l=t.employee)||void 0===l?void 0:l._id)||(null===t||void 0===t?void 0:t.employee)||null,patient:(null===t||void 0===t||null===(a=t.patient)||void 0===a?void 0:a._id)||(null===t||void 0===t||null===(s=t.patient)||void 0===s?void 0:s._id)||(null===_||void 0===_?void 0:_.patient)||null,dueDate:(null===t||void 0===t?void 0:t.dueDate)||null,order:(null===t||void 0===t?void 0:t.order)||y,detailedTaxes:(null===t||void 0===t?void 0:t.detailedTaxes)||!0,taxes:(null===t||void 0===t?void 0:t.taxes)||0,deduction:(null===t||void 0===t?void 0:t.Total_deduction_amount)||0,status:(null===t||void 0===t?void 0:t.status)||"paid",discount:(null===t||void 0===t?void 0:t.Total_discount_amount)||0,subtotal:(null===t||void 0===t?void 0:t.Subtotal_Amount)||0,totalAmount:(null===t||void 0===t?void 0:t.totalAmount)||0,products:(null===t||void 0===t?void 0:t.products)||(null===_||void 0===_?void 0:_.products.map((e=>{var t,n,i,l,a,s,o,r,d;const c=e.real_delieverd_quantity*e.price,u=null!==(t=e.product)&&void 0!==t&&null!==(n=t.deduction)&&void 0!==n&&n.percentage?null===(i=e.product)||void 0===i||null===(l=i.deduction)||void 0===l?void 0:l.percentage:0,p=null!==(a=e.product)&&void 0!==a&&null!==(s=a.tax)&&void 0!==s&&s.percentage?null===(o=e.product)||void 0===o||null===(r=o.tax)||void 0===r?void 0:r.percentage:0;return{product:null===(d=e.product)||void 0===d?void 0:d._id,quantity:e.real_delieverd_quantity||1,price_per_unit:e.price||0,subtotal:c||0,discount_amount:0,deduction:u||0,tax:p||0,total:c+u/100*c+p/100*c||0}})))||[{product:null,quantity:1,price_per_unit:0,subtotal:0,discount_amount:0,deduction:0,tax:0,total:0}],payment_details:(null===t||void 0===t?void 0:t.payment_details)||[]}}),[t,null===z||void 0===z?void 0:z.stakeholder,null===_||void 0===_?void 0:_.unit_service,null===_||void 0===_?void 0:_.patient,null===_||void 0===_?void 0:_.products,y]),V=(0,a.mN)({resolver:(0,o.t)(E),defaultValues:q}),{watch:F,reset:M,setValue:R,handleSubmit:N,formState:{isSubmitting:G}}=V,X=F();(0,s.useEffect)((()=>{M(q)}),[q,M]);const Y=N((async e=>{L.onTrue();try{var t,i,l;const o=await v.Ay.post(v.vZ.economec_movements.all,e);var a,s;if(M(),O(k("created successfully")),L.onFalse(),n.push(m.f.stakeholder.accounting.economicmovements.info(null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.movement._id)),null!==o&&void 0!==o&&null!==(i=o.data)&&void 0!==i&&null!==(l=i.receiptPayment)&&void 0!==l&&l._id)window.open(m.f.stakeholder.accounting.reciepts.info(null===o||void 0===o||null===(a=o.data)||void 0===a||null===(s=a.receiptPayment)||void 0===s?void 0:s._id),"_blank");console.info("DATA",JSON.stringify(e,null,2))}catch(o){O($&&`${o.arabic_message}`||`${o.message}`,{variant:"error"}),L.onFalse()}}));return(0,s.useEffect)((()=>{(async()=>{try{if(y){const{data:e}=await v.Ay.get(v.vZ.orders.one(y),{params:{select:"Service_types patient work_shift appointment",populate:[{path:"Service_types",select:"name_english name_arabic Price_per_unit"}]}});C(e)}}catch(e){console.log("entranceData",e)}})()}),[y]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.A,{maxWidth:"xl",children:(0,f.jsxs)(j.Ay,{methods:V,children:[(0,f.jsxs)(r.A,{children:[(0,f.jsx)(w,{}),X.detailedTaxes?(0,f.jsx)(Z,{}):(0,f.jsx)(P,{}),(0,f.jsx)(J,{}),"paid"===X.status&&(0,f.jsx)(d.A,{sx:{px:3,py:1},children:(0,f.jsx)(j.b$,{row:!0,name:"payment_method",label:k("payment method"),options:[{label:k("cash"),value:"cash"},{label:k("credit card"),value:"credit_card"},{label:k("bank transfer"),value:"bank_transfer"},{label:k("instant bank transfer"),value:"instant_transfer"}]})}),(0,f.jsx)(d.A,{sx:{my:2,px:2},children:(0,f.jsx)(j.o3,{name:"concept",label:k("concept")})}),(0,f.jsx)(B,{open:D.value,onClose:D.onFalse,onSubmit:Y}),(0,f.jsx)(T,{open:W.value,onClose:W.onFalse,onSubmit:Y})]}),(0,f.jsx)(d.A,{justifyContent:"flex-end",direction:"row",spacing:2,sx:{mt:3},children:(0,f.jsxs)(p.A,{size:"large",variant:"contained",disabled:!X.unit_service&&!X.patient,loading:L.value&&G,onClick:()=>{"installment"===X.status?D.onTrue():"insurance"===X.status?W.onTrue():Y()},children:[k(t?"update":"create")," & ",k("print")]})})]})}),(0,f.jsx)(A.T,{open:S.value,onClose:S.onFalse,title:k("confirm changing display option"),content:k("you will loose the all details items data"),action:(0,f.jsx)(u.A,{variant:"contained",color:"error",onClick:()=>{R("items",q.items),R("detailedTaxes",!X.detailedTaxes),S.onFalse()},children:k("confirm")})})]})}},60262:(e,t,n)=>{var i=n(99910),l=n(33279);e.exports=function(e){return e&&e.length?i(e,l):0}},83858:(e,t,n)=>{"use strict";n.d(t,{A:()=>i.A});var i=n(91720)},91720:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i=n(81e3),l=n(88446),a=n(74600),s=n(94496),o=n(22698),r=n(65381),d=n(70579);function c(e){let{link:t,activeLast:n,disabled:a}=e;const s={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...a&&!n&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},o=(0,d.jsxs)(d.Fragment,{children:[t.icon&&(0,d.jsx)(i.A,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:t.icon}),t.name]});return t.href?(0,d.jsx)(l.A,{component:r.W,href:t.href,sx:s,children:o}):(0,d.jsxs)(i.A,{sx:s,children:[" ",o," "]})}function u(e){let{links:t,action:n,heading:r,moreLink:u,activeLast:m,sx:x,...h}=e;const v=t&&t[t.length-1].name;return(0,d.jsxs)(i.A,{sx:{...x},children:[(0,d.jsxs)(a.A,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(i.A,{sx:{flexGrow:1,display:"flex",gap:{md:3},alignItems:{md:"center"},flexDirection:{xs:"column",md:"row"}},children:[r&&(0,d.jsx)(s.A,{textTransform:"capitalize",variant:"h4",gutterBottom:!0,children:r}),t&&!!t.length&&(0,d.jsx)(o.A,{separator:(0,d.jsx)(p,{}),...h,children:null===t||void 0===t?void 0:t.map(((e,t)=>(0,d.jsx)(c,{link:e,activeLast:m,disabled:e.name===v},t)))})]}),n&&(0,d.jsxs)(i.A,{sx:{flexShrink:0,textTransform:"capitalize"},children:[" ",n," "]})]}),!!u&&(0,d.jsx)(i.A,{sx:{mt:2},children:u.map(((e,t)=>(0,d.jsx)(l.A,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},t)))})]})}function p(){return(0,d.jsx)(i.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},99910:e=>{e.exports=function(e,t){for(var n,i=-1,l=e.length;++i<l;){var a=t(e[i]);void 0!==a&&(n=void 0===n?a:n+a)}return n}}}]);
//# sourceMappingURL=78800.bb79ada4.chunk.js.map