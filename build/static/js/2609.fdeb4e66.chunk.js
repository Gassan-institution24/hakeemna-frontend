"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[2609],{38563:(e,s,r)=>{r.d(s,{Z:()=>m});var n=r(68870),a=r(50533),i=r(36314),l=r(4567),t=r(93517),d=r(4419),o=r(80184);function c(e){let{link:s,activeLast:r,disabled:i}=e;const l={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...i&&!r&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},t=(0,o.jsxs)(o.Fragment,{children:[s.icon&&(0,o.jsx)(n.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:s.icon}),s.name]});return s.href?(0,o.jsx)(a.Z,{component:d.r,href:s.href,sx:l,children:t}):(0,o.jsxs)(n.Z,{sx:l,children:[" ",t," "]})}function m(e){let{links:s,action:r,heading:d,moreLink:m,activeLast:x,sx:h,...p}=e;const j=s&&s[s.length-1].name;return(0,o.jsxs)(n.Z,{sx:{...h},children:[(0,o.jsxs)(i.Z,{direction:"row",alignItems:"center",children:[(0,o.jsxs)(n.Z,{sx:{flexGrow:1,display:"flex",gap:3,alignItems:"center"},children:[d&&(0,o.jsx)(l.Z,{variant:"h4",gutterBottom:!0,children:d}),s&&!!s.length&&(0,o.jsx)(t.Z,{separator:(0,o.jsx)(u,{}),...p,children:null===s||void 0===s?void 0:s.map((e=>(0,o.jsx)(c,{link:e,activeLast:x,disabled:e.name===j},e.name||"")))})]}),r&&(0,o.jsxs)(n.Z,{sx:{flexShrink:0},children:[" ",r," "]})]}),!!m&&(0,o.jsx)(n.Z,{sx:{mt:2},children:m.map((e=>(0,o.jsx)(a.Z,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}function u(){return(0,o.jsx)(n.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},73379:(e,s,r)=>{r.d(s,{Z:()=>n.Z});var n=r(38563)},71597:(e,s,r)=>{r.r(s),r.d(s,{default:()=>x});var n=r(6907),a=r(89164),i=r(38072),l=r(19208),t=r(66833),d=r(25279),o=r(73379),c=r(55453),m=r(80184);function u(){const e=(0,d.K$)(),s=(0,l.UO)(),{id:r}=s,{data:n}=(0,t.pgb)(r);return console.log(n),(0,m.jsxs)(a.Z,{maxWidth:!e.themeStretch&&"lg",children:[(0,m.jsx)(o.Z,{heading:"Edit user",links:[{name:"dashboard",href:i.H.superadmin.root},{name:"users",href:i.H.superadmin.users.root},{name:"edit"}],sx:{mb:{xs:3,md:5}}}),n&&(0,m.jsx)(c.Z,{currentSelected:n})]})}function x(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(n.ql,{children:[(0,m.jsx)("title",{children:"edit user"}),(0,m.jsx)("meta",{name:"description",content:"meta"})]}),(0,m.jsx)(u,{})]})}},55453:(e,s,r)=>{r.d(s,{Z:()=>k});var n=r(8007),a=r(72791),i=r(61134),l=r(44695),t=r(68870),d=r(57621),o=r(36314),c=r(24308),m=r(12258),u=r(63515),x=r(82626),h=r(63466),p=r(13400),j=r(38072),Z=r(19208),g=r(22459),v=r(66664),b=r(40268),f=r(32869),y=r(26405),w=r(80184);function k(e){let{currentSelected:s}=e;const r=(0,Z.tv)(),k=(0,g.k)(),[_,S]=(0,a.useState)(),{enqueueSnackbar:C}=(0,f.Ds)(),P=n.Ry().shape({userName:n.Z_().required("userName is required"),email:n.Z_().required("email is required"),password:n.Z_(),confirmPassword:n.Z_(),role:n.Z_().required("role is required")}),q=(0,a.useMemo)((()=>({userName:(null===s||void 0===s?void 0:s.userName)||"",email:(null===s||void 0===s?void 0:s.email)||"",password:(null===s||void 0===s?void 0:s.password)||"",confirmPassword:(null===s||void 0===s?void 0:s.confirmPassword)||"",role:(null===s||void 0===s?void 0:s.role)||""})),[s]),I=(0,i.cI)({mode:"onTouched",resolver:(0,l.X)(P),defaultValues:q}),{reset:H,handleSubmit:L,formState:{isSubmitting:N}}=I,T=L((async e=>{try{s?await v.ZP.patch(v.Hv.tables.user(s._id),e):await v.ZP.post(v.Hv.auth.users,{...e,email:e.email.toLowerCase()}),H(),C(s?"Update success!":"Create success!"),r.push(j.H.superadmin.users.root)}catch(n){S("string"===typeof n?n:n.message),console.error(n)}}));return(0,w.jsx)(y.ZP,{methods:I,onSubmit:T,children:(0,w.jsx)(c.Z,{container:!0,spacing:3,children:(0,w.jsx)(c.Z,{xs:12,maxWidth:"md",children:(0,w.jsxs)(d.Z,{sx:{p:3},children:[(0,w.jsxs)(t.Z,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"},children:[!!_&&(0,w.jsx)(u.Z,{severity:"error",children:_}),(0,w.jsx)(y.au,{lang:"ar",name:"userName",label:"username"}),(0,w.jsx)(y.au,{lang:"ar",name:"email",label:"email"}),(0,w.jsxs)(y.Cc,{name:"role",label:"Role",children:[(0,w.jsx)(x.Z,{value:"admin",children:"admin"}),(0,w.jsx)(x.Z,{value:"superadmin",children:"superadmin"}),(0,w.jsx)(x.Z,{value:"employee",children:"employee"}),(0,w.jsx)(x.Z,{value:"patient",children:"patient"})]}),!s&&(0,w.jsx)(y.au,{lang:"ar",name:"password",label:"password",type:k.value?"text":"password",InputProps:{endAdornment:(0,w.jsx)(h.Z,{position:"end",children:(0,w.jsx)(p.Z,{onClick:k.onToggle,edge:"end",children:(0,w.jsx)(b.Z,{icon:k.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),!s&&(0,w.jsx)(y.au,{lang:"ar",name:"confirmPassword",label:"confirm password",type:k.value?"text":"password",InputProps:{endAdornment:(0,w.jsx)(h.Z,{position:"end",children:(0,w.jsx)(p.Z,{onClick:k.onToggle,edge:"end",children:(0,w.jsx)(b.Z,{icon:k.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}})]}),(0,w.jsx)(o.Z,{alignItems:"flex-end",sx:{mt:3},children:(0,w.jsx)(m.Z,{type:"submit",tabIndex:-1,variant:"contained",loading:N,children:s?"Save Changes":"Create One"})})]})})})})}}}]);
//# sourceMappingURL=2609.fdeb4e66.chunk.js.map