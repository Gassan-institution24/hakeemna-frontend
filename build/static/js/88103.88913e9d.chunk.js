"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[88103],{33546:(e,n,i)=>{i.d(n,{A:()=>r});var l=i(81e3),t=i(74600),a=i(90310),o=i(94496),s=i(70579);function r(e){let{title:n,imgUrl:i,action:r,filled:d,description:c,sx:m,...u}=e;return(0,s.jsxs)(t.A,{flexGrow:1,alignItems:"center",justifyContent:"center",sx:{px:3,height:1,...d&&{borderRadius:2,bgcolor:e=>(0,a.X4)(e.palette.grey[500],.04),border:e=>`dashed 1px ${(0,a.X4)(e.palette.grey[500],.08)}`},...m},...u,children:[(0,s.jsx)(l.A,{component:"img",alt:"empty content",src:i||"/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),n&&(0,s.jsx)(o.A,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:n}),c&&(0,s.jsx)(o.A,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:c}),r&&r]})}},44847:(e,n,i)=>{i.d(n,{A:()=>l.A});var l=i(33546)},74357:(e,n,i)=>{i.d(n,{A:()=>F});var l=i(80899),t=i(24858),a=i(94113),o=i(65043),s=i(18403),r=i(81e3),d=i(12110),c=i(74600),m=i(22075),u=i(17392),p=i(38246),h=i(51787),g=i(71861),v=i(94814),x=i(39336),b=i(94496),j=i(48407),y=i(67132),_=i(59229),f=i(5124),A=i(31673),w=i(91562),C=i(75139),S=i(60778),k=i(7625),P=i(35151),R=i(94857),D=i(59699),$=i(70579);function F(e){var n,i,F,I,T,q,L,W,O;let{currentTable:Y}=e;const z=(0,y.rd)(),{t:B}=(0,S.WD)(),{currentLang:E}=(0,S.jc)(),U="ar"===E.value,{user:Z}=(0,C.Z)(),{countriesData:G}=(0,k.oOq)({select:"name_english name_arabic"}),{employeeTypesData:N}=(0,k.RJ6)(),{specialtiesData:V}=(0,k.srd)({select:"name_english name_arabic"}),{departmentsData:M}=(0,k.Lhq)(null===Z||void 0===Z||null===(n=Z.employee)||void 0===n||null===(i=n.employee_engagements)||void 0===i||null===(F=i[null===Z||void 0===Z||null===(T=Z.employee)||void 0===T?void 0:T.selected_engagement])||void 0===F||null===(I=F.unit_service)||void 0===I?void 0:I._id),{enqueueSnackbar:X}=(0,R.dh)(),{handleAddNew:K}=(0,f.I)(),[H,J]=(0,o.useState)(""),Q=l.Ik().shape({department:l.Yj().nullable(),employee_type:l.Yj().required(B("required field")),email:l.Yj().required(B("required field")),name_english:l.Yj().required(B("required field")),name_arabic:l.Yj().required(B("required field")),nationality:l.Yj().required(B("required field")),address:l.Yj(),phone:l.Yj().required(B("required field")).test("is-valid-phone",B("Invalid phone number"),(e=>(0,a.l0)(e))),speciality:l.Yj().nullable(),gender:l.Yj().required(B("required field")),birth_date:l.Yj(),identification_num:l.Yj(),strict_employee:l.lc(),visibility_US_page:l.lc(),visibility_online_appointment:l.lc(),password:l.Yj().min(8,`${B("must be at least")} 8`),confirmPassword:l.Yj().oneOf([l.KR("password"),B("must be exactly as password")],B("Passwords must match")).min(8,`${B("must be at least")} 8`)}),ee=(0,o.useMemo)((()=>{var e,n,i,l,t,a;return{unit_service:(null===Y||void 0===Y||null===(e=Y.unit_service)||void 0===e?void 0:e._id)||(null===Z||void 0===Z||null===(n=Z.employee)||void 0===n||null===(i=n.employee_engagements)||void 0===i||null===(l=i[null===Z||void 0===Z?void 0:Z.employee.selected_engagement])||void 0===l?void 0:l.unit_service._id),department:(null===Y||void 0===Y||null===(t=Y.department)||void 0===t?void 0:t._id)||null,employee_type:(null===Y||void 0===Y||null===(a=Y.employee_type)||void 0===a?void 0:a._id)||"",email:(null===Y||void 0===Y?void 0:Y.email)||"",name_english:(null===Y||void 0===Y?void 0:Y.name_english)||"",name_arabic:(null===Y||void 0===Y?void 0:Y.name_arabic)||"",identification_num:(null===Y||void 0===Y?void 0:Y.identification_num)||"",nationality:(null===Y||void 0===Y?void 0:Y.nationality)||"",address:(null===Y||void 0===Y?void 0:Y.address)||"",phone:(null===Y||void 0===Y?void 0:Y.phone)||"",speciality:(null===Y||void 0===Y?void 0:Y.speciality)||null,gender:(null===Y||void 0===Y?void 0:Y.gender)||"",strict_employee:(null===Y||void 0===Y?void 0:Y.strict_employee)||!1,visibility_US_page:(null===Y||void 0===Y?void 0:Y.visibility_US_page)||!1,visibility_online_appointment:(null===Y||void 0===Y?void 0:Y.visibility_online_appointment)||!1,birth_date:(null===Y||void 0===Y?void 0:Y.birth_date)||"",password:(null===Y||void 0===Y?void 0:Y.password)||"",confirmPassword:(null===Y||void 0===Y?void 0:Y.confirmPassword)||""}}),[Y,null===Z||void 0===Z?void 0:Z.employee]),ne=(0,_.C)(),ie=(0,t.mN)({mode:"all",resolver:(0,s.t)(Q),defaultValues:ee}),{watch:le,setValue:te,reset:ae,handleSubmit:oe,formState:{isSubmitting:se,errors:re}}=ie;(0,o.useEffect)((()=>{Object.keys(re).length&&Object.keys(re).forEach(((e,n)=>{var i;return X(`${e}: ${(null===re||void 0===re||null===(i=re[e])||void 0===i?void 0:i.message)||"error"}`,{variant:"error"})}))}),[re,X]);const de=oe((async e=>{try{var n,i,l,t;const a=await A.Ay.post(A.vZ.auth.register,{role:"employee",userName:e.name_english,...e});w.A.emit("created",{data:e,user:Z,link:j.f.unitservice.employees.root,msg:`created an employee <strong>${e.name_english||""}</strong>`}),ae(),z.push(null!==(n=a.data)&&void 0!==n&&null!==(i=n.engagement)&&void 0!==i&&i._id?j.f.unitservice.employees.acl(null===(l=a.data)||void 0===l||null===(t=l.engagement)||void 0===t?void 0:t._id):j.f.unitservice.employees.root),X(B(Y?"update success!":"create success!"))}catch(a){console.error(a),X(U&&`${a.arabic_message}`||`${a.message}`,{variant:"error"}),J("string"===typeof a?a:a.message)}})),ce=(null===Z||void 0===Z||null===(q=Z.employee)||void 0===q||null===(L=q.employee_engagements)||void 0===L||null===(W=L[null===Z||void 0===Z?void 0:Z.employee.selected_engagement])||void 0===W||null===(O=W.unit_service)||void 0===O?void 0:O.employees_number)||10;return(0,$.jsx)(D.Ay,{methods:ie,onSubmit:de,children:(0,$.jsx)(m.A,{container:!0,spacing:3,children:(0,$.jsx)(m.A,{xs:12,maxWidth:"md",children:(0,$.jsxs)(d.A,{sx:{p:3},children:[!!H&&(0,$.jsx)(g.A,{sx:{mb:3},severity:"error",children:(0,$.jsx)("div",{dangerouslySetInnerHTML:{__html:H}})}),(0,$.jsxs)(r.A,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,$.jsx)(D.o3,{onChange:e=>{/^[a-zA-Z0-9\s,@#$!*_\-&^%.()]*$/.test(e.target.value)&&ie.setValue(e.target.name,e.target.value,{shouldValidate:!0})},name:"name_english",label:B("Full name in English"),helperText:B("should include title like : doctor, specialist,...")}),(0,$.jsx)(D.o3,{onChange:e=>{/^[\u0600-\u06FF0-9\s!@#$%^&*_\-().]*$/.test(e.target.value)&&ie.setValue(e.target.name,e.target.value,{shouldValidate:!0})},name:"name_arabic",label:B("Full name in Arabic"),helperText:B("should include title like : doctor, specialist,...")}),(0,$.jsx)(D.o3,{name:"identification_num",label:B("National ID number")}),(0,$.jsx)(D.u,{name:"phone",label:B("phone number")}),(0,$.jsx)(D.tX,{name:"nationality",label:B("nationality"),children:G.map(((e,n)=>(0,$.jsx)(v.A,{lang:"ar",value:e._id,children:U?e.name_arabic:e.name_english},n)))}),ce>3&&(0,$.jsxs)(D.tX,{name:"department",label:B("department"),children:[M.map(((e,n)=>(0,$.jsx)(v.A,{lang:"ar",value:e._id,children:U?e.name_arabic:e.name_english},n))),(0,$.jsx)(x.A,{}),(0,$.jsxs)(v.A,{lang:"ar",sx:{display:"flex",justifyContent:"flex-end",gap:1,fontWeight:600},onClick:()=>K(j.f.unitservice.departments.new),children:[(0,$.jsx)(b.A,{variant:"body2",sx:{color:"info.main"},children:B("Add new")}),(0,$.jsx)(P.A,{icon:"material-symbols:new-window-sharp"})]})]}),(0,$.jsx)(D.j2,{name:"employee_type",label:B("employee type"),options:N.map((e=>e._id)),getOptionLabel:e=>{var n;return null===(n=N.find((n=>n._id===e)))||void 0===n?void 0:n[U?"name_arabic":"name_english"]},renderOption:(e,n,i)=>{var l;return(0,o.createElement)("li",{lang:"ar",...e,key:i,value:n},null===(l=N.find((e=>e._id===n)))||void 0===l?void 0:l[U?"name_arabic":"name_english"])}}),(0,$.jsx)(D.j2,{name:"speciality",label:B("speciality"),options:V.map((e=>e._id)),getOptionLabel:e=>{var n;return null===(n=V.find((n=>n._id===e)))||void 0===n?void 0:n[U?"name_arabic":"name_english"]},renderOption:(e,n,i)=>{var l;return(0,o.createElement)("li",{lang:"ar",...e,key:i,value:n},null===(l=V.find((e=>e._id===n)))||void 0===l?void 0:l[U?"name_arabic":"name_english"])}}),(0,$.jsxs)(D.tX,{name:"gender",label:B("gender"),children:[(0,$.jsx)(v.A,{lang:"ar",value:"male",children:B("male")}),(0,$.jsx)(v.A,{lang:"ar",value:"female",children:B("female")})]}),(0,$.jsx)(D.SF,{sx:{px:2},name:"strict_employee",onChange:()=>te("strict_employee",!le("strict_employee")),label:(0,$.jsx)(b.A,{sx:{fontSize:12},children:B("strict account - only for my unit of service")})}),(0,$.jsx)(D.SF,{sx:{px:2},name:"visibility_US_page",onChange:()=>te("visibility_US_page",!le("visibility_US_page")),label:(0,$.jsx)(b.A,{sx:{fontSize:12},children:B("visible on online page")})}),(0,$.jsx)(D.SF,{sx:{px:2},name:"visibility_online_appointment",onChange:()=>te("visibility_online_appointment",!le("visibility_online_appointment")),label:(0,$.jsx)(b.A,{sx:{fontSize:12},children:B("visible in online appointments")})})]}),(0,$.jsxs)(r.A,{rowGap:3,columnGap:2,display:"grid",mt:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"},children:[(0,$.jsx)(D.o3,{name:"address",label:B("address")}),(0,$.jsx)(D.o3,{name:"email",label:B("email")}),(0,$.jsx)(D.o3,{name:"password",label:B("password"),type:ne.value?"text":"password",InputProps:{endAdornment:(0,$.jsx)(h.A,{position:"end",children:(0,$.jsx)(u.A,{onClick:ne.onToggle,edge:"end",children:(0,$.jsx)(P.A,{icon:ne.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,$.jsx)(D.o3,{name:"confirmPassword",label:B("confirm password"),type:ne.value?"text":"password",InputProps:{endAdornment:(0,$.jsx)(h.A,{position:"end",children:(0,$.jsx)(u.A,{onClick:ne.onToggle,edge:"end",children:(0,$.jsx)(P.A,{icon:ne.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}})]}),(0,$.jsx)(c.A,{alignItems:"flex-end",sx:{mt:3},children:(0,$.jsx)(p.A,{type:"submit",tabIndex:-1,variant:"contained",loading:se,children:B(Y?"save changes":"create")})})]})})})})}},75950:(e,n,i)=>{function l(e,n,i){return null===e[i]?1:null===n[i]||n[i]<e[i]?-1:n[i]>e[i]?1:0}function t(e,n){return"desc"===e?(e,i)=>l(e,i,n):(e,i)=>-l(e,i,n)}i.d(n,{er:()=>b,Sm:()=>u,We:()=>k,Uv:()=>_,hz:()=>t,K2:()=>o});var a=i(65043);function o(e){const[n,i]=(0,a.useState)(!(null===e||void 0===e||!e.defaultDense)),[l,t]=(0,a.useState)((null===e||void 0===e?void 0:e.defaultCurrentPage)||0),[o,s]=(0,a.useState)((null===e||void 0===e?void 0:e.defaultOrderBy)||"created_at"),[r,d]=(0,a.useState)((null===e||void 0===e?void 0:e.defaultRowsPerPage)||10),[c,m]=(0,a.useState)((null===e||void 0===e?void 0:e.defaultOrder)||"desc"),[u,p]=(0,a.useState)((null===e||void 0===e?void 0:e.defaultSelected)||[]),h=(0,a.useCallback)((e=>{""!==e&&(m(o===e&&"asc"===c?"desc":"asc"),s(e))}),[c,o]),g=(0,a.useCallback)((e=>{const n=u.includes(e)?u.filter((n=>n!==e)):[...u,e];p(n)}),[u]),v=(0,a.useCallback)((e=>{t(0),d(parseInt(e.target.value,10))}),[]),x=(0,a.useCallback)((e=>{i(e.target.checked)}),[]),b=(0,a.useCallback)(((e,n)=>{p(e?n:[])}),[]),j=(0,a.useCallback)(((e,n)=>{t(n)}),[]),y=(0,a.useCallback)((()=>{t(0)}),[]),_=(0,a.useCallback)((e=>{p([]),l&&e<2&&t(l-1)}),[l]),f=(0,a.useCallback)((e=>{let{totalRows:n,totalRowsInPage:i,totalRowsFiltered:a}=e;const o=u.length;if(p([]),l)if(o===i)t(l-1);else if(o===a)t(0);else if(o>i){const e=Math.ceil((n-o)/r)-1;t(e)}}),[l,r,u.length]);return{dense:n,order:c,page:l,orderBy:o,rowsPerPage:r,selected:u,onSelectRow:g,onSelectAllRows:b,onSort:h,onChangePage:j,onChangeDense:x,onResetPage:y,onChangeRowsPerPage:v,onUpdatePageDeleteRow:_,onUpdatePageDeleteRows:f,setPage:t,setDense:i,setOrder:m,setOrderBy:s,setSelected:p,setRowsPerPage:d}}var s=i(68738),r=i(39652),d=i(60778),c=i(44847),m=i(70579);function u(e){let{notFound:n,sx:i}=e;const{t:l}=(0,d.WD)();return(0,m.jsx)(s.A,{children:n?(0,m.jsx)(r.A,{colSpan:12,children:(0,m.jsx)(c.A,{filled:!0,title:l("No Data"),sx:{py:10,...i}})}):(0,m.jsx)(r.A,{colSpan:12,sx:{p:0}})})}var p=i(81e3),h=i(1273),g=i(84882),v=i(58093);const x={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function b(e){let{order:n,orderBy:i,rowCount:l=0,headLabel:t,numSelected:a=0,onSort:o,onSelectAllRows:c,sx:u}=e;const{t:b}=(0,d.WD)();return(0,m.jsx)(g.A,{sx:u,children:(0,m.jsxs)(s.A,{children:[c&&(0,m.jsx)(r.A,{padding:"checkbox",children:(0,m.jsx)(h.A,{indeterminate:!!a&&a<l,checked:!!l&&a===l,onChange:e=>c(e.target.checked)})}),t.map(((e,l)=>(0,m.jsx)(r.A,{align:e.align||"center",sortDirection:i===e.id&&n,sx:{width:e.width,minWidth:e.minWidth},children:o?(0,m.jsxs)(v.A,{hideSortIcon:!0,active:i===e.id,direction:i===e.id?n:"asc",onClick:()=>o(e.id),sx:{textTransform:"capitalize"},children:[b(e.label),i===e.id?(0,m.jsx)(p.A,{sx:{...x},children:"desc"===n?"sorted descending":"sorted ascending"}):null]}):b(e.label)},l)))]})})}var j=i(74600),y=i(94496);function _(e){let{dense:n,action:i,rowCount:l,numSelected:t,onSelectAllRows:a,sx:o,color:s,...r}=e;const{t:c}=(0,d.WD)();return t?(0,m.jsxs)(j.A,{direction:"row",alignItems:"center",sx:{pl:1,pr:2,top:0,left:0,width:1,zIndex:9,height:58,position:"absolute",bgcolor:`${s}.lighter`,...n&&{height:38},...o},...r,children:[(0,m.jsx)(h.A,{indeterminate:!!t&&t<l,checked:!!l&&t===l,onChange:e=>a(e.target.checked)}),(0,m.jsxs)(y.A,{variant:"subtitle2",sx:{ml:2,flexGrow:1,color:`${s}.main`,...n&&{ml:3}},children:[t," ",c("selected")]}),i&&i]}):null}var f=i(19042),A=i(72221),w=i(94814),C=i(79266),S=i(99784);function k(e){let{dense:n,count:i,page:l,onChangeDense:t,rowsPerPage:a,setPage:o,rowsPerPageOptions:s=[5,10,25,50],sx:r,...c}=e;const{t:u}=(0,d.WD)();return(0,m.jsxs)(p.A,{sx:{position:"relative",...r},children:[(0,m.jsx)(C.A,{showFirstButton:!0,showLastButton:!0,rowsPerPageOptions:s,component:"div",count:i,page:l,rowsPerPage:a,...c,sx:{borderTopColor:"transparent"}}),t&&(0,m.jsx)(S.A,{label:u("dense"),control:(0,m.jsx)(f.A,{checked:n,onChange:t}),sx:{pl:2,py:1.5,top:0,position:{sm:"absolute"}}}),o&&(0,m.jsx)(S.A,{label:u("page"),control:(0,m.jsx)(A.A,{value:l,onChange:e=>o(e.target.value),variant:"filled",sx:{height:0,width:68,mr:1,backgroundColor:"white",".MuiSelect-select":{paddingTop:1,paddingBottom:1,lineHeight:"40px"}},children:Array.from({length:Math.ceil(i/a)},((e,n)=>(0,m.jsx)(w.A,{value:n,children:n+1},n)))}),sx:{ml:18,my:2,top:5,position:{sm:"absolute"}}})]})}},83858:(e,n,i)=>{i.d(n,{A:()=>l.A});var l=i(91720)},88103:(e,n,i)=>{i.r(n),i.d(n,{default:()=>Y});var l=i(29490),t=i(68719),a=i(75139),o=i(65043),s=i(38246),r=i(94496),d=i(77224),c=i(48407),m=i(59229),u=i(60778),p=i(70074),h=i(83858),g=i(81e3),v=i(12110),x=i(71806),b=i(67784),j=i(26240),y=i(73460),_=i(77502),f=i(20698),A=i(31673),w=i(7625),C=i(94857),S=i(75950),k=i(65173),P=i.n(k),R=i(68738),D=i(39652),$=i(17392),F=i(57442),I=i(35151),T=i(70579);function q(e){let{row:n,selected:i,onEmploymentRow:l}=e;const{code:t,name_english:a,name_arabic:o,identification_num:s,email:r,phone:d,birth_date:c}=n,m=(0,T.jsxs)(R.A,{hover:!0,selected:i,children:[(0,T.jsx)(D.A,{align:"center",children:(0,T.jsx)(g.A,{children:t})}),(0,T.jsx)(D.A,{align:"center",children:a||o}),(0,T.jsx)(D.A,{align:"center",children:s}),(0,T.jsx)(D.A,{align:"center",children:r}),(0,T.jsx)(D.A,{align:"center",children:d}),(0,T.jsx)(D.A,{align:"center",children:(0,F.ts)(c)}),(0,T.jsx)(D.A,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,T.jsx)($.A,{onClick:l,children:(0,T.jsx)(I.A,{sx:{color:"success.dark"},icon:"zondicons:user-add"})})})]});return(0,T.jsx)(T.Fragment,{children:m})}function L(){var e,n,i;const{t:l}=(0,u.WD)(),{currentLang:t}=(0,u.jc)(),s="ar"===t.value,r=[{id:"code",label:l("code")},{id:"name",label:l("name")},{id:"identification_num",label:l("ID number")},{id:"email",label:l("email")},{id:"phone",label:l("phone")},{id:"birth_date",label:l("birth date")},{id:"",width:88}],{user:d}=(0,a.Z)(),c=(0,S.K2)({defaultRowsPerPage:10}),m=null===d||void 0===d||null===(e=d.employee.employee_engagements)||void 0===e||null===(n=e[null===d||void 0===d?void 0:d.employee.selected_engagement])||void 0===n?void 0:n.unit_service,[p,h]=(0,o.useState)({}),k=(0,j.A)(),{enqueueSnackbar:P}=(0,C.dh)(),{dense:R,page:D,order:$,orderBy:F,rowsPerPage:I,selected:L,onSort:W,onChangeDense:O,onChangePage:Y,onChangeRowsPerPage:z}=c,B=e=>{/^[a-zA-Z0-9\s,@#$!*_\-&^%.()]*$/.test(e.target.value)&&h((n=>({...n,[e.target.name]:e.target.value})))},{existEmployees:E}=(0,w.tZ8)({email:(null===(i=p.email)||void 0===i?void 0:i.toLowerCase())||null,identification_num:p.identification_num||null,code:p.identification_num,phone:p.identification_num,profrssion_practice_num:p.profrssion_practice_num,name_english:p.name_english,name_arabic:p.name_arabic});return(0,T.jsxs)(g.A,{children:[(0,T.jsx)(v.A,{sx:{p:3},children:(0,T.jsxs)(g.A,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(4, 1fr)"},children:[(0,T.jsx)(b.A,{onChange:e=>h((n=>({...n,[e.target.name]:e.target.value}))),type:"email",name:"email",label:l("email")}),(0,T.jsx)(b.A,{onChange:B,name:"identification_num",label:l("ID number")}),(0,T.jsx)(b.A,{onChange:B,name:"code",label:l("account code"),type:"number"}),(0,T.jsx)(b.A,{onChange:B,name:"phone",label:l("phone"),type:"number"}),(0,T.jsx)(b.A,{onChange:B,name:"profrssion_practice_num",label:l("profrssion practice number")}),(0,T.jsx)(b.A,{onChange:B,name:"name_english",label:l("Full name in English")}),(0,T.jsx)(b.A,{onChange:e=>{/^[\u0600-\u06FF0-9\s!@#$%^&*_\-().]*$/.test(e.target.value)&&h((n=>({...n,[e.target.name]:e.target.value})))},name:"name_arabic",label:l("Full name in Arabic")})]})}),(0,T.jsxs)(x.A,{size:R?"small":"medium",sx:{minWidth:960,borderCollapse:"separate",borderSpacing:"0 16px"},children:[(0,T.jsx)(S.er,{order:$,orderBy:F,headLabel:r,numSelected:L.length,onSort:W,sx:{[`& .${_.A.head}`]:{"&:first-of-type":{borderTopLeftRadius:12,borderBottomLeftRadius:12},"&:last-of-type":{borderTopRightRadius:12,borderBottomRightRadius:12}}}}),(0,T.jsxs)(y.A,{children:[E.slice(D*I,D*I+I).map(((e,n)=>(0,T.jsx)(q,{row:e,onEmploymentRow:()=>(async e=>{try{var n,i,t;const a={user:null===(n=(await A.Ay.get(A.vZ.auth.users,{params:{employee:e._id}})).data[0])||void 0===n?void 0:n._id,title:`${null===d||void 0===d||null===(i=d.employee)||void 0===i?void 0:i.name_english} want to add you to his institution ${null===m||void 0===m?void 0:m.name_english} as an employee `,title_arabic:`${null===d||void 0===d||null===(t=d.employee)||void 0===t?void 0:t.name_arabic} \u064a\u0631\u064a\u062f \u0627\u0638\u0627\u0641\u062a\u0643 \u0643\u0645\u0648\u0638\u0641 \u0641\u064a \u0645\u0646\u0634\u0623\u062a\u0647 ${null===m||void 0===m?void 0:m.name_arabic}`,category:"invite",type:"invite",onAccept:{method:"post",route:A.vZ.employee_engagements.all,body:{unit_service:null===m||void 0===m?void 0:m._id,employee:e._id}}};await A.Ay.post(`${A.vZ.notifications.all}/invite`,a),P(l("invitation sent!"))}catch(a){P(s&&`${a.arabic_message}`||`${a.message}`,{variant:"error"}),console.error(a)}})(e)},n))),(0,T.jsx)(S.Sm,{notFound:0===E.length,sx:{m:-2,borderRadius:1.5,border:`dashed 1px ${k.palette.divider}`}})]})]}),(0,T.jsx)(S.We,{count:E.length,page:D,rowsPerPage:I,onPageChange:Y,onRowsPerPageChange:z,dense:R,onChangeDense:O,sx:{[`& .${f.A.toolbar}`]:{borderTopColor:"transparent"}}})]})}q.propTypes={onEmploymentRow:P().func,row:P().object,selected:P().bool};var W=i(74357);function O(e){let{employeeData:n}=e;const{t:i}=(0,u.WD)(),{currentLang:l}=(0,u.jc)(),t="ar"===l.value,[a,g]=(0,o.useState)(1),v=(0,m.C)(!0);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(d.A,{maxWidth:"xl",children:[(0,T.jsx)(h.A,{heading:i("new employee"),links:[{name:i("dashboard"),href:c.f.unitservice.root},{name:i("employees"),href:c.f.unitservice.employees.root},{name:i("new")}],sx:{mb:{xs:3,md:5}}}),0===a&&(0,T.jsx)(L,{employeeData:n}),1===a&&(0,T.jsx)(W.A,{employeeData:n})]}),(0,T.jsx)(p.T,{open:v.value,onClose:v.onFalse,withoutCancel:!0,title:t?"\u0647\u0644 \u0644\u062f\u0649 \u0627\u0644\u0645\u0648\u0638\u0641 \u062d\u0633\u0627\u0628 \u0644\u062f\u064a\u0646\u0627\u061f":"Does the employee have an account?",content:(0,T.jsxs)(T.Fragment,{children:[t?(0,T.jsxs)(r.A,{variant:"body2",component:"p",sx:{mt:1,color:"text.disabled"},children:["\u0627\u0636\u063a\u0637",(0,T.jsx)("strong",{children:" \u0646\u0639\u0645 "})," \u0644\u0644\u0628\u062d\u062b \u0639\u0646\u0647 \u0648\u0627\u0636\u0627\u0641\u062a\u0647"]}):(0,T.jsxs)(r.A,{variant:"body2",component:"p",sx:{mt:1,color:"text.disabled"},children:["press",(0,T.jsx)("strong",{children:" yes"})," to search for it and add it"]}),t?(0,T.jsxs)(r.A,{variant:"body2",component:"p",sx:{mt:1,color:"text.disabled"},children:["\u0627\u0636\u063a\u0637",(0,T.jsx)("strong",{children:" \u0644\u0627"})," \u0644\u0625\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u062c\u062f\u064a\u062f"]}):(0,T.jsxs)(r.A,{variant:"body2",component:"p",sx:{mt:1,color:"text.disabled"},children:["press",(0,T.jsx)("strong",{children:" No"})," to create one"]})]}),action:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(s.A,{variant:"contained",color:"warning",onClick:e=>{g(0),v.onFalse(e)},children:i("yes")}),(0,T.jsx)(s.A,{variant:"contained",color:"success",onClick:e=>{g(1),v.onFalse(e)},children:i("no")})]})})]})}function Y(){var e,n,i,o,s;const{user:r}=(0,a.Z)(),d=null===r||void 0===r||null===(e=r.employee)||void 0===e||null===(n=e.employee_engagements)||void 0===n||null===(i=n[null===r||void 0===r||null===(s=r.employee)||void 0===s?void 0:s.selected_engagement])||void 0===i||null===(o=i.unit_service)||void 0===o?void 0:o.name_english;return(0,T.jsxs)(t.A,{category:"unit_service",subcategory:"employees",acl:"create",children:[(0,T.jsxs)(l.mg,{children:[(0,T.jsxs)("title",{children:[d||"unit of service"," : New Employee "]}),(0,T.jsx)("meta",{name:"description",content:"meta"})]}),(0,T.jsx)(O,{})]})}},91720:(e,n,i)=>{i.d(n,{A:()=>m});var l=i(81e3),t=i(88446),a=i(74600),o=i(94496),s=i(22698),r=i(65381),d=i(70579);function c(e){let{link:n,activeLast:i,disabled:a}=e;const o={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...a&&!i&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},s=(0,d.jsxs)(d.Fragment,{children:[n.icon&&(0,d.jsx)(l.A,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:n.icon}),n.name]});return n.href?(0,d.jsx)(t.A,{component:r.W,href:n.href,sx:o,children:s}):(0,d.jsxs)(l.A,{sx:o,children:[" ",s," "]})}function m(e){let{links:n,action:i,heading:r,moreLink:m,activeLast:p,sx:h,...g}=e;const v=n&&n[n.length-1].name;return(0,d.jsxs)(l.A,{sx:{...h},children:[(0,d.jsxs)(a.A,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(l.A,{sx:{flexGrow:1,display:"flex",gap:{md:3},alignItems:{md:"center"},flexDirection:{xs:"column",md:"row"}},children:[r&&(0,d.jsx)(o.A,{textTransform:"capitalize",variant:"h4",gutterBottom:!0,children:r}),n&&!!n.length&&(0,d.jsx)(s.A,{separator:(0,d.jsx)(u,{}),...g,children:null===n||void 0===n?void 0:n.map(((e,n)=>(0,d.jsx)(c,{link:e,activeLast:p,disabled:e.name===v},n)))})]}),i&&(0,d.jsxs)(l.A,{sx:{flexShrink:0,textTransform:"capitalize"},children:[" ",i," "]})]}),!!m&&(0,d.jsx)(l.A,{sx:{mt:2},children:m.map(((e,n)=>(0,d.jsx)(t.A,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},n)))})]})}function u(){return(0,d.jsx)(l.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}}}]);
//# sourceMappingURL=88103.88913e9d.chunk.js.map