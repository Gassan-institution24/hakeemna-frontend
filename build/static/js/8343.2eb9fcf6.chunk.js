"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[8343],{38563:(e,n,t)=>{t.d(n,{Z:()=>p});var i=t(16029),s=t(50533),o=t(53767),l=t(4567),r=t(93517),a=t(4419),d=t(80184);function c(e){let{link:n,activeLast:t,disabled:o}=e;const l={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...o&&!t&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},r=(0,d.jsxs)(d.Fragment,{children:[n.icon&&(0,d.jsx)(i.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:n.icon}),n.name]});return n.href?(0,d.jsx)(s.Z,{component:a.r,href:n.href,sx:l,children:r}):(0,d.jsxs)(i.Z,{sx:l,children:[" ",r," "]})}function p(e){let{links:n,action:t,heading:a,moreLink:p,activeLast:x,sx:h,...m}=e;const j=n&&n[n.length-1].name;return(0,d.jsxs)(i.Z,{sx:{...h},children:[(0,d.jsxs)(o.Z,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(i.Z,{sx:{flexGrow:1,display:"flex",gap:3,alignItems:"center"},children:[a&&(0,d.jsx)(l.Z,{variant:"h4",gutterBottom:!0,children:a}),n&&!!n.length&&(0,d.jsx)(r.Z,{separator:(0,d.jsx)(u,{}),...m,children:null===n||void 0===n?void 0:n.map(((e,n)=>(0,d.jsx)(c,{link:e,activeLast:x,disabled:e.name===j},n)))})]}),t&&(0,d.jsxs)(i.Z,{sx:{flexShrink:0},children:[" ",t," "]})]}),!!p&&(0,d.jsx)(i.Z,{sx:{mt:2},children:p.map(((e,n)=>(0,d.jsx)(s.Z,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},n)))})]})}function u(){return(0,d.jsx)(i.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},73379:(e,n,t)=>{t.d(n,{Z:()=>i.Z});var i=t(38563)},2540:(e,n,t)=>{t.d(n,{l2:()=>r});var i=t(82599),s=t(54690),o=t(85375),l=t(30250);function r(e,n){const t=(new Date).getFullYear(),r=e?(0,i.Z)(e):null,a=n?(0,i.Z)(n):null,d=t===r&&t===a,c=!(!e||!n)&&(0,s.Z)(new Date(e),new Date(n)),p=!(!e||!n)&&(0,o.Z)(new Date(e),new Date(n));return d?p?c?(0,l.Mu)(n,"dd MMM yy"):"".concat((0,l.Mu)(e,"dd")," - ").concat((0,l.Mu)(n,"dd MMM yy")):"".concat((0,l.Mu)(e,"dd MMM")," - ").concat((0,l.Mu)(n,"dd MMM yy")):"".concat((0,l.Mu)(e,"dd MMM yy")," - ").concat((0,l.Mu)(n,"dd MMM yy"))}t(80184);t(72791)},27356:(e,n,t)=>{t.d(n,{Z:()=>a});var i=t(16029),s=t(53767),o=t(12065),l=t(4567),r=t(80184);function a(e){let{title:n,imgUrl:t,action:a,filled:d,description:c,sx:p,...u}=e;return(0,r.jsxs)(s.Z,{flexGrow:1,alignItems:"center",justifyContent:"center",sx:{px:3,height:1,...d&&{borderRadius:2,bgcolor:e=>(0,o.Fq)(e.palette.grey[500],.04),border:e=>"dashed 1px ".concat((0,o.Fq)(e.palette.grey[500],.08))},...p},...u,children:[(0,r.jsx)(i.Z,{component:"img",alt:"empty content",src:t||"/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),n&&(0,r.jsx)(l.Z,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:n}),c&&(0,r.jsx)(l.Z,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:c}),a&&a]})}},31092:(e,n,t)=>{t.d(n,{Z:()=>i.Z});var i=t(27356)},78343:(e,n,t)=>{t.r(n),t.d(n,{default:()=>de});var i=t(6907),s=t(19208),o=t(76119),l=t(35456),r=t(45812),a=t.n(r),d=t(18111),c=t.n(d),p=t(72791),u=t(53767),x=t(10266),h=t(38072),m=t(22459),j=t(30250),v=t(50403),y=t(31092),g=t(25279),Z=t(73379),_=t(16029),b=t(44369),f=t(86414),w=t(66664),C=t(16386),k=t(50533),O=t(57621),S=t(13838),M=t(93044),D=t(94721),T=t(82626),I=t(4567),L=t(49900),F=t(4419),q=t(40268),E=t(24845),P=t(80184);function R(e){var n,t;let{appointment:i,onBook:s,onView:o,onEdit:l,onDelete:r}=e;const a=(0,E.S)(),[d,c]=(0,p.useState)(),{_id:x,code:m,unit_service:j,appointment_type:v,payment_method:y,start_time:g}=i;return(0,p.useEffect)((()=>{if(null!==j&&void 0!==j&&j.insurance){const e=j.insurance.map(((e,n)=>e.name_english));c(e)}}),[j]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(O.Z,{children:[(0,P.jsxs)(u.Z,{sx:{p:3,pb:2},children:[(0,P.jsx)(M.Z,{alt:null===j||void 0===j?void 0:j.name_english,src:null===j||void 0===j?void 0:j.company_log,variant:"rounded",sx:{width:48,height:48,mb:2}}),(0,P.jsx)(L.Z,{primary:(0,P.jsx)(k.Z,{component:F.r,href:h.H.dashboard.job.details(x),color:"inherit",children:d}),secondary:(0,P.jsx)(k.Z,{component:F.r,href:h.H.dashboard.job.details(x),color:"inherit",children:null===j||void 0===j?void 0:j.name_english}),primaryTypographyProps:{typography:"subtitle1"},secondaryTypographyProps:{mt:1,component:"span",typography:"caption",color:"text.disabled"}}),(0,P.jsx)(u.Z,{spacing:.5,direction:"row",alignItems:"center",sx:{typography:"caption"},children:(0,P.jsx)(L.Z,{primary:new Date(g).toLocaleTimeString("en-US",{timeZone:null===j||void 0===j||null===(n=j.country)||void 0===n?void 0:n.time_zone,hour:"2-digit",minute:"2-digit"}),secondary:new Date(g).toLocaleDateString("en-US",{timeZone:(null===j||void 0===j||null===(t=j.country)||void 0===t?void 0:t.time_zone)||Intl.DateTimeFormat().resolvedOptions().timeZone}),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,P.jsxs)(u.Z,{spacing:.5,direction:"row",alignItems:"center",sx:{color:"primary.main",typography:"caption"},children:[(0,P.jsx)(q.Z,{width:16,icon:"ic:baseline-tag"}),m]})]}),(0,P.jsx)(D.Z,{sx:{borderStyle:"dashed"}}),(0,P.jsxs)(_.Z,{rowGap:1.5,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",sx:{p:3,justifyContent:"space-between"},children:[[{label:(0,C.Z)(new Date(g),"p"),icon:(0,P.jsx)(q.Z,{width:16,icon:"icon-park-solid:time",sx:{flexShrink:0}})},{label:d,icon:(0,P.jsx)(q.Z,{width:16,icon:"medical-icon:health-services",sx:{flexShrink:0}})},{label:null===v||void 0===v?void 0:v.name_english,icon:(0,P.jsx)(q.Z,{width:16,icon:"fa-solid:file-medical-alt",sx:{flexShrink:0}})},{label:null===y||void 0===y?void 0:y.name_english,icon:(0,P.jsx)(q.Z,{width:16,icon:"streamline:payment-10-solid",sx:{flexShrink:0}})}].map(((e,n,t)=>(0,P.jsxs)(u.Z,{spacing:.5,flexShrink:0,direction:"row",alignItems:"center",sx:{color:"text.disabled",minWidth:0},children:[e.icon,(0,P.jsx)(I.Z,{variant:"caption",noWrap:!0,children:e.label})]},t))),(0,P.jsx)(S.Z,{onClick:s,sx:{mt:3,width:100},variant:"outlined",color:"success",children:"Book"})]})]}),(0,P.jsxs)(E.Z,{open:a.open,onClose:a.onClose,arrow:"right-top",sx:{width:140},children:[(0,P.jsxs)(T.Z,{onClick:()=>{a.onClose(),o()},children:[(0,P.jsx)(q.Z,{icon:"solar:eye-bold"}),"View"]}),(0,P.jsxs)(T.Z,{onClick:()=>{a.onClose(),l()},children:[(0,P.jsx)(q.Z,{icon:"solar:pen-bold"}),"Edit"]}),(0,P.jsxs)(T.Z,{onClick:()=>{a.onClose(),r()},sx:{color:"error.main"},children:[(0,P.jsx)(q.Z,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})]})}function z(e){let{patientData:n,appointments:t,refetch:i}=e;const o=(0,s.tv)(),l=(0,p.useCallback)((e=>{o.push(h.H.dashboard.job.details(e))}),[o]),r=(0,p.useCallback)((async e=>{await w.ZP.patch("".concat(w.Hv.appointments.one(e),"/book"),{patient:n._id}),i()}),[n._id,i]),a=(0,p.useCallback)((e=>{o.push(h.H.dashboard.job.edit(e))}),[o]),d=(0,p.useCallback)((e=>{console.info("DELETE",e)}),[]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(_.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:t.map(((e,n)=>(0,P.jsx)(R,{appointment:e,onBook:()=>r(e._id),onView:()=>l(e._id),onEdit:()=>a(e._id),onDelete:()=>d(e._id)},n)))}),t.length>8&&(0,P.jsx)(b.Z,{count:8,sx:{mt:8,["& .".concat(f.Z.ul)]:{justifyContent:"center"}}})]})}function B(e){let{sort:n,onSort:t,sortOptions:i}=e;const s=(0,E.S)();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(S.Z,{disableRipple:!0,color:"inherit",onClick:s.onOpen,endIcon:(0,P.jsx)(q.Z,{icon:s.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold"},children:["Sort By:",(0,P.jsx)(_.Z,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold",textTransform:"capitalize"},children:n})]}),(0,P.jsx)(E.Z,{open:s.open,onClose:s.onClose,sx:{width:140},children:i.map(((e,i)=>(0,P.jsx)(T.Z,{selected:e.value===n,onClick:()=>{s.onClose(),t(e.value)},children:e.label},i)))})]})}var H=t(48550),W=t(32695),A=t(63466),U=t(72043);function G(e){let{query:n,results:t,onSearch:i,hrefItem:s}=e;return(0,P.jsx)(W.Z,{sx:{width:{xs:1,sm:260}},autoHighlight:!0,popupIcon:null,options:t.map(((e,n)=>e)),onInputChange:(e,n)=>i(n),getOptionLabel:e=>e._id,noOptionsText:(0,P.jsx)(U.Z,{query:n,sx:{bgcolor:"unset"}}),isOptionEqualToValue:(e,n)=>e._id===n._id,renderInput:e=>(0,P.jsx)(H.Z,{...e,placeholder:"Search...",InputProps:{...e.InputProps,startAdornment:(0,P.jsx)(A.Z,{position:"start",children:(0,P.jsx)(q.Z,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})})}})})}var V=t(1503),N=t(9584),J=t(46128),K=t(20068),Y=t(13400),$=t(17003),Q=t(25801),X=t(10261);function ee(e){let{open:n,onOpen:t,onClose:i,filters:s,onFilters:o,canReset:l,onResetFilters:r,insuranseCosData:a,paymentMethodsOptions:d,departmentsData:c,countriesOptions:x,citiesOptions:h,unitServicesOptions:m,appointmentTypeOptions:j,dateError:v}=e;const y=(0,p.useCallback)((e=>{o("appointtypes",e)}),[o]),g=(0,p.useCallback)((e=>{o("payment_methods",e)}),[o]),Z=(0,p.useCallback)((e=>{o("countries",e)}),[o]),_=(0,p.useCallback)((e=>{o("insurance",e.target.value)}),[o]),b=(0,p.useCallback)((e=>{o("unitServices",e)}),[o]),f=(0,p.useCallback)((e=>{o("start_date",e)}),[o]),w=(0,p.useCallback)((e=>{o("end_date",e)}),[o]),C=(0,P.jsxs)(u.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2,pr:1,pl:2.5},children:[(0,P.jsx)(I.Z,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),(0,P.jsx)(K.Z,{title:"Reset",children:(0,P.jsx)(Y.Z,{onClick:r,children:(0,P.jsx)(N.Z,{color:"error",variant:"dot",invisible:!l,children:(0,P.jsx)(q.Z,{icon:"solar:restart-bold"})})})}),(0,P.jsx)(Y.Z,{onClick:i,children:(0,P.jsx)(q.Z,{icon:"mingcute:close-line"})})]}),k=(0,P.jsxs)(u.Z,{children:[(0,P.jsx)(I.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Time"}),(0,P.jsxs)(u.Z,{spacing:2.5,children:[(0,P.jsx)($.M,{label:"From",value:s.start_date,onChange:f}),(0,P.jsx)($.M,{label:"To",value:s.end_date,onChange:w,slotProps:{textField:{error:v,helperText:v&&"To time must be later than start date"}}})]})]}),O=(0,P.jsxs)(u.Z,{children:[(0,P.jsx)(I.Z,{variant:"subtitle2",sx:{mb:1},children:"Payment Methods"}),d.map(((e,n)=>(0,P.jsx)(Q.Z,{control:(0,P.jsx)(V.Z,{checked:e._id===s.payment_methods,onClick:()=>g(e._id)}),label:e.name_english,sx:{..."all"===e&&{textTransform:"capitalize"}}},n)))]}),M=(0,P.jsxs)(u.Z,{children:[(0,P.jsx)(I.Z,{variant:"subtitle2",sx:{mb:1},children:"Appointment Types"}),j.map(((e,n)=>(0,P.jsx)(Q.Z,{control:(0,P.jsx)(V.Z,{checked:e._id===s.appointtypes,onClick:()=>y(e._id)}),label:e.name_english,sx:{..."all"===e&&{textTransform:"capitalize"}}},n)))]}),T=(0,P.jsxs)(u.Z,{children:[(0,P.jsx)(I.Z,{variant:"subtitle2",sx:{mb:1},children:"Countries"}),(0,P.jsx)("select",{onChange:Z,name:"country",label:"country",children:null===x||void 0===x?void 0:x.map(((e,n)=>(0,P.jsx)("option",{value:e._id,children:null===e||void 0===e?void 0:e.name_english},n)))})]}),L=(0,P.jsxs)(u.Z,{children:[(0,P.jsx)(I.Z,{variant:"subtitle2",sx:{mb:1},children:"insurance"}),(0,P.jsx)("select",{onChange:_,name:"insurance",label:"insurance",children:null===a||void 0===a?void 0:a.map(((e,n,t)=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("option",{}),(0,P.jsx)("option",{value:e._id,children:null===e||void 0===e?void 0:e.name_english},t)]})))})]}),F=(0,P.jsxs)(u.Z,{children:[(0,P.jsx)(I.Z,{variant:"subtitle2",sx:{mb:1},children:"Unit services"}),m.map(((e,n)=>(0,P.jsx)(Q.Z,{control:(0,P.jsx)(V.Z,{checked:e._id===s.unitServices,onClick:()=>b(e._id)}),label:e.name_english,sx:{..."all"===e&&{textTransform:"capitalize"}}},n)))]});return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(S.Z,{disableRipple:!0,color:"inherit",endIcon:(0,P.jsx)(N.Z,{color:"error",variant:"dot",invisible:!l,children:(0,P.jsx)(q.Z,{icon:"ic:round-filter-list"})}),onClick:t,children:"Filters"}),(0,P.jsxs)(J.ZP,{anchor:"right",open:n,onClose:i,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:280}},children:[C,(0,P.jsx)(D.Z,{}),(0,P.jsx)(X.Z,{sx:{px:2.5,py:3},children:(0,P.jsxs)(u.Z,{spacing:3,children:[k,F,T,L,M,O]})})]})]})}var ne=t(85771),te=t(27938),ie=t(2540);function se(e){let{filters:n,onFilters:t,canReset:i,onResetFilters:s,results:o,paymentMethodsOptions:l,countriesOptions:r,citiesOptions:a,unitServicesOptions:d,appointmentTypeOptions:c,...p}=e;const x=(0,ie.l2)(n.start_date,n.end_date);return(0,P.jsxs)(u.Z,{spacing:1.5,...p,children:[(0,P.jsxs)(_.Z,{sx:{typography:"body2"},children:[(0,P.jsx)("strong",{children:o}),(0,P.jsx)(_.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,P.jsxs)(u.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[n.start_date&&n.end_date&&(0,P.jsx)(oe,{label:"Time:",children:(0,P.jsx)(ne.Z,{size:"small",label:x,onDelete:()=>{t("start_date",null),t("end_date",null)}})}),"all"!==n.appointtypes&&(0,P.jsx)(oe,{label:"Appointment Types:",children:(0,P.jsx)(ne.Z,{size:"small",label:c.filter((e=>e._id===n.appointtypes))[0].name_english,onDelete:()=>{t("appointtypes","all")}})}),"all"!==n.payment_methods&&(0,P.jsx)(oe,{label:"Payment Methods:",children:(0,P.jsx)(ne.Z,{size:"small",label:l.filter((e=>e._id===n.payment_methods))[0].name_english,onDelete:()=>{t("payment_methods","all")}})}),"all"!==n.countries&&(0,P.jsx)(oe,{label:"Countries:",children:(0,P.jsx)(ne.Z,{size:"small",label:r.filter((e=>e._id===n.countries))[0].name_english,onDelete:()=>{t("countries","all")}})}),"all"!==n.unitServices&&(0,P.jsx)(oe,{label:"Unit Services:",children:(0,P.jsx)(ne.Z,{size:"small",label:d.filter((e=>e._id===n.unitServices))[0].name_english,onDelete:()=>{t("unitServices","all")}})}),i&&(0,P.jsx)(S.Z,{color:"error",onClick:s,startIcon:(0,P.jsx)(q.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}function oe(e){let{label:n,children:t,sx:i,...s}=e;return(0,P.jsxs)(u.Z,{component:te.Z,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...i},...s,children:[(0,P.jsx)(_.Z,{component:"span",sx:{typography:"subtitle2"},children:n}),(0,P.jsx)(u.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:t})]})}const le={unitServices:"all",countries:"all",start_date:null,end_date:null,appointtypes:"all",payment_methods:"all"};function re(e){let{patientData:n}=e;const t=(0,g.K$)(),{t:i}=(0,v.qM)(),s=(0,m.k)(),[l,r]=(0,p.useState)("latest"),[a,d]=(0,p.useState)({query:"",results:[]}),{appointmentsData:j,refetch:_}=(0,o.zdE)(),{countriesData:b}=(0,o.Rpj)(),{tableData:f}=(0,o.Sf8)(),{unitservicesData:w}=(0,o.BCj)(),{appointmenttypesData:C}=(0,o.o5E)(),{paymentMethodsData:k}=(0,o.w5Z)(),[O,S]=(0,p.useState)(le),M=!(!O.Offer_start_date||!O.Offer_end_date)&&O.Offer_start_date.getTime()>O.Offer_end_date.getTime(),D=ae({inputData:j,filters:O,sortBy:l,dateError:M}),T=!c()(le,O),I=!D.length,L=(0,p.useCallback)(((e,n)=>{S((t=>({...t,[e]:n})))}),[]),F=(0,p.useCallback)((e=>{r(e)}),[]),q=(0,p.useCallback)((e=>{if(d((n=>({...n,query:e}))),e){const e=j.filter((e=>{var n,t,i,s;return e.name_english&&-1!==(null===(n=e.name_english)||void 0===n?void 0:n.toLowerCase().indexOf(a.query.toLowerCase()))||e.name_arabic&&-1!==(null===(t=e.name_arabic)||void 0===t?void 0:t.toLowerCase().indexOf(a.query.toLowerCase()))||e.unit_service&&-1!==(null===(i=e.unit_service.name_english)||void 0===i?void 0:i.toLowerCase().indexOf(a.query.toLowerCase()))||e.unit_service&&-1!==(null===(s=e.unit_service.name_arabic)||void 0===s?void 0:s.toLowerCase().indexOf(a.query.toLowerCase()))||e.work_group&&e.work_group.employees&&e.work_group.employees.some((e=>{var n;return-1!==(null===(n=e.name_english)||void 0===n?void 0:n.toLowerCase().indexOf(a.query.toLowerCase()))}))||e.work_group&&e.work_group.employees&&e.work_group.employees.some((e=>{var n;return-1!==(null===(n=e.last_name)||void 0===n?void 0:n.toLowerCase().indexOf(a.query.toLowerCase()))}))||e.work_group&&e.work_group.employees&&e.work_group.employees.some((e=>{var n;return-1!==(null===(n=e.name_arabic)||void 0===n?void 0:n.toLowerCase().indexOf(a.query.toLowerCase()))}))||(null===e||void 0===e?void 0:e._id)===a.query.toLowerCase()||JSON.stringify(e.code)===a.query.toLowerCase()}));d((n=>({...n,results:e})))}}),[a.query,j]),E=(0,p.useCallback)((()=>{S(le)}),[]),R=(0,P.jsxs)(u.Z,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[(0,P.jsx)(G,{query:a.query,results:a.results,onSearch:q,hrefItem:e=>h.H.dashboard.job.details(e)}),(0,P.jsxs)(u.Z,{direction:"row",spacing:1,flexShrink:0,children:[(0,P.jsx)(ee,{open:s.value,onOpen:s.onTrue,onClose:s.onFalse,filters:O,onFilters:L,canReset:T,onResetFilters:E,countriesOptions:b,citiesOptions:f,unitServicesOptions:w,appointmentTypeOptions:C,paymentMethodsOptions:k,dateError:M}),(0,P.jsx)(B,{sort:l,onSort:F,sortOptions:[{value:"latest",label:"Latest"},{value:"oldest",label:"Oldest"}]})]})]}),H=(0,P.jsx)(se,{countriesOptions:b,citiesOptions:f,unitServicesOptions:w,appointmentTypeOptions:C,paymentMethodsOptions:k,filters:O,onResetFilters:E,canReset:T,onFilters:L,results:D.length});return(0,P.jsxs)(x.Z,{maxWidth:!t.themeStretch&&"lg",children:[(0,P.jsx)(Z.Z,{heading:"Book Appointment",links:[{name:"dashboard",href:h.H.superadmin.root},{name:i("patients"),href:h.H.superadmin.patients.root},{name:"History",href:h.H.superadmin.patients.history.root(n._id)},{name:i("appointments")}],sx:{mb:{xs:3,md:5}}}),(0,P.jsxs)(u.Z,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[R,T&&H]}),I&&(0,P.jsx)(y.Z,{filled:!0,title:"No Data",sx:{py:10}}),(0,P.jsx)(z,{patientData:n,refetch:_,appointments:D})]})}const ae=e=>{let{inputData:n,filters:t,sortBy:i,dateError:s}=e;const{appointtypes:o,payment_methods:l,start_date:r,end_date:d,unitServices:c,countries:p}=t;return"latest"===i&&(n=a()(n,["start_time"],["desc"])),"oldest"===i&&(n=a()(n,["start_time"],["asc"])),"all"!==o&&(n=n.filter((e=>{var n;return(null===e||void 0===e||null===(n=e.appointment_type)||void 0===n?void 0:n._id)===o}))),"all"!==l&&(n=n.filter((e=>{var n;return(null===e||void 0===e||null===(n=e.payment_method)||void 0===n?void 0:n._id)===l}))),s||r&&d&&(n=n.filter((e=>(0,j.IO)(e.start_time)>=(0,j.IO)(r)&&(0,j.IO)(e.end_time)<=(0,j.IO)(d)))),"all"!==c&&(n=n.filter((e=>{var n;return(null===e||void 0===e||null===(n=e.unit_service)||void 0===n?void 0:n._id)===c}))),"all"!==p&&(n=n.filter((e=>{var n;return(null===e||void 0===e||null===(n=e.unit_service)||void 0===n?void 0:n.country)===p}))),n};function de(){const e=(0,s.UO)(),{id:n}=e,{data:t,loading:r}=(0,o.Eut)(n),a=(null===t||void 0===t?void 0:t.first_name)&&(null===t||void 0===t?void 0:t.last_name)&&"".concat(null===t||void 0===t?void 0:t.first_name," ").concat(null===t||void 0===t?void 0:t.last_name)||(null===t||void 0===t?void 0:t.first_name)&&(null===t||void 0===t?void 0:t.first_name)||(null===t||void 0===t?void 0:t.last_name)&&(null===t||void 0===t?void 0:t.last_name)||"Patient";return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(i.ql,{children:[(0,P.jsxs)("title",{children:[" ",a,": Book an appointment "]}),(0,P.jsx)("meta",{name:"description",content:"meta"})]}),r&&(0,P.jsx)(l.a,{}),!r&&(0,P.jsx)(re,{patientData:t})]})}}}]);
//# sourceMappingURL=8343.2eb9fcf6.chunk.js.map