{"version":3,"file":"static/js/372.bb5104a6.chunk.js","mappings":"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","sources":["pages/dashboard/user/newmember.jsx"],"sourcesContent":["import * as Yup from 'yup';\r\nimport { useState } from 'react';\r\nimport { useForm, Controller } from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\n\r\nimport { Box } from '@mui/system';\r\nimport Alert from '@mui/material/Alert';\r\nimport Stack from '@mui/material/Stack';\r\nimport { DatePicker } from '@mui/x-date-pickers';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport LoadingButton from '@mui/lab/LoadingButton';\r\nimport { MenuItem, Typography } from '@mui/material';\r\nimport InputAdornment from '@mui/material/InputAdornment';\r\n\r\nimport { paths } from 'src/routes/paths';\r\nimport { useRouter } from 'src/routes/hooks';\r\n\r\nimport { useBoolean } from 'src/hooks/use-boolean';\r\n\r\nimport { useTranslate } from 'src/locales';\r\nimport { useAuthContext } from 'src/auth/hooks';\r\nimport { useGetCountries, useGetCountryCities } from 'src/api';\r\n\r\nimport Image from 'src/components/image';\r\nimport Iconify from 'src/components/iconify';\r\nimport FormProvider, { RHFSelect, RHFTextField } from 'src/components/hook-form';\r\n\r\nexport default function Create() {\r\n  const { countriesData } = useGetCountries();\r\n  const { register } = useAuthContext();\r\n  const { t } = useTranslate();\r\n  const router = useRouter();\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const { user } = useAuthContext();\r\n  const password = useBoolean();\r\n  const RegisterSchema = Yup.object().shape({\r\n    name_english: Yup.string().required('english name required'),\r\n    name_arabic: Yup.string().required('arabic name required'),\r\n    email: Yup.string().required('Email is required').email('Email must be a valid email address'),\r\n    password: Yup.string().required('Password is required'),\r\n    confirmPassword: Yup.string()\r\n      .oneOf([Yup.ref('password'), null], 'Passwords must match')\r\n      .min(8, 'Confirm password must be at least 8 characters'),\r\n    identification_num: Yup.string().required('Identification number is required'),\r\n    birth_date: Yup.date().required('birth_date is required'),\r\n    gender: Yup.string().required('Gender is required'),\r\n    country: Yup.string().required('Country is required'),\r\n    nationality: Yup.string().required('Nationality is required'),\r\n    city: Yup.string().required('City is required'),\r\n  });\r\n\r\n  const defaultValues = {\r\n    name_english: '',\r\n    name_arabic: '',\r\n    email: '',\r\n    nationality: '',\r\n    family_members: user?.patient?._id,\r\n    password: '',\r\n    confirmPassword: '',\r\n    birth_date: '',\r\n    identification_num: '',\r\n    gender: '',\r\n    country: null,\r\n    city: null,\r\n  };\r\n\r\n  const methods = useForm({\r\n    mode: 'onTouched',\r\n    resolver: yupResolver(RegisterSchema),\r\n    defaultValues,\r\n  });\r\n\r\n  const {\r\n    reset,\r\n    watch,\r\n    control,\r\n    handleSubmit,\r\n    formState: { isSubmitting },\r\n  } = methods;\r\n\r\n  const values = watch();\r\n\r\n  const { tableData } = useGetCountryCities(values.country);\r\n\r\n  const handleArabicInputChange = (event) => {\r\n    // Validate the input based on Arabic language rules\r\n    const arabicRegex = /^[\\u0600-\\u06FF0-9\\s!@#$%^&*_\\-()]*$/; // Range for Arabic characters\r\n    if (arabicRegex.test(event.target.value)) {\r\n      methods.setValue(event.target.name, event.target.value, { shouldValidate: true });\r\n    }\r\n  };\r\n\r\n  const handleEnglishInputChange = (event) => {\r\n    // Validate the input based on English language rules\r\n    const englishRegex = /^[a-zA-Z0-9\\s,@#$!*_\\-&^%.()]*$/; // Only allow letters and spaces\r\n\r\n    if (englishRegex.test(event.target.value)) {\r\n      methods.setValue(event.target.name, event.target.value, { shouldValidate: true });\r\n    }\r\n  };\r\n  const handleCountryChange = (event) => {\r\n    const selectedCountryId = event.target.value;\r\n    methods.setValue('country', selectedCountryId, { shouldValidate: true });\r\n  };\r\n  const handleNationalityChange = (event) => {\r\n    const selectedCountryId = event.target.value;\r\n    methods.setValue('nationality', selectedCountryId, { shouldValidate: true });\r\n  };\r\n\r\n  const onSubmit = handleSubmit(async (data) => {\r\n    try {\r\n      await register?.({ userName: `${data.name_english}`, ...data });\r\n      router.push(paths.dashboard.user.exist);\r\n    } catch (error) {\r\n      console.error(error);\r\n      reset();\r\n      setErrorMsg(typeof error === 'string' ? error : error.message);\r\n    }\r\n  });\r\n  return (\r\n    <FormProvider methods={methods} onSubmit={onSubmit}>\r\n      <Box sx={{ display: 'flex', flexDirection: { md: 'row', xs: 'column' } }}>\r\n        <Stack spacing={2.5} sx={{ width: { md: '50%', xs: '80%' }, ml: 5, mt: 5, mr: 15 }}>\r\n          {!!errorMsg && <Alert severity=\"error\">{errorMsg}</Alert>}\r\n          <Typography\r\n            variant=\"h3\"\r\n            sx={{ textAlign: 'center', display: { md: 'none', xs: 'block' } }}\r\n          >\r\n            {t('Add Account')}\r\n          </Typography>\r\n\r\n          <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>\r\n            <RHFTextField\r\n              name=\"name_english\"\r\n              label={t('full name english')}\r\n              onChange={handleEnglishInputChange}\r\n            />\r\n            <RHFTextField\r\n              name=\"name_arabic\"\r\n              label={t('full name arabic')}\r\n              onChange={handleArabicInputChange}\r\n            />\r\n          </Stack>\r\n\r\n          <RHFTextField name=\"identification_num\" label={t('Identification number')} />\r\n          <Controller\r\n            name=\"birth_date\"\r\n            control={control}\r\n            render={({ field, fieldState: { error } }) => (\r\n              <DatePicker\r\n                label={t('birth date')}\r\n                // sx={{ flex: 1 }}\r\n                value={new Date(values.birth_date ? values.birth_date : '')}\r\n                onChange={(newValue) => {\r\n                  field.onChange(newValue);\r\n                }}\r\n                slotProps={{\r\n                  textField: {\r\n                    fullWidth: true,\r\n                    error: !!error,\r\n                    helperText: error?.message,\r\n                  },\r\n                }}\r\n              />\r\n            )}\r\n          />\r\n          <RHFSelect onChange={handleNationalityChange} name=\"nationality\" label={t('nationality')}>\r\n            {countriesData?.map((country, idx) => (\r\n              <MenuItem lang=\"ar\" key={idx} value={country?._id}>\r\n                {country?.name_english}\r\n              </MenuItem>\r\n            ))}\r\n          </RHFSelect>\r\n          <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>\r\n            <RHFSelect onChange={handleCountryChange} name=\"country\" label={t('country')}>\r\n              {countriesData?.map((country, idx) => (\r\n                <MenuItem lang=\"ar\" key={idx} value={country?._id}>\r\n                  {country?.name_english}\r\n                </MenuItem>\r\n              ))}\r\n            </RHFSelect>\r\n            <RHFSelect name=\"city\" label={t('City')}>\r\n              {tableData?.map((city, idx) => (\r\n                <MenuItem lang=\"ar\" key={idx} value={city?._id}>\r\n                  {city?.name_english}\r\n                </MenuItem>\r\n              ))}\r\n            </RHFSelect>\r\n            <RHFSelect name=\"gender\" label={t('Gender')}>\r\n              <MenuItem lang=\"ar\" value=\"male\">\r\n                {t('male')}\r\n              </MenuItem>\r\n              <MenuItem lang=\"ar\" value=\"female\">\r\n                {t('female')}\r\n              </MenuItem>\r\n            </RHFSelect>\r\n          </Stack>\r\n          <RHFTextField name=\"email\" label={t('Email address')} />\r\n\r\n          <RHFTextField\r\n            name=\"password\"\r\n            label={t('Password')}\r\n            type={password.value ? 'text' : 'password'}\r\n            InputProps={{\r\n              endAdornment: (\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton onClick={password.onToggle} edge=\"end\">\r\n                    <Iconify icon={password.value ? 'solar:eye-bold' : 'solar:eye-closed-bold'} />\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <RHFTextField\r\n            name=\"confirmPassword\"\r\n            label={t('Confirm Password')}\r\n            type={password.value ? 'text' : 'password'}\r\n            InputProps={{\r\n              endAdornment: (\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton onClick={password.onToggle} edge=\"end\">\r\n                    <Iconify icon={password.value ? 'solar:eye-bold' : 'solar:eye-closed-bold'} />\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n\r\n          <LoadingButton\r\n            fullWidth\r\n            color=\"inherit\"\r\n            size=\"large\"\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            loading={isSubmitting}\r\n          >\r\n            {t('Create account')}\r\n          </LoadingButton>\r\n        </Stack>\r\n        <Stack sx={{ display: { md: 'block', xs: 'none' }, ml: 10, mt: 5 }}>\r\n          <Typography variant=\"h3\" sx={{ textAlign: 'center' }}>\r\n            {t('Add Account')}\r\n          </Typography>\r\n          <Image src=\"https://www.sender.net/wp-content/uploads/2022/07/best-newsletter-software.webp\" />\r\n        </Stack>\r\n      </Box>\r\n    </FormProvider>\r\n  );\r\n}\r\n"],"names":["Create","_user$patient","countriesData","useGetCountries","register","useAuthContext","t","useTranslate","router","useRouter","errorMsg","setErrorMsg","useState","user","password","useBoolean","RegisterSchema","Yup","shape","name_english","required","name_arabic","email","confirmPassword","oneOf","min","identification_num","birth_date","gender","country","nationality","city","defaultValues","family_members","patient","_id","methods","useForm","mode","resolver","yupResolver","reset","watch","control","handleSubmit","formState","isSubmitting","values","tableData","useGetCountryCities","onSubmit","async","userName","concat","data","push","paths","dashboard","exist","error","console","message","_jsx","FormProvider","children","_jsxs","Box","sx","display","flexDirection","md","xs","Stack","spacing","width","ml","mt","mr","Alert","severity","Typography","variant","textAlign","direction","sm","RHFTextField","name","label","onChange","event","test","target","value","setValue","shouldValidate","Controller","render","_ref","field","fieldState","DatePicker","Date","newValue","slotProps","textField","fullWidth","helperText","RHFSelect","selectedCountryId","map","idx","MenuItem","lang","type","InputProps","endAdornment","InputAdornment","position","IconButton","onClick","onToggle","edge","Iconify","icon","LoadingButton","color","size","loading","Image","src"],"sourceRoot":""}