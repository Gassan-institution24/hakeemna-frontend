"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[49206],{49206:(e,a,n)=>{n.r(a),n.d(a,{default:()=>c});var t=n(29490),r=n(67132),s=n(7625),i=n(67555),d=n(77224),l=n(74854),m=n(70579);function o(e){let{departmentData:a}=e;return(0,m.jsx)(d.A,{maxWidth:"xl",children:(0,m.jsx)(l.A,{departmentData:a})})}function c(){const e=(0,r.g)(),{depid:a}=e,{data:n,loading:d}=(0,s.UMH)(a);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(t.mg,{children:[(0,m.jsx)("title",{children:" Add Room "}),(0,m.jsx)("meta",{name:"description",content:"meta"})]}),d&&(0,m.jsx)(i.x,{}),!d&&(0,m.jsx)(o,{departmentData:n})]})}},74854:(e,a,n)=>{n.d(a,{A:()=>f});var t=n(80899),r=n(65043),s=n(24858),i=n(18403),d=n(81e3),l=n(12110),m=n(74600),o=n(22075),c=n(38246),u=n(48407),g=n(67132),h=n(31673),_=n(91562),p=n(75139),x=n(60778),j=n(94857),v=n(59699),b=n(70579);function f(e){let{departmentData:a,currentTable:n}=e;const f=(0,g.rd)(),{id:A}=(0,g.g)(),{t:$}=(0,x.WD)(),{currentLang:k}=(0,x.jc)(),y="ar"===k.value,{user:C}=(0,p.Z)(),{enqueueSnackbar:q}=(0,j.dh)(),w=t.Ik().shape({name_arabic:t.Yj().required("Name is required"),name_english:t.Yj().required("Name is required"),general_info:t.Yj()}),D=(0,r.useMemo)((()=>({unit_service:A,name_arabic:(null===n||void 0===n?void 0:n.name_arabic)||"",name_english:(null===n||void 0===n?void 0:n.name_english)||"",department:a._id,general_info:(null===n||void 0===n?void 0:n.general_info)||""})),[n,a,A]),S=(0,s.mN)({mode:"all",resolver:(0,i.t)(w),defaultValues:D}),V=e=>{/^[a-zA-Z0-9\s,@#$!*_\-&^%.()]*$/.test(e.target.value)&&S.setValue(e.target.name,e.target.value,{shouldValidate:!0})},{reset:Z,handleSubmit:F,formState:{isSubmitting:I}}=S,N=F((async e=>{try{n?await h.Ay.patch(h.vZ.rooms.one(n._id),{department:a._id,...e}):(await h.Ay.post(h.vZ.rooms.all,{department:a._id,...e}),_.A.emit("created",{data:e,user:C,link:u.f.superadmin.unitservices.departments.rooms.root(A,a._id),msg:`created room <strong>${e.name_english||""}</strong> into <strong>${a.name_english}</strong> department`,ar_msg:`\u0625\u0646\u0634\u0627\u0621 \u063a\u0631\u0641\u0629 <strong>${e.name_arabic||""}</strong> \u062f\u0627\u062e\u0644 \u0642\u0633\u0645 <strong>${a.name_arabic}</strong>`})),Z(),q($(n?"update success!":"create success!")),f.push(u.f.superadmin.unitservices.departments.rooms.root(A,a._id))}catch(t){q(y&&`${t.arabic_message}`||`${t.message}`,{variant:"error"}),console.error(t)}}));return(0,b.jsx)(v.Ay,{methods:S,onSubmit:N,children:(0,b.jsx)(o.A,{container:!0,spacing:3,children:(0,b.jsx)(o.A,{xs:12,maxWidth:"md",children:(0,b.jsxs)(l.A,{sx:{p:3},children:[(0,b.jsxs)(d.A,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,b.jsx)(v.o3,{onChange:V,name:"name_english",label:`${$("name english")} *`}),(0,b.jsx)(v.o3,{onChange:e=>{/^[\u0600-\u06FF0-9\s!@#$%^&*_\-().]*$/.test(e.target.value)&&S.setValue(e.target.name,e.target.value,{shouldValidate:!0})},name:"name_arabic",label:`${$("name arabic")} *`}),(0,b.jsx)(v.o3,{onChange:V,name:"general_info",label:$("general info")})]}),(0,b.jsx)(m.A,{alignItems:"flex-end",sx:{mt:3},children:(0,b.jsx)(c.A,{type:"submit",tabIndex:-1,variant:"contained",loading:I,children:$(n?"save changes":"create")})})]})})})})}}}]);
//# sourceMappingURL=49206.b4cc64a0.chunk.js.map