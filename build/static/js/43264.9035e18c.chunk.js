"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[43264],{15657:(e,n,i)=>{i.r(n),i.d(n,{default:()=>L});var o=i(29490),t=i(65043),a=i(74600),l=i(7625),r=i(35151),s=i(45376),d=i(67784),c=i(38974),u=i(60778),m=i(70579);function p(e){let{filters:n,filterChange:i}=e;const{country:o}=n,{t:r}=(0,u.WD)(),{currentLang:p}=(0,u.jc)(),v="ar"===p.value,[h,g]=(0,t.useState)({country:"",city:"",insurance:"",usType:"",name:""}),x=(0,c.d)(h.usType),b=(0,c.d)(h.name),{unitserviceTypesData:y}=(0,l.lPM)({select:"_id name_arabic name_english",name:x,rowPerPage:10}),{keywordsData:f}=(0,l.SEc)({name:b}),{specialtiesData:j}=(0,l.srd)({select:"_id name_arabic name_english",name:b}),{countriesData:_}=(0,l.oOq)({select:"_id name_arabic name_english"}),{tableData:A}=(0,l.RmE)(o,{select:"_id name_arabic name_english"}),{insuranseCosData:w}=(0,l.DPx)({select:"_id name_arabic name_english"}),{employeesData:C}=(0,l.N2u)({select:"_id name_arabic name_english",name:b});return(0,m.jsxs)(a.A,{direction:"row",justifyContent:"center",alignItems:"center",spacing:1,px:8,py:2,sx:{backgroundColor:"#E4F6F2",borderRadius:1,display:{xs:"grid",md:"flex"}},children:[(0,m.jsx)(s.A,{size:"small",sx:{minWidth:180},options:y,onChange:(e,n)=>i("US_type",null===n||void 0===n?void 0:n._id),getOptionLabel:e=>"object"===typeof e&&v?e.name_arabic:e.name_english,renderInput:e=>(0,m.jsx)(d.A,{...e,label:r("unit of service type"),variant:"outlined"})}),(0,m.jsx)(s.A,{size:"small",sx:{minWidth:150},options:_,onChange:(e,n)=>i("country",null===n||void 0===n?void 0:n._id),getOptionLabel:e=>"object"===typeof e&&v?e.name_arabic:e.name_english,renderInput:e=>(0,m.jsx)(d.A,{...e,label:r("country"),variant:"outlined"})}),(0,m.jsx)(s.A,{size:"small",sx:{minWidth:150},options:A,onChange:(e,n)=>i("city",null===n||void 0===n?void 0:n._id),getOptionLabel:e=>"object"===typeof e&&v?e.name_arabic:e.name_english,renderInput:e=>(0,m.jsx)(d.A,{...e,label:r("city"),variant:"outlined"})}),(0,m.jsx)(s.A,{size:"small",sx:{minWidth:180},options:w,onChange:(e,n)=>i("insurance",null===n||void 0===n?void 0:n._id),getOptionLabel:e=>"object"===typeof e&&v?e.name_arabic:e.name_english,renderInput:e=>(0,m.jsx)(d.A,{...e,label:r("insurance company"),variant:"outlined"})}),(0,m.jsx)(s.A,{size:"small",sx:{minWidth:300,flex:3},options:[...j,...C,...f],onChange:(e,n)=>{i("name",(null===n||void 0===n?void 0:n._id)||n)},getOptionLabel:e=>"string"===typeof e?e:v?e.name_arabic:e.name_english,renderInput:e=>(0,m.jsx)(d.A,{...e,label:r("search by doctor, specialty or disease"),variant:"outlined"})})]})}var v=i(46987),h=i(38246),g=i(81e3),x=i(8555),b=i(94496),y=i(37684),f=i(83462),j=i(12110),_=i(48407),A=i(67132),w=i(59229),C=i(57442),D=i(74818),k=i(94289),P=i(31673),S=i(75139),W=i(54583),O=i(70074),F=i(3032),I=i(96557),R=i(73806),T=i(43963);function M(e){var n,i,o,r,s,c,p,M,$,L,E,H,z,U,N,V,Y,Z,q,K,B,G,J,Q,X,ee,ne,ie,oe,te,ae,le,re,se;let{employee:de}=e;const{t:ce}=(0,u.WD)(),{currentLang:ue}=(0,u.jc)(),me="ar"===ue.value,pe=(0,A.rd)(),ve=(0,w.C)(),{enqueueSnackbar:he}=(0,v.dh)(),{authenticated:ge,user:xe}=(0,S.Z)(),[be,ye]=(0,t.useState)(""),[fe,je]=(0,t.useState)(1),[_e,Ae]=(0,t.useState)(!1),[we,Ce]=(0,t.useState)(),[De,ke]=(0,t.useState)(),[Pe,Se]=(0,t.useState)(),[We,Oe]=(0,t.useState)(!1),{appointmentsData:Fe,AppointDates:Ie,loading:Re,refetch:Te}=(0,l.I6v)(de._id,{select:"start_time",status:"available",startDate:Pe,online_available:!0});(0,t.useEffect)((()=>{Pe||Se(Ie[0])}),[Ie,Pe]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(a.A,{direction:{lg:"row"},justifyContent:"space-between",padding:5,sx:{backgroundColor:"#3CB099",borderRadius:2,boxShadow:3,mx:{xs:0,sm:0,md:15,lg:15}},children:[(0,m.jsxs)(a.A,{direction:{md:"row"},alignItems:{sm:"center",md:"start"},gap:{md:10},children:[(0,m.jsxs)(g.A,{children:[(0,m.jsxs)(x.A,{elevation:3,sx:{overflow:"hidden",borderRadius:3,textAlign:"center",backgroundColor:"white",position:"relative",cursor:"pointer",mb:2,width:250,minHeight:200},onClick:()=>{var e,n,i,o,t;return pe.push(_.f.pages.doctor(`${de._id}_${null===de||void 0===de||null===(e=de.employee)||void 0===e||null===(n=e[ce("name_english")])||void 0===n?void 0:n.replace(/ /g,"-")}_${null===de||void 0===de||null===(i=de.employee)||void 0===i||null===(o=i.speciality)||void 0===o||null===(t=o[ce("name_english")])||void 0===t?void 0:t.replace(/ /g,"-")}`))},children:[(0,m.jsx)(W.A,{src:null===de||void 0===de||null===(n=de.employee)||void 0===n?void 0:n.image,alt:null===(i=de.employee)||void 0===i?void 0:i.name_english,sx:{width:"100%",height:"100%",objectFit:"contain"}}),(0,m.jsx)(g.A,{sx:{position:"absolute",bottom:0,left:0,width:"100%",height:"80px",backgroundColor:"#2EA98D",clipPath:"ellipse(100% 60% at center bottom)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,m.jsx)(b.A,{variant:"subtitle1",sx:{fontWeight:"bold",color:"white",fontSize:18,pt:5},children:me?null===(o=de.employee)||void 0===o?void 0:o.name_arabic:null===(r=de.employee)||void 0===r?void 0:r.name_english})})]}),(null===de||void 0===de||null===(s=de.employee)||void 0===s?void 0:s.phone)&&(0,m.jsxs)(a.A,{direction:"row",gap:1,children:[(0,m.jsxs)(b.A,{sx:{color:"white"},variant:"body2",children:[ce("phone number"),":"]}),(0,m.jsx)(b.A,{variant:"body2",sx:{direction:me?"rtl":"ltr",color:"white"},children:null===de||void 0===de||null===(c=de.employee)||void 0===c?void 0:c.phone})]}),(null===de||void 0===de||null===(p=de.employee)||void 0===p?void 0:p.email)&&(0,m.jsxs)(a.A,{direction:"row",gap:1,children:[(0,m.jsxs)(b.A,{sx:{color:"white"},variant:"body2",children:[ce("email"),":"]}),(0,m.jsx)(b.A,{sx:{color:"#3C5CD2"},variant:"body2",children:null===de||void 0===de||null===(M=de.employee)||void 0===M?void 0:M.email})]})]}),(0,m.jsxs)(a.A,{sx:{gap:1},children:[(0,m.jsxs)(a.A,{children:[(0,m.jsxs)(a.A,{direction:"row",spacing:1,sx:{justifyContent:"start"},children:[(0,m.jsx)(y.A,{size:"small",readOnly:!0,value:null===($=de.employee)||void 0===$?void 0:$.rate,max:1,sx:{"& .MuiRating-icon":{color:"#FFD700"}}}),(0,m.jsx)(b.A,{variant:"body",sx:{color:"white"},children:null===(L=de.employee)||void 0===L?void 0:L.rated_times})]}),(0,m.jsx)(b.A,{variant:"body1",mb:1,sx:{fontWeight:500,color:"white"},children:me?null===de||void 0===de||null===(E=de.employee)||void 0===E||null===(H=E.speciality)||void 0===H?void 0:H.name_arabic:null===de||void 0===de||null===(z=de.employee)||void 0===z||null===(U=z.speciality)||void 0===U?void 0:U.name_english}),(0,m.jsx)(b.A,{mb:1,variant:"body1",color:"white",children:me?null===de||void 0===de||null===(N=de.unit_service)||void 0===N?void 0:N.name_arabic:null===de||void 0===de||null===(V=de.unit_service)||void 0===V?void 0:V.name_english})]}),(null===de||void 0===de?void 0:de.fees)&&(0,m.jsxs)(a.A,{gap:1,mb:2,children:[(0,m.jsxs)(a.A,{gap:1,direction:"row",children:[(0,m.jsxs)(b.A,{color:"white",variant:"body2",children:[ce("fees"),":"]}),(0,m.jsx)(b.A,{sx:{textDecoration:"line-through",textDecorationColor:"red",textDecorationThickness:"2px",color:"white"},variant:"body2",children:(0,k.KZ)(null===de||void 0===de?void 0:de.fees,null===(Y=de.currency)||void 0===Y?void 0:Y.symbol)}),(null===de||void 0===de?void 0:de.fees_after_discount)&&(0,m.jsx)(b.A,{variant:"body2",sx:{fontWeight:600,color:"white"},children:(0,k.KZ)(null===de||void 0===de?void 0:de.fees_after_discount,null===(Z=de.currency)||void 0===Z?void 0:Z.symbol)})]}),(null===de||void 0===de?void 0:de.fees_after_discount)&&(0,m.jsx)(b.A,{color:"#1F2C5C",variant:"caption",sx:{display:"block"},children:ce("special offer for Hakeemna users")})]}),(null===de||void 0===de||null===(q=de.unit_service)||void 0===q||null===(K=q.insurance)||void 0===K?void 0:K.length)>0&&(0,m.jsxs)(a.A,{gap:1,color:"white",children:[(0,m.jsxs)(b.A,{variant:"body2",children:[ce("Insurance"),":"]}),(0,m.jsxs)(a.A,{direction:"row",gap:1,children:[(null===de||void 0===de||null===(B=de.unit_service)||void 0===B||null===(G=B.insurance)||void 0===G?void 0:G.length)>5?null===de||void 0===de||null===(J=de.unit_service)||void 0===J||null===(Q=J.insurance)||void 0===Q?void 0:Q.filter(((e,n)=>n<=5)).map((e=>(0,m.jsx)(b.A,{variant:"body2",children:me?e.name_arabic:e.name_english}))):null===de||void 0===de||null===(X=de.unit_service)||void 0===X||null===(ee=X.insurance)||void 0===ee?void 0:ee.map((e=>(0,m.jsx)(b.A,{variant:"body2",children:me?e.name_arabic:e.name_english}))),(null===de||void 0===de||null===(ne=de.unit_service)||void 0===ne||null===(ie=ne.insurance)||void 0===ie?void 0:ie.length)>5&&"+"+(de.unit_service.insurance.length-5)]})]})]})]}),(0,m.jsxs)(a.A,{direction:{md:"row"},gap:{md:10},children:[Ie.length>0&&(0,m.jsx)(I.A,{selected:De,AppointDates:Ie,loading:Re,timeListChangeHandler:e=>{ke(e),ge?ve.onTrue():Ae(!0)},selectedDate:Pe,setSelectedDate:Se,list:Fe}),Ie.length<1&&(0,m.jsx)(b.A,{children:ce("no online appointment for this doctor")})]})]}),(0,m.jsx)(f.A,{fullWidth:!0,open:_e,minWidth:"lg",onClose:()=>Ae(!1),children:(0,m.jsxs)(a.A,{sx:{p:4},children:[1===fe&&(0,m.jsx)(T.A,{afterSignUp:()=>je(2),onSignIn:()=>je(3),setPatientId:Ce}),2===fe&&(0,m.jsx)(R.A,{onVerify:()=>Ae(!1),patientId:we,selected:De,refetch:Te}),3===fe&&(0,m.jsx)(F.Gp,{onSignin:()=>Ae(!1),onSignUp:()=>je(1),setPatientId:Ce,selected:De,refetch:Te})]})}),(0,m.jsx)(O.T,{open:ve.value,onClose:ve.onFalse,title:ce("confirm booking appointment"),content:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(j.A,{sx:{p:2,m:2},children:[(0,m.jsxs)(b.A,{children:[ce("patient")," :"," ",me?null===xe||void 0===xe||null===(oe=xe.patient)||void 0===oe?void 0:oe.name_arabic:null===xe||void 0===xe||null===(te=xe.patient)||void 0===te?void 0:te.name_english]}),(0,m.jsxs)(b.A,{children:[ce("doctor")," :"," ",me?null===(ae=de.employee)||void 0===ae?void 0:ae.name_arabic:null===(le=de.employee)||void 0===le?void 0:le.name_english]}),(0,m.jsxs)(b.A,{children:[ce("appointment")," :"," ",(0,C.uK)(null===(re=Fe.filter((e=>e._id===De)))||void 0===re||null===(se=re[0])||void 0===se?void 0:se.start_time)]})]}),(0,m.jsx)(d.A,{multiline:!0,fullWidth:!0,label:ce("note"),rows:2,sx:{my:2},onChange:e=>ye(e.target.value),value:be})]}),action:(0,m.jsx)(h.A,{variant:"contained",color:"info",loading:We,onClick:async()=>{Oe(!0);try{var e,n;await P.Ay.patch(P.vZ.appointments.book(De),{patient:null===xe||void 0===xe||null===(e=xe.patient)||void 0===e?void 0:e._id,note:be,lang:me}),await(0,D.n)(null===(n=Fe.filter((e=>e._id===De)))||void 0===n?void 0:n[0]),he(ce("booked successfully!")),Oe(!1),ve.onFalse(),ye(""),Te()}catch(i){he(me&&`${i.arabic_message}`||`${i.message}`,{variant:"error"}),Oe(!1),ve.onFalse(),ye(""),console.error(i)}},children:ce("confirm")})})]})}function $(){const e=(0,t.useRef)(null),[n,i]=(0,t.useState)(0),[o,s]=(0,t.useState)({US_type:"",country:"",city:"",insurance:"",name:"",rowsPerPage:15,visibility_online_appointment:!0}),[d,c]=(0,t.useState)([]),{employeesData:u,hasMore:v,loading:h}=(0,l.HHk)({...o,name:o.name,page:n});(0,t.useEffect)((()=>{u&&c((e=>[...e,...u]))}),[u]),(0,t.useEffect)((()=>{const n=new IntersectionObserver((e=>{e[0].isIntersecting&&v&&i((e=>e+1))}),{threshold:1});e.current&&n.observe(e.current)}),[v]);return(0,m.jsxs)(a.A,{sx:{mt:"150px"},children:[(0,m.jsx)(p,{filters:o,filterChange:(e,n)=>{i(0),c([]),s((i=>({...i,[e]:n})))}}),(0,m.jsx)(a.A,{m:4,gap:2,children:d.map(((e,n)=>(0,m.jsx)(M,{employee:e},n)))}),!h&&u.length>0&&v&&(0,m.jsx)("div",{ref:e}),h&&(0,m.jsx)(a.A,{direction:"row",justifyContent:"center",py:3,children:(0,m.jsx)(r.A,{width:50,icon:"eos-icons:bubble-loading",sx:{color:"primary.main"}})})]})}function L(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(o.mg,{children:[(0,m.jsx)("title",{children:"Hakeemna 360 - \u0645\u0646\u0635\u0629 \u062d\u0643\u064a\u0645\u0646\u0627 \u0627\u0644\u0637\u0628\u064a\u0629 :book an appointment"}),(0,m.jsx)("meta",{name:"description",content:"meta"})]}),(0,m.jsx)($,{})]})}},18099:(e,n,i)=>{i.d(n,{$:()=>j});var o=i(58168),t=i(65043),a=i(65173),l=i.n(a),r=i(10497),s=i(1204),d=i(98587),c=i(58387),u=i(34535),m=i(61573),p=i(58390),v=i(38371),h=i(10571),g=i(70579);const x=["props","ref"],b=(0,u.Ay)(v.CJ)((e=>{let{theme:n}=e;return{overflow:"hidden",minWidth:h.eX,backgroundColor:(n.vars||n).palette.background.paper}}));var y=i(20490),f=i(51053);const j=t.forwardRef((function(e,n){var i,t,a;const l=(0,r.D)(e,"MuiStaticDatePicker"),u=null!=(i=l.displayStaticWrapperAs)?i:"mobile",v=(0,o.A)({day:s.W,month:s.W,year:s.W},l.viewRenderers),h=(0,o.A)({},l,{viewRenderers:v,displayStaticWrapperAs:u,yearsPerRow:null!=(t=l.yearsPerRow)?t:"mobile"===u?3:4,slotProps:(0,o.A)({},l.slotProps,{toolbar:(0,o.A)({hidden:"desktop"===u},null==(a=l.slotProps)?void 0:a.toolbar)})}),{renderPicker:j}=(e=>{var n;let{props:i,ref:t}=e,a=(0,d.A)(e,x);const{localeText:l,slots:r,slotProps:s,className:u,sx:v,displayStaticWrapperAs:h,autoFocus:y}=i,{layoutProps:f,renderCurrentView:j}=(0,m.k)((0,o.A)({},a,{props:i,autoFocusView:null!=y&&y,additionalViewProps:{},wrapperVariant:h})),_=null!=(n=null==r?void 0:r.layout)?n:b;return{renderPicker:()=>{var e,n,i;return(0,g.jsx)(p.$,{localeText:l,children:(0,g.jsx)(_,(0,o.A)({},f,null==s?void 0:s.layout,{slots:r,slotProps:s,sx:[...Array.isArray(v)?v:[v],...Array.isArray(null==s||null==(e=s.layout)?void 0:e.sx)?s.layout.sx:[null==s||null==(n=s.layout)?void 0:n.sx]],className:(0,c.A)(u,null==s||null==(i=s.layout)?void 0:i.className),ref:t,children:j()}))})}}})({props:h,valueManager:f.W,valueType:"date",validator:y.Z,ref:n});return j()}));j.propTypes={autoFocus:l().bool,className:l().string,components:l().object,componentsProps:l().object,dayOfWeekFormatter:l().func,defaultCalendarMonth:l().any,defaultValue:l().any,disabled:l().bool,disableFuture:l().bool,disableHighlightToday:l().bool,disablePast:l().bool,displayStaticWrapperAs:l().oneOf(["desktop","mobile"]),displayWeekNumber:l().bool,fixedWeekNumber:l().number,loading:l().bool,localeText:l().object,maxDate:l().any,minDate:l().any,monthsPerRow:l().oneOf([3,4]),onAccept:l().func,onChange:l().func,onClose:l().func,onError:l().func,onMonthChange:l().func,onViewChange:l().func,onYearChange:l().func,openTo:l().oneOf(["day","month","year"]),orientation:l().oneOf(["landscape","portrait"]),readOnly:l().bool,reduceAnimations:l().bool,referenceDate:l().any,renderLoading:l().func,shouldDisableDate:l().func,shouldDisableMonth:l().func,shouldDisableYear:l().func,showDaysOutsideCurrentMonth:l().bool,slotProps:l().object,slots:l().object,sx:l().oneOfType([l().arrayOf(l().oneOfType([l().func,l().object,l().bool])),l().func,l().object]),timezone:l().string,value:l().any,view:l().oneOf(["day","month","year"]),viewRenderers:l().shape({day:l().func,month:l().func,year:l().func}),views:l().arrayOf(l().oneOf(["day","month","year"]).isRequired),yearsPerRow:l().oneOf([3,4])}},28082:(e,n,i)=>{i.d(n,{A:()=>s});var o=i(74600),t=i(49633),a=i(57442),l=i(60778),r=i(70579);function s(e){let{name:n,list:i,helperText:s,value:d,onChange:c,...u}=e;const{currentLang:m}=(0,l.jc)(),p="ar"===m.value,{myunitTime:v}=(0,a.nM)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(o.A,{sx:{my:3,maxHeight:300,overflow:"auto",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-start","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{background:"white"},"&::-webkit-scrollbar-thumb":{background:"white",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:"white"},gap:1},children:i.map((e=>(0,r.jsx)(t.A,{variant:"outlined",sx:{width:100,"&:hover":{bgcolor:"white",color:"primary.main"},fontWeight:d===e._id?600:500,backgroundColor:d===e._id?"primary.main":"white",color:d===e._id?"white":"primary.main",borderRadius:2},onClick:()=>{c(e._id)},children:(0,a.qi)(v(e.start_time),"p",p)})))})})}},38974:(e,n,i)=>{i.d(n,{d:()=>t});var o=i(65043);function t(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;const[i,t]=(0,o.useState)(e);return(0,o.useEffect)((()=>{const i=setTimeout((()=>{t(e)}),n);return()=>{clearTimeout(i)}}),[e,n]),i}},74818:(e,n,i)=>{i.d(n,{n:()=>t});const o=e=>new Date(e).toISOString().replace(/-/g,"").replace(/:/g,"").replace(/\.\d{3}/,"");async function t(e){try{var n,i,t;const l=encodeURIComponent(o(e.start_time)),r=encodeURIComponent(o(e.end_time)),s=encodeURIComponent(`appointment at ${null===(n=e.unit_service)||void 0===n?void 0:n.name_english}`),d=`https://calendar.google.com/calendar/render?action=TEMPLATE&dates=${l}/${r}&text=${s}&location=${encodeURIComponent((null===(i=e.unit_service)||void 0===i?void 0:i.location_gps)||(null===(t=e.unit_service)||void 0===t?void 0:t.address))}`;confirm("Would you like to add this event to your Google Calendar?")&&(a=d,/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?window.location.href=a:window.open(a,"_blank"))}catch(l){console.error(l)}var a}},96557:(e,n,i)=>{i.d(n,{A:()=>s});var o=i(74600),t=i(18099),a=i(88887),l=i(28082),r=i(70579);function s(e){let{selected:n,AppointDates:i,timeListChangeHandler:s,selectedDate:d,setSelectedDate:c,list:u,loading:m}=e;const p=(0,a.Q)("up","md");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.$,{localeText:!1,sx:{mt:{md:0,xs:4,borderRadius:10}},orientation:p?"landscape":"",shouldDisableDate:e=>!i.some((n=>{const i=new Date(n),o=new Date(e);return i.getFullYear()===o.getFullYear()&&i.getMonth()===o.getMonth()&&i.getDate()===o.getDate()})),slots:{toolbar:"test"},slotProps:{actionBar:{actions:[]}},value:new Date(d),onChange:e=>c(new Date(e.getFullYear(),e.getMonth(),e.getDate(),12,0,0))}),(0,r.jsx)(o.A,{sx:{width:{md:470},px:{md:3}},children:(0,r.jsx)(l.A,{list:u,onChange:s,value:n})})]})}}}]);
//# sourceMappingURL=43264.9035e18c.chunk.js.map