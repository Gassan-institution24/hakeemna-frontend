{"version":3,"file":"static/js/78800.bb79ada4.chunk.js","mappings":"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","sources":["api/product.js","../node_modules/@mui/material/internal/svg-icons/MoreHoriz.js","../node_modules/@mui/material/Breadcrumbs/BreadcrumbCollapsed.js","../node_modules/@mui/material/Breadcrumbs/breadcrumbsClasses.js","../node_modules/@mui/material/Breadcrumbs/Breadcrumbs.js","sections/stakeholder/accounting/economic-movements/invoice-new-edit-address.jsx","sections/stakeholder/accounting/economic-movements/invoice-new-edit-details.jsx","sections/stakeholder/accounting/economic-movements/invoice-new-edit-insurance.jsx","sections/stakeholder/accounting/economic-movements/invoice-new-edit-status-date.jsx","sections/stakeholder/accounting/economic-movements/invoice-new-edit-tax-details.jsx","sections/stakeholder/accounting/economic-movements/invoice-new-edit-installment.jsx","sections/stakeholder/accounting/economic-movements/new-edit-form.jsx","../node_modules/lodash/sum.js","components/custom-breadcrumbs/link-item.jsx","components/custom-breadcrumbs/custom-breadcrumbs.jsx","../node_modules/lodash/_baseSum.js"],"sourcesContent":["import { useMemo } from 'react';\nimport useSWR, { mutate } from 'swr';\n\nimport { fetcher, endpoints } from 'src/utils/axios';\n\n// ----------------------------------------------------------------------\n\nexport function useGetProducts(query) {\n  const URL = [endpoints.products.all, { params: query }];\n\n  const { data, isLoading, error, isValidating } = useSWR(URL, fetcher);\n\n  const memoizedValue = useMemo(\n    () => ({\n      products: data || [],\n      productsLoading: isLoading,\n      productsError: error,\n      productsValidating: isValidating,\n      productsEmpty: !isLoading && !data?.length,\n    }),\n    [data, error, isLoading, isValidating]\n  );\n\n  return memoizedValue;\n}\n\n// ----------------------------------------------------------------------\n\nexport function useGetProductCategories() {\n  const URL = endpoints.productcategories.all;\n\n  const { data, isLoading, error, isValidating } = useSWR(URL, fetcher);\n\n  const memoizedValue = useMemo(\n    () => ({\n      productCat: data || [],\n      productCatLoading: isLoading,\n      productCatError: error,\n      productCatValidating: isValidating,\n      productCatEmpty: !isLoading && !data?.length,\n    }),\n    [data, error, isLoading, isValidating]\n  );\n\n  return memoizedValue;\n}\n\n// ----------------------------------------------------------------------\n\nexport function useGetProductCategory(id) {\n  const URL = endpoints.productcategories.one(id);\n\n  const { data, isLoading, error, isValidating } = useSWR(URL, fetcher);\n\n  const memoizedValue = useMemo(\n    () => ({\n      data,\n      productCatLoading: isLoading,\n      productCatError: error,\n      productCatValidating: isValidating,\n      productCatEmpty: !isLoading && !data?.length,\n    }),\n    [data, error, isLoading, isValidating]\n  );\n\n  return memoizedValue;\n}\n\n// ----------------------------------------------------------------------\n\nexport function useGetProduct(productId) {\n  const URL = endpoints.products.one(productId);\n\n  const { data, isLoading, error, isValidating } = useSWR(URL, fetcher);\n\n  const memoizedValue = useMemo(\n    () => ({\n      product: data,\n      productLoading: isLoading,\n      productError: error,\n      productValidating: isValidating,\n    }),\n    [data, error, isLoading, isValidating]\n  );\n\n  return memoizedValue;\n}\n\n// ----------------------------------------------------------------------\n\nexport function useGetStakeholderProducts(id, query) {\n  const URL = id ? [endpoints.products.stakeholder(id), { params: query }] : '';\n\n  const { data, isLoading, error, isValidating } = useSWR(URL, fetcher);\n\n  const memoizedValue = useMemo(\n    () => ({\n      productsData: data?.products || [],\n      length: data?.length || 0,\n      loading: isLoading,\n      error,\n      isValidating,\n    }),\n    [data, error, isLoading, isValidating]\n  );\n\n  const refetch = async () => {\n    // Use the mutate function to re-fetch the data for the specified key (URL)\n    await mutate(URL);\n  };\n\n  return { ...memoizedValue, refetch };\n}\n\n// ----------------------------------------------------------------------\n\nexport function useSearchProducts(query) {\n  const URL = query ? [endpoints.product.search, { params: { query } }] : '';\n\n  const { data, isLoading, error, isValidating } = useSWR(URL, fetcher, {\n    keepPreviousData: true,\n  });\n\n  const memoizedValue = useMemo(\n    () => ({\n      searchResults: data?.results || [],\n      searchLoading: isLoading,\n      searchError: error,\n      searchValidating: isValidating,\n      searchEmpty: !isLoading && !data?.results.length,\n    }),\n    [data?.results, error, isLoading, isValidating]\n  );\n\n  const refetch = async () => {\n    // Use the mutate function to re-fetch the data for the specified key (URL)\n    await mutate(URL);\n  };\n\n  return { ...memoizedValue, refetch };\n}\n","'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"\n}), 'MoreHoriz');","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"slots\", \"slotProps\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { emphasize } from '@mui/system/colorManipulator';\nimport styled from '../styles/styled';\nimport MoreHorizIcon from '../internal/svg-icons/MoreHoriz';\nimport ButtonBase from '../ButtonBase';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst BreadcrumbCollapsedButton = styled(ButtonBase)(({\n  theme\n}) => _extends({\n  display: 'flex',\n  marginLeft: `calc(${theme.spacing(1)} * 0.5)`,\n  marginRight: `calc(${theme.spacing(1)} * 0.5)`\n}, theme.palette.mode === 'light' ? {\n  backgroundColor: theme.palette.grey[100],\n  color: theme.palette.grey[700]\n} : {\n  backgroundColor: theme.palette.grey[700],\n  color: theme.palette.grey[100]\n}, {\n  borderRadius: 2,\n  '&:hover, &:focus': _extends({}, theme.palette.mode === 'light' ? {\n    backgroundColor: theme.palette.grey[200]\n  } : {\n    backgroundColor: theme.palette.grey[600]\n  }),\n  '&:active': _extends({\n    boxShadow: theme.shadows[0]\n  }, theme.palette.mode === 'light' ? {\n    backgroundColor: emphasize(theme.palette.grey[200], 0.12)\n  } : {\n    backgroundColor: emphasize(theme.palette.grey[600], 0.12)\n  })\n}));\nconst BreadcrumbCollapsedIcon = styled(MoreHorizIcon)({\n  width: 24,\n  height: 16\n});\n\n/**\n * @ignore - internal component.\n */\nfunction BreadcrumbCollapsed(props) {\n  const {\n      slots = {},\n      slotProps = {}\n    } = props,\n    otherProps = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = props;\n  return /*#__PURE__*/_jsx(\"li\", {\n    children: /*#__PURE__*/_jsx(BreadcrumbCollapsedButton, _extends({\n      focusRipple: true\n    }, otherProps, {\n      ownerState: ownerState,\n      children: /*#__PURE__*/_jsx(BreadcrumbCollapsedIcon, _extends({\n        as: slots.CollapsedIcon,\n        ownerState: ownerState\n      }, slotProps.collapsedIcon))\n    }))\n  });\n}\nprocess.env.NODE_ENV !== \"production\" ? BreadcrumbCollapsed.propTypes = {\n  /**\n   * The props used for the CollapsedIcon slot.\n   * @default {}\n   */\n  slotProps: PropTypes.shape({\n    collapsedIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n  }),\n  /**\n   * The components used for each slot inside the BreadcumbCollapsed.\n   * Either a string to use a HTML element or a component.\n   * @default {}\n   */\n  slots: PropTypes.shape({\n    CollapsedIcon: PropTypes.elementType\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object\n} : void 0;\nexport default BreadcrumbCollapsed;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getBreadcrumbsUtilityClass(slot) {\n  return generateUtilityClass('MuiBreadcrumbs', slot);\n}\nconst breadcrumbsClasses = generateUtilityClasses('MuiBreadcrumbs', ['root', 'ol', 'li', 'separator']);\nexport default breadcrumbsClasses;","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"children\", \"className\", \"component\", \"slots\", \"slotProps\", \"expandText\", \"itemsAfterCollapse\", \"itemsBeforeCollapse\", \"maxItems\", \"separator\"];\nimport * as React from 'react';\nimport { isFragment } from 'react-is';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport integerPropType from '@mui/utils/integerPropType';\nimport composeClasses from '@mui/utils/composeClasses';\nimport useSlotProps from '@mui/utils/useSlotProps';\nimport styled from '../styles/styled';\nimport { useDefaultProps } from '../DefaultPropsProvider';\nimport Typography from '../Typography';\nimport BreadcrumbCollapsed from './BreadcrumbCollapsed';\nimport breadcrumbsClasses, { getBreadcrumbsUtilityClass } from './breadcrumbsClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    li: ['li'],\n    ol: ['ol'],\n    separator: ['separator']\n  };\n  return composeClasses(slots, getBreadcrumbsUtilityClass, classes);\n};\nconst BreadcrumbsRoot = styled(Typography, {\n  name: 'MuiBreadcrumbs',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    return [{\n      [`& .${breadcrumbsClasses.li}`]: styles.li\n    }, styles.root];\n  }\n})({});\nconst BreadcrumbsOl = styled('ol', {\n  name: 'MuiBreadcrumbs',\n  slot: 'Ol',\n  overridesResolver: (props, styles) => styles.ol\n})({\n  display: 'flex',\n  flexWrap: 'wrap',\n  alignItems: 'center',\n  padding: 0,\n  margin: 0,\n  listStyle: 'none'\n});\nconst BreadcrumbsSeparator = styled('li', {\n  name: 'MuiBreadcrumbs',\n  slot: 'Separator',\n  overridesResolver: (props, styles) => styles.separator\n})({\n  display: 'flex',\n  userSelect: 'none',\n  marginLeft: 8,\n  marginRight: 8\n});\nfunction insertSeparators(items, className, separator, ownerState) {\n  return items.reduce((acc, current, index) => {\n    if (index < items.length - 1) {\n      acc = acc.concat(current, /*#__PURE__*/_jsx(BreadcrumbsSeparator, {\n        \"aria-hidden\": true,\n        className: className,\n        ownerState: ownerState,\n        children: separator\n      }, `separator-${index}`));\n    } else {\n      acc.push(current);\n    }\n    return acc;\n  }, []);\n}\nconst Breadcrumbs = /*#__PURE__*/React.forwardRef(function Breadcrumbs(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiBreadcrumbs'\n  });\n  const {\n      children,\n      className,\n      component = 'nav',\n      slots = {},\n      slotProps = {},\n      expandText = 'Show path',\n      itemsAfterCollapse = 1,\n      itemsBeforeCollapse = 1,\n      maxItems = 8,\n      separator = '/'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const [expanded, setExpanded] = React.useState(false);\n  const ownerState = _extends({}, props, {\n    component,\n    expanded,\n    expandText,\n    itemsAfterCollapse,\n    itemsBeforeCollapse,\n    maxItems,\n    separator\n  });\n  const classes = useUtilityClasses(ownerState);\n  const collapsedIconSlotProps = useSlotProps({\n    elementType: slots.CollapsedIcon,\n    externalSlotProps: slotProps.collapsedIcon,\n    ownerState\n  });\n  const listRef = React.useRef(null);\n  const renderItemsBeforeAndAfter = allItems => {\n    const handleClickExpand = () => {\n      setExpanded(true);\n\n      // The clicked element received the focus but gets removed from the DOM.\n      // Let's keep the focus in the component after expanding.\n      // Moving it to the <ol> or <nav> does not cause any announcement in NVDA.\n      // By moving it to some link/button at least we have some announcement.\n      const focusable = listRef.current.querySelector('a[href],button,[tabindex]');\n      if (focusable) {\n        focusable.focus();\n      }\n    };\n\n    // This defends against someone passing weird input, to ensure that if all\n    // items would be shown anyway, we just show all items without the EllipsisItem\n    if (itemsBeforeCollapse + itemsAfterCollapse >= allItems.length) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error(['MUI: You have provided an invalid combination of props to the Breadcrumbs.', `itemsAfterCollapse={${itemsAfterCollapse}} + itemsBeforeCollapse={${itemsBeforeCollapse}} >= maxItems={${maxItems}}`].join('\\n'));\n      }\n      return allItems;\n    }\n    return [...allItems.slice(0, itemsBeforeCollapse), /*#__PURE__*/_jsx(BreadcrumbCollapsed, {\n      \"aria-label\": expandText,\n      slots: {\n        CollapsedIcon: slots.CollapsedIcon\n      },\n      slotProps: {\n        collapsedIcon: collapsedIconSlotProps\n      },\n      onClick: handleClickExpand\n    }, \"ellipsis\"), ...allItems.slice(allItems.length - itemsAfterCollapse, allItems.length)];\n  };\n  const allItems = React.Children.toArray(children).filter(child => {\n    if (process.env.NODE_ENV !== 'production') {\n      if (isFragment(child)) {\n        console.error([\"MUI: The Breadcrumbs component doesn't accept a Fragment as a child.\", 'Consider providing an array instead.'].join('\\n'));\n      }\n    }\n    return /*#__PURE__*/React.isValidElement(child);\n  }).map((child, index) => /*#__PURE__*/_jsx(\"li\", {\n    className: classes.li,\n    children: child\n  }, `child-${index}`));\n  return /*#__PURE__*/_jsx(BreadcrumbsRoot, _extends({\n    ref: ref,\n    component: component,\n    color: \"text.secondary\",\n    className: clsx(classes.root, className),\n    ownerState: ownerState\n  }, other, {\n    children: /*#__PURE__*/_jsx(BreadcrumbsOl, {\n      className: classes.ol,\n      ref: listRef,\n      ownerState: ownerState,\n      children: insertSeparators(expanded || maxItems && allItems.length <= maxItems ? allItems : renderItemsBeforeAndAfter(allItems), classes.separator, separator, ownerState)\n    })\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Breadcrumbs.propTypes /* remove-proptypes */ = {\n  //  Warning \n  //  These PropTypes are generated from the TypeScript type definitions. \n  //     To update them, edit the d.ts file and run `pnpm proptypes`.     \n  // \n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * Override the default label for the expand button.\n   *\n   * For localization purposes, you can use the provided [translations](/material-ui/guides/localization/).\n   * @default 'Show path'\n   */\n  expandText: PropTypes.string,\n  /**\n   * If max items is exceeded, the number of items to show after the ellipsis.\n   * @default 1\n   */\n  itemsAfterCollapse: integerPropType,\n  /**\n   * If max items is exceeded, the number of items to show before the ellipsis.\n   * @default 1\n   */\n  itemsBeforeCollapse: integerPropType,\n  /**\n   * Specifies the maximum number of breadcrumbs to display. When there are more\n   * than the maximum number, only the first `itemsBeforeCollapse` and last `itemsAfterCollapse`\n   * will be shown, with an ellipsis in between.\n   * @default 8\n   */\n  maxItems: integerPropType,\n  /**\n   * Custom separator node.\n   * @default '/'\n   */\n  separator: PropTypes.node,\n  /**\n   * The props used for each slot inside the Breadcumb.\n   * @default {}\n   */\n  slotProps: PropTypes.shape({\n    collapsedIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n  }),\n  /**\n   * The components used for each slot inside the Breadcumb.\n   * Either a string to use a HTML element or a component.\n   * @default {}\n   */\n  slots: PropTypes.shape({\n    CollapsedIcon: PropTypes.elementType\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Breadcrumbs;","import { useFormContext } from 'react-hook-form';\n\nimport Stack from '@mui/material/Stack';\nimport Typography from '@mui/material/Typography';\n\nimport { useLocales, useTranslate } from 'src/locales';\nimport {\n  useGetPatient,\n  useGetPatients,\n  useGetUnitservice,\n  useGetActiveUnitservices,\n} from 'src/api';\n\nimport { RHFRadioGroup, RHFAutocomplete } from 'src/components/hook-form';\n\n// ----------------------------------------------------------------------\n\nexport default function InvoiceNewEditAddress() {\n  const { watch } = useFormContext();\n\n  const { t } = useTranslate();\n  const { currentLang } = useLocales();\n  const curLangAr = currentLang.value === 'ar';\n\n  const values = watch();\n\n  const { patient, unit_service } = values;\n  const { data } = useGetPatient(patient);\n  const { data: USData } = useGetUnitservice(unit_service);\n  const { unitservicesData } = useGetActiveUnitservices({ select: 'name_english name_arabic' });\n  const { patientsData } = useGetPatients({ select: 'name_english name_arabic', status: 'active' });\n\n  return (\n    <Stack direction={{ md: 'row' }}>\n      <Stack spacing={{ xs: 2, md: 3 }} sx={{ p: 3 }} flex={1}>\n        <Stack sx={{ width: 1 }}>\n          {!data && !USData && (\n            <>\n              <Stack direction=\"row\" alignItems=\"center\" sx={{ mb: 3 }}>\n                <RHFRadioGroup\n                  row\n                  name=\"to\"\n                  options={[\n                    { label: 'to patient', value: 'to_patient' },\n                    { label: 'to unit of service', value: 'to_unit_service' },\n                  ]}\n                />\n              </Stack>\n              {values.to === 'to_patient' && (\n                <Stack direction=\"row\" justifyContent=\"flex-start\">\n                  <RHFAutocomplete\n                    lang=\"ar\"\n                    sx={{ minWidth: 200 }}\n                    name=\"patient\"\n                    options={patientsData.map((speciality) => speciality._id)}\n                    getOptionLabel={(option) =>\n                      patientsData.find((one) => one._id === option)?.[\n                        curLangAr ? 'name_arabic' : 'name_english'\n                      ]\n                    }\n                    renderOption={(props, option, idx) => (\n                      <li lang=\"ar\" {...props} key={idx} value={option}>\n                        {\n                          patientsData.find((one) => one._id === option)?.[\n                            curLangAr ? 'name_arabic' : 'name_english'\n                          ]\n                        }\n                      </li>\n                    )}\n                  />\n                </Stack>\n              )}\n              {values.to === 'to_unit_service' && (\n                <Stack direction=\"row\" justifyContent=\"flex-start\">\n                  <RHFAutocomplete\n                    lang=\"ar\"\n                    sx={{ minWidth: 200 }}\n                    name=\"unit_service\"\n                    options={unitservicesData.map((speciality) => speciality._id)}\n                    getOptionLabel={(option) =>\n                      unitservicesData.find((one) => one._id === option)?.[\n                        curLangAr ? 'name_arabic' : 'name_english'\n                      ]\n                    }\n                    renderOption={(props, option, idx) => (\n                      <li lang=\"ar\" {...props} key={idx} value={option}>\n                        {\n                          unitservicesData.find((one) => one._id === option)?.[\n                            curLangAr ? 'name_arabic' : 'name_english'\n                          ]\n                        }\n                      </li>\n                    )}\n                  />\n                </Stack>\n              )}\n            </>\n          )}\n          {(data || USData) && (\n            <Stack direction=\"row\" alignItems=\"center\" sx={{ mb: 1 }}>\n              <Typography variant=\"h6\" sx={{ color: 'text.disabled', flexGrow: 1 }}>\n                {t('to')}:\n              </Typography>\n            </Stack>\n          )}\n          {data && (\n            <Stack spacing={1}>\n              <Typography variant=\"subtitle2\">\n                {curLangAr ? data?.name_arabic : data?.name_english}\n              </Typography>\n              <Typography variant=\"body2\">\n                {curLangAr\n                  ? `${data?.city?.name_arabic || ''}, ${data?.country?.name_arabic || ''}`\n                  : `${data?.city?.name_english || ''}, ${data?.country?.name_english || ''}`}\n              </Typography>\n              <Typography variant=\"body2\"> {data?.phone}</Typography>\n            </Stack>\n          )}\n          {USData && (\n            <Stack spacing={1}>\n              <Typography variant=\"subtitle2\">\n                {curLangAr ? USData?.name_arabic : USData?.name_english}\n              </Typography>\n              <Typography variant=\"body2\">\n                {curLangAr\n                  ? `${USData?.city?.name_arabic}, ${USData?.country?.name_arabic}`\n                  : `${USData?.city?.name_english}, ${USData?.country?.name_english}`}\n              </Typography>\n              <Typography variant=\"body2\"> {data?.phone}</Typography>\n            </Stack>\n          )}\n        </Stack>\n      </Stack>\n    </Stack>\n  );\n}\n","import sum from 'lodash/sum';\nimport { useEffect, useCallback } from 'react';\nimport { useFieldArray, useFormContext } from 'react-hook-form';\n\nimport Box from '@mui/material/Box';\nimport Stack from '@mui/material/Stack';\nimport Button from '@mui/material/Button';\nimport Divider from '@mui/material/Divider';\nimport MenuItem from '@mui/material/MenuItem';\nimport Typography from '@mui/material/Typography';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport { inputBaseClasses } from '@mui/material/InputBase';\n\nimport { useAuthContext } from 'src/auth/hooks';\nimport { useLocales, useTranslate } from 'src/locales';\nimport {\n  useGetTaxes,\n  // useGetDeductions,\n  useGetUSActivities,\n  useGetUSActiveServiceTypes,\n} from 'src/api';\n\nimport Iconify from 'src/components/iconify';\nimport { RHFSelect, RHFTextField } from 'src/components/hook-form';\n\n// ----------------------------------------------------------------------\n\nexport default function InvoiceNewEditDetails() {\n  const { t } = useTranslate();\n  const { currentLang } = useLocales();\n  const curLangAr = currentLang.value === 'ar';\n\n  const { user } = useAuthContext();\n\n  const myUS =\n    user?.employee?.employee_engagements?.[user.employee.selected_engagement]?.unit_service;\n\n  const { serviceTypesData } = useGetUSActiveServiceTypes(myUS?._id, {\n    select: '_id name_english name_arabic Price_per_unit',\n  });\n  const { activitiesData } = useGetUSActivities(myUS?._id);\n\n  const { taxesData } = useGetTaxes();\n  // const { deductionsData } = useGetDeductions();\n\n  const { control, setValue, watch } = useFormContext();\n\n  const { fields, append, remove, update } = useFieldArray({\n    control,\n    name: 'items',\n  });\n\n  const handleAdd = () => {\n    append({\n      service_type: null,\n      activity: null,\n      quantity: 1,\n      price_per_unit: 0,\n      subtotal: 0,\n      discount_amount: 0,\n      // deduction: 0,\n      tax: 0,\n      total: 0,\n    });\n  };\n\n  const handleRemove = (index) => {\n    remove(index);\n  };\n\n  const values = watch();\n\n  // when add item from address component - from activities -\n  useEffect(() => {\n    update();\n  }, [values.items.length, update]);\n\n  const subtotalOnRow = values.items.map((item) => item.subtotal);\n  const subTotal = sum(subtotalOnRow);\n\n  useEffect(() => {\n    setValue('subtotal', subTotal);\n  }, [setValue, subTotal]);\n\n  const amountAfterDiscount = values.subtotal - values.discount;\n  const taxData = taxesData.find((one) => one._id === values.taxes_type);\n  // const deductionData = deductionsData.find((one) => one._id === values.deduction_type);\n  const taxes = amountAfterDiscount * (taxData ? (taxData.percentage || 0) / 100 : 0);\n  // const deduction =\n  //   amountAfterDiscount * (deductionData ? (deductionData.percentage || 0) / 100 : 0);\n  // const Amount = amountAfterDiscount + taxes + deduction;\n  const Amount = amountAfterDiscount + taxes;\n\n  useEffect(() => {\n    setValue('taxes', taxes);\n  }, [setValue, taxes]);\n  // useEffect(() => {\n  //   setValue('deduction', deduction);\n  // }, [setValue, deduction]);\n  useEffect(() => {\n    setValue('totalAmount', Amount);\n  }, [setValue, Amount]);\n\n  const handleChangeItemDetails = useCallback(\n    (event, index) => {\n      if (event.target.name === `items[${index}].service_type`) {\n        setValue(event.target.name, event.target.value);\n        const selected = serviceTypesData?.find((service) => service._id === event.target.value);\n        setValue(`items[${index}].price_per_unit`, selected?.Price_per_unit);\n      } else {\n        setValue(event.target.name, Number(event.target.value));\n      }\n      setValue(\n        `items[${index}].subtotal`,\n        values.items[index].quantity * values.items[index].price_per_unit\n      );\n      setValue(\n        `items[${index}].total`,\n        values.items[index].quantity * values.items[index].price_per_unit\n      );\n    },\n    [setValue, values.items, serviceTypesData]\n  );\n\n  const renderTotal = (\n    <>\n      <Divider />\n      <Stack\n        my={1}\n        gap={{ md: 2, xs: 1 }}\n        direction={{ md: 'row' }}\n        alignItems={{ md: 'center', xs: 'flex-end' }}\n        sx={{ textAlign: 'right', typography: 'body2' }}\n      >\n        <Stack direction=\"row\" alignItems=\"center\" gap={1}>\n          <Box sx={{ color: 'text.secondary' }}>{t('subtotal')}:</Box>\n          <Box sx={{ typography: 'subtitle2' }}>\n            <RHFTextField\n              disabled\n              type=\"number\"\n              name=\"subtotal\"\n              size=\"small\"\n              sx={{\n                width: 160,\n                [`& .${inputBaseClasses.input}`]: {\n                  textAlign: { md: 'right' },\n                },\n              }}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Box>\n        </Stack>\n\n        <Stack direction=\"row\" alignItems=\"center\" gap={1}>\n          <Box sx={{ color: 'text.secondary' }}>{t('discount')}:</Box>\n          <Box\n            sx={{\n              ...(values.discount && { color: 'error.main' }),\n            }}\n          >\n            <RHFTextField\n              type=\"number\"\n              name=\"discount\"\n              size=\"small\"\n              sx={{\n                width: 160,\n                [`& .${inputBaseClasses.input}`]: {\n                  textAlign: { md: 'right' },\n                },\n              }}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Box>\n        </Stack>\n\n        {myUS?.has_tax && (\n          <Stack direction=\"row\" alignItems=\"center\" gap={1}>\n            <Box sx={{ color: 'text.secondary' }}>{t('tax')}:</Box>\n            <Box>\n              <RHFSelect\n                name=\"taxes_type\"\n                size=\"small\"\n                sx={{\n                  width: 160,\n                  [`& .${inputBaseClasses.input}`]: {\n                    textAlign: { md: 'left' },\n                  },\n                }}\n                // onChange={handleChangeOverall}\n              >\n                {taxesData.map((one, idx) => (\n                  <MenuItem lang=\"ar\" key={idx} value={one._id}>\n                    {curLangAr ? one.name_arabic : one.name_english} {one.percentage}%\n                  </MenuItem>\n                ))}\n              </RHFSelect>\n            </Box>\n          </Stack>\n        )}\n\n        {/* <Stack direction=\"row\">\n        <Box sx={{ color: 'text.secondary' }}>{t('deduction')}</Box>\n        <Box sx={{ width: 180 }}>\n          <RHFSelect\n            name=\"deduction_type\"\n            size=\"small\"\n            sx={{\n              width: 160,\n              [`& .${inputBaseClasses.input}`]: {\n                textAlign: { md: 'left' },\n              },\n            }}\n          // onChange={handleChangeOverall}\n          >\n            {deductionsData.map((one, idx) => (\n              <MenuItem lang=\"ar\" key={idx} value={one._id}>\n                {curLangAr ? one.name_arabic : one.name_english} {one.percentage}%\n              </MenuItem>\n            ))}\n          </RHFSelect>\n        </Box>\n      </Stack> */}\n\n        <Stack direction=\"row\" sx={{ typography: 'subtitle1' }} alignItems=\"center\" gap={1}>\n          <Box>{t('total')}:</Box>\n          <Box>\n            <RHFTextField\n              disabled\n              type=\"number\"\n              name=\"totalAmount\"\n              size=\"small\"\n              sx={{\n                width: 160,\n                [`& .${inputBaseClasses.input}`]: {\n                  textAlign: { md: 'right' },\n                },\n              }}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Box>\n        </Stack>\n      </Stack>\n      <Divider />\n    </>\n  );\n\n  return (\n    <>\n      <Divider />\n      <Box sx={{ p: 3 }}>\n        <Typography variant=\"h6\" sx={{ color: 'text.disabled', mb: 3 }}>\n          {t('details')}:\n        </Typography>\n\n        <Stack divider={<Divider flexItem sx={{ borderStyle: 'dashed' }} />} spacing={2}>\n          {fields.map((item, index) => (\n            <Stack key={item.id} alignItems=\"flex-start\" spacing={1.5}>\n              <Stack\n                direction={{ xs: 'column', md: 'row' }}\n                justifyContent=\"flex-start\"\n                spacing={2}\n                sx={{ width: 1 }}\n              >\n                <RHFSelect\n                  name={`items[${index}].service_type`}\n                  size=\"small\"\n                  label={t('service')}\n                  sx={{ maxWidth: { md: 400 } }}\n                  InputLabelProps={{ shrink: true }}\n                  onChange={(event) => handleChangeItemDetails(event, index)}\n                >\n                  {serviceTypesData?.map((service) => (\n                    <MenuItem lang=\"ar\" key={service._id} value={service._id}>\n                      {curLangAr ? service.name_arabic : service.name_english}\n                    </MenuItem>\n                  ))}\n                </RHFSelect>\n                <RHFSelect\n                  name={`items[${index}].activity`}\n                  size=\"small\"\n                  label={t('activity')}\n                  sx={{ maxWidth: { md: 200 } }}\n                  InputLabelProps={{ shrink: true }}\n                >\n                  {activitiesData?.map((one) => (\n                    <MenuItem lang=\"ar\" key={one._id} value={one._id}>\n                      {curLangAr ? one.name_arabic : one.name_english}\n                    </MenuItem>\n                  ))}\n                </RHFSelect>\n\n                <RHFTextField\n                  size=\"small\"\n                  type=\"number\"\n                  name={`items[${index}].quantity`}\n                  label={t('quantity')}\n                  placeholder=\"0\"\n                  onChange={(event) => handleChangeItemDetails(event, index)}\n                  InputLabelProps={{ shrink: true }}\n                  sx={{\n                    maxWidth: { md: 200 },\n                    [`& .${inputBaseClasses.input}`]: {\n                      textAlign: { md: 'right' },\n                    },\n                  }}\n                />\n\n                <RHFTextField\n                  disabled\n                  size=\"small\"\n                  type=\"number\"\n                  name={`items[${index}].price_per_unit`}\n                  label={t('price')}\n                  placeholder=\"0.00\"\n                  // onChange={(event) => handleChangeItemDetails(event, index)}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                      </InputAdornment>\n                    ),\n                  }}\n                  sx={{\n                    maxWidth: { md: 200 },\n                    [`& .${inputBaseClasses.input}`]: {\n                      textAlign: { md: 'right' },\n                    },\n                  }}\n                />\n                <RHFTextField\n                  disabled\n                  size=\"small\"\n                  type=\"number\"\n                  name={`items[${index}].total`}\n                  label={t('total')}\n                  placeholder=\"0.00\"\n                  value={\n                    values.items[index]?.total === 0 ? '' : values.items[index]?.total?.toFixed(2)\n                  }\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                      </InputAdornment>\n                    ),\n                  }}\n                  sx={{\n                    maxWidth: { md: 200 },\n                    [`& .${inputBaseClasses.input}`]: {\n                      textAlign: { md: 'right' },\n                    },\n                  }}\n                />\n                <Button\n                  size=\"small\"\n                  color=\"error\"\n                  tabIndex={-1}\n                  onClick={() => handleRemove(index)}\n                >\n                  <Iconify icon=\"solar:trash-bin-trash-bold\" />\n                </Button>\n              </Stack>\n            </Stack>\n          ))}\n        </Stack>\n\n        <Divider sx={{ mt: 2, mb: 1, borderStyle: 'dashed' }} />\n\n        <Stack\n          spacing={3}\n          mb={2}\n          direction={{ xs: 'column', md: 'row' }}\n          justifyContent=\"flex-end\"\n          alignItems={{ xs: 'flex-end', md: 'center' }}\n        >\n          <Button\n            size=\"small\"\n            color=\"primary\"\n            startIcon={<Iconify icon=\"mingcute:add-line\" />}\n            onClick={handleAdd}\n            sx={{ flexShrink: 0 }}\n          >\n            {t('add item')}\n          </Button>\n        </Stack>\n        {renderTotal}\n      </Box>\n    </>\n  );\n}\n","import PropTypes from 'prop-types';\nimport { useFormContext } from 'react-hook-form';\n\nimport {\n  Box,\n  Stack,\n  Button,\n  Dialog,\n  Typography,\n  DialogTitle,\n  DialogActions,\n  DialogContent,\n  InputAdornment,\n} from '@mui/material';\n\nimport { useAuthContext } from 'src/auth/hooks';\nimport { useLocales, useTranslate } from 'src/locales';\n\nimport { RHFTextField, RHFRadioGroup, RHFAutocomplete } from 'src/components/hook-form';\n\n// ----------------------------------------------------------------------\n\nexport default function InvoiceNewEditInsurance({ open, onClose, onSubmit }) {\n  const { watch, setValue } = useFormContext();\n\n  const { user } = useAuthContext();\n\n  const { t } = useTranslate();\n  const { currentLang } = useLocales();\n  const curLangAr = currentLang.value === 'ar';\n\n  const USData =\n    user?.employee?.employee_engagements?.[user?.employee.selected_engagement]?.unit_service;\n\n  const values = watch();\n  const changeHandler = (e) => {\n    setValue(e.target.name, e.target.value);\n    if (e.target.name === 'patient_paid') {\n      setValue('insurance_coverage_amount', values.totalAmount - e.target.value);\n    } else {\n      setValue('patient_paid', values.totalAmount - e.target.value);\n    }\n  };\n\n  return (\n    <Dialog fullWidth open={open} onClose={onClose}>\n      <DialogTitle sx={{ pb: 2, textTransform: 'capitalize' }}>{t('payment info')}</DialogTitle>\n      <DialogContent>\n        <Stack gap={2}>\n          <Stack gap={1}>\n            <Typography variant=\"subtitle2\">{t('amount paid by patient')}</Typography>\n            <RHFTextField\n              type=\"number\"\n              name=\"patient_paid\"\n              onChange={changeHandler}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Stack>\n          {values.patient_paid > 0 && (\n            <RHFRadioGroup\n              row\n              name=\"payment_method\"\n              label={t('payment method')}\n              options={[\n                { label: t('cash'), value: 'cash' },\n                { label: t('credit card'), value: 'credit_card' },\n                { label: t('bank transfer'), value: 'bank_transfer' },\n                { label: t('instant bank transfer'), value: 'instant_transfer' },\n              ]}\n            />\n          )}\n          <Stack gap={1}>\n            <Typography variant=\"subtitle2\">{t('amount covered by insurance')}</Typography>\n            <RHFTextField\n              type=\"number\"\n              name=\"insurance_coverage_amount\"\n              onChange={changeHandler}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Stack>\n          <Stack gap={1}>\n            <Typography variant=\"subtitle2\">{t('insurance number')}</Typography>\n            <RHFTextField name=\"insurance_number\" />\n          </Stack>\n          <Stack gap={1}>\n            <Typography variant=\"subtitle2\">{t('insurance company')}</Typography>\n            <RHFAutocomplete\n              lang=\"ar\"\n              sx={{ minWidth: 200 }}\n              name=\"insurance_company\"\n              // label=\"insurance company\"\n              options={USData?.insurance?.map((one) => one._id)}\n              getOptionLabel={(option) =>\n                USData?.insurance?.find((one) => one._id === option)?.[\n                  curLangAr ? 'name_arabic' : 'name_english'\n                ]\n              }\n              renderOption={(props, option, idx) => (\n                <li lang=\"ar\" {...props} key={idx} value={option}>\n                  {\n                    USData?.insurance?.find((one) => one._id === option)?.[\n                      curLangAr ? 'name_arabic' : 'name_english'\n                    ]\n                  }\n                </li>\n              )}\n            />\n          </Stack>\n          {/* <Stack direction={{ md: 'row' }} alignItems='flex-end' gap={2} minWidth={300}> */}\n          {/* <RHFRadioGroup\n              row\n              name=\"insurance_coverage\"\n              label={t('insurance coverage')}\n              options={[\n                { label: 'amount', value: 'amount' },\n                { label: 'percentage', value: 'percentage' },\n                ]}\n                /> */}\n          {/* {values.insurance_coverage === 'amount' &&  */}\n\n          {/* } */}\n          {/* {values.insurance_coverage === 'percentage' && <RHFTextField type='number' size='small' name='insurance_coverage_percent' sx={{ maxWidth: 200 }} InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>%</Box>\n                </InputAdornment>\n              ),\n            }} />} */}\n          {/* </Stack> */}\n        </Stack>\n      </DialogContent>\n\n      <DialogActions>\n        <Button variant=\"outlined\" color=\"inherit\" onClick={onClose}>\n          {t('cancel')}\n        </Button>\n\n        <Button\n          variant=\"contained\"\n          onClick={() => {\n            onSubmit();\n            onClose();\n          }}\n        >\n          {t('submit')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\nInvoiceNewEditInsurance.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func,\n  onSubmit: PropTypes.func,\n};\n","import { Controller, useFormContext } from 'react-hook-form';\n\nimport Stack from '@mui/material/Stack';\nimport MenuItem from '@mui/material/MenuItem';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\n\nimport { useTranslate } from 'src/locales';\n\nimport { RHFSelect } from 'src/components/hook-form';\n\n// ----------------------------------------------------------------------\n\nexport default function InvoiceNewEditStatusDate() {\n  const { control } = useFormContext();\n\n  const { t } = useTranslate();\n\n  return (\n    <Stack\n      spacing={2}\n      direction={{ xs: 'column', sm: 'row' }}\n      sx={{ p: 3, bgcolor: 'background.neutral' }}\n    >\n      {/* <RHFTextField\n        disabled\n        name=\"invoiceNumber\"\n        label=\"Invoice number\"\n        value={values.invoiceNumber}\n      /> */}\n\n      <RHFSelect\n        fullWidth\n        name=\"status\"\n        label={t('status')}\n        InputLabelProps={{ shrink: true }}\n        PaperPropsSx={{ textTransform: 'capitalize' }}\n      >\n        {['paid', 'installment', 'insurance'].map((option) => (\n          <MenuItem key={option} value={option}>\n            {t(option)}\n          </MenuItem>\n        ))}\n      </RHFSelect>\n\n      <Controller\n        name=\"createDate\"\n        control={control}\n        render={({ field, fieldState: { error } }) => (\n          <DatePicker\n            label={t('invoice date')}\n            value={field.value}\n            onChange={(newValue) => {\n              field.onChange(newValue);\n            }}\n            slotProps={{\n              textField: {\n                fullWidth: true,\n                error: !!error,\n                helperText: error?.message,\n              },\n            }}\n          />\n        )}\n      />\n\n      {/* <Controller\n        name=\"dueDate\"\n        control={control}\n        render={({ field, fieldState: { error } }) => (\n          <DatePicker\n            label={t('due date')}\n            value={field.value}\n            onChange={(newValue) => {\n              field.onChange(newValue);\n            }}\n            slotProps={{\n              textField: {\n                fullWidth: true,\n                error: !!error,\n                helperText: error?.message,\n              },\n            }}\n          />\n        )}\n      /> */}\n    </Stack>\n  );\n}\n","import { useFieldArray, useFormContext } from 'react-hook-form';\nimport { useMemo, useState, useEffect, useCallback } from 'react';\n\nimport Box from '@mui/material/Box';\nimport Stack from '@mui/material/Stack';\nimport Button from '@mui/material/Button';\nimport Divider from '@mui/material/Divider';\nimport MenuItem from '@mui/material/MenuItem';\nimport Typography from '@mui/material/Typography';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport { inputBaseClasses } from '@mui/material/InputBase';\n\nimport { fCurrency } from 'src/utils/format-number';\n\nimport { useAuthContext } from 'src/auth/hooks';\nimport { useLocales, useTranslate } from 'src/locales';\nimport { useGetStakeholderProducts } from 'src/api/product';\n\nimport Iconify from 'src/components/iconify';\nimport { RHFSelect, RHFTextField } from 'src/components/hook-form';\n\n// ----------------------------------------------------------------------\n\nexport default function InvoiceNewEditDetails() {\n  const { t } = useTranslate();\n  const { currentLang } = useLocales();\n  const curLangAr = currentLang.value === 'ar';\n\n  const { user } = useAuthContext();\n\n  const { productsData } = useGetStakeholderProducts(user?.stakeholder?._id, {\n    populate: 'tax deduction',\n  });\n\n  const { control, setValue, watch } = useFormContext();\n\n  const { fields, append, remove, update } = useFieldArray({\n    control,\n    name: 'products',\n  });\n\n  const values = watch();\n\n  const [taxSums, setTaxSums] = useState({});\n  const [deductionSums, setDeductionSums] = useState({});\n\n  useEffect(() => {\n    const newTaxSums = {};\n    const newDeductionSums = {};\n\n    productsData.forEach((product) => {\n      const matchingItems = values.products.filter((item) => item.product === product._id);\n      if (matchingItems.length) {\n        matchingItems.forEach((item) => {\n          const taxId = product?.tax?._id;\n          const taxAmount =\n            ((product.tax ? product.tax.percentage : 0) / 100) *\n            (item.price_per_unit * item.quantity - item.discount_amount);\n          if (taxAmount) {\n            if (!newTaxSums[taxId]) {\n              newTaxSums[taxId] = {\n                name: curLangAr ? product?.tax?.name_arabic : product.tax?.name_english,\n                value: 0,\n              };\n            }\n\n            newTaxSums[taxId].value += taxAmount;\n          }\n          if (product.deduction) {\n            const deductionId = product?.deduction?._id;\n            const deductionAmount =\n              ((product.deduction ? product.deduction.percentage : 0) / 100) *\n              (item.price_per_unit * item.quantity - item.discount_amount);\n\n            if (!newDeductionSums[deductionId]) {\n              newDeductionSums[deductionId] = {\n                name: curLangAr ? product.deduction?.name_arabic : product.deduction?.name_english,\n                value: 0,\n              };\n            }\n\n            newDeductionSums[deductionId].value += deductionAmount;\n          }\n        });\n      }\n    });\n\n    setTaxSums(newTaxSums);\n    setDeductionSums(newDeductionSums);\n  }, [values, productsData, curLangAr]);\n\n  const summedTaxes = useMemo(\n    () =>\n      Object.keys(taxSums).map((taxId) => ({\n        name: taxSums[taxId].name,\n        value: taxSums[taxId].value,\n      })),\n    [taxSums]\n  );\n\n  const summedDeductions = useMemo(\n    () =>\n      Object.keys(deductionSums).map((deductionId) => ({\n        name: deductionSums[deductionId].name,\n        value: deductionSums[deductionId].value,\n      })),\n    [deductionSums]\n  );\n\n  // useEffect(() => { setValue('taxSums', taxSums) }, [taxSums, setValue])\n  // useEffect(() => { setValue('deductionSums', deductionSums) }, [deductionSums, setValue])\n\n  // when add item from address component - from activities -\n  useEffect(() => {\n    update();\n  }, [values.products.length, update]);\n\n  const subTotal = values.products?.reduce((acc, one) => acc + one.subtotal, 0);\n  const discountTotal = values.products?.reduce((acc, one) => acc + one.discount_amount, 0);\n  const taxesTotal = values.products?.reduce(\n    (acc, one) => acc + (one.tax / 100) * (one.subtotal - one.discount_amount),\n    0\n  );\n  const deductiontotal = values.products?.reduce(\n    (acc, one) => acc + (one.deduction / 100) * (one.subtotal - one.discount_amount),\n    0\n  );\n  const totalAmount = values.products?.reduce((acc, one) => acc + one.total, 0);\n\n  useEffect(() => {\n    setValue('subtotal', subTotal);\n  }, [subTotal, setValue]);\n  useEffect(() => {\n    setValue('discount', discountTotal);\n  }, [discountTotal, setValue]);\n  useEffect(() => {\n    setValue('taxes', taxesTotal);\n  }, [taxesTotal, setValue]);\n  useEffect(() => {\n    setValue('deduction', deductiontotal);\n  }, [deductiontotal, setValue]);\n  useEffect(() => {\n    setValue('totalAmount', totalAmount);\n  }, [totalAmount, setValue]);\n\n  const handleAdd = () => {\n    append({\n      product: null,\n      quantity: 1,\n      price_per_unit: 0,\n      subtotal: 0,\n      discount_amount: 0,\n      deduction: 0,\n      tax: 0,\n      total: 0,\n    });\n  };\n\n  const handleRemove = (index) => {\n    remove(index);\n  };\n\n  const handleSelectProduct = useCallback(\n    (index, option) => {\n      const selected = productsData?.find((product) => product._id === option);\n      setValue(`products[${index}].price_per_unit`, selected?.price);\n      setValue(\n        `products[${index}].subtotal`,\n        values.products[index].quantity * values.products[index].price_per_unit\n      );\n      setValue(`products[${index}].tax`, selected?.tax?.percentage || 0);\n      setValue(`products[${index}].deduction`, selected?.deduction?.percentage || 0);\n      const amountAfterDiscount =\n        values.products[index].subtotal - values.products[index].discount_amount;\n      const tax = amountAfterDiscount * (values.products[index].tax / 100);\n      const deduction = amountAfterDiscount * (values.products[index].deduction / 100);\n      const total = amountAfterDiscount + tax + deduction;\n      // const total = amountAfterDiscount + tax;\n      setValue(`products[${index}].total`, total);\n    },\n    [setValue, values.products, productsData]\n  );\n\n  const handleChange = useCallback(\n    (event, index) => {\n      setValue(event.target.name, Number(event.target.value));\n      setValue(\n        `products[${index}].subtotal`,\n        values.products[index].quantity * values.products[index].price_per_unit\n      );\n      const amountAfterDiscount =\n        values.products[index].subtotal - values.products[index].discount_amount;\n      const tax = amountAfterDiscount * (values.products[index].tax / 100);\n      const deduction = amountAfterDiscount * (values.products[index].deduction / 100);\n      const total = amountAfterDiscount + tax + deduction;\n      // const total = amountAfterDiscount + tax;\n      setValue(`products[${index}].total`, total);\n    },\n    [setValue, values.products]\n  );\n\n  const renderTotal = (\n    <Stack\n      spacing={2}\n      alignItems=\"flex-end\"\n      sx={{ mt: 3, textAlign: 'right', typography: 'body2' }}\n    >\n      {[\n        { name: 'subtotal', value: values.subtotal },\n        { name: 'discount', value: -values.discount, color: 'red' },\n        ...summedTaxes,\n        ...summedDeductions,\n        // { name: 'taxes', value: values.taxes },\n        // { name: 'deduction', value: values.deduction },\n        {\n          name: 'total',\n          value: values.totalAmount,\n          textColor: 'text.primary',\n          typography: 'subtitle1',\n        },\n      ].map((one) => (\n        <Stack direction=\"row\">\n          <Box sx={{ color: one.textColor || 'text.secondary', typography: one.typography }}>\n            {t(one.name)}\n          </Box>\n          <Box sx={{ width: 160, typography: 'subtitle2', color: one.color }}>\n            {one.value ? fCurrency(one.value) : '-'}\n          </Box>\n        </Stack>\n      ))}\n    </Stack>\n  );\n\n  return (\n    <Box sx={{ p: 3 }}>\n      <Typography variant=\"h6\" sx={{ color: 'text.disabled', mb: 3 }}>\n        {t('details')}:\n      </Typography>\n\n      <Stack divider={<Divider flexItem sx={{ borderStyle: 'dashed' }} />} spacing={2}>\n        {fields.map((item, index) => (\n          <Stack key={item.id} alignItems=\"flex-start\" spacing={1.5}>\n            <Stack\n              direction={{ xs: 'column', md: 'row' }}\n              justifyContent=\"flex-end\"\n              spacing={2}\n              sx={{ width: 1 }}\n            >\n              {/* <RHFAutocomplete\n                placeholder=\"type\"\n                name={`products[${index}].product`}\n                label=\"product\"\n                sx={{ width: { md: 300 } }}\n                size=\"small\"\n                InputLabelProps={{ shrink: true }}\n                options={productsData.map((speciality) => speciality._id)}\n                getOptionLabel={(option) =>\n                  productsData?.find((one) => one._id === option)?.[\n                  curLangAr ? 'name_arabic' : 'name_english'\n                  ]\n                }\n                renderOption={(props, option, idx) => (\n                  <li lang='ar' {...props} key={idx} value={option}>\n                    {\n                      productsData.find((one) => one._id === option)?.[\n                      curLangAr ? 'name_arabic' : 'name_english'\n                      ]\n                    }\n                  </li>\n                )}\n              /> */}\n              <RHFSelect\n                name={`products[${index}].product`}\n                size=\"small\"\n                label={t('product')}\n                sx={{ maxWidth: { md: 300 } }}\n                InputLabelProps={{ shrink: true }}\n              >\n                {productsData?.map((product) => (\n                  <MenuItem\n                    lang=\"ar\"\n                    key={product._id}\n                    value={product._id}\n                    onClick={() => handleSelectProduct(index, product._id)}\n                  >\n                    {curLangAr ? product.name_arabic : product.name_english}\n                  </MenuItem>\n                ))}\n              </RHFSelect>\n              <RHFTextField\n                size=\"small\"\n                type=\"number\"\n                name={`products[${index}].quantity`}\n                label={t('quantity')}\n                placeholder=\"0\"\n                onChange={(event) => handleChange(event, index)}\n                InputLabelProps={{ shrink: true }}\n                sx={{\n                  maxWidth: { md: 200 },\n                  [`& .${inputBaseClasses.input}`]: {\n                    textAlign: { md: 'right' },\n                  },\n                }}\n              />\n\n              <RHFTextField\n                disabled\n                size=\"small\"\n                type=\"number\"\n                name={`products[${index}].price_per_unit`}\n                label={t('price')}\n                placeholder=\"0.00\"\n                // onChange={(event) => handleChange(event, index)}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                    </InputAdornment>\n                  ),\n                }}\n                sx={{\n                  maxWidth: { md: 200 },\n                  [`& .${inputBaseClasses.input}`]: {\n                    textAlign: { md: 'right' },\n                  },\n                }}\n              />\n              <RHFTextField\n                disabled\n                size=\"small\"\n                type=\"number\"\n                name={`products[${index}].subtotal`}\n                label={t('subtotal')}\n                placeholder=\"0.00\"\n                value={\n                  values.products[index].subtotal === 0\n                    ? ''\n                    : values.products[index].subtotal.toFixed(2)\n                }\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                    </InputAdornment>\n                  ),\n                }}\n                sx={{\n                  maxWidth: { md: 200 },\n                  [`& .${inputBaseClasses.input}`]: {\n                    textAlign: { md: 'right' },\n                  },\n                }}\n              />\n              <Box width={65} />\n            </Stack>\n            <Stack\n              direction={{ xs: 'column', md: 'row' }}\n              justifyContent=\"flex-end\"\n              spacing={2}\n              sx={{ width: 1 }}\n            >\n              <RHFTextField\n                size=\"small\"\n                type=\"number\"\n                name={`products[${index}].discount_amount`}\n                label={t('discount')}\n                onChange={(event) => handleChange(event, index)}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                    </InputAdornment>\n                  ),\n                }}\n                sx={{\n                  maxWidth: { md: 200 },\n                  [`& .${inputBaseClasses.input}`]: {\n                    textAlign: { md: 'right' },\n                  },\n                }}\n              />\n              <RHFTextField\n                disabled\n                size=\"small\"\n                type=\"number\"\n                name={`products[${index}].tax`}\n                label={t('tax')}\n                placeholder=\"00\"\n                onChange={(event) => handleChange(event, index)}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>%</Box>\n                    </InputAdornment>\n                  ),\n                }}\n                sx={{\n                  maxWidth: { md: 200 },\n                  [`& .${inputBaseClasses.input}`]: {\n                    textAlign: { md: 'right' },\n                  },\n                }}\n              />\n              <RHFTextField\n                disabled\n                size=\"small\"\n                type=\"number\"\n                name={`products[${index}].deduction`}\n                label={t('deduction')}\n                placeholder=\"00\"\n                onChange={(event) => handleChange(event, index)}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>%</Box>\n                    </InputAdornment>\n                  ),\n                }}\n                sx={{\n                  maxWidth: { md: 200 },\n                  [`& .${inputBaseClasses.input}`]: {\n                    textAlign: { md: 'right' },\n                  },\n                }}\n              />\n              <RHFTextField\n                disabled\n                size=\"small\"\n                type=\"number\"\n                name={`products[${index}].total`}\n                label={t('total')}\n                placeholder=\"0.00\"\n                value={\n                  values.products[index].total === 0 ? '' : values.products[index].total.toFixed(2)\n                }\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                    </InputAdornment>\n                  ),\n                }}\n                sx={{\n                  maxWidth: { md: 200 },\n                  [`& .${inputBaseClasses.input}`]: {\n                    textAlign: { md: 'right' },\n                  },\n                }}\n              />\n              <Button size=\"small\" color=\"error\" onClick={() => handleRemove(index)}>\n                <Iconify icon=\"solar:trash-bin-trash-bold\" />\n              </Button>\n            </Stack>\n          </Stack>\n        ))}\n      </Stack>\n\n      <Divider sx={{ my: 3, borderStyle: 'dashed' }} />\n\n      <Stack\n        spacing={3}\n        direction={{ xs: 'column', md: 'row' }}\n        alignItems={{ xs: 'flex-end', md: 'center' }}\n      >\n        <Button\n          size=\"small\"\n          color=\"primary\"\n          startIcon={<Iconify icon=\"mingcute:add-line\" />}\n          onClick={handleAdd}\n          sx={{ flexShrink: 0 }}\n        >\n          {t('add item')}\n        </Button>\n      </Stack>\n\n      {renderTotal}\n    </Box>\n  );\n}\n","import { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useFieldArray, useFormContext } from 'react-hook-form';\n\nimport {\n  Box,\n  Stack,\n  Button,\n  Dialog,\n  Divider,\n  MenuItem,\n  TextField,\n  DialogTitle,\n  DialogActions,\n  DialogContent,\n  InputAdornment,\n} from '@mui/material';\n\nimport { useTranslate } from 'src/locales';\n\nimport Iconify from 'src/components/iconify';\nimport { RHFSelect, RHFTextField, RHFDatePicker } from 'src/components/hook-form';\n\n// ----------------------------------------------------------------------\n\nexport default function InvoiceNewEditInsurance({ open, onClose, onSubmit }) {\n  const { control, watch, setValue } = useFormContext();\n\n  const { t } = useTranslate();\n\n  const values = watch();\n\n  const { fields, append, remove } = useFieldArray({\n    control,\n    name: 'payment_details',\n  });\n\n  const totalInstallments =\n    (values.patient_paid ? values.patient_paid : 0) +\n    values.payment_details.reduce((acc, one) => acc + one.amount, 0);\n\n  useEffect(() => {\n    setValue('totalInstallments', totalInstallments);\n  }, [totalInstallments, setValue]);\n\n  const handleAdd = () => {\n    append({\n      due_date: values.payment_details?.[values.payment_details.length - 1]?.due_date || new Date(),\n      amount: values.totalAmount - values.totalInstallments,\n    });\n  };\n\n  const handleRemove = (index) => {\n    remove(index);\n  };\n  return (\n    <Dialog fullWidth maxWidth=\"md\" open={open} onClose={onClose}>\n      <DialogTitle sx={{ pb: 2, textTransform: 'capitalize' }}>{t('payment info')}</DialogTitle>\n      <DialogContent>\n        <Stack\n          divider={<Divider flexItem sx={{ borderStyle: 'dashed' }} />}\n          spacing={2}\n          paddingTop={2}\n        >\n          <Stack alignItems=\"flex-start\" spacing={1}>\n            <Stack\n              direction={{ xs: 'column', md: 'row' }}\n              justifyContent=\"flex-start\"\n              spacing={2}\n              sx={{ width: 1 }}\n            >\n              <TextField\n                disabled\n                fullWidth\n                size=\"small\"\n                value={t('now')}\n                label={t('due date')}\n                InputLabelProps={{ shrink: true }}\n              />\n              <RHFTextField\n                size=\"small\"\n                type=\"number\"\n                name=\"patient_paid\"\n                label={t('amount')}\n                placeholder=\"0\"\n                InputLabelProps={{ shrink: true }}\n                sx={{\n                  maxWidth: { md: 200 },\n                }}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                    </InputAdornment>\n                  ),\n                }}\n              />\n              <RHFSelect size=\"small\" name=\"payment_method\" label={t('payment method')}>\n                {[\n                  { label: 'cash', value: 'cash' },\n                  { label: 'credit card', value: 'credit_card' },\n                  { label: 'bank transfer', value: 'bank_transfer' },\n                  { label: 'instant bank transfer', value: 'instant_transfer' },\n                ].map((one, idx) => (\n                  <MenuItem key={idx} value={one.value}>\n                    {t(one.label)}\n                  </MenuItem>\n                ))}\n              </RHFSelect>\n              <Box width={200} />\n            </Stack>\n          </Stack>\n          {fields.map((item, index) => (\n            <Stack key={item.id} alignItems=\"flex-start\" spacing={1}>\n              <Stack\n                direction={{ xs: 'column', md: 'row' }}\n                justifyContent=\"flex-start\"\n                spacing={2}\n                sx={{ width: 1 }}\n              >\n                <RHFDatePicker\n                  size=\"small\"\n                  name={`payment_details[${index}].due_date`}\n                  label={t('due date')}\n                />\n                <RHFTextField\n                  size=\"small\"\n                  type=\"number\"\n                  name={`payment_details[${index}].amount`}\n                  label={t('amount')}\n                  placeholder=\"0\"\n                  InputLabelProps={{ shrink: true }}\n                  // sx={{\n                  //   maxWidth: { md: 200 },\n                  // }}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n                {/* <RHFSelect\n                  size=\"small\"\n                  name={`payment_details[${index}].payment_method`}\n                  label={t('payment method')}\n                >\n                  {[\n                    { label: 'cash', value: 'cash' },\n                    { label: 'credit card', value: 'credit_card' },\n                    { label: 'bank transfer', value: 'bank_transfer' },\n                    { label: 'instant bank transfer', value: 'instant_transfer' },\n                  ].map((one, idx) => (\n                    <MenuItem key={idx} value={one.value}>\n                      {t(one.label)}\n                    </MenuItem>\n                  ))}\n                </RHFSelect> */}\n                <Button\n                  size=\"small\"\n                  color=\"error\"\n                  sx={{ width: 50 }}\n                  tabIndex={-1}\n                  onClick={() => handleRemove(index)}\n                >\n                  <Iconify icon=\"solar:trash-bin-trash-bold\" />\n                </Button>\n              </Stack>\n            </Stack>\n          ))}\n\n          <Stack\n            spacing={3}\n            mb={2}\n            direction={{ xs: 'column', md: 'row' }}\n            // justifyContent=\"flex-start\"\n            alignItems={{ xs: 'flex-end', md: 'center' }}\n          >\n            <Button\n              size=\"small\"\n              color=\"primary\"\n              startIcon={<Iconify icon=\"mingcute:add-line\" />}\n              onClick={handleAdd}\n              sx={{ flexShrink: 0 }}\n            >\n              {t('add installment')}\n            </Button>\n          </Stack>\n        </Stack>\n        <Divider />\n        <Stack\n          my={1}\n          spacing={2}\n          direction=\"row\"\n          alignItems=\"center\"\n          sx={{ textAlign: 'right', typography: 'body2' }}\n        >\n          <Stack direction=\"row\" alignItems=\"center\" gap={1}>\n            <Box sx={{ color: 'text.secondary' }}>{t('invoice total amount')}:</Box>\n            <Box sx={{ typography: 'subtitle2' }}>\n              <RHFTextField\n                disabled\n                type=\"number\"\n                name=\"totalAmount\"\n                size=\"small\"\n                sx={{\n                  width: 120,\n                }}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </Box>\n          </Stack>\n\n          <Stack direction=\"row\" alignItems=\"center\" gap={1}>\n            <Box sx={{ color: 'text.secondary' }}>{t('installments total amount')}:</Box>\n            <Box>\n              <RHFTextField\n                disabled\n                type=\"number\"\n                name=\"totalInstallments\"\n                size=\"small\"\n                sx={{\n                  width: 120,\n                }}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Box sx={{ typography: 'subtitle2', color: 'text.disabled' }}>JOD</Box>\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </Box>\n          </Stack>\n          <Stack direction=\"row\" alignItems=\"center\" gap={1}>\n            <Box sx={{ color: 'text.secondary' }}>{t('installments number')}:</Box>\n            <Box>\n              <RHFTextField\n                disabled\n                type=\"number\"\n                value={values.payment_details?.length}\n                name=\"installment_number\"\n                size=\"small\"\n                sx={{\n                  width: 100,\n                }}\n              />\n            </Box>\n          </Stack>\n        </Stack>\n        <Divider />\n        {/* <Divider sx={{ mt: 1, mb: 1, borderStyle: 'dashed' }} /> */}\n      </DialogContent>\n\n      <DialogActions>\n        <Button variant=\"outlined\" color=\"inherit\" onClick={onClose}>\n          {t('cancel')}\n        </Button>\n\n        <Button\n          disabled={values.totalAmount !== values.totalInstallments}\n          variant=\"contained\"\n          onClick={() => {\n            onSubmit();\n            onClose();\n          }}\n        >\n          {t('submit')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\nInvoiceNewEditInsurance.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func,\n  onSubmit: PropTypes.func,\n};\n","import * as Yup from 'yup';\nimport PropTypes from 'prop-types';\nimport { useSnackbar } from 'notistack';\nimport { useForm } from 'react-hook-form';\nimport { useMemo, useState, useEffect } from 'react';\nimport { yupResolver } from '@hookform/resolvers/yup';\n\nimport Card from '@mui/material/Card';\nimport Stack from '@mui/material/Stack';\nimport { Button, Container } from '@mui/material';\nimport LoadingButton from '@mui/lab/LoadingButton';\n\nimport { paths } from 'src/routes/paths';\n// import { paths } from 'src/routes/paths';\nimport { useRouter, useSearchParams } from 'src/routes/hooks';\n\nimport { useBoolean } from 'src/hooks/use-boolean';\n\nimport axiosInstance, { endpoints } from 'src/utils/axios';\n\nimport { useAuthContext } from 'src/auth/hooks';\nimport { useLocales, useTranslate } from 'src/locales';\n\nimport { ConfirmDialog } from 'src/components/custom-dialog';\nimport FormProvider, { RHFTextField, RHFRadioGroup } from 'src/components/hook-form';\n\nimport InvoiceNewEditAddress from './invoice-new-edit-address';\nimport InvoiceNewEditDetails from './invoice-new-edit-details';\nimport InvoiceNewEditInsurance from './invoice-new-edit-insurance';\nimport InvoiceNewEditStatusDate from './invoice-new-edit-status-date';\nimport InvoiceNewEditTaxDetails from './invoice-new-edit-tax-details';\nimport InvoiceNewEditInstallment from './invoice-new-edit-installment';\n\n// ----------------------------------------------------------------------\n\nexport default function InvoiceNewEditForm({ currentInvoice }) {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const order = searchParams.get('order');\n\n  const [orderInfo, setOrderInfo] = useState();\n\n  const { t } = useTranslate();\n  const { currentLang } = useLocales();\n  const curLangAr = currentLang.value === 'ar';\n\n  const { user } = useAuthContext();\n\n  const confirm = useBoolean();\n  const insurance = useBoolean();\n  const installment = useBoolean();\n  // const loadingSave = useBoolean();\n  const loadingSend = useBoolean();\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const NewInvoiceSchema = Yup.object().shape({\n    createDate: Yup.mixed().nullable().required(t('required field')),\n    patient: Yup.mixed().nullable(),\n    unit_service: Yup.mixed().nullable(),\n    appointment: Yup.mixed().nullable(),\n    entrance: Yup.mixed().nullable(),\n    employee: Yup.mixed().nullable(),\n    dueDate: Yup.mixed().nullable(),\n    detailedTaxes: Yup.bool(),\n    products: Yup.lazy(() =>\n      Yup.array().of(\n        Yup.object({\n          product: Yup.string().required(t('required field')),\n          deduction: Yup.number(),\n          price_per_unit: Yup.number(),\n          discount_amount: Yup.number(),\n          subtotal: Yup.number(),\n          tax: Yup.number(),\n          total: Yup.number(),\n          quantity: Yup.number().required(t('required field')),\n        })\n      )\n    ),\n    // not required\n    status: Yup.string(),\n    taxes_type: Yup.string().nullable(),\n    taxes: Yup.number(),\n    deduction_type: Yup.string().nullable(),\n    deduction: Yup.number(),\n    discount: Yup.number(),\n    work_shift: Yup.string().nullable(),\n    subtotal: Yup.number(),\n    totalAmount: Yup.number(),\n  });\n\n  const defaultValues = useMemo(\n    () => ({\n      createDate: currentInvoice?.created_at || new Date(),\n      stakeholder:\n        currentInvoice?.unit_service?._id ||\n        currentInvoice?.unit_service ||\n        user?.stakeholder._id ||\n        null,\n      unit_service:\n        currentInvoice?.unit_service?._id ||\n        currentInvoice?.unit_service ||\n        orderInfo?.unit_service?._id ||\n        null,\n      employee: currentInvoice?.employee?._id || currentInvoice?.employee || null,\n      patient:\n        currentInvoice?.patient?._id || currentInvoice?.patient?._id || orderInfo?.patient || null,\n      dueDate: currentInvoice?.dueDate || null,\n      order: currentInvoice?.order || order,\n      detailedTaxes: currentInvoice?.detailedTaxes || true,\n      taxes: currentInvoice?.taxes || 0,\n      deduction: currentInvoice?.Total_deduction_amount || 0,\n      status: currentInvoice?.status || 'paid',\n      discount: currentInvoice?.Total_discount_amount || 0,\n      subtotal: currentInvoice?.Subtotal_Amount || 0,\n      totalAmount: currentInvoice?.totalAmount || 0,\n      products: currentInvoice?.products ||\n        orderInfo?.products.map((one) => {\n          const subtotal = one.real_delieverd_quantity * one.price;\n          const deduction = one.product?.deduction?.percentage\n            ? one.product?.deduction?.percentage\n            : 0;\n          const tax = one.product?.tax?.percentage ? one.product?.tax?.percentage : 0;\n          return {\n            product: one.product?._id,\n            quantity: one.real_delieverd_quantity || 1,\n            price_per_unit: one.price || 0,\n            subtotal: subtotal || 0,\n            discount_amount: 0,\n            deduction: deduction || 0,\n            tax: tax || 0,\n            total: subtotal + (deduction / 100) * subtotal + (tax / 100) * subtotal || 0,\n          };\n        }) || [\n          {\n            product: null,\n            quantity: 1,\n            price_per_unit: 0,\n            subtotal: 0,\n            discount_amount: 0,\n            deduction: 0,\n            tax: 0,\n            total: 0,\n          },\n        ],\n      payment_details: currentInvoice?.payment_details || [],\n    }),\n    [\n      currentInvoice,\n      user?.stakeholder,\n      orderInfo?.unit_service,\n      orderInfo?.patient,\n      orderInfo?.products,\n      order,\n    ]\n  );\n\n  const methods = useForm({\n    resolver: yupResolver(NewInvoiceSchema),\n    defaultValues,\n  });\n\n  const {\n    watch,\n    reset,\n    setValue,\n    handleSubmit,\n    formState: { isSubmitting },\n  } = methods;\n  const values = watch();\n\n  useEffect(() => {\n    reset(defaultValues);\n  }, [defaultValues, reset]);\n\n  const handleCreateAndSend = handleSubmit(async (data) => {\n    loadingSend.onTrue();\n    try {\n      const invoice = await axiosInstance.post(endpoints.economec_movements.all, data);\n      reset();\n      enqueueSnackbar(t('created successfully'));\n      loadingSend.onFalse();\n      router.push(paths.stakeholder.accounting.economicmovements.info(invoice?.data?.movement._id));\n      if (invoice?.data?.receiptPayment?._id) {\n        window.open(\n          paths.stakeholder.accounting.reciepts.info(invoice?.data?.receiptPayment?._id),\n          '_blank'\n        );\n      }\n      console.info('DATA', JSON.stringify(data, null, 2));\n    } catch (error) {\n      enqueueSnackbar(\n        curLangAr ? `${error.arabic_message}` || `${error.message}` : `${error.message}`,\n        {\n          variant: 'error',\n        }\n      );\n      loadingSend.onFalse();\n    }\n  });\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        if (order) {\n          const { data } = await axiosInstance.get(endpoints.orders.one(order), {\n            params: {\n              select: 'Service_types patient work_shift appointment',\n              populate: [\n                { path: 'Service_types', select: 'name_english name_arabic Price_per_unit' },\n              ],\n            },\n          });\n          setOrderInfo(data);\n        }\n      } catch (e) {\n        console.log('entranceData', e);\n      }\n    };\n    fetchData();\n  }, [order]);\n\n  return (\n    <>\n      <Container maxWidth=\"xl\">\n        <FormProvider methods={methods}>\n          <Card>\n            <InvoiceNewEditAddress />\n            {/* \n            <Stack direction=\"row\" justifyContent=\"flex-end\" px={5} pt={3} pb={0}>\n              <RHFCheckbox\n                name=\"detailedTaxes\"\n                label={t('detailed taxes')}\n                onChange={confirm.onTrue}\n              />\n            </Stack> */}\n            {values.detailedTaxes ? <InvoiceNewEditTaxDetails /> : <InvoiceNewEditDetails />}\n            <InvoiceNewEditStatusDate />\n\n            {values.status === 'paid' && (\n              <Stack sx={{ px: 3, py: 1 }}>\n                <RHFRadioGroup\n                  row\n                  name=\"payment_method\"\n                  label={t('payment method')}\n                  options={[\n                    { label: t('cash'), value: 'cash' },\n                    { label: t('credit card'), value: 'credit_card' },\n                    { label: t('bank transfer'), value: 'bank_transfer' },\n                    { label: t('instant bank transfer'), value: 'instant_transfer' },\n                  ]}\n                />\n              </Stack>\n            )}\n\n            <Stack sx={{ my: 2, px: 2 }}>\n              <RHFTextField name=\"concept\" label={t('concept')} />\n            </Stack>\n\n            <InvoiceNewEditInstallment\n              open={installment.value}\n              onClose={installment.onFalse}\n              onSubmit={handleCreateAndSend}\n            />\n\n            <InvoiceNewEditInsurance\n              open={insurance.value}\n              onClose={insurance.onFalse}\n              onSubmit={handleCreateAndSend}\n            />\n          </Card>\n\n          <Stack justifyContent=\"flex-end\" direction=\"row\" spacing={2} sx={{ mt: 3 }}>\n            <LoadingButton\n              size=\"large\"\n              variant=\"contained\"\n              disabled={!values.unit_service && !values.patient}\n              loading={loadingSend.value && isSubmitting}\n              onClick={() => {\n                if (values.status === 'installment') {\n                  installment.onTrue();\n                } else if (values.status === 'insurance') {\n                  insurance.onTrue();\n                } else handleCreateAndSend();\n              }}\n            >\n              {currentInvoice ? t('update') : t('create')} & {t('print')}\n            </LoadingButton>\n          </Stack>\n        </FormProvider>\n      </Container>\n      <ConfirmDialog\n        open={confirm.value}\n        onClose={confirm.onFalse}\n        title={t('confirm changing display option')}\n        content={t('you will loose the all details items data')}\n        action={\n          <Button\n            variant=\"contained\"\n            color=\"error\"\n            onClick={() => {\n              setValue('items', defaultValues.items);\n              setValue('detailedTaxes', !values.detailedTaxes);\n              confirm.onFalse();\n            }}\n          >\n            {t('confirm')}\n          </Button>\n        }\n      />\n    </>\n  );\n}\n\nInvoiceNewEditForm.propTypes = {\n  currentInvoice: PropTypes.object,\n};\n","var baseSum = require('./_baseSum'),\n    identity = require('./identity');\n\n/**\n * Computes the sum of the values in `array`.\n *\n * @static\n * @memberOf _\n * @since 3.4.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {number} Returns the sum.\n * @example\n *\n * _.sum([4, 2, 8, 6]);\n * // => 20\n */\nfunction sum(array) {\n  return (array && array.length)\n    ? baseSum(array, identity)\n    : 0;\n}\n\nmodule.exports = sum;\n","import PropTypes from 'prop-types';\n\nimport Box from '@mui/material/Box';\nimport Link from '@mui/material/Link';\n\nimport { RouterLink } from 'src/routes/components';\n\n// ----------------------------------------------------------------------\n\nexport default function BreadcrumbsLink({ link, activeLast, disabled }) {\n  const styles = {\n    typography: 'body2',\n    alignItems: 'center',\n    color: 'text.primary',\n    display: 'inline-flex',\n    ...(disabled &&\n      !activeLast && {\n        cursor: 'default',\n        pointerEvents: 'none',\n        color: 'text.disabled',\n      }),\n  };\n\n  const renderContent = (\n    <>\n      {link.icon && (\n        <Box\n          component=\"span\"\n          sx={{\n            mr: 1,\n            display: 'inherit',\n            '& svg': { width: 20, height: 20 },\n          }}\n        >\n          {link.icon}\n        </Box>\n      )}\n\n      {link.name}\n    </>\n  );\n\n  if (link.href) {\n    return (\n      <Link component={RouterLink} href={link.href} sx={styles}>\n        {renderContent}\n      </Link>\n    );\n  }\n\n  return <Box sx={styles}> {renderContent} </Box>;\n}\n\nBreadcrumbsLink.propTypes = {\n  activeLast: PropTypes.bool,\n  disabled: PropTypes.bool,\n  link: PropTypes.shape({\n    href: PropTypes.string,\n    icon: PropTypes.node,\n    name: PropTypes.string,\n  }),\n};\n","import PropTypes from 'prop-types';\n\nimport Box from '@mui/material/Box';\nimport Link from '@mui/material/Link';\nimport Stack from '@mui/material/Stack';\nimport Typography from '@mui/material/Typography';\nimport Breadcrumbs from '@mui/material/Breadcrumbs';\n\nimport LinkItem from './link-item';\n\n// ----------------------------------------------------------------------\n\nexport default function CustomBreadcrumbs({\n  links,\n  action,\n  heading,\n  moreLink,\n  activeLast,\n  sx,\n  ...other\n}) {\n  const lastLink = links && links[links.length - 1].name;\n\n  return (\n    <Box sx={{ ...sx }}>\n      <Stack direction=\"row\" alignItems=\"center\">\n        <Box\n          sx={{\n            flexGrow: 1,\n            display: 'flex',\n            gap: { md: 3 },\n            alignItems: { md: 'center' },\n            flexDirection: { xs: 'column', md: 'row' },\n          }}\n        >\n          {/* HEADING */}\n          {heading && (\n            <Typography textTransform=\"capitalize\" variant=\"h4\" gutterBottom>\n              {heading}\n            </Typography>\n          )}\n\n          {/* BREADCRUMBS */}\n          {links && !!links.length && (\n            <Breadcrumbs separator={<Separator />} {...other}>\n              {links?.map((link, idx) => (\n                <LinkItem\n                  key={idx}\n                  link={link}\n                  activeLast={activeLast}\n                  disabled={link.name === lastLink}\n                  //\n                />\n              ))}\n            </Breadcrumbs>\n          )}\n        </Box>\n\n        {action && <Box sx={{ flexShrink: 0, textTransform: 'capitalize' }}> {action} </Box>}\n      </Stack>\n\n      {/* MORE LINK */}\n      {!!moreLink && (\n        <Box sx={{ mt: 2 }}>\n          {moreLink.map((href, idx) => (\n            <Link\n              key={idx}\n              href={href}\n              variant=\"body2\"\n              target=\"_blank\"\n              rel=\"noopener\"\n              sx={{ display: 'table' }}\n            >\n              {href}\n            </Link>\n          ))}\n        </Box>\n      )}\n    </Box>\n  );\n}\n\nCustomBreadcrumbs.propTypes = {\n  sx: PropTypes.object,\n  action: PropTypes.node,\n  links: PropTypes.array,\n  heading: PropTypes.string,\n  moreLink: PropTypes.array,\n  activeLast: PropTypes.bool,\n};\n\n// ----------------------------------------------------------------------\n\nfunction Separator() {\n  return (\n    <Box\n      component=\"span\"\n      sx={{\n        width: 4,\n        height: 4,\n        borderRadius: '50%',\n        bgcolor: 'text.disabled',\n      }}\n    />\n  );\n}\n","/**\n * The base implementation of `_.sum` and `_.sumBy` without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the sum.\n */\nfunction baseSum(array, iteratee) {\n  var result,\n      index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var current = iteratee(array[index]);\n    if (current !== undefined) {\n      result = result === undefined ? current : (result + current);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseSum;\n"],"names":["useGetProducts","query","URL","endpoints","products","all","params","data","isLoading","error","isValidating","useSWR","fetcher","useMemo","productsLoading","productsError","productsValidating","productsEmpty","length","useGetProductCategories","productcategories","productCat","productCatLoading","productCatError","productCatValidating","productCatEmpty","useGetProductCategory","id","one","useGetProduct","productId","product","productLoading","productError","productValidating","useGetStakeholderProducts","stakeholder","productsData","loading","refetch","async","mutate","createSvgIcon","_jsx","d","_excluded","BreadcrumbCollapsedButton","styled","ButtonBase","_ref","theme","_extends","display","marginLeft","spacing","marginRight","palette","mode","backgroundColor","grey","color","borderRadius","boxShadow","shadows","emphasize","BreadcrumbCollapsedIcon","MoreHorizIcon","width","height","props","slots","slotProps","otherProps","_objectWithoutPropertiesLoose","ownerState","children","focusRipple","as","CollapsedIcon","collapsedIcon","getBreadcrumbsUtilityClass","slot","generateUtilityClass","generateUtilityClasses","BreadcrumbsRoot","Typography","name","overridesResolver","styles","breadcrumbsClasses","li","root","BreadcrumbsOl","ol","flexWrap","alignItems","padding","margin","listStyle","BreadcrumbsSeparator","separator","userSelect","insertSeparators","items","className","reduce","acc","current","index","concat","push","React","inProps","ref","useDefaultProps","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","other","expanded","setExpanded","classes","composeClasses","useUtilityClasses","collapsedIconSlotProps","useSlotProps","elementType","externalSlotProps","listRef","allItems","toArray","filter","child","map","clsx","slice","BreadcrumbCollapsed","onClick","handleClickExpand","focusable","querySelector","focus","renderItemsBeforeAndAfter","InvoiceNewEditAddress","_data$city","_data$country","_data$city2","_data$country2","_USData$city","_USData$country","_USData$city2","_USData$country2","watch","useFormContext","t","useTranslate","currentLang","useLocales","curLangAr","value","values","patient","unit_service","useGetPatient","USData","useGetUnitservice","unitservicesData","useGetActiveUnitservices","select","patientsData","useGetPatients","status","Stack","direction","md","xs","sx","p","flex","_jsxs","_Fragment","mb","RHFRadioGroup","row","options","label","to","justifyContent","RHFAutocomplete","lang","minWidth","speciality","_id","getOptionLabel","option","_patientsData$find","find","renderOption","idx","_patientsData$find2","_createElement","key","_unitservicesData$fin","_unitservicesData$fin2","variant","flexGrow","name_arabic","name_english","city","country","phone","InvoiceNewEditDetails","_user$employee","_user$employee$employ","_user$employee$employ2","user","useAuthContext","myUS","employee","employee_engagements","selected_engagement","serviceTypesData","useGetUSActiveServiceTypes","activitiesData","useGetUSActivities","taxesData","useGetTaxes","control","setValue","fields","append","remove","update","useFieldArray","useEffect","subtotalOnRow","item","subtotal","subTotal","sum","amountAfterDiscount","discount","taxData","taxes_type","taxes","percentage","Amount","handleChangeItemDetails","useCallback","event","target","selected","service","Price_per_unit","Number","quantity","price_per_unit","renderTotal","Divider","my","gap","textAlign","typography","Box","RHFTextField","disabled","type","size","inputBaseClasses","input","InputProps","startAdornment","InputAdornment","position","has_tax","RHFSelect","MenuItem","divider","flexItem","borderStyle","_values$items$index","_values$items$index2","_values$items$index2$","maxWidth","InputLabelProps","shrink","onChange","placeholder","total","toFixed","Button","tabIndex","handleRemove","Iconify","icon","mt","startIcon","handleAdd","service_type","activity","discount_amount","tax","flexShrink","InvoiceNewEditInsurance","_USData$insurance","open","onClose","onSubmit","changeHandler","e","totalAmount","Dialog","fullWidth","DialogTitle","pb","textTransform","DialogContent","patient_paid","insurance","_USData$insurance2","_USData$insurance2$fi","_USData$insurance3","_USData$insurance3$fi","DialogActions","InvoiceNewEditStatusDate","sm","bgcolor","PaperPropsSx","Controller","render","field","fieldState","DatePicker","newValue","textField","helperText","message","_user$stakeholder","_values$products","_values$products2","_values$products3","_values$products4","_values$products5","populate","taxSums","setTaxSums","useState","deductionSums","setDeductionSums","newTaxSums","newDeductionSums","forEach","matchingItems","_product$tax","taxId","taxAmount","_product$tax2","_product$tax3","deduction","_product$deduction","deductionId","deductionAmount","_product$deduction2","_product$deduction3","summedTaxes","Object","keys","summedDeductions","discountTotal","taxesTotal","deductiontotal","handleSelectProduct","_selected$tax","_selected$deduction","price","handleChange","textColor","fCurrency","_values$payment_detai3","totalInstallments","payment_details","amount","paddingTop","TextField","RHFDatePicker","_values$payment_detai","_values$payment_detai2","due_date","Date","InvoiceNewEditForm","currentInvoice","router","useRouter","order","useSearchParams","get","orderInfo","setOrderInfo","confirm","useBoolean","installment","loadingSend","enqueueSnackbar","useSnackbar","NewInvoiceSchema","Yup","shape","createDate","nullable","required","appointment","entrance","dueDate","detailedTaxes","of","deduction_type","work_shift","defaultValues","_currentInvoice$unit_","_currentInvoice$unit_2","_orderInfo$unit_servi","_currentInvoice$emplo","_currentInvoice$patie","_currentInvoice$patie2","created_at","Total_deduction_amount","Total_discount_amount","Subtotal_Amount","_one$product","_one$product$deductio","_one$product2","_one$product2$deducti","_one$product3","_one$product3$tax","_one$product4","_one$product4$tax","_one$product5","real_delieverd_quantity","methods","useForm","resolver","yupResolver","reset","handleSubmit","formState","isSubmitting","handleCreateAndSend","onTrue","_invoice$data","_invoice$data2","_invoice$data2$receip","invoice","axiosInstance","post","economec_movements","_invoice$data3","_invoice$data3$receip","onFalse","paths","accounting","economicmovements","info","movement","receiptPayment","window","reciepts","console","JSON","stringify","arabic_message","orders","path","log","fetchData","Container","FormProvider","Card","InvoiceNewEditTaxDetails","px","py","InvoiceNewEditInstallment","LoadingButton","ConfirmDialog","title","content","action","baseSum","require","identity","module","exports","array","BreadcrumbsLink","link","activeLast","cursor","pointerEvents","renderContent","mr","href","Link","RouterLink","CustomBreadcrumbs","links","heading","moreLink","lastLink","flexDirection","gutterBottom","Breadcrumbs","Separator","LinkItem","rel","iteratee","result","undefined"],"sourceRoot":""}