"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[30192],{30192:(e,n,i)=>{i.r(n),i.d(n,{default:()=>C});var t=i(29490),s=i(68719),a=i(75139),r=i(81e3),o=i(77224),l=i(7625),c=i(65043),d=i(88446),p=i(74600),u=i(49633),g=i(39336),m=i(94496),h=i(48407),v=i(67132),_=i(59229),x=i(31673),j=i(16534),y=i(60778),A=i(35151),f=i(70074),k=i(70579);function b(e){let{card:n,sx:i,...t}=e;const{name_english:s,name_arabic:o,period_in_months:l,price_in_usd:b,package_appointment:w,package_accounting:C,package_docotor_report:D,package_final_reporting:S,package_old_files_Management:F,package_TAX_Income_reporting:I,Users_num:T}=n,{user:E,initialize:M}=(0,a.Z)(),{t:Z}=(0,y.WD)(),{currentLang:z}=(0,y.jc)(),W="ar"===z.value,R=(0,v.rd)(),U=(0,_.C)(),[X,Y]=(0,c.useState)([]);(0,c.useEffect)((()=>{Y([]),w&&Y((e=>[...e,"appointment package"])),C&&Y((e=>[...e,"accounting package"])),D&&Y((e=>[...e,"docotor report package"])),S&&Y((e=>[...e,"final reporting package"])),F&&Y((e=>[...e,"old files Management package"])),I&&Y((e=>[...e,"TAX Income reporting package"]))}),[w,C,D,S,F,I]);const B=(0,k.jsx)(p.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:(0,k.jsx)(r.A,{sx:{width:48,height:48},children:(0,k.jsx)(j.WC,{})})}),K=(0,k.jsxs)(p.A,{spacing:1,children:[(0,k.jsx)(m.A,{variant:"h4",sx:{textTransform:"capitalize"},children:W?o:s}),(0,k.jsxs)(m.A,{variant:"subtitle2",children:[T," ",Z("users")]})]}),L=(0,k.jsxs)(p.A,{direction:"row",children:[(0,k.jsx)(m.A,{variant:"h4",children:b?"$":""}),(0,k.jsx)(m.A,{variant:"h2",children:b||Z("FREE")}),(0,k.jsxs)(m.A,{component:"span",sx:{alignSelf:"center",color:"text.disabled",ml:1,typography:"body2"},children:["/ ",l," ",Z(l>1?"months":"month")]})]}),N=(0,k.jsxs)(p.A,{spacing:2,children:[(0,k.jsxs)(p.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,k.jsx)(r.A,{component:"span",sx:{typography:"overline"},children:Z("Backages")}),(0,k.jsx)(d.A,{variant:"body2",color:"inherit",underline:"always",children:w&&C&&D&&S&&F&&I?"All":""})]}),X.map((e=>(0,k.jsxs)(p.A,{spacing:1,direction:"row",alignItems:"center",sx:{typography:"body2"},children:[(0,k.jsx)(A.A,{icon:"eva:checkmark-fill",width:16,sx:{mr:1}}),Z(e)]},e)))]});return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(p.A,{spacing:5,sx:{p:5,borderRadius:2,boxShadow:e=>({xs:e.customShadows.card}),...i},...t,children:[B,K,L,(0,k.jsx)(g.A,{sx:{borderStyle:"dashed"}}),N,(0,k.jsx)(u.A,{fullWidth:!0,size:"large",variant:"contained",color:"primary",onClick:U.onTrue,children:Z("Select")})]}),(0,k.jsx)(f.T,{open:U.value,onClose:U.onFalse,title:Z("Confirm"),content:(0,k.jsxs)(k.Fragment,{children:[Z("Do you confirm choosing")," ",(0,k.jsxs)("strong",{children:[" ",W?o:s," "]})," ",Z("subscription ?")]}),action:(0,k.jsx)(u.A,{variant:"contained",color:"success",onClick:()=>{U.onFalse(),(async()=>{try{var e,i,t,s;const a=new Date,r=new Date(a.getFullYear(),a.getMonth(),a.getDate()),o=new Date(r.getFullYear(),r.getMonth()+l,r.getDate());await x.Ay.post(x.vZ.license_movements.all,{unit_service:null===E||void 0===E||null===(e=E.employee)||void 0===e||null===(i=e.employee_engagements)||void 0===i||null===(t=i[E.employee.selected_engagement])||void 0===t||null===(s=t.unit_service)||void 0===s?void 0:s._id,subscription:n._id,Start_date:r,End_date:o,Users_num:T,price:b||0}),M(),R.push(h.f.unitservice.subscriptions.root)}catch(a){console.error(a)}})()},children:Z("confirm")})})]})}function w(){var e,n,i,t;const{user:s}=(0,a.Z)(),{subscriptionsData:c}=(0,l.oiK)(null===s||void 0===s||null===(e=s.employee)||void 0===e||null===(n=e.employee_engagements)||void 0===n||null===(i=n[null===s||void 0===s?void 0:s.employee.selected_engagement])||void 0===i||null===(t=i.unit_service)||void 0===t?void 0:t._id);return(0,k.jsx)(o.A,{children:(0,k.jsx)(r.A,{gap:{xs:3,md:5},display:"grid",alignItems:{md:"center"},gridTemplateColumns:{md:"repeat(3, 1fr)"},children:c.map(((e,n)=>(0,k.jsx)(b,{card:e,index:n},e.subscription)))})})}function C(){var e,n,i,r,o;const{user:l}=(0,a.Z)(),c=null===l||void 0===l||null===(e=l.employee)||void 0===e||null===(n=e.employee_engagements)||void 0===n||null===(i=n[null===l||void 0===l||null===(o=l.employee)||void 0===o?void 0:o.selected_engagement])||void 0===i||null===(r=i.unit_service)||void 0===r?void 0:r.name_english;return(0,k.jsxs)(s.A,{category:"unit_service",subcategory:"unit_service_info",acl:"create",children:[(0,k.jsxs)(t.mg,{children:[(0,k.jsxs)("title",{children:[c||"unit of service"," : New Subscription"]}),(0,k.jsx)("meta",{name:"description",content:"meta"})]}),(0,k.jsx)(w,{})]})}}}]);
//# sourceMappingURL=30192.c75d569c.chunk.js.map