"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[117],{27356:(e,t,o)=>{o.d(t,{Z:()=>l});var a=o(68870),n=o(36314),r=o(12065),i=o(4567),s=o(80184);function l(e){let{title:t,imgUrl:o,action:l,filled:c,description:d,sx:p,...h}=e;return(0,s.jsxs)(n.Z,{flexGrow:1,alignItems:"center",justifyContent:"center",sx:{px:3,height:1,...c&&{borderRadius:2,bgcolor:e=>(0,r.Fq)(e.palette.grey[500],.04),border:e=>"dashed 1px ".concat((0,r.Fq)(e.palette.grey[500],.08))},...p},...h,children:[(0,s.jsx)(a.Z,{component:"img",alt:"empty content",src:o||"/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),t&&(0,s.jsx)(i.Z,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:t}),d&&(0,s.jsx)(i.Z,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:d}),l&&l]})}},31092:(e,t,o)=>{o.d(t,{Z:()=>a.Z});var a=o(27356)},82007:(e,t,o)=>{o.d(t,{Z:()=>r});var a=o(61134),n=o(80184);function r(e){let{children:t,onSubmit:o,methods:r}=e;return(0,n.jsx)(a.RV,{...r,children:(0,n.jsx)("form",{onSubmit:o,children:t})})}},80639:(e,t,o)=>{o.d(t,{Z:()=>d});var a=o(72791),n=o(87087),r=o(68870),i=o(13967),s=o(12065);function l(){return{"4/3":"calc(100% / 4 * 3)","3/4":"calc(100% / 3 * 4)","6/4":"calc(100% / 6 * 4)","4/6":"calc(100% / 4 * 6)","16/9":"calc(100% / 16 * 9)","9/16":"calc(100% / 9 * 16)","21/9":"calc(100% / 21 * 9)","9/21":"calc(100% / 9 * 21)","1/1":"100%"}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1/1"]}var c=o(80184);const d=(0,a.forwardRef)(((e,t)=>{let{ratio:o,overlay:a,disabledEffect:d=!1,alt:p,src:h,afterLoad:u,delayTime:m,threshold:v,beforeLoad:x,delayMethod:f,placeholder:g,wrapperProps:Z,scrollPosition:b,effect:j="blur",visibleByDefault:y,wrapperClassName:S,useIntersectionObserver:k,sx:w,...C}=e;const _=(0,i.Z)(),z=!!a&&{"&:before":{content:"''",top:0,left:0,width:1,height:1,zIndex:1,position:"absolute",background:a||(0,s.Fq)(_.palette.grey[900],.48)}},R=(0,c.jsx)(r.Z,{component:n.LazyLoadImage,alt:p,src:h,afterLoad:u,delayTime:m,threshold:v,beforeLoad:x,delayMethod:f,placeholder:g,wrapperProps:Z,scrollPosition:b,visibleByDefault:y,effect:d?void 0:j,useIntersectionObserver:k,wrapperClassName:S||"component-image-wrapper",placeholderSrc:d?"/assets/transparent.png":"/assets/placeholder.svg",sx:{width:1,height:1,objectFit:"cover",verticalAlign:"bottom",...!!o&&{top:0,left:0,position:"absolute"}}});return(0,c.jsx)(r.Z,{ref:t,component:"span",className:"component-image",sx:{overflow:"hidden",position:"relative",verticalAlign:"bottom",display:"inline-block",...!!o&&{width:1},"& span.component-image-wrapper":{width:1,height:1,verticalAlign:"bottom",backgroundSize:"cover !important",...!!o&&{pt:l(o)}},...z,...w},...C,children:R})}))},41364:(e,t,o)=>{o.d(t,{Z:()=>a.Z});var a=o(80639)},117:(e,t,o)=>{o.r(t),o.d(t,{default:()=>P});var a=o(6907),n=o(76932),r=o(8007),i=o(72791),s=o(61134),l=o(44695),c=o(68870),d=o(49792),p=o(13838),h=o(5574),u=o(10901),m=o(4110),v=o(62861),x=o(4567),f=o(68096),g=o(65661),Z=o(97123),b=o(39157),j=o(22459),y=o(89731),S=o(8976),k=o(43616),w=o(41364),C=o(32869),_=o(31092),z=o(82007),R=o(80184);function F(){var e,t;const{enqueueSnackbar:o}=(0,C.Ds)(),{t:a}=(0,n.qM)(),{currentLang:F}=(0,n.nt)(),P="ar"===F.value,I=r.Ry().shape({Body:r.Z_(),Selection:r.Z_().nullable()}),[N,M]=(0,i.useState)(),{user:B}=(0,S.E)(),{appointmentsData:q}=(0,k.BL)(null===B||void 0===B||null===(e=B.patient)||void 0===e?void 0:e._id),{data:L}=(0,k.V5)(null===q||void 0===q||null===(t=q.unit_service)||void 0===t?void 0:t._id);console.log("appointmentsData",q),console.log("data",L);const W=(0,s.cI)({resolver:(0,l.X)(I),defaultValues:{Body:"",Selection:null}}),{register:D,handleSubmit:O,formState:{isSubmitting:A}}=W,T=(0,j.k)(!0),[E,V]=i.useState(void 0),U=["Neglectful treatment","Employee Behavior","Cleanliness","Price"],G=(e,t)=>{V(t)},{fullWidth:X}=(0,i.useState)(!0),{maxWidth:Y}=(0,i.useState)("xs");return!1===(null===q||void 0===q?void 0:q.hasFeedback)?(0,R.jsx)("span",{children:(0,R.jsx)(h.Z,{open:T.value,maxWidth:Y,onClose:T.onTrue,fullWidth:X,children:(0,R.jsxs)(z.Z,{methods:W,onSubmit:O((async e=>{try{var t;const n={...e,Selection:E,Rate:N,patient:null===B||void 0===B?void 0:B.patient._id,appointment:q._id,department:null===(t=q.department)||void 0===t?void 0:t._id,unit_service:null===L||void 0===L?void 0:L._id},r=await y.ZP.post("api/feedback",n);await y.ZP.patch("api/appointments/".concat(q._id),{hasFeedback:!0}),o(a("Thanks for your cooperation"),{variant:"success"}),console.log(r),setTimeout((()=>{T.onFalse(),window.location.reload()}),2e3)}catch(n){console.error(n.message),o(a("Failed to upload Your answer"),{variant:"error"})}})),children:[(0,R.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",margin:"20px",gap:"10px"},children:[(0,R.jsx)(g.Z,{children:a("Rate your appointment")}),(0,R.jsx)(w.Z,{src:"https://cdn.altibbi.com/cdn/large/0/10/logo_1296490409_651.gif",sx:{width:"60px",height:"60px",border:1,borderRadius:"50px"}}),(0,R.jsxs)(x.Z,{sx:{color:"black"},children:["".concat(P?null===L||void 0===L?void 0:L.name_arabic:L.name_english)," "]}),(0,R.jsx)(u.Z,{size:"large",precision:1,max:5,name:"Rate",value:N,onChange:e=>{M(parseFloat(e.target.value))}})]}),N<5?(0,R.jsx)(b.Z,{children:(0,R.jsxs)(c.Z,{component:"form",noValidate:!0,children:[(0,R.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr"},children:null===U||void 0===U?void 0:U.map(((e,t)=>{return(0,R.jsx)("div",{children:(0,R.jsxs)(c.Z,{sx:{fontSize:{md:"15px",xs:"9px"},fontWeight:{md:"400",xs:"bolder"}},children:[(0,R.jsx)(d.Z,{...(o=e,{checked:E===o,onChange:e=>G(e,o),value:o,name:"color-radio-button-demo",inputProps:{"aria-label":o}}),name:"Selection"}),e]})},t);var o}))}),(0,R.jsxs)(f.Z,{sx:{my:3,minWidth:"100%"},children:[(0,R.jsx)(v.Z,{htmlFor:"max-width",children:"Other"}),(0,R.jsx)(m.Z,{id:"max-width",...D("Body")})]})]})}):(0,R.jsx)(x.Z,{sx:{ml:2,mb:1,fontSize:15},children:a("We hope that everything was to your satisfaction")}),(0,R.jsxs)(Z.Z,{children:[(0,R.jsx)(p.Z,{onClick:async()=>{try{await y.ZP.patch("api/appointments/".concat(q._id),{hasFeedback:!0}),T.onFalse()}catch(e){console.error(e.message)}},loading:A,variant:"outlined",color:"inherit",type:"submit",children:a("Skip")}),(0,R.jsx)(p.Z,{type:"submit",variant:"contained",children:a("Submit")})]})]})})}):(0,R.jsx)(_.Z,{filled:!0,title:a("No Data"),sx:{py:10}})}function P(){const{t:e}=(0,n.qM)();return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(a.ql,{children:(0,R.jsx)("title",{children:e("watingroom")})}),(0,R.jsx)(F,{})]})}},49792:(e,t,o)=>{o.d(t,{Z:()=>P});var a=o(63366),n=o(87462),r=o(72791),i=o(59278),s=o(94419),l=o(12065),c=o(97278),d=o(31402),p=o(74223),h=o(80184);const u=(0,p.Z)((0,h.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),m=(0,p.Z)((0,h.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked");var v=o(66934);const x=(0,v.ZP)("span")({position:"relative",display:"flex"}),f=(0,v.ZP)(u)({transform:"scale(1)"}),g=(0,v.ZP)(m)((e=>{let{theme:t,ownerState:o}=e;return(0,n.Z)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},o.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));const Z=function(e){const{checked:t=!1,classes:o={},fontSize:a}=e,r=(0,n.Z)({},e,{checked:t});return(0,h.jsxs)(x,{className:o.root,ownerState:r,children:[(0,h.jsx)(f,{fontSize:a,className:o.background,ownerState:r}),(0,h.jsx)(g,{fontSize:a,className:o.dot,ownerState:r})]})};var b=o(14036);const j=o(78949).Z;const y=r.createContext(void 0);var S=o(75878),k=o(21217);function w(e){return(0,k.Z)("MuiRadio",e)}const C=(0,S.Z)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),_=["checked","checkedIcon","color","icon","name","onChange","size","className"],z=(0,v.ZP)(c.Z,{shouldForwardProp:e=>(0,v.FO)(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t["color".concat((0,b.Z)(o.color))]]}})((e=>{let{theme:t,ownerState:o}=e;return(0,n.Z)({color:(t.vars||t).palette.text.secondary},!o.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===o.color?t.vars.palette.action.activeChannel:t.vars.palette[o.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,l.Fq)("default"===o.color?t.palette.action.active:t.palette[o.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==o.color&&{["&.".concat(C.checked)]:{color:(t.vars||t).palette[o.color].main}},{["&.".concat(C.disabled)]:{color:(t.vars||t).palette.action.disabled}})}));const R=(0,h.jsx)(Z,{checked:!0}),F=(0,h.jsx)(Z,{}),P=r.forwardRef((function(e,t){var o,l;const c=(0,d.Z)({props:e,name:"MuiRadio"}),{checked:p,checkedIcon:u=R,color:m="primary",icon:v=F,name:x,onChange:f,size:g="medium",className:Z}=c,S=(0,a.Z)(c,_),k=(0,n.Z)({},c,{color:m,size:g}),C=(e=>{const{classes:t,color:o,size:a}=e,r={root:["root","color".concat((0,b.Z)(o)),"medium"!==a&&"size".concat((0,b.Z)(a))]};return(0,n.Z)({},t,(0,s.Z)(r,w,t))})(k),P=r.useContext(y);let I=p;const N=j(f,P&&P.onChange);let M=x;var B,q;return P&&("undefined"===typeof I&&(B=P.value,I="object"===typeof(q=c.value)&&null!==q?B===q:String(B)===String(q)),"undefined"===typeof M&&(M=P.name)),(0,h.jsx)(z,(0,n.Z)({type:"radio",icon:r.cloneElement(v,{fontSize:null!=(o=F.props.fontSize)?o:g}),checkedIcon:r.cloneElement(u,{fontSize:null!=(l=R.props.fontSize)?l:g}),ownerState:k,classes:C,name:M,checked:I,onChange:N,ref:t,className:(0,i.Z)(C.root,Z)},S))}))}}]);
//# sourceMappingURL=117.05c6325d.chunk.js.map