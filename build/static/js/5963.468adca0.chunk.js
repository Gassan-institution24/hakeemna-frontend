"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[5963],{5963:(e,n,s)=>{s.r(n),s.d(n,{default:()=>w});var i=s(8007),a=s(84802),t=s(72791),l=s(44695),o=s(61134),c=s(13838),r=s(5574),d=s(39157),u=s(65661),h=s(4567),x=s(82626),m=s(97123),p=s(22459),v=s(66664),j=s(63076),Z=s(40268),b=s(82007),k=s(85563),C=s(80184);function w(){var e;const n=(0,p.k)(),s=(0,j.ck)(),[w,_]=(0,t.useState)(""),f=i.Ry().shape({question:i.Z_(),answer_way:i.Z_().required("Answer way is required"),options:i.IX().of(i.nK())}),y=(0,o.cI)({mode:"onTouched",resolver:(0,l.X)(f),defaultValues:{question:"",answer_way:"",options:[]}}),{reset:g,handleSubmit:q,setValue:S,formState:{isSubmitting:F},control:L}=y,{fields:T,append:A}=(0,o.Dq)({control:L,name:"options"});return(0,t.useEffect)((()=>{S("answer_way",w)}),[w,S]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(c.Z,{variant:"outlined",color:"success",onClick:n.onTrue,sx:{mt:1,display:"block"},children:["Edit Check list",(0,C.jsx)(Z.Z,{icon:"ic:outline-edit-note",sx:{ml:.5}})]}),(0,C.jsx)(r.Z,{open:n.value,onClose:n.onFalse,children:(0,C.jsxs)(b.Z,{methods:y,onSubmit:q((async e=>{try{await v.ZP.post("/api/localCL",e),(0,a.yv)("new question created successfully",{variant:"success"}),n.onFalse(),_(""),g()}catch(s){console.error(s.message)}})),children:[(0,C.jsxs)(d.Z,{children:[(0,C.jsx)(u.Z,{sx:{color:"red",position:"relative",top:"10px"},children:"NOTE"}),(0,C.jsx)(h.Z,{sx:{mb:5,fontSize:14},children:"A field to add questions that can be asked to the patient while managing the appointment"}),(0,C.jsx)(k.au,{lang:"en",name:"question",label:"Question English",sx:{mb:2}}),(0,C.jsxs)(k.Cc,{label:"Answer Way",name:"answer_way",sx:{mb:2},onChange:e=>_(e.target.value),value:w,children:[(0,C.jsx)(x.Z,{value:"Check List",children:"Check List"}),(0,C.jsx)(x.Z,{value:"Yes No",children:"Yes No"}),(0,C.jsx)(x.Z,{value:"Text",children:"Text"})]}),"Check List"===w&&(0,C.jsxs)(C.Fragment,{children:[T.map(((e,n)=>(0,C.jsx)(k.au,{name:"options[".concat(n,"]"),label:"Option ".concat(n+1),sx:{mb:2}},e.id))),(0,C.jsx)(c.Z,{onClick:()=>A(""),variant:"outlined",startIcon:(0,C.jsx)(Z.Z,{icon:"eva:plus-fill"}),children:"Add Option"})]}),(0,C.jsx)(k.Cc,{label:"Choose a question to add",name:"question",sx:{mb:2},children:null===s||void 0===s||null===(e=s.CheckListData)||void 0===e?void 0:e.map(((e,n)=>(0,C.jsx)(x.Z,{lang:"ar",value:null===e||void 0===e?void 0:e._id,sx:{mb:1},children:null===e||void 0===e?void 0:e.question},n)))})]}),(0,C.jsxs)(m.Z,{children:[(0,C.jsx)(c.Z,{variant:"outlined",color:"inherit",onClick:n.onFalse,children:"Cancel"}),(0,C.jsx)(c.Z,{type:"submit",variant:"contained",loading:F,children:"Upload"})]})]})})]})}}}]);
//# sourceMappingURL=5963.468adca0.chunk.js.map