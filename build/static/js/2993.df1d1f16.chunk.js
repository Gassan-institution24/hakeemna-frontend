"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[2993],{38563:(e,t,n)=>{n.d(t,{Z:()=>p});var a=n(16029),l=n(50533),r=n(53767),o=n(4567),s=n(93517),i=n(4419),c=n(80184);function d(e){let{link:t,activeLast:n,disabled:r}=e;const o={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...r&&!n&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},s=(0,c.jsxs)(c.Fragment,{children:[t.icon&&(0,c.jsx)(a.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:t.icon}),t.name]});return t.href?(0,c.jsx)(l.Z,{component:i.r,href:t.href,sx:o,children:s}):(0,c.jsxs)(a.Z,{sx:o,children:[" ",s," "]})}function p(e){let{links:t,action:n,heading:i,moreLink:p,activeLast:u,sx:h,...v}=e;const x=t&&t[t.length-1].name;return(0,c.jsxs)(a.Z,{sx:{...h},children:[(0,c.jsxs)(r.Z,{direction:"row",alignItems:"center",children:[(0,c.jsxs)(a.Z,{sx:{flexGrow:1,display:"flex",gap:{md:3},alignItems:{md:"center"},flexDirection:{xs:"column",md:"row"}},children:[i&&(0,c.jsx)(o.Z,{textTransform:"capitalize",variant:"h4",gutterBottom:!0,children:i}),t&&!!t.length&&(0,c.jsx)(s.Z,{separator:(0,c.jsx)(m,{}),...v,children:null===t||void 0===t?void 0:t.map(((e,t)=>(0,c.jsx)(d,{link:e,activeLast:u,disabled:e.name===x},t)))})]}),n&&(0,c.jsxs)(a.Z,{sx:{flexShrink:0,textTransform:"capitalize"},children:[" ",n," "]})]}),!!p&&(0,c.jsx)(a.Z,{sx:{mt:2},children:p.map(((e,t)=>(0,c.jsx)(l.Z,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},t)))})]})}function m(){return(0,c.jsx)(a.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},73379:(e,t,n)=>{n.d(t,{Z:()=>a.Z});var a=n(38563)},42993:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var a=n(6907),l=n(27031),r=n(8976),o=n(57689),s=n(10266),i=n(38072),c=n(81164),d=n(19721),p=n(73379),m=n(8007),u=n(61134),h=n(72791),v=n(44695),x=n(16029),g=n(57621),f=n(53767),b=n(24308),y=n(12258),Z=n(82626),_=n(4567),j=n(66664),k=n(32869),w=n(59493),C=n(80184);function S(e){var t,n;let{currentTable:a}=e;const{user:l}=(0,r.E)(),{t:o}=(0,c.qM)(),{currentLang:s}=(0,c.nt)(),i="ar"===s.value,{enqueueSnackbar:p}=(0,k.useSnackbar)(),S=m.Ry().shape({appointment_type:m.Z_().required(o("required field")),service_types:m.IX().required(o("required field")),online_available:m.Xg().required(o("required field")),start_time:m.hT().required(o("required field"))}),I=(0,h.useMemo)((()=>{var e,t;return{appointment_type:(null===a||void 0===a||null===(e=a.appointment_type)||void 0===e?void 0:e._id)||null,start_time:(null===a||void 0===a?void 0:a.start_time)||null,online_available:(null===a||void 0===a?void 0:a.online_available)||!0,service_types:(null===a||void 0===a||null===(t=a.service_types)||void 0===t?void 0:t.map((e=>null===e||void 0===e?void 0:e._id)))||[]}}),[a]),{appointmenttypesData:P}=(0,d.o5E)(),{serviceTypesData:q}=(0,d.UL2)(null===l||void 0===l||null===(t=l.employee)||void 0===t||null===(n=t.employee_engagements[null===l||void 0===l?void 0:l.employee.selected_engagement])||void 0===n?void 0:n.unit_service._id),R=(0,u.cI)({mode:"onTouched",resolver:(0,v.X)(S),defaultValues:I}),{reset:T,handleSubmit:M,formState:{isSubmitting:B,errors:E}}=R;(0,h.useEffect)((()=>{Object.keys(E).length&&Object.keys(E).forEach(((e,t)=>{var n;return p("".concat(e,": ").concat((null===E||void 0===E||null===(n=E[e])||void 0===n?void 0:n.message)||"error"),{variant:"error"})}))}),[E,p]);const L=M((async e=>{try{a?await j.ZP.patch(j.Hv.appointments.one(a._id),e):await j.ZP.post(j.Hv.appointments.all,e),T(),p(o(a?"update success!":"create success!"))}catch(t){p(i&&"".concat(t.arabic_message)||"".concat(t.message),{variant:"error"}),console.error(t)}}));return(0,h.useEffect)((()=>{var e,t;T({appointment_type:(null===a||void 0===a||null===(e=a.appointment_type)||void 0===e?void 0:e._id)||null,start_time:(null===a||void 0===a?void 0:a.start_time)||null,online_available:(null===a||void 0===a?void 0:a.online_available)||!0,service_types:(null===a||void 0===a||null===(t=a.service_types)||void 0===t?void 0:t.map((e=>null===e||void 0===e?void 0:e._id)))||[]})}),[a]),(0,C.jsx)(w.ZP,{methods:R,onSubmit:L,children:(0,C.jsx)(b.Z,{xs:12,maxWidth:"md",children:(0,C.jsxs)(g.Z,{sx:{p:3},children:[(0,C.jsxs)(x.Z,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,C.jsx)(w.Cc,{name:"appointment_type",label:o("appointment type"),children:null===P||void 0===P?void 0:P.map(((e,t)=>(0,C.jsx)(Z.Z,{lang:"ar",value:e._id,children:i?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},t)))}),q&&(0,C.jsx)(w.vA,{checkbox:!0,name:"service_types",label:o("service types"),options:q}),(0,C.jsx)(w.Cm,{name:"start_time",label:o("start time")}),(0,C.jsx)(w.jb,{sx:{ml:3,mt:1},name:"online_available",label:(0,C.jsx)(_.Z,{sx:{fontSize:12},children:o("online avaliable")})})]}),(0,C.jsx)(f.Z,{alignItems:"flex-end",sx:{mt:3},children:(0,C.jsx)(y.Z,{type:"submit",tabIndex:-1,variant:"contained",loading:B,children:o(a?"save changes":"create")})})]})})})}function I(){const{id:e}=(0,o.UO)(),{t:t}=(0,c.qM)(),{data:n}=(0,d.PuY)(e);return(0,C.jsxs)(s.Z,{maxWidth:"xl",children:[(0,C.jsx)(p.Z,{heading:t("appointments"),links:[{name:t("dashboard"),href:i.H.employee.root},{name:t("appointments"),href:i.H.employee.appointments.root},{name:t("edit")}],sx:{mb:{xs:3,md:5}}}),n&&(0,C.jsx)(S,{currentTable:n})]})}function P(){var e;const{user:t}=(0,r.E)();return(0,C.jsxs)(l.Z,{category:"work_group",subcategory:"appointments",acl:"update",children:[(0,C.jsxs)(a.ql,{children:[(0,C.jsxs)("title",{children:[" ",(null===t||void 0===t||null===(e=t.employee)||void 0===e?void 0:e.name_english)||"employee"," : Edit Appointments"]}),(0,C.jsx)("meta",{name:"description",content:"meta"})]}),(0,C.jsx)(I,{})]})}},93517:(e,t,n)=>{n.d(t,{Z:()=>q});var a=n(87462),l=n(63366),r=n(72791),o=(n(57441),n(59278)),s=n(50385),i=n(20838),c=n(66934),d=n(31402),p=n(4567),m=n(54131),u=n(74223),h=n(80184);const v=(0,u.Z)((0,h.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var x=n(95080);const g=["slots","slotProps"],f=(0,c.ZP)(x.Z)((e=>{let{theme:t}=e;return(0,a.Z)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,a.Z)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,a.Z)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,m._4)(t.palette.grey[200],.12)}:{backgroundColor:(0,m._4)(t.palette.grey[600],.12)})})})),b=(0,c.ZP)(v)({width:24,height:16});const y=function(e){const{slots:t={},slotProps:n={}}=e,r=(0,l.Z)(e,g),o=e;return(0,h.jsx)("li",{children:(0,h.jsx)(f,(0,a.Z)({focusRipple:!0},r,{ownerState:o,children:(0,h.jsx)(b,(0,a.Z)({as:t.CollapsedIcon,ownerState:o},n.collapsedIcon))}))})};var Z=n(59703),_=n(64657);function j(e){return(0,_.ZP)("MuiBreadcrumbs",e)}const k=(0,Z.Z)("MuiBreadcrumbs",["root","ol","li","separator"]),w=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],C=(0,c.ZP)(p.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{["& .".concat(k.li)]:t.li},t.root]})({}),S=(0,c.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),I=(0,c.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function P(e,t,n,a){return e.reduce(((l,r,o)=>(o<e.length-1?l=l.concat(r,(0,h.jsx)(I,{"aria-hidden":!0,className:t,ownerState:a,children:n},"separator-".concat(o))):l.push(r),l)),[])}const q=r.forwardRef((function(e,t){const n=(0,d.Z)({props:e,name:"MuiBreadcrumbs"}),{children:c,className:p,component:m="nav",slots:u={},slotProps:v={},expandText:x="Show path",itemsAfterCollapse:g=1,itemsBeforeCollapse:f=1,maxItems:b=8,separator:Z="/"}=n,_=(0,l.Z)(n,w),[k,I]=r.useState(!1),q=(0,a.Z)({},n,{component:m,expanded:k,expandText:x,itemsAfterCollapse:g,itemsBeforeCollapse:f,maxItems:b,separator:Z}),R=(e=>{const{classes:t}=e;return(0,i.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},j,t)})(q),T=(0,s.y)({elementType:u.CollapsedIcon,externalSlotProps:v.collapsedIcon,ownerState:q}),M=r.useRef(null),B=r.Children.toArray(c).filter((e=>r.isValidElement(e))).map(((e,t)=>(0,h.jsx)("li",{className:R.li,children:e},"child-".concat(t))));return(0,h.jsx)(C,(0,a.Z)({ref:t,component:m,color:"text.secondary",className:(0,o.Z)(R.root,p),ownerState:q},_,{children:(0,h.jsx)(S,{className:R.ol,ref:M,ownerState:q,children:P(k||b&&B.length<=b?B:(e=>f+g>=e.length?e:[...e.slice(0,f),(0,h.jsx)(y,{"aria-label":x,slots:{CollapsedIcon:u.CollapsedIcon},slotProps:{collapsedIcon:T},onClick:()=>{I(!0);const e=M.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-g,e.length)])(B),R.separator,Z,q)})}))}))}}]);
//# sourceMappingURL=2993.df1d1f16.chunk.js.map