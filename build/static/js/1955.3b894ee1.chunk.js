"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[1955],{38563:(e,s,t)=>{t.d(s,{Z:()=>p});var n=t(16029),l=t(50533),i=t(53767),o=t(4567),r=t(93517),a=t(4419),c=t(80184);function d(e){let{link:s,activeLast:t,disabled:i}=e;const o={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...i&&!t&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},r=(0,c.jsxs)(c.Fragment,{children:[s.icon&&(0,c.jsx)(n.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:s.icon}),s.name]});return s.href?(0,c.jsx)(l.Z,{component:a.r,href:s.href,sx:o,children:r}):(0,c.jsxs)(n.Z,{sx:o,children:[" ",r," "]})}function p(e){let{links:s,action:t,heading:a,moreLink:p,activeLast:m,sx:u,...h}=e;const g=s&&s[s.length-1].name;return(0,c.jsxs)(n.Z,{sx:{...u},children:[(0,c.jsxs)(i.Z,{direction:"row",alignItems:"center",children:[(0,c.jsxs)(n.Z,{sx:{flexGrow:1,display:"flex",gap:{md:3},alignItems:{md:"center"},flexDirection:{xs:"column",md:"row"}},children:[a&&(0,c.jsx)(o.Z,{textTransform:"capitalize",variant:"h4",gutterBottom:!0,children:a}),s&&!!s.length&&(0,c.jsx)(r.Z,{separator:(0,c.jsx)(x,{}),...h,children:null===s||void 0===s?void 0:s.map(((e,s)=>(0,c.jsx)(d,{link:e,activeLast:m,disabled:e.name===g},s)))})]}),t&&(0,c.jsxs)(n.Z,{sx:{flexShrink:0,textTransform:"capitalize"},children:[" ",t," "]})]}),!!p&&(0,c.jsx)(n.Z,{sx:{mt:2},children:p.map(((e,s)=>(0,c.jsx)(l.Z,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},s)))})]})}function x(){return(0,c.jsx)(n.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},73379:(e,s,t)=>{t.d(s,{Z:()=>n.Z});var n=t(38563)},53898:(e,s,t)=>{t.d(s,{Z:()=>_});var n=t(8007),l=t(84802),i=t(72791),o=t(44695),r=t(61134),a=t(61775),c=t(57621),d=t(53767),p=t(12258),x=t(10266),m=t(82626),u=t(16029),h=t(4567),g=t(13838),Z=t(94721),j=t(1503),f=t(13400),b=t(38072),y=t(19208),v=t(66664),w=t(93011),k=t(40268),C=t(85563),I=t(80184);function _(e){let{currentRow:s}=e;const t=(0,y.tv)(),{enqueueSnackbar:j}=(0,l.Ds)(),f=n.Ry().shape({title:n.Z_().nullable().required("title is required"),speciality:n.Z_().nullable(),description:n.Z_(),questions:n.IX().of(n.Ry({question:n.Z_(),answer_way:n.Z_(),category:n.Z_(),options:n.IX().nullable()}))}),{specialtiesData:_}=(0,w._5i)(),S=(0,i.useMemo)((()=>({title:(null===s||void 0===s?void 0:s.title)||"",speciality:(null===s||void 0===s?void 0:s.speciality)||null,description:(null===s||void 0===s?void 0:s.description)||"",questions:(null===s||void 0===s?void 0:s.questions)||[{question:"",answer_way:"Text",category:"",options:[""]}]})),[s]),P=(0,r.cI)({resolver:(0,o.X)(f),defaultValues:S}),{reset:z,handleSubmit:R,control:B,watch:L,formState:{isSubmitting:M}}=P,T=L(),{fields:N,append:D,remove:A,move:H}=(0,r.Dq)({control:B,name:"questions"});(0,i.useEffect)((()=>{z({title:(null===s||void 0===s?void 0:s.title)||"",speciality:(null===s||void 0===s?void 0:s.speciality)||null,description:(null===s||void 0===s?void 0:s.description)||"",questions:(null===s||void 0===s?void 0:s.questions)||[{question:"",answer_way:"Text",category:"",options:[""]}]})}),[s,z]);const E=R((async e=>{try{s?(await v.ZP.patch(v.Hv.checklist.one(s._id),{...e,general:!0}),j("updated successfully")):(await v.ZP.post(v.Hv.checklist.all,{...e,general:!0}),j("created successfully")),z(),t.push(b.H.superadmin.tables.checklist.root)}catch(n){j(n.message,{variant:"error"}),console.error(n)}}));return(0,I.jsx)(x.Z,{maxWidth:"xl",children:(0,I.jsxs)(C.ZP,{methods:P,children:[(0,I.jsx)(c.Z,{children:(0,I.jsxs)(d.Z,{spacing:2,sx:{width:1,p:3},alignItems:"center",children:[(0,I.jsx)(C.au,{name:"title",label:"title",sx:{width:{md:.6,xs:1}}}),(0,I.jsx)(C.Cc,{size:"small",name:"speciality",label:"speciality",sx:{width:{md:.3,xs:1}},children:_.map(((e,s)=>(0,I.jsx)(m.Z,{value:e._id,children:e.name_english},s)))}),(0,I.jsx)(C.au,{size:"small",name:"description",label:"description",sx:{width:{md:.5,xs:1}}})]})}),(0,I.jsxs)(u.Z,{sx:{p:3},children:[(0,I.jsx)(h.Z,{variant:"h6",sx:{color:"text.disabled",mb:3},children:"questions:"}),(0,I.jsx)(a.Z5,{onDragEnd:e=>{e.destination&&H(e.source.index,e.destination.index)},children:(0,I.jsx)(a.bK,{droppableId:"droppable-questions",children:e=>(0,I.jsxs)(d.Z,{spacing:4,...e.droppableProps,ref:e.innerRef,children:[N.map(((e,s)=>(0,I.jsx)(a._l,{draggableId:e.id,index:s,children:e=>(0,I.jsx)(c.Z,{sx:{p:3},ref:e.innerRef,...e.draggableProps,...e.dragHandleProps,children:(0,I.jsx)(d.Z,{alignItems:"flex-end",spacing:1.5,children:(0,I.jsxs)(d.Z,{spacing:2,sx:{width:1},children:[(0,I.jsxs)(d.Z,{direction:{xs:"column",md:"row"},justifyContent:"space-between",spacing:2,sx:{width:1},children:[(0,I.jsx)(C.au,{size:"small",name:"questions[".concat(s,"].question"),label:"question",InputLabelProps:{shrink:!0},sx:{width:1}}),(0,I.jsx)(C.Cc,{name:"questions[".concat(s,"].answer_way"),size:"small",label:"answer_way",InputLabelProps:{shrink:!0},sx:{width:{md:.5,xs:1}},children:["Text","Yes No","Options"].map((e=>(0,I.jsx)(m.Z,{value:e,children:e},e)))}),(0,I.jsx)(C.au,{size:"small",name:"questions[".concat(s,"].category"),label:"category",InputLabelProps:{shrink:!0},sx:{width:{md:.5,xs:1}}}),(0,I.jsx)(g.Z,{size:"small",color:"error",onClick:()=>(e=>{A(e)})(s),children:(0,I.jsx)(k.Z,{icon:"solar:trash-bin-trash-bold"})})]}),"Options"===T.questions[s].answer_way&&(0,I.jsx)(d.Z,{justifyContent:"flex-end",alignItems:"start",spacing:1,sx:{width:.8},children:(0,I.jsx)(q,{index:s})})]})})})},e.id))),e.placeholder]})})}),(0,I.jsx)(Z.Z,{sx:{my:3,borderStyle:"dashed"}}),(0,I.jsx)(d.Z,{spacing:3,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:(0,I.jsx)(g.Z,{size:"small",color:"primary",startIcon:(0,I.jsx)(k.Z,{icon:"mingcute:add-line"}),onClick:()=>{D({question:"",answer_way:"",options:[""]})},sx:{flexShrink:0},children:"Add Item"})})]}),(0,I.jsx)(d.Z,{justifyContent:"flex-end",direction:"row",spacing:2,sx:{mt:1},children:(0,I.jsx)(p.Z,{variant:"contained",loading:M,onClick:E,children:s?"Update":"Create"})})]})})}function q(e){let{index:s}=e;const{control:t}=(0,r.Gc)(),{fields:n,append:l,remove:i}=(0,r.Dq)({control:t,name:"questions[".concat(s,"].options")});return(0,I.jsxs)(I.Fragment,{children:[n.map(((e,t)=>(0,I.jsxs)(d.Z,{direction:"row",alignItems:"center",children:[(0,I.jsx)(j.Z,{disabled:!0}),(0,I.jsx)(C.au,{size:"small",variant:"standard",name:"questions[".concat(s,"].options[").concat(t,"]")}),(0,I.jsx)(d.Z,{direction:"row",children:(0,I.jsx)(f.Z,{size:"small",color:"error",onClick:()=>(e=>{i(e)})(t),children:(0,I.jsx)(k.Z,{icon:"ic:round-close"})})})]},e.id))),(0,I.jsxs)(g.Z,{color:"primary",size:"small",sx:{fontSize:12},onClick:()=>{l(" ")},children:[(0,I.jsx)(k.Z,{icon:"ph:plus-bold"}),"add option"]})]})}},93517:(e,s,t)=>{t.d(s,{Z:()=>P});var n=t(87462),l=t(63366),i=t(72791),o=(t(57441),t(59278)),r=t(50385),a=t(20838),c=t(66934),d=t(31402),p=t(4567),x=t(54131),m=t(74223),u=t(80184);const h=(0,m.Z)((0,u.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var g=t(95080);const Z=["slots","slotProps"],j=(0,c.ZP)(g.Z)((e=>{let{theme:s}=e;return(0,n.Z)({display:"flex",marginLeft:"calc(".concat(s.spacing(1)," * 0.5)"),marginRight:"calc(".concat(s.spacing(1)," * 0.5)")},"light"===s.palette.mode?{backgroundColor:s.palette.grey[100],color:s.palette.grey[700]}:{backgroundColor:s.palette.grey[700],color:s.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,n.Z)({},"light"===s.palette.mode?{backgroundColor:s.palette.grey[200]}:{backgroundColor:s.palette.grey[600]}),"&:active":(0,n.Z)({boxShadow:s.shadows[0]},"light"===s.palette.mode?{backgroundColor:(0,x._4)(s.palette.grey[200],.12)}:{backgroundColor:(0,x._4)(s.palette.grey[600],.12)})})})),f=(0,c.ZP)(h)({width:24,height:16});const b=function(e){const{slots:s={},slotProps:t={}}=e,i=(0,l.Z)(e,Z),o=e;return(0,u.jsx)("li",{children:(0,u.jsx)(j,(0,n.Z)({focusRipple:!0},i,{ownerState:o,children:(0,u.jsx)(f,(0,n.Z)({as:s.CollapsedIcon,ownerState:o},t.collapsedIcon))}))})};var y=t(59703),v=t(64657);function w(e){return(0,v.ZP)("MuiBreadcrumbs",e)}const k=(0,y.Z)("MuiBreadcrumbs",["root","ol","li","separator"]),C=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],I=(0,c.ZP)(p.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,s)=>[{["& .".concat(k.li)]:s.li},s.root]})({}),_=(0,c.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,s)=>s.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),q=(0,c.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,s)=>s.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function S(e,s,t,n){return e.reduce(((l,i,o)=>(o<e.length-1?l=l.concat(i,(0,u.jsx)(q,{"aria-hidden":!0,className:s,ownerState:n,children:t},"separator-".concat(o))):l.push(i),l)),[])}const P=i.forwardRef((function(e,s){const t=(0,d.Z)({props:e,name:"MuiBreadcrumbs"}),{children:c,className:p,component:x="nav",slots:m={},slotProps:h={},expandText:g="Show path",itemsAfterCollapse:Z=1,itemsBeforeCollapse:j=1,maxItems:f=8,separator:y="/"}=t,v=(0,l.Z)(t,C),[k,q]=i.useState(!1),P=(0,n.Z)({},t,{component:x,expanded:k,expandText:g,itemsAfterCollapse:Z,itemsBeforeCollapse:j,maxItems:f,separator:y}),z=(e=>{const{classes:s}=e;return(0,a.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},w,s)})(P),R=(0,r.y)({elementType:m.CollapsedIcon,externalSlotProps:h.collapsedIcon,ownerState:P}),B=i.useRef(null),L=i.Children.toArray(c).filter((e=>i.isValidElement(e))).map(((e,s)=>(0,u.jsx)("li",{className:z.li,children:e},"child-".concat(s))));return(0,u.jsx)(I,(0,n.Z)({ref:s,component:x,color:"text.secondary",className:(0,o.Z)(z.root,p),ownerState:P},v,{children:(0,u.jsx)(_,{className:z.ol,ref:B,ownerState:P,children:S(k||f&&L.length<=f?L:(e=>j+Z>=e.length?e:[...e.slice(0,j),(0,u.jsx)(b,{"aria-label":g,slots:{CollapsedIcon:m.CollapsedIcon},slotProps:{collapsedIcon:R},onClick:()=>{q(!0);const e=B.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-Z,e.length)])(L),z.separator,y,P)})}))}))}}]);
//# sourceMappingURL=1955.3b894ee1.chunk.js.map