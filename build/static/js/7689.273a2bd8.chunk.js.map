{"version":3,"file":"static/js/7689.273a2bd8.chunk.js","mappings":"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","sources":["../node_modules/@mui/material/Card/cardClasses.js","../node_modules/@mui/material/Card/Card.js","../node_modules/@mui/material/internal/svg-icons/KeyboardArrowLeft.js","../node_modules/@mui/material/internal/svg-icons/KeyboardArrowRight.js","../node_modules/yet-another-react-lightbox/dist/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/captions/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/fullscreen/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/slideshow/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/video/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/zoom/index.js","../node_modules/yet-another-react-lightbox/dist/types.js"],"sourcesContent":["import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getCardUtilityClass(slot) {\n  return generateUtilityClass('MuiCard', slot);\n}\nconst cardClasses = generateUtilityClasses('MuiCard', ['root']);\nexport default cardClasses;","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"raised\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport chainPropTypes from '@mui/utils/chainPropTypes';\nimport composeClasses from '@mui/utils/composeClasses';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport Paper from '../Paper';\nimport { getCardUtilityClass } from './cardClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getCardUtilityClass, classes);\n};\nconst CardRoot = styled(Paper, {\n  name: 'MuiCard',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(() => {\n  return {\n    overflow: 'hidden'\n  };\n});\nconst Card = /*#__PURE__*/React.forwardRef(function Card(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCard'\n  });\n  const {\n      className,\n      raised = false\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    raised\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardRoot, _extends({\n    className: clsx(classes.root, className),\n    elevation: raised ? 8 : undefined,\n    ref: ref,\n    ownerState: ownerState\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Card.propTypes /* remove-proptypes */ = {\n  //  Warning \n  //  These PropTypes are generated from the TypeScript type definitions. \n  //     To update them, edit the d.ts file and run `pnpm proptypes`.     \n  // \n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * If `true`, the card will use raised styling.\n   * @default false\n   */\n  raised: chainPropTypes(PropTypes.bool, props => {\n    if (props.raised && props.variant === 'outlined') {\n      return new Error('MUI: Combining `raised={true}` with `variant=\"outlined\"` has no effect.');\n    }\n    return null;\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Card;","'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z\"\n}), 'KeyboardArrowLeft');","'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z\"\n}), 'KeyboardArrowRight');","'use client';\nimport * as React from 'react';\nimport { ACTION_CLOSE, IMAGE_FIT_CONTAIN, MODULE_CONTROLLER, IMAGE_FIT_COVER, UNKNOWN_ACTION_TYPE, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_CANCEL, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_WHEEL, SLIDE_STATUS_LOADING, activeSlideStatus, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_PLACEHOLDER, ACTION_PREV, ACTION_NEXT, ACTION_SWIPE, VK_ESCAPE, CLASS_FLEX_CENTER, MODULE_CAROUSEL, CLASS_FULLSIZE, VK_ARROW_LEFT, VK_ARROW_RIGHT, MODULE_NAVIGATION, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, MODULE_NO_SCROLL, MODULE_PORTAL, MODULE_ROOT, MODULE_TOOLBAR } from './types.js';\nimport { createPortal } from 'react-dom';\nexport { ACTIVE_SLIDE_COMPLETE, ACTIVE_SLIDE_ERROR, ACTIVE_SLIDE_LOADING, ACTIVE_SLIDE_PLAYING, PLUGIN_CAPTIONS, PLUGIN_COUNTER, PLUGIN_DOWNLOAD, PLUGIN_FULLSCREEN, PLUGIN_INLINE, PLUGIN_SHARE, PLUGIN_SLIDESHOW, PLUGIN_THUMBNAILS, PLUGIN_ZOOM, SLIDE_STATUS_PLAYING } from './types.js';\n\nconst LightboxDefaultProps = {\n    open: false,\n    close: () => { },\n    index: 0,\n    slides: [],\n    render: {},\n    plugins: [],\n    toolbar: { buttons: [ACTION_CLOSE] },\n    labels: {},\n    animation: {\n        fade: 250,\n        swipe: 500,\n        easing: {\n            fade: \"ease\",\n            swipe: \"ease-out\",\n            navigation: \"ease-in-out\",\n        },\n    },\n    carousel: {\n        finite: false,\n        preload: 2,\n        padding: \"16px\",\n        spacing: \"30%\",\n        imageFit: IMAGE_FIT_CONTAIN,\n        imageProps: {},\n    },\n    controller: {\n        ref: null,\n        focus: true,\n        aria: false,\n        touchAction: \"none\",\n        closeOnPullDown: false,\n        closeOnBackdropClick: false,\n    },\n    portal: {},\n    on: {},\n    styles: {},\n    className: \"\",\n};\n\nfunction createModule(name, component) {\n    return { name, component };\n}\nfunction createNode(module, children) {\n    return { module, children };\n}\nfunction traverseNode(node, target, apply) {\n    if (node.module.name === target) {\n        return apply(node);\n    }\n    if (node.children) {\n        return [\n            createNode(node.module, node.children.flatMap((n) => { var _a; return (_a = traverseNode(n, target, apply)) !== null && _a !== void 0 ? _a : []; })),\n        ];\n    }\n    return [node];\n}\nfunction traverse(nodes, target, apply) {\n    return nodes.flatMap((node) => { var _a; return (_a = traverseNode(node, target, apply)) !== null && _a !== void 0 ? _a : []; });\n}\nfunction withPlugins(root, plugins = [], augmentations = []) {\n    let config = root;\n    const contains = (target) => {\n        const nodes = [...config];\n        while (nodes.length > 0) {\n            const node = nodes.pop();\n            if ((node === null || node === void 0 ? void 0 : node.module.name) === target)\n                return true;\n            if (node === null || node === void 0 ? void 0 : node.children)\n                nodes.push(...node.children);\n        }\n        return false;\n    };\n    const addParent = (target, module) => {\n        if (target === \"\") {\n            config = [createNode(module, config)];\n            return;\n        }\n        config = traverse(config, target, (node) => [createNode(module, [node])]);\n    };\n    const append = (target, module) => {\n        config = traverse(config, target, (node) => [createNode(node.module, [createNode(module, node.children)])]);\n    };\n    const addChild = (target, module, precede) => {\n        config = traverse(config, target, (node) => {\n            var _a;\n            return [\n                createNode(node.module, [\n                    ...(precede ? [createNode(module)] : []),\n                    ...((_a = node.children) !== null && _a !== void 0 ? _a : []),\n                    ...(!precede ? [createNode(module)] : []),\n                ]),\n            ];\n        });\n    };\n    const addSibling = (target, module, precede) => {\n        config = traverse(config, target, (node) => [\n            ...(precede ? [createNode(module)] : []),\n            node,\n            ...(!precede ? [createNode(module)] : []),\n        ]);\n    };\n    const addModule = (module) => {\n        append(MODULE_CONTROLLER, module);\n    };\n    const replace = (target, module) => {\n        config = traverse(config, target, (node) => [createNode(module, node.children)]);\n    };\n    const remove = (target) => {\n        config = traverse(config, target, (node) => node.children);\n    };\n    const augment = (augmentation) => {\n        augmentations.push(augmentation);\n    };\n    plugins.forEach((plugin) => {\n        plugin({\n            contains,\n            addParent,\n            append,\n            addChild,\n            addSibling,\n            addModule,\n            replace,\n            remove,\n            augment,\n        });\n    });\n    return {\n        config,\n        augmentation: (props) => augmentations.reduce((acc, augmentation) => augmentation(acc), props),\n    };\n}\n\nconst clsx = (...classes) => [...classes].filter((cls) => Boolean(cls)).join(\" \");\nconst cssPrefix$3 = \"yarl__\";\nconst cssClass = (name) => `${cssPrefix$3}${name}`;\nconst cssVar = (name) => `--${cssPrefix$3}${name}`;\nconst composePrefix = (base, prefix) => `${base}${prefix ? `_${prefix}` : \"\"}`;\nconst makeComposePrefix = (base) => (prefix) => composePrefix(base, prefix);\nconst label = (labels, lbl) => (labels && labels[lbl] ? labels[lbl] : lbl);\nconst cleanup = (...cleaners) => () => {\n    cleaners.forEach((cleaner) => {\n        cleaner();\n    });\n};\nconst makeUseContext = (name, contextName, context) => () => {\n    const ctx = React.useContext(context);\n    if (!ctx) {\n        throw new Error(`${name} must be used within a ${contextName}.Provider`);\n    }\n    return ctx;\n};\nconst hasWindow = () => typeof window !== \"undefined\";\nfunction round(value, decimals = 0) {\n    const factor = 10 ** decimals;\n    return Math.round((value + Number.EPSILON) * factor) / factor;\n}\nconst isImageSlide = (slide) => slide.type === undefined || slide.type === \"image\";\nconst isImageFitCover = (image, imageFit) => image.imageFit === IMAGE_FIT_COVER || (image.imageFit !== IMAGE_FIT_CONTAIN && imageFit === IMAGE_FIT_COVER);\nfunction parseLengthPercentage(input) {\n    if (typeof input === \"number\") {\n        return { pixel: input };\n    }\n    if (typeof input === \"string\") {\n        const value = parseInt(input, 10);\n        return input.endsWith(\"%\") ? { percent: value } : { pixel: value };\n    }\n    return { pixel: 0 };\n}\nfunction computeSlideRect(containerRect, padding) {\n    const paddingValue = parseLengthPercentage(padding);\n    const paddingPixels = paddingValue.percent !== undefined ? (containerRect.width / 100) * paddingValue.percent : paddingValue.pixel;\n    return {\n        width: Math.max(containerRect.width - 2 * paddingPixels, 0),\n        height: Math.max(containerRect.height - 2 * paddingPixels, 0),\n    };\n}\nconst devicePixelRatio = () => (hasWindow() ? window === null || window === void 0 ? void 0 : window.devicePixelRatio : undefined) || 1;\nconst getSlideIndex = (index, slidesCount) => slidesCount > 0 ? ((index % slidesCount) + slidesCount) % slidesCount : 0;\nconst hasSlides = (slides) => slides.length > 0;\nconst getSlide = (slides, index) => slides[getSlideIndex(index, slides.length)];\nconst getSlideIfPresent = (slides, index) => hasSlides(slides) ? getSlide(slides, index) : undefined;\nfunction addToolbarButton(toolbar, key, button) {\n    if (!button)\n        return toolbar;\n    const { buttons, ...restToolbar } = toolbar;\n    const index = buttons.findIndex((item) => item === key);\n    const buttonWithKey = React.isValidElement(button) ? React.cloneElement(button, { key }, null) : button;\n    if (index >= 0) {\n        const result = [...buttons];\n        result.splice(index, 1, buttonWithKey);\n        return { buttons: result, ...restToolbar };\n    }\n    return { buttons: [buttonWithKey, ...buttons], ...restToolbar };\n}\nfunction stopNavigationEventsPropagation() {\n    const stopPropagation = (event) => {\n        event.stopPropagation();\n    };\n    return { onPointerDown: stopPropagation, onKeyDown: stopPropagation, onWheel: stopPropagation };\n}\nfunction calculatePreload(carousel, slides, minimum = 0) {\n    return Math.min(carousel.preload, Math.max(carousel.finite ? slides.length - 1 : Math.floor(slides.length / 2), minimum));\n}\n\nconst EventsContext = React.createContext(null);\nconst useEvents = makeUseContext(\"useEvents\", \"EventsContext\", EventsContext);\nfunction EventsProvider({ children }) {\n    const [subscriptions] = React.useState({});\n    React.useEffect(() => () => {\n        Object.keys(subscriptions).forEach((topic) => delete subscriptions[topic]);\n    }, [subscriptions]);\n    const context = React.useMemo(() => {\n        const unsubscribe = (topic, callback) => {\n            var _a;\n            (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.splice(0, subscriptions[topic].length, ...subscriptions[topic].filter((cb) => cb !== callback));\n        };\n        const subscribe = (topic, callback) => {\n            if (!subscriptions[topic]) {\n                subscriptions[topic] = [];\n            }\n            subscriptions[topic].push(callback);\n            return () => unsubscribe(topic, callback);\n        };\n        const publish = (...[topic, event]) => {\n            var _a;\n            (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.forEach((callback) => callback(event));\n        };\n        return { publish, subscribe, unsubscribe };\n    }, [subscriptions]);\n    return React.createElement(EventsContext.Provider, { value: context }, children);\n}\n\nconst LightboxPropsContext = React.createContext(null);\nconst useLightboxProps = makeUseContext(\"useLightboxProps\", \"LightboxPropsContext\", LightboxPropsContext);\nfunction LightboxPropsProvider({ children, ...props }) {\n    return React.createElement(LightboxPropsContext.Provider, { value: props }, children);\n}\n\nconst LightboxStateContext = React.createContext(null);\nconst useLightboxState = makeUseContext(\"useLightboxState\", \"LightboxStateContext\", LightboxStateContext);\nconst LightboxDispatchContext = React.createContext(null);\nconst useLightboxDispatch = makeUseContext(\"useLightboxDispatch\", \"LightboxDispatchContext\", LightboxDispatchContext);\nfunction reducer(state, action) {\n    switch (action.type) {\n        case \"swipe\": {\n            const { slides } = state;\n            const increment = (action === null || action === void 0 ? void 0 : action.increment) || 0;\n            const globalIndex = state.globalIndex + increment;\n            const currentIndex = getSlideIndex(globalIndex, slides.length);\n            const currentSlide = getSlideIfPresent(slides, currentIndex);\n            const animation = increment || action.duration\n                ? {\n                    increment,\n                    duration: action.duration,\n                    easing: action.easing,\n                }\n                : undefined;\n            return { slides, currentIndex, globalIndex, currentSlide, animation };\n        }\n        case \"update\":\n            return {\n                slides: action.slides,\n                currentIndex: action.index,\n                globalIndex: action.index,\n                currentSlide: getSlideIfPresent(action.slides, action.index),\n            };\n        default:\n            throw new Error(UNKNOWN_ACTION_TYPE);\n    }\n}\nfunction LightboxStateProvider({ slides, index, children }) {\n    const [state, dispatch] = React.useReducer(reducer, {\n        slides,\n        currentIndex: index,\n        globalIndex: index,\n        currentSlide: getSlideIfPresent(slides, index),\n    });\n    React.useEffect(() => {\n        dispatch({ type: \"update\", slides, index });\n    }, [slides, index]);\n    const context = React.useMemo(() => ({ ...state, state, dispatch }), [state, dispatch]);\n    return (React.createElement(LightboxDispatchContext.Provider, { value: dispatch },\n        React.createElement(LightboxStateContext.Provider, { value: context }, children)));\n}\n\nconst TimeoutsContext = React.createContext(null);\nconst useTimeouts = makeUseContext(\"useTimeouts\", \"TimeoutsContext\", TimeoutsContext);\nfunction TimeoutsProvider({ children }) {\n    const [timeouts] = React.useState([]);\n    React.useEffect(() => () => {\n        timeouts.forEach((tid) => window.clearTimeout(tid));\n        timeouts.splice(0, timeouts.length);\n    }, [timeouts]);\n    const context = React.useMemo(() => {\n        const removeTimeout = (id) => {\n            timeouts.splice(0, timeouts.length, ...timeouts.filter((tid) => tid !== id));\n        };\n        const setTimeout = (fn, delay) => {\n            const id = window.setTimeout(() => {\n                removeTimeout(id);\n                fn();\n            }, delay);\n            timeouts.push(id);\n            return id;\n        };\n        const clearTimeout = (id) => {\n            if (id !== undefined) {\n                removeTimeout(id);\n                window.clearTimeout(id);\n            }\n        };\n        return { setTimeout, clearTimeout };\n    }, [timeouts]);\n    return React.createElement(TimeoutsContext.Provider, { value: context }, children);\n}\n\nconst IconButton = React.forwardRef(function IconButton({ label: label$1, className, icon: Icon, renderIcon, onClick, style, ...rest }, ref) {\n    const { styles, labels } = useLightboxProps();\n    return (React.createElement(\"button\", { ref: ref, type: \"button\", \"aria-label\": label(labels, label$1), className: clsx(cssClass(ELEMENT_BUTTON), className), onClick: onClick, style: { ...style, ...styles.button }, ...rest }, renderIcon ? renderIcon() : React.createElement(Icon, { className: cssClass(ELEMENT_ICON), style: styles.icon })));\n});\n\nfunction svgIcon(name, children) {\n    const icon = (props) => (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"24\", height: \"24\", \"aria-hidden\": \"true\", focusable: \"false\", ...props }, children));\n    icon.displayName = name;\n    return icon;\n}\nfunction createIcon(name, glyph) {\n    return svgIcon(name, React.createElement(\"g\", { fill: \"currentColor\" },\n        React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }),\n        glyph));\n}\nfunction createIconDisabled(name, glyph) {\n    return svgIcon(name, React.createElement(React.Fragment, null,\n        React.createElement(\"defs\", null,\n            React.createElement(\"mask\", { id: \"strike\" },\n                React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"white\" }),\n                React.createElement(\"path\", { d: \"M0 0L24 24\", stroke: \"black\", strokeWidth: 4 }))),\n        React.createElement(\"path\", { d: \"M0.70707 2.121320L21.878680 23.292883\", stroke: \"currentColor\", strokeWidth: 2 }),\n        React.createElement(\"g\", { fill: \"currentColor\", mask: \"url(#strike)\" },\n            React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }),\n            glyph)));\n}\nconst CloseIcon = createIcon(\"Close\", React.createElement(\"path\", { d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" }));\nconst PreviousIcon = createIcon(\"Previous\", React.createElement(\"path\", { d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\" }));\nconst NextIcon = createIcon(\"Next\", React.createElement(\"path\", { d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\" }));\nconst LoadingIcon = createIcon(\"Loading\", React.createElement(React.Fragment, null, Array.from({ length: 8 }).map((_, index, array) => (React.createElement(\"line\", { key: index, x1: \"12\", y1: \"6.5\", x2: \"12\", y2: \"1.8\", strokeLinecap: \"round\", strokeWidth: \"2.6\", stroke: \"currentColor\", strokeOpacity: (1 / array.length) * (index + 1), transform: `rotate(${(360 / array.length) * index}, 12, 12)` })))));\nconst ErrorIcon = createIcon(\"Error\", React.createElement(\"path\", { d: \"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z\" }));\n\nconst useLayoutEffect = hasWindow() ? React.useLayoutEffect : React.useEffect;\n\nfunction useMotionPreference() {\n    const [reduceMotion, setReduceMotion] = React.useState(false);\n    React.useEffect(() => {\n        var _a, _b;\n        const mediaQuery = (_a = window.matchMedia) === null || _a === void 0 ? void 0 : _a.call(window, \"(prefers-reduced-motion: reduce)\");\n        setReduceMotion(mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.matches);\n        const listener = (event) => setReduceMotion(event.matches);\n        (_b = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.addEventListener) === null || _b === void 0 ? void 0 : _b.call(mediaQuery, \"change\", listener);\n        return () => { var _a; return (_a = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.removeEventListener) === null || _a === void 0 ? void 0 : _a.call(mediaQuery, \"change\", listener); };\n    }, []);\n    return reduceMotion;\n}\n\nfunction currentTransformation(node) {\n    let x = 0;\n    let y = 0;\n    let z = 0;\n    const matrix = window.getComputedStyle(node).transform;\n    const matcher = matrix.match(/matrix.*\\((.+)\\)/);\n    if (matcher) {\n        const values = matcher[1].split(\",\").map((str) => Number.parseInt(str, 10));\n        if (values.length === 6) {\n            x = values[4];\n            y = values[5];\n        }\n        else if (values.length === 16) {\n            x = values[12];\n            y = values[13];\n            z = values[14];\n        }\n    }\n    return { x, y, z };\n}\nfunction useAnimation(nodeRef, computeAnimation) {\n    const snapshot = React.useRef();\n    const animation = React.useRef();\n    const reduceMotion = useMotionPreference();\n    useLayoutEffect(() => {\n        var _a, _b, _c;\n        if (nodeRef.current && snapshot.current !== undefined && !reduceMotion) {\n            const { keyframes, duration, easing, onfinish } = computeAnimation(snapshot.current, nodeRef.current.getBoundingClientRect(), currentTransformation(nodeRef.current)) || {};\n            if (keyframes && duration) {\n                (_a = animation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n                animation.current = undefined;\n                try {\n                    animation.current = (_c = (_b = nodeRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, keyframes, { duration, easing });\n                }\n                catch (err) {\n                    console.error(err);\n                }\n                if (animation.current) {\n                    animation.current.onfinish = () => {\n                        animation.current = undefined;\n                        onfinish === null || onfinish === void 0 ? void 0 : onfinish();\n                    };\n                }\n            }\n        }\n        snapshot.current = undefined;\n    });\n    return {\n        prepareAnimation: (currentSnapshot) => {\n            snapshot.current = currentSnapshot;\n        },\n        isAnimationPlaying: () => { var _a; return ((_a = animation.current) === null || _a === void 0 ? void 0 : _a.playState) === \"running\"; },\n    };\n}\n\nfunction useContainerRect() {\n    const [containerRect, setContainerRect] = React.useState();\n    const containerRef = React.useRef(null);\n    const observerRef = React.useRef();\n    const setContainerRef = React.useCallback((node) => {\n        containerRef.current = node;\n        if (observerRef.current) {\n            observerRef.current.disconnect();\n            observerRef.current = undefined;\n        }\n        const updateContainerRect = () => {\n            if (node) {\n                const styles = window.getComputedStyle(node);\n                const parse = (value) => parseFloat(value) || 0;\n                setContainerRect({\n                    width: Math.round(node.clientWidth - parse(styles.paddingLeft) - parse(styles.paddingRight)),\n                    height: Math.round(node.clientHeight - parse(styles.paddingTop) - parse(styles.paddingBottom)),\n                });\n            }\n            else {\n                setContainerRect(undefined);\n            }\n        };\n        updateContainerRect();\n        if (node && typeof ResizeObserver !== \"undefined\") {\n            observerRef.current = new ResizeObserver(updateContainerRect);\n            observerRef.current.observe(node);\n        }\n    }, []);\n    return React.useMemo(() => ({\n        setContainerRef,\n        containerRef,\n        containerRect,\n    }), [setContainerRef, containerRef, containerRect]);\n}\n\nfunction useDelay() {\n    const timeoutId = React.useRef();\n    const { setTimeout, clearTimeout } = useTimeouts();\n    return React.useCallback((callback, delay) => {\n        clearTimeout(timeoutId.current);\n        timeoutId.current = setTimeout(callback, delay > 0 ? delay : 0);\n    }, [setTimeout, clearTimeout]);\n}\n\nfunction useEventCallback(fn) {\n    const ref = React.useRef(fn);\n    useLayoutEffect(() => {\n        ref.current = fn;\n    });\n    return React.useCallback((...args) => { var _a; return (_a = ref.current) === null || _a === void 0 ? void 0 : _a.call(ref, ...args); }, []);\n}\n\nfunction setRef(ref, value) {\n    if (typeof ref === \"function\") {\n        ref(value);\n    }\n    else if (ref) {\n        ref.current = value;\n    }\n}\nfunction useForkRef(refA, refB) {\n    return React.useMemo(() => refA == null && refB == null\n        ? null\n        : (refValue) => {\n            setRef(refA, refValue);\n            setRef(refB, refValue);\n        }, [refA, refB]);\n}\n\nfunction useLoseFocus(focus, disabled = false) {\n    const focused = React.useRef();\n    useLayoutEffect(() => {\n        if (disabled && focused.current) {\n            focused.current = false;\n            focus();\n        }\n    }, [disabled, focus]);\n    const onFocus = React.useCallback(() => {\n        focused.current = true;\n    }, []);\n    const onBlur = React.useCallback(() => {\n        focused.current = false;\n    }, []);\n    return { onFocus, onBlur };\n}\n\nfunction useRTL() {\n    const [isRTL, setIsRTL] = React.useState(false);\n    useLayoutEffect(() => {\n        setIsRTL(window.getComputedStyle(window.document.documentElement).direction === \"rtl\");\n    }, []);\n    return isRTL;\n}\n\nfunction useSensors() {\n    const [subscribers] = React.useState({});\n    return React.useMemo(() => {\n        const notifySubscribers = (type, event) => {\n            var _a;\n            (_a = subscribers[type]) === null || _a === void 0 ? void 0 : _a.forEach((listener) => {\n                if (!event.isPropagationStopped())\n                    listener(event);\n            });\n        };\n        return {\n            registerSensors: {\n                onPointerDown: (event) => notifySubscribers(EVENT_ON_POINTER_DOWN, event),\n                onPointerMove: (event) => notifySubscribers(EVENT_ON_POINTER_MOVE, event),\n                onPointerUp: (event) => notifySubscribers(EVENT_ON_POINTER_UP, event),\n                onPointerLeave: (event) => notifySubscribers(EVENT_ON_POINTER_LEAVE, event),\n                onPointerCancel: (event) => notifySubscribers(EVENT_ON_POINTER_CANCEL, event),\n                onKeyDown: (event) => notifySubscribers(EVENT_ON_KEY_DOWN, event),\n                onKeyUp: (event) => notifySubscribers(EVENT_ON_KEY_UP, event),\n                onWheel: (event) => notifySubscribers(EVENT_ON_WHEEL, event),\n            },\n            subscribeSensors: (type, callback) => {\n                if (!subscribers[type]) {\n                    subscribers[type] = [];\n                }\n                subscribers[type].unshift(callback);\n                return () => {\n                    const listeners = subscribers[type];\n                    if (listeners) {\n                        listeners.splice(0, listeners.length, ...listeners.filter((el) => el !== callback));\n                    }\n                };\n            },\n        };\n    }, [subscribers]);\n}\n\nfunction useThrottle(callback, delay) {\n    const lastCallbackTime = React.useRef(0);\n    const delayCallback = useDelay();\n    const executeCallback = useEventCallback((...args) => {\n        lastCallbackTime.current = Date.now();\n        callback(args);\n    });\n    return React.useCallback((...args) => {\n        delayCallback(() => {\n            executeCallback(args);\n        }, delay - (Date.now() - lastCallbackTime.current));\n    }, [delay, executeCallback, delayCallback]);\n}\n\nconst slidePrefix = makeComposePrefix(\"slide\");\nconst slideImagePrefix = makeComposePrefix(\"slide_image\");\nfunction ImageSlide({ slide: image, offset, render, rect, imageFit, imageProps, onClick, onLoad, style, }) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const [status, setStatus] = React.useState(SLIDE_STATUS_LOADING);\n    const { publish } = useEvents();\n    const { setTimeout } = useTimeouts();\n    const imageRef = React.useRef(null);\n    React.useEffect(() => {\n        if (offset === 0) {\n            publish(activeSlideStatus(status));\n        }\n    }, [offset, status, publish]);\n    const handleLoading = useEventCallback((img) => {\n        (\"decode\" in img ? img.decode() : Promise.resolve())\n            .catch(() => { })\n            .then(() => {\n            if (!img.parentNode) {\n                return;\n            }\n            setStatus(SLIDE_STATUS_COMPLETE);\n            setTimeout(() => {\n                onLoad === null || onLoad === void 0 ? void 0 : onLoad(img);\n            }, 0);\n        });\n    });\n    const setImageRef = React.useCallback((img) => {\n        imageRef.current = img;\n        if (img === null || img === void 0 ? void 0 : img.complete) {\n            handleLoading(img);\n        }\n    }, [handleLoading]);\n    const handleOnLoad = React.useCallback((event) => {\n        handleLoading(event.currentTarget);\n    }, [handleLoading]);\n    const onError = React.useCallback(() => {\n        setStatus(SLIDE_STATUS_ERROR);\n    }, []);\n    const cover = isImageFitCover(image, imageFit);\n    const nonInfinite = (value, fallback) => (Number.isFinite(value) ? value : fallback);\n    const maxWidth = nonInfinite(Math.max(...((_b = (_a = image.srcSet) === null || _a === void 0 ? void 0 : _a.map((x) => x.width)) !== null && _b !== void 0 ? _b : []).concat(image.width ? [image.width] : []).filter(Boolean)), ((_c = imageRef.current) === null || _c === void 0 ? void 0 : _c.naturalWidth) || 0);\n    const maxHeight = nonInfinite(Math.max(...((_e = (_d = image.srcSet) === null || _d === void 0 ? void 0 : _d.map((x) => x.height)) !== null && _e !== void 0 ? _e : []).concat(image.height ? [image.height] : []).filter(Boolean)), ((_f = imageRef.current) === null || _f === void 0 ? void 0 : _f.naturalHeight) || 0);\n    const defaultStyle = maxWidth && maxHeight\n        ? {\n            maxWidth: `min(${maxWidth}px, 100%)`,\n            maxHeight: `min(${maxHeight}px, 100%)`,\n        }\n        : {\n            maxWidth: \"100%\",\n            maxHeight: \"100%\",\n        };\n    const srcSet = (_g = image.srcSet) === null || _g === void 0 ? void 0 : _g.sort((a, b) => a.width - b.width).map((item) => `${item.src} ${item.width}w`).join(\", \");\n    const estimateActualWidth = () => rect && !cover && image.width && image.height ? (rect.height / image.height) * image.width : Number.MAX_VALUE;\n    const sizes = srcSet && rect && hasWindow() ? `${Math.round(Math.min(estimateActualWidth(), rect.width))}px` : undefined;\n    const { style: imagePropsStyle, className: imagePropsClassName, ...restImageProps } = imageProps || {};\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"img\", { ref: setImageRef, onLoad: handleOnLoad, onError: onError, onClick: onClick, draggable: false, className: clsx(cssClass(slideImagePrefix()), cover && cssClass(slideImagePrefix(\"cover\")), status !== SLIDE_STATUS_COMPLETE && cssClass(slideImagePrefix(\"loading\")), imagePropsClassName), style: { ...defaultStyle, ...style, ...imagePropsStyle }, ...restImageProps, alt: image.alt, sizes: sizes, srcSet: srcSet, src: image.src }),\n        status !== SLIDE_STATUS_COMPLETE && (React.createElement(\"div\", { className: cssClass(slidePrefix(SLIDE_STATUS_PLACEHOLDER)) },\n            status === SLIDE_STATUS_LOADING &&\n                ((render === null || render === void 0 ? void 0 : render.iconLoading) ? (render.iconLoading()) : (React.createElement(LoadingIcon, { className: clsx(cssClass(ELEMENT_ICON), cssClass(slidePrefix(SLIDE_STATUS_LOADING))) }))),\n            status === SLIDE_STATUS_ERROR &&\n                ((render === null || render === void 0 ? void 0 : render.iconError) ? (render.iconError()) : (React.createElement(ErrorIcon, { className: clsx(cssClass(ELEMENT_ICON), cssClass(slidePrefix(SLIDE_STATUS_ERROR))) })))))));\n}\n\nvar SwipeState;\n(function (SwipeState) {\n    SwipeState[SwipeState[\"NONE\"] = 0] = \"NONE\";\n    SwipeState[SwipeState[\"SWIPE\"] = 1] = \"SWIPE\";\n    SwipeState[SwipeState[\"PULL_DOWN\"] = 2] = \"PULL_DOWN\";\n    SwipeState[SwipeState[\"ANIMATION\"] = 3] = \"ANIMATION\";\n})(SwipeState || (SwipeState = {}));\n\nfunction usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled) {\n    React.useEffect(() => {\n        if (disabled)\n            return () => { };\n        return cleanup(subscribeSensors(EVENT_ON_POINTER_DOWN, onPointerDown), subscribeSensors(EVENT_ON_POINTER_MOVE, onPointerMove), subscribeSensors(EVENT_ON_POINTER_UP, onPointerUp), subscribeSensors(EVENT_ON_POINTER_LEAVE, onPointerUp), subscribeSensors(EVENT_ON_POINTER_CANCEL, onPointerUp));\n    }, [subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled]);\n}\n\nvar Gesture;\n(function (Gesture) {\n    Gesture[Gesture[\"NONE\"] = 0] = \"NONE\";\n    Gesture[Gesture[\"SWIPE\"] = 1] = \"SWIPE\";\n    Gesture[Gesture[\"PULL_DOWN\"] = 2] = \"PULL_DOWN\";\n})(Gesture || (Gesture = {}));\nconst SWIPE_THRESHOLD = 30;\nfunction usePointerSwipe(subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel, pullDownEnabled, onPullDownStart, onPullDownProgress, onPullDownFinish, onPullDownCancel) {\n    const offset = React.useRef(0);\n    const pointers = React.useRef([]);\n    const activePointer = React.useRef();\n    const startTime = React.useRef(0);\n    const gesture = React.useRef(Gesture.NONE);\n    const clearPointer = React.useCallback((event) => {\n        if (activePointer.current === event.pointerId) {\n            activePointer.current = undefined;\n            gesture.current = Gesture.NONE;\n        }\n        const currentPointers = pointers.current;\n        currentPointers.splice(0, currentPointers.length, ...currentPointers.filter((p) => p.pointerId !== event.pointerId));\n    }, []);\n    const addPointer = React.useCallback((event) => {\n        clearPointer(event);\n        event.persist();\n        pointers.current.push(event);\n    }, [clearPointer]);\n    const onPointerDown = useEventCallback((event) => {\n        addPointer(event);\n    });\n    const onPointerUp = useEventCallback((event) => {\n        if (pointers.current.find((x) => x.pointerId === event.pointerId) &&\n            activePointer.current === event.pointerId) {\n            const duration = Date.now() - startTime.current;\n            const currentOffset = offset.current;\n            if (gesture.current === Gesture.SWIPE) {\n                if (Math.abs(currentOffset) > 0.3 * containerWidth ||\n                    (Math.abs(currentOffset) > 5 && duration < swipeAnimationDuration)) {\n                    onSwipeFinish(currentOffset, duration);\n                }\n                else {\n                    onSwipeCancel(currentOffset);\n                }\n            }\n            else if (gesture.current === Gesture.PULL_DOWN) {\n                if (currentOffset > 2 * SWIPE_THRESHOLD) {\n                    onPullDownFinish(currentOffset, duration);\n                }\n                else {\n                    onPullDownCancel(currentOffset);\n                }\n            }\n            offset.current = 0;\n            gesture.current = Gesture.NONE;\n        }\n        clearPointer(event);\n    });\n    const onPointerMove = useEventCallback((event) => {\n        const pointer = pointers.current.find((p) => p.pointerId === event.pointerId);\n        if (pointer) {\n            const isCurrentPointer = activePointer.current === event.pointerId;\n            if (event.buttons === 0) {\n                if (isCurrentPointer && offset.current !== 0) {\n                    onPointerUp(event);\n                }\n                else {\n                    clearPointer(pointer);\n                }\n                return;\n            }\n            const deltaX = event.clientX - pointer.clientX;\n            const deltaY = event.clientY - pointer.clientY;\n            if (activePointer.current === undefined) {\n                const startGesture = (newGesture) => {\n                    addPointer(event);\n                    activePointer.current = event.pointerId;\n                    startTime.current = Date.now();\n                    gesture.current = newGesture;\n                };\n                if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > SWIPE_THRESHOLD && isSwipeValid(deltaX)) {\n                    startGesture(Gesture.SWIPE);\n                    onSwipeStart();\n                }\n                else if (pullDownEnabled && Math.abs(deltaY) > Math.abs(deltaX) && deltaY > SWIPE_THRESHOLD) {\n                    startGesture(Gesture.PULL_DOWN);\n                    onPullDownStart();\n                }\n            }\n            else if (isCurrentPointer) {\n                if (gesture.current === Gesture.SWIPE) {\n                    offset.current = deltaX;\n                    onSwipeProgress(deltaX);\n                }\n                else if (gesture.current === Gesture.PULL_DOWN) {\n                    offset.current = deltaY;\n                    onPullDownProgress(deltaY);\n                }\n            }\n        }\n    });\n    usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp);\n}\n\nconst WHEEL = \"wheel\";\nfunction preventDefault(event) {\n    if (Math.abs(event.deltaX) > Math.abs(event.deltaY) || event.ctrlKey) {\n        event.preventDefault();\n    }\n}\nfunction usePreventSwipeNavigation() {\n    const ref = React.useRef(null);\n    return React.useCallback((node) => {\n        var _a;\n        if (node) {\n            node.addEventListener(WHEEL, preventDefault, { passive: false });\n        }\n        else {\n            (_a = ref.current) === null || _a === void 0 ? void 0 : _a.removeEventListener(WHEEL, preventDefault);\n        }\n        ref.current = node;\n    }, []);\n}\n\nfunction useWheelSwipe(swipeState, subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel) {\n    const offset = React.useRef(0);\n    const intent = React.useRef(0);\n    const intentCleanup = React.useRef();\n    const resetCleanup = React.useRef();\n    const wheelResidualMomentum = React.useRef(0);\n    const startTime = React.useRef(0);\n    const { setTimeout, clearTimeout } = useTimeouts();\n    const cancelSwipeIntentCleanup = React.useCallback(() => {\n        if (intentCleanup.current) {\n            clearTimeout(intentCleanup.current);\n            intentCleanup.current = undefined;\n        }\n    }, [clearTimeout]);\n    const cancelSwipeResetCleanup = React.useCallback(() => {\n        if (resetCleanup.current) {\n            clearTimeout(resetCleanup.current);\n            resetCleanup.current = undefined;\n        }\n    }, [clearTimeout]);\n    const handleCleanup = useEventCallback(() => {\n        if (swipeState !== SwipeState.SWIPE) {\n            offset.current = 0;\n            startTime.current = 0;\n            cancelSwipeIntentCleanup();\n            cancelSwipeResetCleanup();\n        }\n    });\n    React.useEffect(handleCleanup, [swipeState, handleCleanup]);\n    const handleCancelSwipe = useEventCallback((currentSwipeOffset) => {\n        resetCleanup.current = undefined;\n        if (offset.current === currentSwipeOffset) {\n            onSwipeCancel(offset.current);\n        }\n    });\n    const onWheel = useEventCallback((event) => {\n        if (event.ctrlKey) {\n            return;\n        }\n        if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n            return;\n        }\n        if (swipeState === SwipeState.NONE) {\n            if (Math.abs(event.deltaX) <= 1.2 * Math.abs(wheelResidualMomentum.current)) {\n                wheelResidualMomentum.current = event.deltaX;\n                return;\n            }\n            if (!isSwipeValid(-event.deltaX)) {\n                return;\n            }\n            intent.current += event.deltaX;\n            cancelSwipeIntentCleanup();\n            if (Math.abs(intent.current) > 30) {\n                intent.current = 0;\n                wheelResidualMomentum.current = 0;\n                startTime.current = Date.now();\n                onSwipeStart();\n            }\n            else {\n                const currentSwipeIntent = intent.current;\n                intentCleanup.current = setTimeout(() => {\n                    intentCleanup.current = undefined;\n                    if (currentSwipeIntent === intent.current) {\n                        intent.current = 0;\n                    }\n                }, swipeAnimationDuration);\n            }\n        }\n        else if (swipeState === SwipeState.SWIPE) {\n            let newSwipeOffset = offset.current - event.deltaX;\n            newSwipeOffset = Math.min(Math.abs(newSwipeOffset), containerWidth) * Math.sign(newSwipeOffset);\n            offset.current = newSwipeOffset;\n            onSwipeProgress(newSwipeOffset);\n            cancelSwipeResetCleanup();\n            if (Math.abs(newSwipeOffset) > 0.2 * containerWidth) {\n                wheelResidualMomentum.current = event.deltaX;\n                onSwipeFinish(newSwipeOffset, Date.now() - startTime.current);\n                return;\n            }\n            resetCleanup.current = setTimeout(() => handleCancelSwipe(newSwipeOffset), 2 * swipeAnimationDuration);\n        }\n        else {\n            wheelResidualMomentum.current = event.deltaX;\n        }\n    });\n    React.useEffect(() => subscribeSensors(EVENT_ON_WHEEL, onWheel), [subscribeSensors, onWheel]);\n}\n\nconst cssContainerPrefix = makeComposePrefix(\"container\");\nconst ControllerContext = React.createContext(null);\nconst useController = makeUseContext(\"useController\", \"ControllerContext\", ControllerContext);\nfunction Controller({ children, ...props }) {\n    var _a;\n    const { carousel, animation, controller, on, styles, render } = props;\n    const [toolbarWidth, setToolbarWidth] = React.useState();\n    const state = useLightboxState();\n    const dispatch = useLightboxDispatch();\n    const [swipeState, setSwipeState] = React.useState(SwipeState.NONE);\n    const swipeOffset = React.useRef(0);\n    const pullDownOffset = React.useRef(0);\n    const pullDownOpacity = React.useRef(1);\n    const { registerSensors, subscribeSensors } = useSensors();\n    const { subscribe, publish } = useEvents();\n    const cleanupAnimationIncrement = useDelay();\n    const cleanupSwipeOffset = useDelay();\n    const cleanupPullDownOffset = useDelay();\n    const { containerRef, setContainerRef, containerRect } = useContainerRect();\n    const handleContainerRef = useForkRef(usePreventSwipeNavigation(), setContainerRef);\n    const carouselRef = React.useRef(null);\n    const setCarouselRef = useForkRef(carouselRef, undefined);\n    const isRTL = useRTL();\n    const rtl = (value) => (isRTL ? -1 : 1) * (typeof value === \"number\" ? value : 1);\n    const focus = useEventCallback(() => { var _a; return (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.focus(); });\n    const getLightboxProps = useEventCallback(() => props);\n    const getLightboxState = useEventCallback(() => state);\n    const prev = React.useCallback((params) => publish(ACTION_PREV, params), [publish]);\n    const next = React.useCallback((params) => publish(ACTION_NEXT, params), [publish]);\n    const close = React.useCallback(() => publish(ACTION_CLOSE), [publish]);\n    const isSwipeValid = (offset) => !(carousel.finite &&\n        ((rtl(offset) > 0 && state.currentIndex === 0) ||\n            (rtl(offset) < 0 && state.currentIndex === state.slides.length - 1)));\n    const setSwipeOffset = (offset) => {\n        var _a;\n        swipeOffset.current = offset;\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"swipe_offset\"), `${Math.round(offset)}px`);\n    };\n    const pullDownEnabled = controller.closeOnPullDown;\n    const setPullDownOffset = (offset) => {\n        var _a, _b;\n        pullDownOffset.current = offset;\n        pullDownOpacity.current = (() => {\n            const threshold = 60;\n            const minOpacity = 0.5;\n            return Math.min(Math.max(round(1 - (offset / threshold) * (1 - minOpacity), 2), minOpacity), 1);\n        })();\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"pull_down_offset\"), `${Math.round(offset)}px`);\n        (_b = containerRef.current) === null || _b === void 0 ? void 0 : _b.style.setProperty(cssVar(\"pull_down_opacity\"), `${pullDownOpacity.current}`);\n    };\n    const { prepareAnimation: preparePullDownAnimation } = useAnimation(carouselRef, (snapshot, rect, translate) => {\n        if (carouselRef.current && containerRect) {\n            return {\n                keyframes: [\n                    {\n                        transform: `translate(0, ${snapshot.rect.y - rect.y + translate.y}px)`,\n                        opacity: snapshot.opacity,\n                    },\n                    { transform: \"translate(0, 0)\", opacity: 1 },\n                ],\n                duration: snapshot.duration,\n                easing: animation.easing.fade,\n            };\n        }\n        return undefined;\n    });\n    const pullDown = (offset, cancel) => {\n        if (pullDownEnabled) {\n            setPullDownOffset(offset);\n            let duration = 0;\n            if (carouselRef.current) {\n                duration = animation.fade * (cancel ? 2 : 1);\n                preparePullDownAnimation({\n                    rect: carouselRef.current.getBoundingClientRect(),\n                    opacity: pullDownOpacity.current,\n                    duration,\n                });\n            }\n            cleanupPullDownOffset(() => {\n                setPullDownOffset(0);\n                setSwipeState(SwipeState.NONE);\n            }, duration);\n            setSwipeState(SwipeState.ANIMATION);\n            if (!cancel) {\n                close();\n            }\n        }\n    };\n    const { prepareAnimation, isAnimationPlaying } = useAnimation(carouselRef, (snapshot, rect, translate) => {\n        var _a;\n        if (carouselRef.current && containerRect && ((_a = state.animation) === null || _a === void 0 ? void 0 : _a.duration)) {\n            const parsedSpacing = parseLengthPercentage(carousel.spacing);\n            const spacingValue = (parsedSpacing.percent\n                ? (parsedSpacing.percent * containerRect.width) / 100\n                : parsedSpacing.pixel) || 0;\n            return {\n                keyframes: [\n                    {\n                        transform: `translate(${rtl(state.globalIndex - snapshot.index) * (containerRect.width + spacingValue) +\n                            snapshot.rect.x -\n                            rect.x +\n                            translate.x}px, 0)`,\n                    },\n                    { transform: \"translate(0, 0)\" },\n                ],\n                duration: state.animation.duration,\n                easing: state.animation.easing,\n            };\n        }\n        return undefined;\n    });\n    const swipe = useEventCallback((action) => {\n        var _a, _b;\n        const currentSwipeOffset = action.offset || 0;\n        const swipeDuration = !currentSwipeOffset ? (_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe : animation.swipe;\n        const swipeEasing = !currentSwipeOffset && !isAnimationPlaying() ? animation.easing.navigation : animation.easing.swipe;\n        let { direction } = action;\n        const count = (_b = action.count) !== null && _b !== void 0 ? _b : 1;\n        let newSwipeState = SwipeState.ANIMATION;\n        let newSwipeAnimationDuration = swipeDuration * count;\n        if (!direction) {\n            const containerWidth = containerRect === null || containerRect === void 0 ? void 0 : containerRect.width;\n            const elapsedTime = action.duration || 0;\n            const expectedTime = containerWidth\n                ? (swipeDuration / containerWidth) * Math.abs(currentSwipeOffset)\n                : swipeDuration;\n            if (count !== 0) {\n                if (elapsedTime < expectedTime) {\n                    newSwipeAnimationDuration =\n                        (newSwipeAnimationDuration / expectedTime) * Math.max(elapsedTime, expectedTime / 5);\n                }\n                else if (containerWidth) {\n                    newSwipeAnimationDuration =\n                        (swipeDuration / containerWidth) * (containerWidth - Math.abs(currentSwipeOffset));\n                }\n                direction = rtl(currentSwipeOffset) > 0 ? ACTION_PREV : ACTION_NEXT;\n            }\n            else {\n                newSwipeAnimationDuration = swipeDuration / 2;\n            }\n        }\n        let increment = 0;\n        if (direction === ACTION_PREV) {\n            if (isSwipeValid(rtl(1))) {\n                increment = -count;\n            }\n            else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        }\n        else if (direction === ACTION_NEXT) {\n            if (isSwipeValid(rtl(-1))) {\n                increment = count;\n            }\n            else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        }\n        newSwipeAnimationDuration = Math.round(newSwipeAnimationDuration);\n        cleanupSwipeOffset(() => {\n            setSwipeOffset(0);\n            setSwipeState(SwipeState.NONE);\n        }, newSwipeAnimationDuration);\n        if (carouselRef.current) {\n            prepareAnimation({\n                rect: carouselRef.current.getBoundingClientRect(),\n                index: state.globalIndex,\n            });\n        }\n        setSwipeState(newSwipeState);\n        publish(ACTION_SWIPE, {\n            type: \"swipe\",\n            increment,\n            duration: newSwipeAnimationDuration,\n            easing: swipeEasing,\n        });\n    });\n    React.useEffect(() => {\n        var _a, _b;\n        if (((_a = state.animation) === null || _a === void 0 ? void 0 : _a.increment) && ((_b = state.animation) === null || _b === void 0 ? void 0 : _b.duration)) {\n            cleanupAnimationIncrement(() => dispatch({ type: \"swipe\", increment: 0 }), state.animation.duration);\n        }\n    }, [state.animation, dispatch, cleanupAnimationIncrement]);\n    const swipeParams = [\n        subscribeSensors,\n        isSwipeValid,\n        (containerRect === null || containerRect === void 0 ? void 0 : containerRect.width) || 0,\n        animation.swipe,\n        () => setSwipeState(SwipeState.SWIPE),\n        (offset) => setSwipeOffset(offset),\n        (offset, duration) => swipe({ offset, duration, count: 1 }),\n        (offset) => swipe({ offset, count: 0 }),\n    ];\n    const pullDownParams = [\n        () => {\n            if (pullDownEnabled) {\n                setSwipeState(SwipeState.PULL_DOWN);\n            }\n        },\n        (offset) => setPullDownOffset(offset),\n        (offset) => pullDown(offset),\n        (offset) => pullDown(offset, true),\n    ];\n    usePointerSwipe(...swipeParams, pullDownEnabled, ...pullDownParams);\n    useWheelSwipe(swipeState, ...swipeParams);\n    const focusOnMount = useEventCallback(() => {\n        var _a;\n        if (controller.focus) {\n            (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n        }\n    });\n    React.useEffect(focusOnMount, [focusOnMount]);\n    const onViewCallback = useEventCallback(() => {\n        var _a;\n        (_a = on.view) === null || _a === void 0 ? void 0 : _a.call(on, { index: state.currentIndex });\n    });\n    React.useEffect(onViewCallback, [state.globalIndex, onViewCallback]);\n    React.useEffect(() => cleanup(subscribe(ACTION_PREV, (action) => swipe({ direction: ACTION_PREV, ...action })), subscribe(ACTION_NEXT, (action) => swipe({ direction: ACTION_NEXT, ...action })), subscribe(ACTION_SWIPE, (action) => dispatch(action))), [subscribe, swipe, dispatch]);\n    React.useEffect(() => subscribeSensors(EVENT_ON_KEY_UP, (event) => {\n        if (event.key === VK_ESCAPE) {\n            close();\n        }\n    }), [subscribeSensors, close]);\n    const context = React.useMemo(() => ({\n        prev,\n        next,\n        close,\n        focus,\n        slideRect: containerRect ? computeSlideRect(containerRect, carousel.padding) : { width: 0, height: 0 },\n        containerRect: containerRect || { width: 0, height: 0 },\n        subscribeSensors,\n        containerRef,\n        setCarouselRef,\n        toolbarWidth,\n        setToolbarWidth,\n    }), [\n        prev,\n        next,\n        close,\n        focus,\n        subscribeSensors,\n        containerRect,\n        containerRef,\n        setCarouselRef,\n        toolbarWidth,\n        setToolbarWidth,\n        carousel.padding,\n    ]);\n    React.useImperativeHandle(controller.ref, () => ({\n        prev,\n        next,\n        close,\n        focus,\n        getLightboxProps,\n        getLightboxState,\n    }), [prev, next, close, focus, getLightboxProps, getLightboxState]);\n    return (React.createElement(\"div\", { ref: handleContainerRef, className: clsx(cssClass(cssContainerPrefix()), cssClass(CLASS_FLEX_CENTER)), style: {\n            ...(swipeState === SwipeState.SWIPE\n                ? { [cssVar(\"swipe_offset\")]: `${Math.round(swipeOffset.current)}px` }\n                : null),\n            ...(swipeState === SwipeState.PULL_DOWN\n                ? {\n                    [cssVar(\"pull_down_offset\")]: `${Math.round(pullDownOffset.current)}px`,\n                    [cssVar(\"pull_down_opacity\")]: `${pullDownOpacity.current}`,\n                }\n                : null),\n            ...(controller.touchAction !== \"none\"\n                ? { [cssVar(\"controller_touch_action\")]: controller.touchAction }\n                : null),\n            ...styles.container,\n        }, ...(controller.aria ? { role: \"presentation\", \"aria-live\": \"polite\" } : null), tabIndex: -1, ...registerSensors }, containerRect && (React.createElement(ControllerContext.Provider, { value: context },\n        children, (_a = render.controls) === null || _a === void 0 ? void 0 :\n        _a.call(render)))));\n}\nconst ControllerModule = createModule(MODULE_CONTROLLER, Controller);\n\nfunction cssPrefix$2(value) {\n    return composePrefix(MODULE_CAROUSEL, value);\n}\nfunction cssSlidePrefix(value) {\n    return composePrefix(\"slide\", value);\n}\nfunction CarouselSlide({ slide, offset }) {\n    const containerRef = React.useRef(null);\n    const { currentIndex } = useLightboxState();\n    const { slideRect, close } = useController();\n    const { render, carousel: { imageFit, imageProps }, on: { click: onClick }, controller: { closeOnBackdropClick }, styles: { slide: style }, } = useLightboxProps();\n    const renderSlide = () => {\n        var _a, _b, _c, _d;\n        let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, { slide, offset, rect: slideRect });\n        if (!rendered && isImageSlide(slide)) {\n            rendered = (React.createElement(ImageSlide, { slide: slide, offset: offset, render: render, rect: slideRect, imageFit: imageFit, imageProps: imageProps, onClick: offset === 0 ? () => onClick === null || onClick === void 0 ? void 0 : onClick({ index: currentIndex }) : undefined }));\n        }\n        return rendered ? (React.createElement(React.Fragment, null, (_b = render.slideHeader) === null || _b === void 0 ? void 0 :\n            _b.call(render, { slide }),\n            ((_c = render.slideContainer) !== null && _c !== void 0 ? _c : (({ children }) => children))({ slide, children: rendered }), (_d = render.slideFooter) === null || _d === void 0 ? void 0 :\n            _d.call(render, { slide }))) : null;\n    };\n    const handleBackdropClick = (event) => {\n        const container = containerRef.current;\n        const target = event.target instanceof HTMLElement ? event.target : undefined;\n        if (closeOnBackdropClick &&\n            target &&\n            container &&\n            (target === container ||\n                (Array.from(container.children).find((x) => x === target) &&\n                    target.classList.contains(cssClass(CLASS_FULLSIZE))))) {\n            close();\n        }\n    };\n    return (React.createElement(\"div\", { ref: containerRef, className: clsx(cssClass(cssSlidePrefix()), offset === 0 && cssClass(cssSlidePrefix(\"current\")), cssClass(CLASS_FLEX_CENTER)), onClick: handleBackdropClick, style: style }, renderSlide()));\n}\nfunction Placeholder() {\n    const style = useLightboxProps().styles.slide;\n    return React.createElement(\"div\", { className: cssClass(\"slide\"), style: style });\n}\nfunction Carousel({ carousel }) {\n    const { slides, currentIndex, globalIndex } = useLightboxState();\n    const { setCarouselRef } = useController();\n    const spacingValue = parseLengthPercentage(carousel.spacing);\n    const paddingValue = parseLengthPercentage(carousel.padding);\n    const items = [];\n    const preload = calculatePreload(carousel, slides, 1);\n    if (hasSlides(slides)) {\n        for (let i = currentIndex - preload; i < currentIndex; i += 1) {\n            const key = globalIndex + i - currentIndex;\n            items.push(!carousel.finite || i >= 0 ? (React.createElement(CarouselSlide, { key: key, slide: slides[(i + preload * slides.length) % slides.length], offset: i - currentIndex })) : (React.createElement(Placeholder, { key: key })));\n        }\n        items.push(React.createElement(CarouselSlide, { key: globalIndex, slide: slides[currentIndex], offset: 0 }));\n        for (let i = currentIndex + 1; i <= currentIndex + preload; i += 1) {\n            const key = globalIndex + i - currentIndex;\n            items.push(!carousel.finite || i <= slides.length - 1 ? (React.createElement(CarouselSlide, { key: key, slide: slides[i % slides.length], offset: i - currentIndex })) : (React.createElement(Placeholder, { key: key })));\n        }\n    }\n    return (React.createElement(\"div\", { ref: setCarouselRef, className: clsx(cssClass(cssPrefix$2()), items.length > 0 && cssClass(cssPrefix$2(\"with_slides\"))), style: {\n            [`${cssVar(cssPrefix$2(\"slides_count\"))}`]: items.length,\n            [`${cssVar(cssPrefix$2(\"spacing_px\"))}`]: spacingValue.pixel || 0,\n            [`${cssVar(cssPrefix$2(\"spacing_percent\"))}`]: spacingValue.percent || 0,\n            [`${cssVar(cssPrefix$2(\"padding_px\"))}`]: paddingValue.pixel || 0,\n            [`${cssVar(cssPrefix$2(\"padding_percent\"))}`]: paddingValue.percent || 0,\n        } }, items));\n}\nconst CarouselModule = createModule(MODULE_CAROUSEL, Carousel);\n\nfunction NavigationButton({ label, icon, renderIcon, action, onClick, disabled, style }) {\n    return (React.createElement(IconButton, { label: label, icon: icon, renderIcon: renderIcon, className: cssClass(`navigation_${action}`), disabled: disabled, onClick: onClick, style: style, ...useLoseFocus(useController().focus, disabled) }));\n}\nfunction Navigation({ carousel: { finite }, animation, render: { buttonPrev, buttonNext, iconPrev, iconNext }, styles, }) {\n    var _a;\n    const { slides, currentIndex } = useLightboxState();\n    const { prev, next, subscribeSensors } = useController();\n    const isRTL = useRTL();\n    const prevDisabled = slides.length === 0 || (finite && currentIndex === 0);\n    const nextDisabled = slides.length === 0 || (finite && currentIndex === slides.length - 1);\n    const throttle = ((_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe) / 2;\n    const prevThrottled = useThrottle(prev, throttle);\n    const nextThrottled = useThrottle(next, throttle);\n    const handleKeyDown = useEventCallback((event) => {\n        if (event.key === VK_ARROW_LEFT && !(isRTL ? nextDisabled : prevDisabled)) {\n            (isRTL ? nextThrottled : prevThrottled)();\n        }\n        if (event.key === VK_ARROW_RIGHT && !(isRTL ? prevDisabled : nextDisabled)) {\n            (isRTL ? prevThrottled : nextThrottled)();\n        }\n    });\n    React.useEffect(() => subscribeSensors(EVENT_ON_KEY_DOWN, handleKeyDown), [subscribeSensors, handleKeyDown]);\n    return (React.createElement(React.Fragment, null,\n        buttonPrev ? (buttonPrev()) : (React.createElement(NavigationButton, { label: \"Previous\", action: ACTION_PREV, icon: PreviousIcon, renderIcon: iconPrev, style: styles.navigationPrev, disabled: prevDisabled, onClick: prev })),\n        buttonNext ? (buttonNext()) : (React.createElement(NavigationButton, { label: \"Next\", action: ACTION_NEXT, icon: NextIcon, renderIcon: iconNext, style: styles.navigationNext, disabled: nextDisabled, onClick: next }))));\n}\nconst NavigationModule = createModule(MODULE_NAVIGATION, Navigation);\n\nconst noScroll = cssClass(CLASS_NO_SCROLL);\nconst noScrollPadding = cssClass(CLASS_NO_SCROLL_PADDING);\nfunction isHTMLElement(element) {\n    return \"style\" in element;\n}\nfunction padScrollbar(element, padding, rtl) {\n    const styles = window.getComputedStyle(element);\n    const property = rtl ? \"padding-left\" : \"padding-right\";\n    const computedValue = rtl ? styles.paddingLeft : styles.paddingRight;\n    const originalValue = element.style.getPropertyValue(property);\n    element.style.setProperty(property, `${(parseInt(computedValue, 10) || 0) + padding}px`);\n    return () => {\n        if (originalValue) {\n            element.style.setProperty(property, originalValue);\n        }\n        else {\n            element.style.removeProperty(property);\n        }\n    };\n}\nfunction NoScroll({ children }) {\n    const rtl = useRTL();\n    useLayoutEffect(() => {\n        const cleanup = [];\n        const { body, documentElement } = document;\n        const scrollbar = Math.round(window.innerWidth - documentElement.clientWidth);\n        if (scrollbar > 0) {\n            cleanup.push(padScrollbar(body, scrollbar, rtl));\n            const elements = body.getElementsByTagName(\"*\");\n            for (let i = 0; i < elements.length; i += 1) {\n                const element = elements[i];\n                if (isHTMLElement(element) &&\n                    window.getComputedStyle(element).getPropertyValue(\"position\") === \"fixed\" &&\n                    !element.classList.contains(noScrollPadding)) {\n                    cleanup.push(padScrollbar(element, scrollbar, rtl));\n                }\n            }\n        }\n        body.classList.add(noScroll);\n        return () => {\n            body.classList.remove(noScroll);\n            cleanup.forEach((clean) => clean());\n        };\n    }, [rtl]);\n    return React.createElement(React.Fragment, null, children);\n}\nconst NoScrollModule = createModule(MODULE_NO_SCROLL, NoScroll);\n\nfunction cssPrefix$1(value) {\n    return composePrefix(MODULE_PORTAL, value);\n}\nfunction setAttribute(element, attribute, value) {\n    const previousValue = element.getAttribute(attribute);\n    element.setAttribute(attribute, value);\n    return () => {\n        if (previousValue) {\n            element.setAttribute(attribute, previousValue);\n        }\n        else {\n            element.removeAttribute(attribute);\n        }\n    };\n}\nfunction Portal({ children, animation, styles, className, on, portal, close }) {\n    const [mounted, setMounted] = React.useState(false);\n    const [visible, setVisible] = React.useState(false);\n    const cleanup = React.useRef([]);\n    const { setTimeout } = useTimeouts();\n    const { subscribe } = useEvents();\n    const reduceMotion = useMotionPreference();\n    const animationDuration = !reduceMotion ? animation.fade : 0;\n    React.useEffect(() => {\n        setMounted(true);\n        return () => {\n            setMounted(false);\n            setVisible(false);\n        };\n    }, []);\n    const handleClose = useEventCallback(() => {\n        var _a;\n        setVisible(false);\n        (_a = on.exiting) === null || _a === void 0 ? void 0 : _a.call(on);\n        setTimeout(() => {\n            var _a;\n            (_a = on.exited) === null || _a === void 0 ? void 0 : _a.call(on);\n            close();\n        }, animationDuration);\n    });\n    React.useEffect(() => subscribe(ACTION_CLOSE, handleClose), [subscribe, handleClose]);\n    const handleEnter = useEventCallback((node) => {\n        var _a, _b, _c;\n        node.scrollTop;\n        setVisible(true);\n        (_a = on.entering) === null || _a === void 0 ? void 0 : _a.call(on);\n        const elements = (_c = (_b = node.parentNode) === null || _b === void 0 ? void 0 : _b.children) !== null && _c !== void 0 ? _c : [];\n        for (let i = 0; i < elements.length; i += 1) {\n            const element = elements[i];\n            if ([\"TEMPLATE\", \"SCRIPT\", \"STYLE\"].indexOf(element.tagName) === -1 && element !== node) {\n                cleanup.current.push(setAttribute(element, \"inert\", \"true\"));\n                cleanup.current.push(setAttribute(element, \"aria-hidden\", \"true\"));\n            }\n        }\n        setTimeout(() => {\n            var _a;\n            (_a = on.entered) === null || _a === void 0 ? void 0 : _a.call(on);\n        }, animationDuration);\n    });\n    const handleExit = useEventCallback(() => {\n        cleanup.current.forEach((clean) => clean());\n        cleanup.current = [];\n    });\n    const handleRef = React.useCallback((node) => {\n        if (node) {\n            handleEnter(node);\n        }\n        else {\n            handleExit();\n        }\n    }, [handleEnter, handleExit]);\n    return mounted\n        ? createPortal(React.createElement(\"div\", { ref: handleRef, className: clsx(className, cssClass(\"root\"), cssClass(cssPrefix$1()), cssClass(CLASS_NO_SCROLL_PADDING), visible && cssClass(cssPrefix$1(\"open\"))), role: \"presentation\", \"aria-live\": \"polite\", style: {\n                ...(animation.fade !== LightboxDefaultProps.animation.fade\n                    ? { [cssVar(\"fade_animation_duration\")]: `${animationDuration}ms` }\n                    : null),\n                ...(animation.easing.fade !== LightboxDefaultProps.animation.easing.fade\n                    ? { [cssVar(\"fade_animation_timing_function\")]: animation.easing.fade }\n                    : null),\n                ...styles.root,\n            } }, children), portal.root || document.body)\n        : null;\n}\nconst PortalModule = createModule(MODULE_PORTAL, Portal);\n\nfunction Root({ children }) {\n    return React.createElement(React.Fragment, null, children);\n}\nconst RootModule = createModule(MODULE_ROOT, Root);\n\nfunction cssPrefix(value) {\n    return composePrefix(MODULE_TOOLBAR, value);\n}\nfunction Toolbar({ toolbar: { buttons }, render: { buttonClose, iconClose }, styles }) {\n    const { close, setToolbarWidth } = useController();\n    const { setContainerRef, containerRect } = useContainerRect();\n    useLayoutEffect(() => {\n        setToolbarWidth(containerRect === null || containerRect === void 0 ? void 0 : containerRect.width);\n    }, [setToolbarWidth, containerRect === null || containerRect === void 0 ? void 0 : containerRect.width]);\n    const renderCloseButton = () => {\n        if (buttonClose)\n            return buttonClose();\n        return React.createElement(IconButton, { key: ACTION_CLOSE, label: \"Close\", icon: CloseIcon, renderIcon: iconClose, onClick: close });\n    };\n    return (React.createElement(\"div\", { ref: setContainerRef, style: styles.toolbar, className: cssClass(cssPrefix()), ...stopNavigationEventsPropagation() }, buttons === null || buttons === void 0 ? void 0 : buttons.map((button) => (button === ACTION_CLOSE ? renderCloseButton() : button))));\n}\nconst ToolbarModule = createModule(MODULE_TOOLBAR, Toolbar);\n\nfunction renderNode(node, props) {\n    var _a;\n    return React.createElement(node.module.component, { key: node.module.name, ...props }, (_a = node.children) === null || _a === void 0 ? void 0 : _a.map((child) => renderNode(child, props)));\n}\nfunction mergeAnimation(defaultAnimation, animation = {}) {\n    const { easing: defaultAnimationEasing, ...restDefaultAnimation } = defaultAnimation;\n    const { easing, ...restAnimation } = animation;\n    return {\n        easing: { ...defaultAnimationEasing, ...easing },\n        ...restDefaultAnimation,\n        ...restAnimation,\n    };\n}\nfunction Lightbox({ carousel, animation, render, toolbar, controller, on, plugins, slides, index, ...restProps }) {\n    const { animation: defaultAnimation, carousel: defaultCarousel, render: defaultRender, toolbar: defaultToolbar, controller: defaultController, on: defaultOn, slides: defaultSlides, index: defaultIndex, plugins: defaultPlugins, ...restDefaultProps } = LightboxDefaultProps;\n    const { config, augmentation } = withPlugins([\n        createNode(PortalModule, [\n            createNode(NoScrollModule, [\n                createNode(ControllerModule, [\n                    createNode(CarouselModule),\n                    createNode(ToolbarModule),\n                    createNode(NavigationModule),\n                ]),\n            ]),\n        ]),\n    ], plugins || defaultPlugins);\n    const props = augmentation({\n        animation: mergeAnimation(defaultAnimation, animation),\n        carousel: { ...defaultCarousel, ...carousel },\n        render: { ...defaultRender, ...render },\n        toolbar: { ...defaultToolbar, ...toolbar },\n        controller: { ...defaultController, ...controller },\n        on: { ...defaultOn, ...on },\n        ...restDefaultProps,\n        ...restProps,\n    });\n    if (!props.open)\n        return null;\n    return (React.createElement(LightboxPropsProvider, { ...props },\n        React.createElement(LightboxStateProvider, { slides: slides || defaultSlides, index: index || defaultIndex },\n            React.createElement(TimeoutsProvider, null,\n                React.createElement(EventsProvider, null, renderNode(createNode(RootModule, config), props))))));\n}\n\nexport { ACTION_CLOSE, ACTION_NEXT, ACTION_PREV, ACTION_SWIPE, CLASS_FLEX_CENTER, CLASS_FULLSIZE, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, Carousel, CarouselModule, CloseIcon, Controller, ControllerContext, ControllerModule, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_WHEEL, ErrorIcon, EventsContext, EventsProvider, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, IconButton, ImageSlide, Lightbox, LightboxDefaultProps, LightboxDispatchContext, LightboxPropsContext, LightboxPropsProvider, LightboxStateContext, LightboxStateProvider, LoadingIcon, MODULE_CAROUSEL, MODULE_CONTROLLER, MODULE_NAVIGATION, MODULE_NO_SCROLL, MODULE_PORTAL, MODULE_ROOT, MODULE_TOOLBAR, Navigation, NavigationButton, NavigationModule, NextIcon, NoScroll, NoScrollModule, Portal, PortalModule, PreviousIcon, Root, RootModule, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_LOADING, SLIDE_STATUS_PLACEHOLDER, SwipeState, TimeoutsContext, TimeoutsProvider, Toolbar, ToolbarModule, UNKNOWN_ACTION_TYPE, VK_ARROW_LEFT, VK_ARROW_RIGHT, VK_ESCAPE, activeSlideStatus, addToolbarButton, calculatePreload, cleanup, clsx, composePrefix, computeSlideRect, createIcon, createIconDisabled, createModule, createNode, cssClass, cssVar, Lightbox as default, devicePixelRatio, getSlide, getSlideIfPresent, getSlideIndex, hasSlides, hasWindow, isImageFitCover, isImageSlide, label, makeComposePrefix, makeUseContext, parseLengthPercentage, round, setRef, stopNavigationEventsPropagation, useAnimation, useContainerRect, useController, useDelay, useEventCallback, useEvents, useForkRef, useLayoutEffect, useLightboxDispatch, useLightboxProps, useLightboxState, useLoseFocus, useMotionPreference, usePointerEvents, usePointerSwipe, usePreventSwipeNavigation, useRTL, useSensors, useThrottle, useTimeouts, useWheelSwipe, withPlugins };","import { cssClass, useLightboxProps, makeUseContext, useController, clsx, cssVar, createIcon, createIconDisabled, IconButton, addToolbarButton, createModule } from '../../index.js';\nimport * as React from 'react';\nimport { PLUGIN_CAPTIONS } from '../../types.js';\n\nconst cssPrefix = (className) => cssClass(`slide_${className}`);\n\nconst defaultCaptionsProps = {\n    descriptionTextAlign: \"start\",\n    descriptionMaxLines: 3,\n    showToggle: false,\n};\nconst resolveCaptionsProps = (captions) => ({\n    ...defaultCaptionsProps,\n    ...captions,\n});\nfunction useCaptionsProps() {\n    const { captions } = useLightboxProps();\n    return resolveCaptionsProps(captions);\n}\n\nconst CaptionsContext = React.createContext(null);\nconst useCaptions = makeUseContext(\"useCaptions\", \"CaptionsContext\", CaptionsContext);\nfunction CaptionsContextProvider({ captions, children }) {\n    const { ref } = resolveCaptionsProps(captions);\n    const [visible, setVisible] = React.useState(true);\n    const context = React.useMemo(() => ({\n        visible,\n        show: () => setVisible(true),\n        hide: () => setVisible(false),\n    }), [visible]);\n    React.useImperativeHandle(ref, () => context, [context]);\n    return React.createElement(CaptionsContext.Provider, { value: context }, children);\n}\n\nfunction Title({ title }) {\n    const { toolbarWidth } = useController();\n    const { styles } = useLightboxProps();\n    const { visible } = useCaptions();\n    if (!visible)\n        return null;\n    return (React.createElement(\"div\", { style: styles.captionsTitleContainer, className: clsx(cssPrefix(\"captions_container\"), cssPrefix(\"title_container\")) },\n        React.createElement(\"div\", { className: cssPrefix(\"title\"), style: {\n                ...(toolbarWidth ? { [cssVar(\"toolbar_width\")]: `${toolbarWidth}px` } : null),\n                ...styles.captionsTitle,\n            } }, title)));\n}\n\nfunction Description({ description }) {\n    const { descriptionTextAlign, descriptionMaxLines } = useCaptionsProps();\n    const { styles } = useLightboxProps();\n    const { visible } = useCaptions();\n    if (!visible)\n        return null;\n    return (React.createElement(\"div\", { style: styles.captionsDescriptionContainer, className: clsx(cssPrefix(\"captions_container\"), cssPrefix(\"description_container\")) },\n        React.createElement(\"div\", { className: cssPrefix(\"description\"), style: {\n                ...(descriptionTextAlign !== defaultCaptionsProps.descriptionTextAlign ||\n                    descriptionMaxLines !== defaultCaptionsProps.descriptionMaxLines\n                    ? {\n                        [cssVar(\"slide_description_text_align\")]: descriptionTextAlign,\n                        [cssVar(\"slide_description_max_lines\")]: descriptionMaxLines,\n                    }\n                    : null),\n                ...styles.captionsDescription,\n            } }, typeof description === \"string\"\n            ? description\n                .split(\"\\n\")\n                .flatMap((line, index) => [...(index > 0 ? [React.createElement(\"br\", { key: index })] : []), line])\n            : description)));\n}\n\nconst captionsIcon = () => (React.createElement(React.Fragment, null,\n    React.createElement(\"path\", { strokeWidth: 2, stroke: \"currentColor\", strokeLinejoin: \"round\", fill: \"none\", d: \"M3 5l18 0l0 14l-18 0l0-14z\" }),\n    React.createElement(\"path\", { d: \"M7 15h3c.55 0 1-.45 1-1v-1H9.5v.5h-2v-3h2v.5H11v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm7 0h3c.55 0 1-.45 1-1v-1h-1.5v.5h-2v-3h2v.5H18v-1c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1z\" })));\nconst CaptionsVisible = createIcon(\"CaptionsVisible\", captionsIcon());\nconst CaptionsHidden = createIconDisabled(\"CaptionsVisible\", captionsIcon());\nfunction CaptionsButton() {\n    const { visible, show, hide } = useCaptions();\n    const { render } = useLightboxProps();\n    if (render.buttonCaptions) {\n        return React.createElement(React.Fragment, null, render.buttonCaptions({ visible, show, hide }));\n    }\n    return (React.createElement(IconButton, { label: visible ? \"Hide captions\" : \"Show captions\", icon: visible ? CaptionsVisible : CaptionsHidden, renderIcon: visible ? render.iconCaptionsVisible : render.iconCaptionsHidden, onClick: visible ? hide : show }));\n}\n\nfunction Captions({ augment, addModule }) {\n    augment(({ captions: captionsProps, render: { slideFooter: renderFooter, ...restRender }, toolbar, ...restProps }) => {\n        const captions = resolveCaptionsProps(captionsProps);\n        return {\n            render: {\n                slideFooter: ({ slide }) => (React.createElement(React.Fragment, null, renderFooter === null || renderFooter === void 0 ? void 0 :\n                    renderFooter({ slide }),\n                    slide.title && React.createElement(Title, { title: slide.title }),\n                    slide.description && React.createElement(Description, { description: slide.description }))),\n                ...restRender,\n            },\n            toolbar: addToolbarButton(toolbar, PLUGIN_CAPTIONS, captions.showToggle ? React.createElement(CaptionsButton, null) : null),\n            captions,\n            ...restProps,\n        };\n    });\n    addModule(createModule(PLUGIN_CAPTIONS, CaptionsContextProvider));\n}\n\nexport { Captions as default };\n","import { makeUseContext, useLayoutEffect, useEventCallback, clsx, cssClass, createIcon, useLightboxProps, IconButton, addToolbarButton, createModule } from '../../index.js';\nimport * as React from 'react';\nimport { PLUGIN_FULLSCREEN, CLASS_FULLSIZE, PLUGIN_THUMBNAILS, MODULE_CONTROLLER } from '../../types.js';\n\nconst defaultFullscreenProps = {\n    auto: false,\n    ref: null,\n};\nconst resolveFullscreenProps = (fullscreen) => ({\n    ...defaultFullscreenProps,\n    ...fullscreen,\n});\n\nconst FullscreenContext = React.createContext(null);\nconst useFullscreen = makeUseContext(\"useFullscreen\", \"FullscreenContext\", FullscreenContext);\nfunction FullscreenContextProvider({ fullscreen: fullscreenProps, children }) {\n    const { auto, ref } = resolveFullscreenProps(fullscreenProps);\n    const containerRef = React.useRef(null);\n    const [fullscreen, setFullscreen] = React.useState(false);\n    const [disabled, setDisabled] = React.useState();\n    useLayoutEffect(() => {\n        var _a, _b, _c, _d;\n        setDisabled(!((_d = (_c = (_b = (_a = document.fullscreenEnabled) !== null && _a !== void 0 ? _a : document.webkitFullscreenEnabled) !== null && _b !== void 0 ? _b : document.mozFullScreenEnabled) !== null && _c !== void 0 ? _c : document.msFullscreenEnabled) !== null && _d !== void 0 ? _d : false));\n    }, []);\n    const getFullscreenElement = React.useCallback(() => {\n        var _a, _b, _c;\n        return (_c = (_b = (_a = document.fullscreenElement) !== null && _a !== void 0 ? _a : document.webkitFullscreenElement) !== null && _b !== void 0 ? _b : document.mozFullScreenElement) !== null && _c !== void 0 ? _c : document.msFullscreenElement;\n    }, []);\n    const enter = React.useCallback(() => {\n        const container = containerRef.current;\n        if (container) {\n            try {\n                if (container.requestFullscreen) {\n                    container.requestFullscreen().catch(() => { });\n                }\n                else if (container.webkitRequestFullscreen) {\n                    container.webkitRequestFullscreen();\n                }\n                else if (container.mozRequestFullScreen) {\n                    container.mozRequestFullScreen();\n                }\n                else if (container.msRequestFullscreen) {\n                    container.msRequestFullscreen();\n                }\n            }\n            catch (err) {\n            }\n        }\n    }, []);\n    const exit = React.useCallback(() => {\n        if (getFullscreenElement()) {\n            try {\n                if (document.exitFullscreen) {\n                    document.exitFullscreen().catch(() => { });\n                }\n                else if (document.webkitExitFullscreen) {\n                    document.webkitExitFullscreen();\n                }\n                else if (document.mozCancelFullScreen) {\n                    document.mozCancelFullScreen();\n                }\n                else if (document.msExitFullscreen) {\n                    document.msExitFullscreen();\n                }\n            }\n            catch (err) {\n            }\n        }\n    }, [getFullscreenElement]);\n    const fullscreenChangeListener = React.useCallback(() => {\n        if (getFullscreenElement() === containerRef.current) {\n            setFullscreen(true);\n        }\n        else {\n            setFullscreen(false);\n        }\n    }, [getFullscreenElement]);\n    React.useEffect(() => {\n        const events = [\"fullscreenchange\", \"webkitfullscreenchange\", \"mozfullscreenchange\", \"MSFullscreenChange\"];\n        events.forEach((event) => {\n            document.addEventListener(event, fullscreenChangeListener);\n        });\n        return () => {\n            events.forEach((event) => {\n                document.removeEventListener(event, fullscreenChangeListener);\n            });\n        };\n    }, [fullscreenChangeListener]);\n    const handleAutoFullscreen = useEventCallback(() => { var _a; return (_a = (auto ? enter : null)) === null || _a === void 0 ? void 0 : _a(); });\n    React.useEffect(() => {\n        handleAutoFullscreen();\n        return () => exit();\n    }, [handleAutoFullscreen, exit]);\n    const context = React.useMemo(() => ({\n        fullscreen,\n        disabled,\n        enter,\n        exit,\n    }), [fullscreen, disabled, enter, exit]);\n    React.useImperativeHandle(ref, () => context, [context]);\n    return (React.createElement(\"div\", { ref: containerRef, className: clsx(cssClass(PLUGIN_FULLSCREEN), cssClass(CLASS_FULLSIZE)) },\n        React.createElement(FullscreenContext.Provider, { value: context }, children)));\n}\n\nconst EnterFullscreenIcon = createIcon(\"EnterFullscreen\", React.createElement(\"path\", { d: \"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\" }));\nconst ExitFullscreenIcon = createIcon(\"ExitFullscreen\", React.createElement(\"path\", { d: \"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\" }));\nfunction FullscreenButton() {\n    var _a;\n    const { fullscreen, disabled, enter, exit } = useFullscreen();\n    const { render } = useLightboxProps();\n    if (disabled)\n        return null;\n    if (render.buttonFullscreen) {\n        return React.createElement(React.Fragment, null, (_a = render.buttonFullscreen) === null || _a === void 0 ? void 0 : _a.call(render, { fullscreen, disabled, enter, exit }));\n    }\n    return (React.createElement(IconButton, { disabled: disabled, label: fullscreen ? \"Exit Fullscreen\" : \"Enter Fullscreen\", icon: fullscreen ? ExitFullscreenIcon : EnterFullscreenIcon, renderIcon: fullscreen ? render.iconExitFullscreen : render.iconEnterFullscreen, onClick: fullscreen ? exit : enter }));\n}\n\nfunction Fullscreen({ augment, contains, addParent }) {\n    augment(({ fullscreen, toolbar, ...restProps }) => ({\n        toolbar: addToolbarButton(toolbar, PLUGIN_FULLSCREEN, React.createElement(FullscreenButton, null)),\n        fullscreen: resolveFullscreenProps(fullscreen),\n        ...restProps,\n    }));\n    addParent(contains(PLUGIN_THUMBNAILS) ? PLUGIN_THUMBNAILS : MODULE_CONTROLLER, createModule(PLUGIN_FULLSCREEN, FullscreenContextProvider));\n}\n\nexport { Fullscreen as default };\n","import { makeUseContext, useLightboxState, useTimeouts, useEvents, useController, useEventCallback, cleanup, createIcon, useLightboxProps, useLoseFocus, IconButton, addToolbarButton, createModule } from '../../index.js';\nimport * as React from 'react';\nimport { SLIDE_STATUS_LOADING, SLIDE_STATUS_PLAYING, ACTIVE_SLIDE_LOADING, ACTIVE_SLIDE_PLAYING, ACTIVE_SLIDE_ERROR, SLIDE_STATUS_ERROR, ACTIVE_SLIDE_COMPLETE, SLIDE_STATUS_COMPLETE, PLUGIN_SLIDESHOW } from '../../types.js';\n\nconst defaultSlideshowProps = {\n    autoplay: false,\n    delay: 3000,\n    ref: null,\n};\nconst resolveSlideshowProps = (slideshow) => ({\n    ...defaultSlideshowProps,\n    ...slideshow,\n});\n\nconst SlideshowContext = React.createContext(null);\nconst useSlideshow = makeUseContext(\"useSlideshow\", \"SlideshowContext\", SlideshowContext);\nfunction SlideshowContextProvider({ slideshow, carousel: { finite }, on, children }) {\n    const { autoplay, delay, ref } = resolveSlideshowProps(slideshow);\n    const wasPlaying = React.useRef(autoplay);\n    const [playing, setPlaying] = React.useState(autoplay);\n    const scheduler = React.useRef();\n    const slideStatus = React.useRef();\n    const { slides, currentIndex } = useLightboxState();\n    const { setTimeout, clearTimeout } = useTimeouts();\n    const { subscribe } = useEvents();\n    const { next } = useController();\n    const disabled = slides.length === 0 || (finite && currentIndex === slides.length - 1);\n    const play = React.useCallback(() => {\n        if (!playing && !disabled) {\n            setPlaying(true);\n        }\n    }, [playing, disabled]);\n    const pause = React.useCallback(() => {\n        if (playing) {\n            setPlaying(false);\n        }\n    }, [playing]);\n    const cancelScheduler = React.useCallback(() => {\n        clearTimeout(scheduler.current);\n        scheduler.current = undefined;\n    }, [clearTimeout]);\n    const scheduleNextSlide = useEventCallback(() => {\n        cancelScheduler();\n        if (!playing ||\n            disabled ||\n            slideStatus.current === SLIDE_STATUS_LOADING ||\n            slideStatus.current === SLIDE_STATUS_PLAYING) {\n            return;\n        }\n        scheduler.current = setTimeout(() => {\n            if (playing) {\n                slideStatus.current = undefined;\n                next();\n            }\n        }, delay);\n    });\n    React.useEffect(scheduleNextSlide, [currentIndex, playing, scheduleNextSlide]);\n    React.useEffect(() => {\n        if (playing && disabled) {\n            setPlaying(false);\n        }\n    }, [currentIndex, playing, disabled]);\n    const onSlideshowStart = useEventCallback(() => { var _a; return (_a = on.slideshowStart) === null || _a === void 0 ? void 0 : _a.call(on); });\n    const onSlideshowStop = useEventCallback(() => { var _a; return (_a = on.slideshowStop) === null || _a === void 0 ? void 0 : _a.call(on); });\n    React.useEffect(() => {\n        if (playing) {\n            onSlideshowStart();\n        }\n        else if (wasPlaying.current) {\n            onSlideshowStop();\n        }\n        wasPlaying.current = playing;\n    }, [playing, onSlideshowStart, onSlideshowStop]);\n    React.useEffect(() => cleanup(cancelScheduler, subscribe(ACTIVE_SLIDE_LOADING, () => {\n        slideStatus.current = SLIDE_STATUS_LOADING;\n        cancelScheduler();\n    }), subscribe(ACTIVE_SLIDE_PLAYING, () => {\n        slideStatus.current = SLIDE_STATUS_PLAYING;\n        cancelScheduler();\n    }), subscribe(ACTIVE_SLIDE_ERROR, () => {\n        slideStatus.current = SLIDE_STATUS_ERROR;\n        scheduleNextSlide();\n    }), subscribe(ACTIVE_SLIDE_COMPLETE, () => {\n        slideStatus.current = SLIDE_STATUS_COMPLETE;\n        scheduleNextSlide();\n    })), [subscribe, cancelScheduler, scheduleNextSlide]);\n    const context = React.useMemo(() => ({ playing, disabled, play, pause }), [playing, disabled, play, pause]);\n    React.useImperativeHandle(ref, () => context, [context]);\n    return React.createElement(SlideshowContext.Provider, { value: context }, children);\n}\n\nconst PlayIcon = createIcon(\"Play\", React.createElement(\"path\", { d: \"M8 5v14l11-7z\" }));\nconst PauseIcon = createIcon(\"Pause\", React.createElement(\"path\", { d: \"M6 19h4V5H6v14zm8-14v14h4V5h-4z\" }));\nfunction SlideshowButton() {\n    const { playing, disabled, play, pause } = useSlideshow();\n    const { render } = useLightboxProps();\n    const focusListeners = useLoseFocus(useController().focus, disabled);\n    if (render.buttonSlideshow) {\n        return React.createElement(React.Fragment, null, render.buttonSlideshow({ playing, disabled, play, pause }));\n    }\n    return (React.createElement(IconButton, { label: playing ? \"Pause\" : \"Play\", icon: playing ? PauseIcon : PlayIcon, renderIcon: playing ? render.iconSlideshowPause : render.iconSlideshowPlay, onClick: playing ? pause : play, disabled: disabled, ...focusListeners }));\n}\n\nfunction Slideshow({ augment, addModule }) {\n    augment(({ slideshow, toolbar, ...restProps }) => ({\n        toolbar: addToolbarButton(toolbar, PLUGIN_SLIDESHOW, React.createElement(SlideshowButton, null)),\n        slideshow: resolveSlideshowProps(slideshow),\n        ...restProps,\n    }));\n    addModule(createModule(PLUGIN_SLIDESHOW, SlideshowContextProvider));\n}\n\nexport { Slideshow as default };\n","import { useLightboxProps, composePrefix, createIcon, cssClass, isImageSlide, clsx, ImageSlide, makeComposePrefix, cssVar, useLightboxState, useEvents, useRTL, useAnimation, useEventCallback, cleanup, calculatePreload, hasSlides, getSlide, makeUseContext, LightboxPropsProvider, createIconDisabled, IconButton, addToolbarButton, createModule } from '../../index.js';\nimport * as React from 'react';\nimport { PLUGIN_THUMBNAILS, ELEMENT_ICON, CLASS_FULLSIZE, CLASS_FLEX_CENTER, ACTION_SWIPE, ACTION_NEXT, ACTION_PREV, PLUGIN_FULLSCREEN, MODULE_CONTROLLER } from '../../types.js';\n\nconst defaultThumbnailsProps = {\n    ref: null,\n    position: \"bottom\",\n    width: 120,\n    height: 80,\n    border: 1,\n    borderRadius: 4,\n    padding: 4,\n    gap: 16,\n    imageFit: \"contain\",\n    vignette: true,\n};\nconst resolveThumbnailsProps = (thumbnails) => ({\n    ...defaultThumbnailsProps,\n    ...thumbnails,\n});\nfunction useThumbnailsProps() {\n    const { thumbnails } = useLightboxProps();\n    return resolveThumbnailsProps(thumbnails);\n}\n\nconst cssPrefix = (value) => composePrefix(PLUGIN_THUMBNAILS, value);\nconst cssThumbnailPrefix = (value) => cssPrefix(composePrefix(\"thumbnail\", value));\n\nconst VideoThumbnailIcon = createIcon(\"VideoThumbnail\", React.createElement(\"path\", { d: \"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" }));\nconst UnknownThumbnailIcon = createIcon(\"UnknownThumbnail\", React.createElement(\"path\", { d: \"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z\" }));\nfunction renderThumbnail({ slide, render, rect, imageFit }) {\n    var _a;\n    const customThumbnail = (_a = render.thumbnail) === null || _a === void 0 ? void 0 : _a.call(render, { slide, render, rect, imageFit });\n    if (customThumbnail) {\n        return customThumbnail;\n    }\n    const thumbnailIconClass = cssClass(cssThumbnailPrefix(ELEMENT_ICON));\n    if (!isImageSlide(slide)) {\n        if (slide.type === \"video\") {\n            return (React.createElement(React.Fragment, null,\n                \"poster\" in slide && (React.createElement(\"img\", { alt: \"\", src: slide.poster, className: clsx(cssClass(CLASS_FULLSIZE), cssClass(cssPrefix(\"contain_image\"))) })),\n                React.createElement(VideoThumbnailIcon, { className: thumbnailIconClass })));\n        }\n    }\n    else {\n        return React.createElement(ImageSlide, { slide: slide, render: render, rect: rect, imageFit: imageFit });\n    }\n    return React.createElement(UnknownThumbnailIcon, { className: thumbnailIconClass });\n}\nconst activePrefix = makeComposePrefix(\"active\");\nconst fadeInPrefix = makeComposePrefix(\"fadein\");\nconst fadeOutPrefix = makeComposePrefix(\"fadeout\");\nconst placeholderPrefix = makeComposePrefix(\"placeholder\");\nconst DELAY = \"delay\";\nconst DURATION = \"duration\";\nfunction Thumbnail({ slide, onClick, active, fadeIn, fadeOut, placeholder }) {\n    const { render, styles } = useLightboxProps();\n    const { width, height, imageFit } = useThumbnailsProps();\n    const rect = { width, height };\n    return (React.createElement(\"button\", { type: \"button\", className: clsx(cssClass(CLASS_FLEX_CENTER), cssClass(cssThumbnailPrefix()), active && cssClass(cssThumbnailPrefix(activePrefix())), fadeIn && cssClass(cssThumbnailPrefix(fadeInPrefix())), fadeOut && cssClass(cssThumbnailPrefix(fadeOutPrefix())), placeholder && cssClass(cssThumbnailPrefix(placeholderPrefix()))), style: {\n            ...(fadeIn\n                ? {\n                    [cssVar(cssThumbnailPrefix(fadeInPrefix(DURATION)))]: `${fadeIn.duration}ms`,\n                    [cssVar(cssThumbnailPrefix(fadeInPrefix(DELAY)))]: `${fadeIn.delay}ms`,\n                }\n                : null),\n            ...(fadeOut\n                ? {\n                    [cssVar(cssThumbnailPrefix(fadeOutPrefix(DURATION)))]: `${fadeOut.duration}ms`,\n                    [cssVar(cssThumbnailPrefix(fadeOutPrefix(DELAY)))]: `${fadeOut.delay}ms`,\n                }\n                : null),\n            ...styles.thumbnail,\n        }, onClick: onClick }, slide && renderThumbnail({ slide, render, rect, imageFit })));\n}\n\nfunction isHorizontal(position) {\n    return [\"top\", \"bottom\"].includes(position);\n}\nfunction boxSize(thumbnails, dimension, includeGap) {\n    return dimension + 2 * (thumbnails.border + thumbnails.padding) + (includeGap ? thumbnails.gap : 0);\n}\nfunction ThumbnailsTrack({ visible, containerRef }) {\n    const track = React.useRef(null);\n    const { carousel, styles } = useLightboxProps();\n    const { slides, globalIndex, animation } = useLightboxState();\n    const { publish, subscribe } = useEvents();\n    const isRTL = useRTL();\n    const thumbnails = useThumbnailsProps();\n    const { position, width, height, border, borderRadius, padding, gap, vignette } = thumbnails;\n    const index = globalIndex;\n    const animationDuration = (animation === null || animation === void 0 ? void 0 : animation.duration) || 0;\n    const offset = (animationDuration > 0 && (animation === null || animation === void 0 ? void 0 : animation.increment)) || 0;\n    const { prepareAnimation } = useAnimation(track, (snapshot) => ({\n        keyframes: isHorizontal(position)\n            ? [\n                {\n                    transform: `translateX(${(isRTL ? -1 : 1) * boxSize(thumbnails, width, true) * offset + snapshot}px)`,\n                },\n                { transform: \"translateX(0)\" },\n            ]\n            : [\n                {\n                    transform: `translateY(${boxSize(thumbnails, height, true) * offset + snapshot}px)`,\n                },\n                { transform: \"translateY(0)\" },\n            ],\n        duration: animationDuration,\n        easing: animation === null || animation === void 0 ? void 0 : animation.easing,\n    }));\n    const handleControllerSwipe = useEventCallback(() => {\n        let animationOffset = 0;\n        if (containerRef.current && track.current) {\n            const containerRect = containerRef.current.getBoundingClientRect();\n            const trackRect = track.current.getBoundingClientRect();\n            animationOffset = isHorizontal(position)\n                ? trackRect.left - containerRect.left - (containerRect.width - trackRect.width) / 2\n                : trackRect.top - containerRect.top - (containerRect.height - trackRect.height) / 2;\n        }\n        prepareAnimation(animationOffset);\n    });\n    React.useEffect(() => cleanup(subscribe(ACTION_SWIPE, handleControllerSwipe)), [subscribe, handleControllerSwipe]);\n    const preload = calculatePreload(carousel, slides);\n    const items = [];\n    if (hasSlides(slides)) {\n        if (offset < 0) {\n            for (let i = index - preload + offset; i < index - preload; i += 1) {\n                items.push({ slide: null, index: i, placeholder: true });\n            }\n        }\n        for (let i = index - preload - Math.max(offset, 0); i < index; i += 1) {\n            if (!(carousel.finite && i < 0)) {\n                items.push({ slide: getSlide(slides, i), index: i });\n            }\n            else {\n                items.push({ slide: null, index: i, placeholder: true });\n            }\n        }\n        items.push({ slide: getSlide(slides, index), index });\n        for (let i = index + 1; i <= index + preload - Math.min(offset, 0); i += 1) {\n            if (!carousel.finite || i <= slides.length - 1) {\n                items.push({ slide: getSlide(slides, i), index: i });\n            }\n            else {\n                items.push({ slide: null, index: i, placeholder: true });\n            }\n        }\n        if (offset > 0) {\n            for (let i = index + preload + 1; i <= index + preload + offset; i += 1) {\n                items.push({ slide: null, index: i, placeholder: true });\n            }\n        }\n    }\n    const handleClick = (slideIndex) => () => {\n        if (slideIndex > index) {\n            publish(ACTION_NEXT, { count: slideIndex - index });\n        }\n        else if (slideIndex < index) {\n            publish(ACTION_PREV, { count: index - slideIndex });\n        }\n    };\n    return (React.createElement(\"div\", { className: clsx(cssClass(cssPrefix(\"container\")), cssClass(CLASS_FLEX_CENTER)), style: {\n            ...(!visible ? { display: \"none\" } : null),\n            ...(width !== defaultThumbnailsProps.width\n                ? { [cssVar(cssThumbnailPrefix(\"width\"))]: `${boxSize(thumbnails, width)}px` }\n                : null),\n            ...(height !== defaultThumbnailsProps.height\n                ? { [cssVar(cssThumbnailPrefix(\"height\"))]: `${boxSize(thumbnails, height)}px` }\n                : null),\n            ...(border !== defaultThumbnailsProps.border\n                ? { [cssVar(cssThumbnailPrefix(\"border\"))]: `${border}px` }\n                : null),\n            ...(borderRadius !== defaultThumbnailsProps.borderRadius\n                ? { [cssVar(cssThumbnailPrefix(\"border_radius\"))]: `${borderRadius}px` }\n                : null),\n            ...(padding !== defaultThumbnailsProps.padding\n                ? { [cssVar(cssThumbnailPrefix(\"padding\"))]: `${padding}px` }\n                : null),\n            ...(gap !== defaultThumbnailsProps.gap ? { [cssVar(cssThumbnailPrefix(\"gap\"))]: `${gap}px` } : null),\n            ...styles.thumbnailsContainer,\n        } },\n        React.createElement(\"nav\", { ref: track, style: styles.thumbnailsTrack, className: clsx(cssClass(cssPrefix(\"track\")), cssClass(CLASS_FLEX_CENTER)) }, items.map(({ slide, index: slideIndex, placeholder }) => {\n            const fadeAnimationDuration = animationDuration / Math.abs(offset || 1);\n            const fadeIn = (offset > 0 && slideIndex > index + preload - offset && slideIndex <= index + preload) ||\n                (offset < 0 && slideIndex < index - preload - offset && slideIndex >= index - preload)\n                ? {\n                    duration: fadeAnimationDuration,\n                    delay: ((offset > 0\n                        ? slideIndex - (index + preload - offset)\n                        : index - preload - offset - slideIndex) -\n                        1) *\n                        fadeAnimationDuration,\n                }\n                : undefined;\n            const fadeOut = (offset > 0 && slideIndex < index - preload) || (offset < 0 && slideIndex > index + preload)\n                ? {\n                    duration: fadeAnimationDuration,\n                    delay: (offset > 0\n                        ? offset - (index - preload - slideIndex)\n                        : -offset - (slideIndex - (index + preload))) * fadeAnimationDuration,\n                }\n                : undefined;\n            return (React.createElement(Thumbnail, { key: slideIndex, slide: slide, active: slideIndex === index, fadeIn: fadeIn, fadeOut: fadeOut, placeholder: Boolean(placeholder), onClick: handleClick(slideIndex) }));\n        })),\n        vignette && React.createElement(\"div\", { className: cssClass(cssPrefix(\"vignette\")) })));\n}\n\nconst ThumbnailsContext = React.createContext(null);\nconst useThumbnails = makeUseContext(\"useThumbnails\", \"ThumbnailsContext\", ThumbnailsContext);\nfunction ThumbnailsContextProvider({ children, ...props }) {\n    const [visible, setVisible] = React.useState(true);\n    const containerRef = React.useRef(null);\n    const { ref, position } = resolveThumbnailsProps(props.thumbnails);\n    const context = React.useMemo(() => ({\n        visible,\n        show: () => setVisible(true),\n        hide: () => setVisible(false),\n    }), [visible]);\n    React.useImperativeHandle(ref, () => context, [context]);\n    return (React.createElement(LightboxPropsProvider, { ...props },\n        React.createElement(ThumbnailsContext.Provider, { value: context },\n            React.createElement(\"div\", { ref: containerRef, className: clsx(cssClass(cssPrefix()), cssClass(cssPrefix(`${position}`))) },\n                [\"start\", \"top\"].includes(position) && (React.createElement(ThumbnailsTrack, { containerRef: containerRef, visible: visible })),\n                React.createElement(\"div\", { className: cssClass(cssPrefix(\"wrapper\")) }, children),\n                [\"end\", \"bottom\"].includes(position) && (React.createElement(ThumbnailsTrack, { containerRef: containerRef, visible: visible }))))));\n}\n\nconst thumbnailsIcon = () => (React.createElement(React.Fragment, null,\n    React.createElement(\"path\", { strokeWidth: 2, stroke: \"currentColor\", strokeLinejoin: \"round\", fill: \"none\", d: \"M3 5l18 0l0 14l-18 0l0-14z\" }),\n    React.createElement(\"path\", { d: \"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z\" })));\nconst ThumbnailsVisible = createIcon(\"ThumbnailsVisible\", thumbnailsIcon());\nconst ThumbnailsHidden = createIconDisabled(\"ThumbnailsHidden\", thumbnailsIcon());\nfunction ThumbnailsButton() {\n    const { visible, show, hide } = useThumbnails();\n    const { render } = useLightboxProps();\n    if (render.buttonThumbnails) {\n        return React.createElement(React.Fragment, null, render.buttonThumbnails({ visible, show, hide }));\n    }\n    return (React.createElement(IconButton, { label: visible ? \"Hide thumbnails\" : \"Show thumbnails\", icon: visible ? ThumbnailsVisible : ThumbnailsHidden, renderIcon: visible ? render.iconThumbnailsVisible : render.iconThumbnailsHidden, onClick: visible ? hide : show }));\n}\n\nfunction Thumbnails({ augment, contains, append, addParent }) {\n    augment(({ thumbnails: thumbnailsProps, toolbar, ...restProps }) => {\n        const thumbnails = resolveThumbnailsProps(thumbnailsProps);\n        return {\n            toolbar: addToolbarButton(toolbar, PLUGIN_THUMBNAILS, thumbnails.showToggle ? React.createElement(ThumbnailsButton, null) : null),\n            thumbnails,\n            ...restProps,\n        };\n    });\n    const module = createModule(PLUGIN_THUMBNAILS, ThumbnailsContextProvider);\n    if (contains(PLUGIN_FULLSCREEN)) {\n        append(PLUGIN_FULLSCREEN, module);\n    }\n    else {\n        addParent(MODULE_CONTROLLER, module);\n    }\n}\n\nexport { Thumbnails as default };\n","import * as React from 'react';\nimport { useLightboxProps, useEvents, useContainerRect, useEventCallback, clsx, cssClass } from '../../index.js';\nimport { ACTIVE_SLIDE_LOADING, CLASS_FLEX_CENTER, ACTIVE_SLIDE_PLAYING, ACTIVE_SLIDE_COMPLETE } from '../../types.js';\n\nconst defaultVideoProps = {\n    controls: true,\n    playsInline: true,\n};\nconst resolveVideoProps = (video) => ({\n    ...defaultVideoProps,\n    ...video,\n});\nfunction useVideoProps() {\n    const { video } = useLightboxProps();\n    return resolveVideoProps(video);\n}\n\nfunction VideoSlide({ slide, offset }) {\n    const video = useVideoProps();\n    const { publish } = useEvents();\n    const { setContainerRef, containerRect } = useContainerRect();\n    const videoRef = React.useRef(null);\n    React.useEffect(() => {\n        if (offset !== 0 && videoRef.current && !videoRef.current.paused) {\n            videoRef.current.pause();\n        }\n    }, [offset]);\n    React.useEffect(() => {\n        if (offset === 0 && videoRef.current && (slide.autoPlay || video.autoPlay)) {\n            publish(ACTIVE_SLIDE_LOADING);\n            videoRef.current.play().catch(() => { });\n        }\n    }, [offset, video.autoPlay, slide.autoPlay, publish]);\n    const handleVideoRef = useEventCallback((node) => {\n        if (offset === 0 && (video.autoPlay || slide.autoPlay) && node.paused) {\n            node.play().catch(() => { });\n        }\n    });\n    const setVideoRef = React.useCallback((node) => {\n        videoRef.current = node;\n        if (node) {\n            handleVideoRef(node);\n        }\n    }, [handleVideoRef]);\n    const { width, height, poster, sources } = slide;\n    const scaleWidthAndHeight = () => {\n        const scalingProps = {};\n        scalingProps.style = { maxWidth: \"100%\", maxHeight: \"100%\" };\n        if (width && height && containerRect) {\n            const widthBound = width / height > containerRect.width / containerRect.height;\n            const elementWidth = widthBound ? containerRect.width : Math.round((containerRect.height / height) * width);\n            const elementHeight = !widthBound\n                ? containerRect.height\n                : Math.round((containerRect.width / width) * height);\n            scalingProps.width = elementWidth;\n            scalingProps.height = elementHeight;\n            scalingProps.style.width = elementWidth;\n            scalingProps.style.height = elementHeight;\n        }\n        return scalingProps;\n    };\n    const resolveBoolean = (attr) => {\n        if (slide[attr] === false)\n            return null;\n        if (slide[attr] === true)\n            return { [attr]: true };\n        if (video[attr] === false)\n            return null;\n        if (video[attr] === true)\n            return { [attr]: true };\n        return null;\n    };\n    const resolveString = (attr) => {\n        if (video[attr] || slide[attr]) {\n            return { [attr]: slide[attr] || video[attr] };\n        }\n        return null;\n    };\n    return (React.createElement(React.Fragment, null, sources && (React.createElement(\"div\", { ref: setContainerRef, style: {\n            width: \"100%\",\n            height: \"100%\",\n            ...(width ? { maxWidth: `${width}px` } : null),\n        }, className: clsx(cssClass(\"video_container\"), cssClass(CLASS_FLEX_CENTER)) }, containerRect && (React.createElement(\"video\", { ref: setVideoRef, poster: poster, ...scaleWidthAndHeight(), ...resolveBoolean(\"controls\"), ...resolveBoolean(\"playsInline\"), ...resolveBoolean(\"loop\"), ...resolveBoolean(\"muted\"), ...resolveBoolean(\"playsInline\"), ...resolveBoolean(\"disablePictureInPicture\"), ...resolveBoolean(\"disableRemotePlayback\"), ...resolveString(\"controlsList\"), ...resolveString(\"crossOrigin\"), ...resolveString(\"preload\"), onPlay: () => {\n            publish(ACTIVE_SLIDE_PLAYING);\n        }, onEnded: () => {\n            publish(ACTIVE_SLIDE_COMPLETE);\n        } }, sources.map(({ src, type }, index) => (React.createElement(\"source\", { key: index, src: src, type: type })))))))));\n}\n\nfunction isVideoSlide(slide) {\n    return slide.type === \"video\";\n}\nfunction Video({ augment }) {\n    augment(({ render: { slide: renderSlide, ...restRender }, video, ...restProps }) => ({\n        render: {\n            slide: ({ slide, offset, rect }) => {\n                var _a;\n                if (isVideoSlide(slide)) {\n                    return (React.createElement(VideoSlide, { key: (_a = slide.sources) === null || _a === void 0 ? void 0 : _a.map((source) => source.src).join(\" \"), slide: slide, offset: offset }));\n                }\n                return renderSlide === null || renderSlide === void 0 ? void 0 : renderSlide({ slide, offset, rect });\n            },\n            ...restRender,\n        },\n        video: resolveVideoProps(video),\n        ...restProps,\n    }));\n}\n\nexport { Video as default };\n","import { useLightboxProps, useMotionPreference, useEventCallback, useLayoutEffect, useLightboxState, isImageSlide, isImageFitCover, round, useController, usePointerEvents, cleanup, makeUseContext, createIcon, IconButton, devicePixelRatio, ImageSlide, clsx, cssClass, addToolbarButton, createModule } from '../../index.js';\nimport * as React from 'react';\nimport { EVENT_ON_KEY_DOWN, EVENT_ON_WHEEL, UNKNOWN_ACTION_TYPE, CLASS_FULLSIZE, CLASS_FLEX_CENTER, PLUGIN_ZOOM } from '../../types.js';\n\nconst defaultZoomProps = {\n    maxZoomPixelRatio: 1,\n    zoomInMultiplier: 2,\n    doubleTapDelay: 300,\n    doubleClickDelay: 500,\n    doubleClickMaxStops: 2,\n    keyboardMoveDistance: 50,\n    wheelZoomDistanceFactor: 100,\n    pinchZoomDistanceFactor: 100,\n    scrollToZoom: false,\n};\nconst resolveZoomProps = (zoom) => ({\n    ...defaultZoomProps,\n    ...zoom,\n});\n\nfunction useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef) {\n    const zoomAnimation = React.useRef();\n    const zoomAnimationStart = React.useRef();\n    const { zoom: zoomAnimationDuration } = useLightboxProps().animation;\n    const reduceMotion = useMotionPreference();\n    const playZoomAnimation = useEventCallback(() => {\n        var _a, _b, _c;\n        (_a = zoomAnimation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        zoomAnimation.current = undefined;\n        if (zoomAnimationStart.current && (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)) {\n            try {\n                zoomAnimation.current = (_c = (_b = zoomWrapperRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, [\n                    { transform: zoomAnimationStart.current },\n                    { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` },\n                ], {\n                    duration: !reduceMotion ? zoomAnimationDuration !== null && zoomAnimationDuration !== void 0 ? zoomAnimationDuration : 500 : 0,\n                    easing: zoomAnimation.current ? \"ease-out\" : \"ease-in-out\",\n                });\n            }\n            catch (err) {\n                console.error(err);\n            }\n            zoomAnimationStart.current = undefined;\n            if (zoomAnimation.current) {\n                zoomAnimation.current.onfinish = () => {\n                    zoomAnimation.current = undefined;\n                };\n            }\n        }\n    });\n    useLayoutEffect(playZoomAnimation, [zoom, offsetX, offsetY, playZoomAnimation]);\n    return React.useCallback(() => {\n        zoomAnimationStart.current = (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)\n            ? window.getComputedStyle(zoomWrapperRef.current).transform\n            : undefined;\n    }, [zoomWrapperRef]);\n}\n\nfunction useZoomCallback(zoom, disabled) {\n    const { on } = useLightboxProps();\n    const onZoomCallback = useEventCallback(() => {\n        var _a;\n        if (!disabled) {\n            (_a = on.zoom) === null || _a === void 0 ? void 0 : _a.call(on, { zoom });\n        }\n    });\n    React.useEffect(onZoomCallback, [zoom, onZoomCallback]);\n}\n\nfunction useZoomProps() {\n    const { zoom } = useLightboxProps();\n    return resolveZoomProps(zoom);\n}\n\nfunction useZoomImageRect(slideRect, imageDimensions) {\n    var _a, _b;\n    let imageRect = { width: 0, height: 0 };\n    let maxImageRect = { width: 0, height: 0 };\n    const { slides, currentIndex } = useLightboxState();\n    const { imageFit } = useLightboxProps().carousel;\n    const { maxZoomPixelRatio } = useZoomProps();\n    if (slideRect && currentIndex < slides.length) {\n        const slide = { ...slides[currentIndex], ...imageDimensions };\n        if (isImageSlide(slide)) {\n            const cover = isImageFitCover(slide, imageFit);\n            const width = Math.max(...(((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.map((x) => x.width)) || []).concat(slide.width ? [slide.width] : []));\n            const height = Math.max(...(((_b = slide.srcSet) === null || _b === void 0 ? void 0 : _b.map((x) => x.height)) || []).concat(slide.height ? [slide.height] : []));\n            if (width > 0 && height > 0 && slideRect.width > 0 && slideRect.height > 0) {\n                maxImageRect = cover\n                    ? {\n                        width: Math.round(Math.min(width, (slideRect.width / slideRect.height) * height)),\n                        height: Math.round(Math.min(height, (slideRect.height / slideRect.width) * width)),\n                    }\n                    : { width, height };\n                maxImageRect = {\n                    width: maxImageRect.width * maxZoomPixelRatio,\n                    height: maxImageRect.height * maxZoomPixelRatio,\n                };\n                imageRect = cover\n                    ? {\n                        width: Math.min(slideRect.width, maxImageRect.width, width),\n                        height: Math.min(slideRect.height, maxImageRect.height, height),\n                    }\n                    : {\n                        width: Math.round(Math.min(slideRect.width, (slideRect.height / height) * width, width)),\n                        height: Math.round(Math.min(slideRect.height, (slideRect.width / width) * height, height)),\n                    };\n            }\n        }\n    }\n    const maxZoom = imageRect.width ? Math.max(round(maxImageRect.width / imageRect.width, 5), 1) : 1;\n    return { imageRect, maxZoom };\n}\n\nfunction distance(pointerA, pointerB) {\n    return ((pointerA.clientX - pointerB.clientX) ** 2 + (pointerA.clientY - pointerB.clientY) ** 2) ** 0.5;\n}\nfunction useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapperRef) {\n    const activePointers = React.useRef([]);\n    const lastPointerDown = React.useRef(0);\n    const pinchZoomDistance = React.useRef();\n    const { globalIndex } = useLightboxState();\n    const { containerRef, subscribeSensors } = useController();\n    const { keyboardMoveDistance, zoomInMultiplier, wheelZoomDistanceFactor, scrollToZoom, doubleTapDelay, doubleClickDelay, doubleClickMaxStops, pinchZoomDistanceFactor, } = useZoomProps();\n    const translateCoordinates = React.useCallback((event) => {\n        if (containerRef.current) {\n            const { pageX, pageY } = event;\n            const { scrollX, scrollY } = window;\n            const { left, top, width, height } = containerRef.current.getBoundingClientRect();\n            return [pageX - left - scrollX - width / 2, pageY - top - scrollY - height / 2];\n        }\n        return [];\n    }, [containerRef]);\n    const onKeyDown = useEventCallback((event) => {\n        const preventDefault = () => {\n            event.preventDefault();\n            event.stopPropagation();\n        };\n        if (zoom > 1) {\n            const move = (deltaX, deltaY) => {\n                preventDefault();\n                changeOffsets(deltaX, deltaY);\n            };\n            if (event.key === \"ArrowDown\") {\n                move(0, keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowUp\") {\n                move(0, -keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowLeft\") {\n                move(-keyboardMoveDistance, 0);\n            }\n            else if (event.key === \"ArrowRight\") {\n                move(keyboardMoveDistance, 0);\n            }\n        }\n        const handleChangeZoom = (zoomValue) => {\n            preventDefault();\n            changeZoom(zoomValue);\n        };\n        const hasMeta = () => event.getModifierState(\"Meta\");\n        if (event.key === \"+\" || (event.key === \"=\" && hasMeta())) {\n            handleChangeZoom(zoom * zoomInMultiplier);\n        }\n        else if (event.key === \"-\" || (event.key === \"_\" && hasMeta())) {\n            handleChangeZoom(zoom / zoomInMultiplier);\n        }\n        else if (event.key === \"0\" && hasMeta()) {\n            handleChangeZoom(1);\n        }\n    });\n    const onWheel = useEventCallback((event) => {\n        if (event.ctrlKey || scrollToZoom) {\n            if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n                event.stopPropagation();\n                changeZoom(zoom * (1 - event.deltaY / wheelZoomDistanceFactor), true, ...translateCoordinates(event));\n                return;\n            }\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (!scrollToZoom) {\n                changeOffsets(event.deltaX, event.deltaY);\n            }\n        }\n    });\n    const clearPointer = React.useCallback((event) => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length, ...pointers.filter((p) => p.pointerId !== event.pointerId));\n    }, []);\n    const replacePointer = React.useCallback((event) => {\n        clearPointer(event);\n        event.persist();\n        activePointers.current.push(event);\n    }, [clearPointer]);\n    const onPointerDown = useEventCallback((event) => {\n        var _a;\n        const pointers = activePointers.current;\n        if (!((_a = zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target))) {\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n        }\n        const { timeStamp } = event;\n        if (pointers.length === 0 &&\n            timeStamp - lastPointerDown.current < (event.pointerType === \"touch\" ? doubleTapDelay : doubleClickDelay)) {\n            lastPointerDown.current = 0;\n            changeZoom(zoom !== maxZoom ? zoom * Math.max(maxZoom ** (1 / doubleClickMaxStops), zoomInMultiplier) : 1, false, ...translateCoordinates(event));\n        }\n        else {\n            lastPointerDown.current = timeStamp;\n        }\n        replacePointer(event);\n        if (pointers.length === 2) {\n            pinchZoomDistance.current = distance(pointers[0], pointers[1]);\n        }\n    });\n    const onPointerMove = useEventCallback((event) => {\n        const pointers = activePointers.current;\n        const activePointer = pointers.find((p) => p.pointerId === event.pointerId);\n        if (pointers.length === 2 && pinchZoomDistance.current) {\n            event.stopPropagation();\n            replacePointer(event);\n            const currentDistance = distance(pointers[0], pointers[1]);\n            const delta = currentDistance - pinchZoomDistance.current;\n            if (Math.abs(delta) > 0) {\n                changeZoom(zoom * (1 + delta / pinchZoomDistanceFactor), true, ...pointers\n                    .map((x) => translateCoordinates(x))\n                    .reduce((acc, coordinate) => coordinate.map((x, i) => acc[i] + x / 2)));\n                pinchZoomDistance.current = currentDistance;\n            }\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (activePointer) {\n                if (pointers.length === 1) {\n                    changeOffsets((activePointer.clientX - event.clientX) / zoom, (activePointer.clientY - event.clientY) / zoom);\n                }\n                replacePointer(event);\n            }\n        }\n    });\n    const onPointerUp = React.useCallback((event) => {\n        const pointers = activePointers.current;\n        if (pointers.length === 2 && pointers.find((p) => p.pointerId === event.pointerId)) {\n            pinchZoomDistance.current = undefined;\n        }\n        clearPointer(event);\n    }, [clearPointer]);\n    const cleanupSensors = React.useCallback(() => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length);\n        lastPointerDown.current = 0;\n        pinchZoomDistance.current = undefined;\n    }, []);\n    usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled);\n    React.useEffect(cleanupSensors, [globalIndex, cleanupSensors]);\n    React.useEffect(() => {\n        if (!disabled) {\n            return cleanup(cleanupSensors, subscribeSensors(EVENT_ON_KEY_DOWN, onKeyDown), subscribeSensors(EVENT_ON_WHEEL, onWheel));\n        }\n        return () => { };\n    }, [disabled, subscribeSensors, cleanupSensors, onKeyDown, onWheel]);\n}\n\nfunction getCurrentSource(slides, currentIndex) {\n    if (currentIndex < slides.length) {\n        const slide = slides[currentIndex];\n        if (isImageSlide(slide))\n            return slide.src;\n    }\n    return undefined;\n}\nfunction useZoomState(imageRect, maxZoom, zoomWrapperRef) {\n    const [zoom, setZoom] = React.useState(1);\n    const [offsetX, setOffsetX] = React.useState(0);\n    const [offsetY, setOffsetY] = React.useState(0);\n    const animate = useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef);\n    const { slides, currentIndex, globalIndex } = useLightboxState();\n    const { containerRect, slideRect } = useController();\n    const { zoomInMultiplier } = useZoomProps();\n    const currentSource = getCurrentSource(slides, currentIndex);\n    const disabled = !currentSource || !(zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current);\n    useLayoutEffect(() => {\n        setZoom(1);\n        setOffsetX(0);\n        setOffsetY(0);\n    }, [globalIndex, currentSource]);\n    const changeOffsets = React.useCallback((dx, dy, targetZoom) => {\n        const newZoom = targetZoom || zoom;\n        const newOffsetX = offsetX - (dx || 0);\n        const newOffsetY = offsetY - (dy || 0);\n        const maxOffsetX = (imageRect.width * newZoom - slideRect.width) / 2 / newZoom;\n        const maxOffsetY = (imageRect.height * newZoom - slideRect.height) / 2 / newZoom;\n        setOffsetX(Math.min(Math.abs(newOffsetX), Math.max(maxOffsetX, 0)) * Math.sign(newOffsetX));\n        setOffsetY(Math.min(Math.abs(newOffsetY), Math.max(maxOffsetY, 0)) * Math.sign(newOffsetY));\n    }, [zoom, offsetX, offsetY, slideRect, imageRect.width, imageRect.height]);\n    const changeZoom = React.useCallback((targetZoom, rapid, dx, dy) => {\n        const newZoom = round(Math.min(Math.max(targetZoom + 0.001 < maxZoom ? targetZoom : maxZoom, 1), maxZoom), 5);\n        if (newZoom === zoom)\n            return;\n        if (!rapid) {\n            animate();\n        }\n        changeOffsets(dx ? dx * (1 / zoom - 1 / newZoom) : 0, dy ? dy * (1 / zoom - 1 / newZoom) : 0, newZoom);\n        setZoom(newZoom);\n    }, [zoom, maxZoom, changeOffsets, animate]);\n    const handleControllerRectChange = useEventCallback(() => {\n        if (zoom > 1) {\n            if (zoom > maxZoom) {\n                changeZoom(maxZoom, true);\n            }\n            changeOffsets();\n        }\n    });\n    useLayoutEffect(handleControllerRectChange, [\n        containerRect.width,\n        containerRect.height,\n        handleControllerRectChange,\n    ]);\n    const zoomIn = React.useCallback(() => changeZoom(zoom * zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    const zoomOut = React.useCallback(() => changeZoom(zoom / zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    return { zoom, offsetX, offsetY, disabled, changeOffsets, changeZoom, zoomIn, zoomOut };\n}\n\nconst ZoomControllerContext = React.createContext(null);\nconst useZoom = makeUseContext(\"useZoom\", \"ZoomControllerContext\", ZoomControllerContext);\nfunction ZoomContextProvider({ children }) {\n    const [zoomWrapper, setZoomWrapper] = React.useState();\n    const { slideRect } = useController();\n    const { imageRect, maxZoom } = useZoomImageRect(slideRect, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.imageDimensions);\n    const { zoom, offsetX, offsetY, disabled, changeZoom, changeOffsets, zoomIn, zoomOut } = useZoomState(imageRect, maxZoom, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    useZoomCallback(zoom, disabled);\n    useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    const zoomRef = React.useMemo(() => ({ zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom }), [zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom]);\n    React.useImperativeHandle(useZoomProps().ref, () => zoomRef, [zoomRef]);\n    const context = React.useMemo(() => ({ ...zoomRef, setZoomWrapper }), [zoomRef, setZoomWrapper]);\n    return React.createElement(ZoomControllerContext.Provider, { value: context }, children);\n}\n\nconst ZoomInIcon = createIcon(\"ZoomIn\", React.createElement(React.Fragment, null,\n    React.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" }),\n    React.createElement(\"path\", { d: \"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\" })));\nconst ZoomOutIcon = createIcon(\"ZoomOut\", React.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\" }));\nconst ZoomButton = React.forwardRef(function ZoomButton({ zoomIn, onLoseFocus }, ref) {\n    const wasEnabled = React.useRef(false);\n    const wasFocused = React.useRef(false);\n    const { zoom, maxZoom, zoomIn: zoomInCallback, zoomOut: zoomOutCallback, disabled: zoomDisabled } = useZoom();\n    const { render } = useLightboxProps();\n    const disabled = zoomDisabled || (zoomIn ? zoom >= maxZoom : zoom <= 1);\n    React.useEffect(() => {\n        if (disabled && wasEnabled.current && wasFocused.current) {\n            onLoseFocus();\n        }\n        if (!disabled) {\n            wasEnabled.current = true;\n        }\n    }, [disabled, onLoseFocus]);\n    return (React.createElement(IconButton, { ref: ref, disabled: disabled, label: zoomIn ? \"Zoom in\" : \"Zoom out\", icon: zoomIn ? ZoomInIcon : ZoomOutIcon, renderIcon: zoomIn ? render.iconZoomIn : render.iconZoomOut, onClick: zoomIn ? zoomInCallback : zoomOutCallback, onFocus: () => {\n            wasFocused.current = true;\n        }, onBlur: () => {\n            wasFocused.current = false;\n        } }));\n});\n\nfunction ZoomButtonsGroup() {\n    const zoomInRef = React.useRef(null);\n    const zoomOutRef = React.useRef(null);\n    const { focus } = useController();\n    const focusSibling = React.useCallback((sibling) => {\n        var _a, _b;\n        if (!((_a = sibling.current) === null || _a === void 0 ? void 0 : _a.disabled)) {\n            (_b = sibling.current) === null || _b === void 0 ? void 0 : _b.focus();\n        }\n        else {\n            focus();\n        }\n    }, [focus]);\n    const focusZoomIn = React.useCallback(() => focusSibling(zoomInRef), [focusSibling]);\n    const focusZoomOut = React.useCallback(() => focusSibling(zoomOutRef), [focusSibling]);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(ZoomButton, { zoomIn: true, ref: zoomInRef, onLoseFocus: focusZoomOut }),\n        React.createElement(ZoomButton, { ref: zoomOutRef, onLoseFocus: focusZoomIn })));\n}\n\nfunction ZoomToolbarControl() {\n    const { render } = useLightboxProps();\n    const zoomRef = useZoom();\n    if (render.buttonZoom) {\n        return React.createElement(React.Fragment, null, render.buttonZoom(zoomRef));\n    }\n    return React.createElement(ZoomButtonsGroup, null);\n}\n\nfunction isResponsiveImageSlide(slide) {\n    var _a;\n    return (((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.length) || 0) > 0;\n}\nfunction reducer({ current, preload }, { type, source }) {\n    switch (type) {\n        case \"fetch\":\n            if (!current) {\n                return { current: source };\n            }\n            return { current, preload: source };\n        case \"done\":\n            if (source === preload) {\n                return { current: source };\n            }\n            return { current, preload };\n        default:\n            throw new Error(UNKNOWN_ACTION_TYPE);\n    }\n}\nfunction ResponsiveImage(props) {\n    var _a, _b;\n    const [{ current, preload }, dispatch] = React.useReducer(reducer, {});\n    const { slide: image, rect, imageFit, render } = props;\n    const srcSet = image.srcSet.sort((a, b) => a.width - b.width);\n    const width = (_a = image.width) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1].width;\n    const height = (_b = image.height) !== null && _b !== void 0 ? _b : srcSet[srcSet.length - 1].height;\n    const cover = isImageFitCover(image, imageFit);\n    const maxWidth = Math.max(...srcSet.map((x) => x.width));\n    const targetWidth = Math.min((cover ? Math.max : Math.min)(rect.width, width * (rect.height / height)), maxWidth);\n    const pixelDensity = devicePixelRatio();\n    const handleResize = useEventCallback(() => {\n        var _a;\n        const targetSource = (_a = srcSet.find((x) => x.width >= targetWidth * pixelDensity)) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1];\n        if (!current || srcSet.findIndex((x) => x.src === current) < srcSet.findIndex((x) => x === targetSource)) {\n            dispatch({ type: \"fetch\", source: targetSource.src });\n        }\n    });\n    useLayoutEffect(handleResize, [rect.width, rect.height, pixelDensity, handleResize]);\n    const handlePreload = useEventCallback((currentPreload) => dispatch({ type: \"done\", source: currentPreload }));\n    const style = {\n        WebkitTransform: \"translateZ(0)\",\n    };\n    if (!cover) {\n        Object.assign(style, rect.width / rect.height < width / height\n            ? { width: \"100%\", height: \"auto\" }\n            : { width: \"auto\", height: \"100%\" });\n    }\n    return (React.createElement(React.Fragment, null,\n        preload && preload !== current && (React.createElement(ImageSlide, { key: \"preload\", ...props, slide: { ...image, src: preload, srcSet: undefined }, style: { position: \"absolute\", visibility: \"hidden\", ...style }, onLoad: () => handlePreload(preload), render: {\n                ...render,\n                iconLoading: () => null,\n                iconError: () => null,\n            } })),\n        current && (React.createElement(ImageSlide, { key: \"current\", ...props, slide: { ...image, src: current, srcSet: undefined }, style: style }))));\n}\n\nfunction ZoomWrapper({ render, slide, offset, rect }) {\n    var _a;\n    const [imageDimensions, setImageDimensions] = React.useState();\n    const zoomWrapperRef = React.useRef(null);\n    const { zoom, maxZoom, offsetX, offsetY, setZoomWrapper } = useZoom();\n    const { carousel, on } = useLightboxProps();\n    const { currentIndex } = useLightboxState();\n    useLayoutEffect(() => {\n        if (offset === 0) {\n            setZoomWrapper({ zoomWrapperRef, imageDimensions });\n            return () => setZoomWrapper(undefined);\n        }\n        return () => { };\n    }, [offset, imageDimensions, setZoomWrapper]);\n    let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, { slide, offset, rect, zoom, maxZoom });\n    if (!rendered && isImageSlide(slide)) {\n        const slideProps = {\n            slide,\n            offset,\n            rect,\n            render,\n            imageFit: carousel.imageFit,\n            imageProps: carousel.imageProps,\n            onClick: offset === 0 ? () => { var _a; return (_a = on.click) === null || _a === void 0 ? void 0 : _a.call(on, { index: currentIndex }); } : undefined,\n        };\n        rendered = isResponsiveImageSlide(slide) ? (React.createElement(ResponsiveImage, { key: slide.src, ...slideProps, slide: slide, rect: offset === 0 ? { width: rect.width * zoom, height: rect.height * zoom } : rect })) : (React.createElement(ImageSlide, { key: slide.src, onLoad: (img) => setImageDimensions({ width: img.naturalWidth, height: img.naturalHeight }), ...slideProps }));\n    }\n    if (!rendered)\n        return null;\n    return (React.createElement(\"div\", { ref: zoomWrapperRef, className: clsx(cssClass(CLASS_FULLSIZE), cssClass(CLASS_FLEX_CENTER)), style: offset === 0\n            ? { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` }\n            : undefined }, rendered));\n}\n\nconst Zoom = ({ augment, addModule }) => {\n    augment(({ toolbar, render, zoom, ...restProps }) => ({\n        zoom: resolveZoomProps(zoom),\n        toolbar: addToolbarButton(toolbar, PLUGIN_ZOOM, React.createElement(ZoomToolbarControl, null)),\n        render: {\n            ...render,\n            slide: (props) => { var _a; return isImageSlide(props.slide) ? React.createElement(ZoomWrapper, { render: render, ...props }) : (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, props); },\n        },\n        ...restProps,\n    }));\n    addModule(createModule(PLUGIN_ZOOM, ZoomContextProvider));\n};\n\nexport { Zoom as default };\n","const MODULE_CAROUSEL = \"carousel\";\nconst MODULE_CONTROLLER = \"controller\";\nconst MODULE_NAVIGATION = \"navigation\";\nconst MODULE_NO_SCROLL = \"no-scroll\";\nconst MODULE_PORTAL = \"portal\";\nconst MODULE_ROOT = \"root\";\nconst MODULE_TOOLBAR = \"toolbar\";\nconst PLUGIN_CAPTIONS = \"captions\";\nconst PLUGIN_COUNTER = \"counter\";\nconst PLUGIN_DOWNLOAD = \"download\";\nconst PLUGIN_FULLSCREEN = \"fullscreen\";\nconst PLUGIN_INLINE = \"inline\";\nconst PLUGIN_SHARE = \"share\";\nconst PLUGIN_SLIDESHOW = \"slideshow\";\nconst PLUGIN_THUMBNAILS = \"thumbnails\";\nconst PLUGIN_ZOOM = \"zoom\";\nconst SLIDE_STATUS_LOADING = \"loading\";\nconst SLIDE_STATUS_PLAYING = \"playing\";\nconst SLIDE_STATUS_ERROR = \"error\";\nconst SLIDE_STATUS_COMPLETE = \"complete\";\nconst SLIDE_STATUS_PLACEHOLDER = \"placeholder\";\nconst activeSlideStatus = (status) => `active-slide-${status}`;\nconst ACTIVE_SLIDE_LOADING = activeSlideStatus(SLIDE_STATUS_LOADING);\nconst ACTIVE_SLIDE_PLAYING = activeSlideStatus(SLIDE_STATUS_PLAYING);\nconst ACTIVE_SLIDE_ERROR = activeSlideStatus(SLIDE_STATUS_ERROR);\nconst ACTIVE_SLIDE_COMPLETE = activeSlideStatus(SLIDE_STATUS_COMPLETE);\nconst CLASS_FULLSIZE = \"fullsize\";\nconst CLASS_FLEX_CENTER = \"flex_center\";\nconst CLASS_NO_SCROLL = \"no_scroll\";\nconst CLASS_NO_SCROLL_PADDING = \"no_scroll_padding\";\nconst ACTION_PREV = \"prev\";\nconst ACTION_NEXT = \"next\";\nconst ACTION_SWIPE = \"swipe\";\nconst ACTION_CLOSE = \"close\";\nconst EVENT_ON_POINTER_DOWN = \"onPointerDown\";\nconst EVENT_ON_POINTER_MOVE = \"onPointerMove\";\nconst EVENT_ON_POINTER_UP = \"onPointerUp\";\nconst EVENT_ON_POINTER_LEAVE = \"onPointerLeave\";\nconst EVENT_ON_POINTER_CANCEL = \"onPointerCancel\";\nconst EVENT_ON_KEY_DOWN = \"onKeyDown\";\nconst EVENT_ON_KEY_UP = \"onKeyUp\";\nconst EVENT_ON_WHEEL = \"onWheel\";\nconst VK_ESCAPE = \"Escape\";\nconst VK_ARROW_LEFT = \"ArrowLeft\";\nconst VK_ARROW_RIGHT = \"ArrowRight\";\nconst ELEMENT_BUTTON = \"button\";\nconst ELEMENT_ICON = \"icon\";\nconst IMAGE_FIT_CONTAIN = \"contain\";\nconst IMAGE_FIT_COVER = \"cover\";\nconst UNKNOWN_ACTION_TYPE = \"Unknown action type\";\n\nexport { ACTION_CLOSE, ACTION_NEXT, ACTION_PREV, ACTION_SWIPE, ACTIVE_SLIDE_COMPLETE, ACTIVE_SLIDE_ERROR, ACTIVE_SLIDE_LOADING, ACTIVE_SLIDE_PLAYING, CLASS_FLEX_CENTER, CLASS_FULLSIZE, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_WHEEL, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, MODULE_CAROUSEL, MODULE_CONTROLLER, MODULE_NAVIGATION, MODULE_NO_SCROLL, MODULE_PORTAL, MODULE_ROOT, MODULE_TOOLBAR, PLUGIN_CAPTIONS, PLUGIN_COUNTER, PLUGIN_DOWNLOAD, PLUGIN_FULLSCREEN, PLUGIN_INLINE, PLUGIN_SHARE, PLUGIN_SLIDESHOW, PLUGIN_THUMBNAILS, PLUGIN_ZOOM, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_LOADING, SLIDE_STATUS_PLACEHOLDER, SLIDE_STATUS_PLAYING, UNKNOWN_ACTION_TYPE, VK_ARROW_LEFT, VK_ARROW_RIGHT, VK_ESCAPE, activeSlideStatus };\n"],"names":["getCardUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","CardRoot","styled","Paper","name","overridesResolver","props","styles","root","overflow","React","inProps","ref","useThemeProps","className","raised","other","_objectWithoutPropertiesLoose","ownerState","_extends","classes","composeClasses","useUtilityClasses","_jsx","clsx","elevation","undefined","createSvgIcon","d","LightboxDefaultProps","open","close","index","slides","render","plugins","toolbar","buttons","ACTION_CLOSE","labels","animation","fade","swipe","easing","navigation","carousel","finite","preload","padding","spacing","imageFit","IMAGE_FIT_CONTAIN","imageProps","controller","focus","aria","touchAction","closeOnPullDown","closeOnBackdropClick","portal","on","createModule","component","createNode","module","children","traverseNode","node","target","apply","flatMap","n","_a","traverse","nodes","_len","arguments","length","Array","_key","filter","cls","Boolean","join","cssPrefix$3","cssClass","concat","cssVar","composePrefix","base","prefix","makeComposePrefix","label","lbl","cleanup","_len2","cleaners","_key2","forEach","cleaner","makeUseContext","contextName","context","ctx","Error","hasWindow","window","round","value","factor","Math","Number","EPSILON","isImageSlide","slide","type","isImageFitCover","image","IMAGE_FIT_COVER","parseLengthPercentage","input","pixel","parseInt","endsWith","percent","computeSlideRect","containerRect","paddingValue","paddingPixels","width","max","height","devicePixelRatio","getSlideIndex","slidesCount","hasSlides","getSlide","getSlideIfPresent","addToolbarButton","key","button","restToolbar","findIndex","item","buttonWithKey","result","splice","stopNavigationEventsPropagation","stopPropagation","event","onPointerDown","onKeyDown","onWheel","calculatePreload","minimum","min","floor","EventsContext","useEvents","EventsProvider","_ref","subscriptions","Object","keys","topic","unsubscribe","callback","cb","publish","_len3","_ref2","_key3","subscribe","push","Provider","LightboxPropsContext","useLightboxProps","LightboxPropsProvider","_ref3","LightboxStateContext","useLightboxState","LightboxDispatchContext","useLightboxDispatch","reducer","state","action","increment","globalIndex","currentIndex","currentSlide","duration","UNKNOWN_ACTION_TYPE","LightboxStateProvider","_ref4","dispatch","TimeoutsContext","useTimeouts","TimeoutsProvider","_ref5","timeouts","tid","clearTimeout","removeTimeout","id","setTimeout","fn","delay","IconButton","_ref6","label$1","icon","Icon","renderIcon","onClick","style","rest","ELEMENT_BUTTON","ELEMENT_ICON","svgIcon","xmlns","viewBox","focusable","displayName","createIcon","glyph","fill","createIconDisabled","stroke","strokeWidth","mask","CloseIcon","PreviousIcon","NextIcon","LoadingIcon","from","map","_","array","x1","y1","x2","y2","strokeLinecap","strokeOpacity","transform","ErrorIcon","useLayoutEffect","useMotionPreference","reduceMotion","setReduceMotion","_b","mediaQuery","matchMedia","call","matches","listener","addEventListener","removeEventListener","useAnimation","nodeRef","computeAnimation","snapshot","_c","current","keyframes","onfinish","getBoundingClientRect","x","y","z","matcher","getComputedStyle","match","values","split","str","currentTransformation","cancel","animate","err","console","error","prepareAnimation","currentSnapshot","isAnimationPlaying","playState","useContainerRect","setContainerRect","containerRef","observerRef","setContainerRef","disconnect","updateContainerRect","parse","parseFloat","clientWidth","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","ResizeObserver","observe","useDelay","timeoutId","useEventCallback","_len4","args","_key4","setRef","useForkRef","refA","refB","refValue","useLoseFocus","disabled","focused","onFocus","onBlur","useRTL","isRTL","setIsRTL","document","documentElement","direction","useThrottle","lastCallbackTime","delayCallback","executeCallback","Date","now","_len5","_key5","_len6","_key6","slidePrefix","slideImagePrefix","ImageSlide","_ref7","offset","rect","onLoad","_d","_e","_f","_g","status","setStatus","SLIDE_STATUS_LOADING","imageRef","activeSlideStatus","handleLoading","img","decode","Promise","resolve","catch","then","parentNode","SLIDE_STATUS_COMPLETE","setImageRef","complete","handleOnLoad","currentTarget","onError","SLIDE_STATUS_ERROR","cover","nonInfinite","fallback","isFinite","maxWidth","srcSet","naturalWidth","maxHeight","naturalHeight","defaultStyle","sort","a","b","src","sizes","MAX_VALUE","imagePropsStyle","imagePropsClassName","restImageProps","draggable","alt","SLIDE_STATUS_PLACEHOLDER","iconLoading","iconError","SwipeState","Gesture","usePointerEvents","subscribeSensors","onPointerMove","onPointerUp","EVENT_ON_POINTER_DOWN","EVENT_ON_POINTER_MOVE","EVENT_ON_POINTER_UP","EVENT_ON_POINTER_LEAVE","EVENT_ON_POINTER_CANCEL","SWIPE_THRESHOLD","WHEEL","preventDefault","abs","deltaX","deltaY","ctrlKey","cssContainerPrefix","ControllerContext","useController","ControllerModule","MODULE_CONTROLLER","_ref8","toolbarWidth","setToolbarWidth","swipeState","setSwipeState","NONE","swipeOffset","pullDownOffset","pullDownOpacity","registerSensors","subscribers","notifySubscribers","isPropagationStopped","onPointerLeave","onPointerCancel","EVENT_ON_KEY_DOWN","onKeyUp","EVENT_ON_KEY_UP","EVENT_ON_WHEEL","unshift","listeners","el","useSensors","cleanupAnimationIncrement","cleanupSwipeOffset","cleanupPullDownOffset","handleContainerRef","passive","usePreventSwipeNavigation","carouselRef","setCarouselRef","rtl","getLightboxProps","getLightboxState","prev","params","ACTION_PREV","next","ACTION_NEXT","isSwipeValid","setSwipeOffset","setProperty","pullDownEnabled","setPullDownOffset","preparePullDownAnimation","translate","opacity","pullDown","ANIMATION","parsedSpacing","spacingValue","currentSwipeOffset","swipeDuration","swipeEasing","count","newSwipeState","newSwipeAnimationDuration","containerWidth","elapsedTime","expectedTime","ACTION_SWIPE","swipeParams","SWIPE","pullDownParams","PULL_DOWN","swipeAnimationDuration","onSwipeStart","onSwipeProgress","onSwipeFinish","onSwipeCancel","onPullDownStart","onPullDownProgress","onPullDownFinish","onPullDownCancel","pointers","activePointer","startTime","gesture","clearPointer","pointerId","currentPointers","p","addPointer","persist","find","currentOffset","pointer","isCurrentPointer","clientX","clientY","startGesture","newGesture","usePointerSwipe","intent","intentCleanup","resetCleanup","wheelResidualMomentum","cancelSwipeIntentCleanup","cancelSwipeResetCleanup","handleCleanup","handleCancelSwipe","currentSwipeIntent","newSwipeOffset","sign","useWheelSwipe","focusOnMount","onViewCallback","view","VK_ESCAPE","slideRect","CLASS_FLEX_CENTER","container","role","tabIndex","controls","cssPrefix$2","MODULE_CAROUSEL","cssSlidePrefix","CarouselSlide","_ref9","click","HTMLElement","classList","contains","CLASS_FULLSIZE","renderSlide","rendered","slideHeader","slideContainer","_ref10","slideFooter","Placeholder","CarouselModule","_ref11","items","i","NavigationButton","_ref12","NavigationModule","MODULE_NAVIGATION","_ref13","buttonPrev","buttonNext","iconPrev","iconNext","prevDisabled","nextDisabled","throttle","prevThrottled","nextThrottled","handleKeyDown","VK_ARROW_LEFT","VK_ARROW_RIGHT","navigationPrev","navigationNext","noScroll","CLASS_NO_SCROLL","noScrollPadding","CLASS_NO_SCROLL_PADDING","isHTMLElement","element","padScrollbar","property","computedValue","originalValue","getPropertyValue","removeProperty","NoScrollModule","MODULE_NO_SCROLL","_ref14","body","scrollbar","innerWidth","elements","getElementsByTagName","add","remove","clean","cssPrefix$1","MODULE_PORTAL","setAttribute","attribute","previousValue","getAttribute","removeAttribute","PortalModule","_ref15","mounted","setMounted","visible","setVisible","animationDuration","handleClose","exiting","exited","handleEnter","scrollTop","entering","indexOf","tagName","entered","handleExit","handleRef","createPortal","RootModule","MODULE_ROOT","_ref16","ToolbarModule","MODULE_TOOLBAR","_ref17","buttonClose","iconClose","renderNode","child","mergeAnimation","defaultAnimation","defaultAnimationEasing","restDefaultAnimation","restAnimation","Lightbox","_ref18","restProps","defaultCarousel","defaultRender","defaultToolbar","defaultController","defaultOn","defaultSlides","defaultIndex","defaultPlugins","restDefaultProps","config","augmentation","augmentations","pop","addParent","append","addChild","precede","addSibling","addModule","replace","augment","plugin","reduce","acc","withPlugins","cssPrefix","defaultCaptionsProps","descriptionTextAlign","descriptionMaxLines","showToggle","resolveCaptionsProps","captions","CaptionsContext","useCaptions","CaptionsContextProvider","show","hide","Title","title","captionsTitleContainer","captionsTitle","Description","description","useCaptionsProps","captionsDescriptionContainer","captionsDescription","line","captionsIcon","strokeLinejoin","CaptionsVisible","CaptionsHidden","CaptionsButton","buttonCaptions","iconCaptionsVisible","iconCaptionsHidden","Captions","captionsProps","renderFooter","restRender","PLUGIN_CAPTIONS","defaultFullscreenProps","auto","resolveFullscreenProps","fullscreen","FullscreenContext","useFullscreen","FullscreenContextProvider","fullscreenProps","setFullscreen","setDisabled","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","getFullscreenElement","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","enter","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","exit","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","fullscreenChangeListener","events","handleAutoFullscreen","PLUGIN_FULLSCREEN","EnterFullscreenIcon","ExitFullscreenIcon","FullscreenButton","buttonFullscreen","iconExitFullscreen","iconEnterFullscreen","Fullscreen","PLUGIN_THUMBNAILS","defaultSlideshowProps","autoplay","resolveSlideshowProps","slideshow","SlideshowContext","useSlideshow","SlideshowContextProvider","wasPlaying","playing","setPlaying","scheduler","slideStatus","play","pause","cancelScheduler","scheduleNextSlide","SLIDE_STATUS_PLAYING","onSlideshowStart","slideshowStart","onSlideshowStop","slideshowStop","ACTIVE_SLIDE_LOADING","ACTIVE_SLIDE_PLAYING","ACTIVE_SLIDE_ERROR","ACTIVE_SLIDE_COMPLETE","PlayIcon","PauseIcon","SlideshowButton","focusListeners","buttonSlideshow","iconSlideshowPause","iconSlideshowPlay","Slideshow","PLUGIN_SLIDESHOW","defaultThumbnailsProps","position","border","borderRadius","gap","vignette","resolveThumbnailsProps","thumbnails","useThumbnailsProps","cssThumbnailPrefix","VideoThumbnailIcon","UnknownThumbnailIcon","activePrefix","fadeInPrefix","fadeOutPrefix","placeholderPrefix","DELAY","DURATION","Thumbnail","active","fadeIn","fadeOut","placeholder","thumbnail","customThumbnail","thumbnailIconClass","poster","renderThumbnail","isHorizontal","includes","boxSize","dimension","includeGap","ThumbnailsTrack","track","handleControllerSwipe","animationOffset","trackRect","left","top","handleClick","slideIndex","display","thumbnailsContainer","thumbnailsTrack","fadeAnimationDuration","ThumbnailsContext","useThumbnails","ThumbnailsContextProvider","thumbnailsIcon","ThumbnailsVisible","ThumbnailsHidden","ThumbnailsButton","buttonThumbnails","iconThumbnailsVisible","iconThumbnailsHidden","Thumbnails","thumbnailsProps","defaultVideoProps","playsInline","resolveVideoProps","video","VideoSlide","useVideoProps","videoRef","paused","autoPlay","handleVideoRef","setVideoRef","sources","resolveBoolean","attr","resolveString","scaleWidthAndHeight","scalingProps","widthBound","elementWidth","elementHeight","onPlay","onEnded","Video","isVideoSlide","source","defaultZoomProps","maxZoomPixelRatio","zoomInMultiplier","doubleTapDelay","doubleClickDelay","doubleClickMaxStops","keyboardMoveDistance","wheelZoomDistanceFactor","pinchZoomDistanceFactor","scrollToZoom","resolveZoomProps","zoom","useZoomProps","distance","pointerA","pointerB","useZoomState","imageRect","maxZoom","zoomWrapperRef","setZoom","offsetX","setOffsetX","offsetY","setOffsetY","zoomAnimation","zoomAnimationStart","zoomAnimationDuration","playZoomAnimation","useZoomAnimation","currentSource","getCurrentSource","changeOffsets","dx","dy","targetZoom","newZoom","newOffsetX","newOffsetY","maxOffsetX","maxOffsetY","changeZoom","rapid","handleControllerRectChange","zoomIn","zoomOut","ZoomControllerContext","useZoom","ZoomContextProvider","zoomWrapper","setZoomWrapper","imageDimensions","maxImageRect","useZoomImageRect","onZoomCallback","useZoomCallback","activePointers","lastPointerDown","pinchZoomDistance","translateCoordinates","pageX","pageY","scrollX","scrollY","move","handleChangeZoom","zoomValue","hasMeta","getModifierState","replacePointer","timeStamp","pointerType","currentDistance","delta","coordinate","cleanupSensors","useZoomSensors","zoomRef","ZoomInIcon","ZoomOutIcon","ZoomButton","onLoseFocus","wasEnabled","wasFocused","zoomInCallback","zoomOutCallback","zoomDisabled","iconZoomIn","iconZoomOut","ZoomButtonsGroup","zoomInRef","zoomOutRef","focusSibling","sibling","focusZoomIn","focusZoomOut","ZoomToolbarControl","buttonZoom","ResponsiveImage","targetWidth","pixelDensity","handleResize","targetSource","handlePreload","currentPreload","WebkitTransform","assign","visibility","ZoomWrapper","setImageDimensions","slideProps","isResponsiveImageSlide","Zoom","PLUGIN_ZOOM"],"sourceRoot":""}