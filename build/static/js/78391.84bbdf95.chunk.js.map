{"version":3,"file":"static/js/78391.84bbdf95.chunk.js","mappings":"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","sources":["sections/employee/blogs/view/Blogs.jsx","pages/employee/blogs/browse-blogs.jsx"],"sourcesContent":["import * as React from 'react';\nimport { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Box,\n  Card,\n  Grid,\n  Link,\n  Stack,\n  Button,\n  MenuItem,\n  Checkbox,\n  TextField,\n  Typography,\n} from '@mui/material';\n\nimport { paths } from 'src/routes/paths';\nimport { useRouter } from 'src/routes/hooks';\n\nimport { fDateAndTime } from 'src/utils/format-time';\n\nimport { useAuthContext } from 'src/auth/hooks';\nimport { useLocales, useTranslate } from 'src/locales';\nimport { useGetBlogs, useGetBlog_category } from 'src/api';\n\nimport Iconify from 'src/components/iconify';\n\nexport default function Blogs({ onPreview }) {\n  const { t } = useTranslate();\n  const { currentLang } = useLocales();\n  const curLangAr = currentLang.value === 'ar';\n  const { user } = useAuthContext();\n  const { Data } = useGetBlog_category();\n  const router = useRouter();\n\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterBy, setFilterBy] = useState();\n  const [myBlogs, setMyBlogs] = useState(false);\n\n  const formatTextWithLineBreaks = (text, limit = 20) => {\n    if (!text) return '';\n\n    const chunks = [];\n\n    for (let i = 0; i < text.length; i += 100) {\n      chunks.push(text.slice(i, i + 100));\n    }\n\n    let formattedText = chunks.join('<br />');\n\n    if (text.length > limit) {\n      formattedText = `${text.slice(0, limit)}...`;\n    }\n\n    return formattedText;\n  };\n\n  // Static data for blogs\n  const { data } = useGetBlogs({\n    populate: {\n      path: 'user',\n      select: 'role employee _id',\n      populate: { path: 'employee', select: '_id name_english name_arabic employee_engagements' },\n    },\n  });\n\n  const filteredBlogs = data?.filter((blog) => {\n    const matchesSearch =\n      (blog.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        blog.topic.toLowerCase().includes(searchTerm.toLowerCase())) &&\n      (filterBy ? blog.category === filterBy : true);\n    let filterMyBlogs = true;\n    if (myBlogs) {\n      filterMyBlogs = blog.user?._id === user?._id;\n    }\n    return matchesSearch && filterMyBlogs;\n  });\n\n  return (\n    <Box sx={{ py: { xs: 2, md: 2 }, px: { xs: 2, md: 10 }, textAlign: 'start' }}>\n      {/* Search and filter section */}\n      <Box sx={{ display: 'flex', flexDirection: { xs: 'column', md: 'row' }, mb: 5 }}>\n        <TextField\n          label={t('Search')}\n          variant=\"outlined\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          sx={{ width: { xs: '100%', md: '150%' }, mr: { md: 3 }, mb: { xs: 2, md: 0 } }}\n        />\n        <TextField\n          select\n          label={t('Filter by category')}\n          value={filterBy}\n          onChange={(e) => setFilterBy(e.target.value)}\n          sx={{ width: { xs: '100%', md: '100%' } }}\n        >\n          <MenuItem value=\"\">{t('All categories')}</MenuItem>\n          {Data?.map((category, index) => (\n            <MenuItem key={index} value={category?._id}>\n              {category?.[t('name_english')]}\n            </MenuItem>\n          ))}\n        </TextField>\n        {user?._id && data?.some((one) => one.user?._id === user?._id) && (\n          <Stack ml={5} direction=\"row\" alignItems=\"center\" width=\"100%\">\n            <Checkbox checked={myBlogs} onClick={() => setMyBlogs(!myBlogs)} />\n            <Typography>{t('my blogs')}</Typography>\n          </Stack>\n        )}\n      </Box>\n\n      {/* Blog Cards */}\n      <Grid container spacing={2}>\n        {filteredBlogs?.map((blog, index) => (\n          <Grid key={index} item xs={12} sm={6} md={6} lg={6}>\n            <Card\n              sx={{\n                position: 'relative',\n                overflow: 'hidden',\n                height: '250px',\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'space-between',\n                borderRight: '5px solid #3CB099',\n                borderRadius: '15px',\n                bgcolor: 'rgba(216, 246, 240, 0.11)',\n              }}\n            >\n              <Box sx={{ p: 2 }}>\n                <Typography sx={{ color: '#3CB099', fontWeight: 'bold', mb: 1 }}>\n                  {blog.title}\n                </Typography>\n                <Typography variant=\"caption\" sx={{ color: 'gray' }}>\n                  {fDateAndTime(blog.created_at)}\n                </Typography>\n                <Typography\n                  dangerouslySetInnerHTML={{\n                    __html: formatTextWithLineBreaks(blog.topic),\n                  }}\n                  sx={{ mt: 1 }}\n                />\n\n                <Stack sx={{ position: 'absolute', bottom: 60 }}>\n                  {blog?.user?.role === 'superadmin' ? (\n                    <Typography\n                      sx={{ color: '#3CB099' }}\n                      href={paths.pages.doctor(\n                        `${\n                          blog?.user?.employee?.employee_engagements[0]\n                        }_${blog?.user?.employee?.name_english?.replace(/ /g, '_')}`\n                      )}\n                    >\n                      {curLangAr ? 'حكيمنا ٣٦٠' : ' hakeemna 360'}\n                    </Typography>\n                  ) : (\n                    <Link\n                      sx={{ color: 'gray' }}\n                      href={paths.pages.doctor(\n                        `${\n                          blog?.user?.employee?.employee_engagements[0]\n                        }_${blog?.user?.employee?.name_english?.replace(/ /g, '_')}`\n                      )}\n                    >\n                      {blog.user?.employee?.name_english}\n                    </Link>\n                  )}\n                </Stack>\n              </Box>\n\n              <Stack direction=\"row\" sx={{ alignSelf: 'end', mb: 2, mr: 2 }}>\n                <Button\n                  size=\"large\"\n                  onClick={() => {\n                    if (onPreview) {\n                      onPreview(blog?._id);\n                    } else {\n                      router.push(\n                        `${paths.pages.BlogsView(blog?._id)}?title=${blog?.title?.replace(\n                          / /g,\n                          '-'\n                        )}}&writer=${\n                          blog?.user?.role === 'superadmin'\n                            ? 'hakeemna 360'\n                            : blog.user?.employee?.[t('name_english')]?.replace(/ /g, '-')\n                        }`\n                      );\n                    }\n                  }}\n                  id=\"About\"\n                  sx={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    bgcolor: 'transparent',\n                    padding: 0,\n                    overflow: 'hidden',\n                    boxShadow: 'none',\n                  }}\n                >\n                  <div\n                    style={{\n                      backgroundColor: 'white',\n                      color: '#1F2C5C',\n                      fontWeight: 'bold',\n                      padding: '6px 12px',\n                      fontSize: '16px',\n                    }}\n                  >\n                    {t('Read more')}\n                  </div>\n                  <div\n                    style={{\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      backgroundColor: '#1F2C5C',\n                      padding: '6px 8px',\n                      borderEndEndRadius: '10px',\n                      borderStartEndRadius: '10px',\n                    }}\n                  >\n                    {curLangAr ? (\n                      <Iconify icon=\"icon-park-outline:left\" width={24} sx={{ color: 'white' }} />\n                    ) : (\n                      <Iconify\n                        icon=\"eva:arrow-ios-forward-fill\"\n                        width={24}\n                        sx={{ color: 'white' }}\n                      />\n                    )}\n                  </div>\n                </Button>\n              </Stack>\n            </Card>\n          </Grid>\n        ))}\n      </Grid>\n    </Box>\n  );\n}\n\nBlogs.propTypes = {\n  onPreview: PropTypes.func,\n};\n","import { Helmet } from 'react-helmet-async';\n\nimport { paths } from 'src/routes/paths';\nimport { useRouter } from 'src/routes/hooks';\n\nimport BlogsView from 'src/sections/employee/blogs/view/Blogs';\n\n// ----------------------------------------------------------------------\n\nexport default function TableDetailsPage() {\n  const router = useRouter();\n  return (\n    <>\n      <Helmet>\n        <title> Dashboard: browse Blogs</title>\n        <meta name=\"description\" content=\"meta\" />\n      </Helmet>\n\n      <BlogsView onPreview={(id) => router.push(paths.employee.previewBlog(id))} />\n    </>\n  );\n}\n"],"names":["Blogs","_ref","onPreview","t","useTranslate","currentLang","useLocales","curLangAr","value","user","useAuthContext","Data","useGetBlog_category","router","useRouter","searchTerm","setSearchTerm","useState","filterBy","setFilterBy","myBlogs","setMyBlogs","formatTextWithLineBreaks","text","limit","arguments","length","undefined","chunks","i","push","slice","formattedText","join","data","useGetBlogs","populate","path","select","filteredBlogs","filter","blog","matchesSearch","title","toLowerCase","includes","topic","category","filterMyBlogs","_blog$user","_id","_jsxs","Box","sx","py","xs","md","px","textAlign","children","display","flexDirection","mb","_jsx","TextField","label","variant","onChange","e","target","width","mr","MenuItem","map","index","some","one","_one$user","Stack","ml","direction","alignItems","Checkbox","checked","onClick","Typography","Grid","container","spacing","_blog$user2","_blog$user3","_blog$user3$employee","_blog$user4","_blog$user4$employee","_blog$user4$employee$","_blog$user5","_blog$user5$employee","_blog$user6","_blog$user6$employee","_blog$user6$employee$","_blog$user7","_blog$user7$employee","item","sm","lg","Card","position","overflow","height","justifyContent","borderRight","borderRadius","bgcolor","p","color","fontWeight","fDateAndTime","created_at","dangerouslySetInnerHTML","__html","mt","bottom","role","href","paths","pages","doctor","employee","employee_engagements","name_english","replace","Link","alignSelf","Button","size","_blog$title","_blog$user8","_blog$user9","_blog$user9$employee","_blog$user9$employee$","BlogsView","id","padding","boxShadow","style","backgroundColor","fontSize","borderEndEndRadius","borderStartEndRadius","Iconify","icon","TableDetailsPage","_Fragment","Helmet","name","content","previewBlog"],"sourceRoot":""}