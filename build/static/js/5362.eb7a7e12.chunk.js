/*! For license information please see 5362.eb7a7e12.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[5362],{85362:(e,t,a)=>{a.d(t,{Vv:()=>pe,Wl:()=>Le,Zc:()=>Se,q8:()=>de,Jb:()=>Ue,df:()=>Be,U$:()=>_e,WX:()=>Je,HS:()=>oe,d_:()=>L,JP:()=>Ze});var n=a(72791),o=a(57621),s=a(79836),i=a(13838),l=a(89164),r=a(53382),d=a(39281),c=a(38072),u=a(19208),h=a(22459),x=a(30250),p=a(8966),g=a(10261),m=a(77008),v=a(25279),j=a(6965),Z=a(73379),w=a(38062),C=a(68870),f=a(27938),b=a(36314),_=a(56125),y=a(9195),P=a(68745),k=a(13400),R=a(84954),S=a(40268),A=a(24845),F=a(80184);function D(e){let{row:t,selected:a,onViewRow:n}=e;const{tableName:o,documents:s}=t,i=(0,h.k)(),l=(0,A.S)();function r(e){let{arr:t,idx:a}=e;return(0,F.jsx)(b.Z,{direction:"row",alignItems:"center",sx:{p:e=>e.spacing(1.5,2,1.5,1.5),"&:not(:last-of-type)":{borderBottom:e=>"solid 2px ".concat(e.palette.background.neutral)}},children:null===t||void 0===t?void 0:t.map(((e,t)=>"active"===e||"inactive"===e?(0,F.jsx)(C.Z,{sx:{flex:1},children:(0,F.jsxs)(R.Z,{variant:"soft",color:("active"===e?"success":"inactive"===e&&"warning")||"default",children:[e," "]})},t):(0,F.jsx)(C.Z,{sx:{flex:1},children:e},t)))},a)}const d=(0,F.jsxs)(y.Z,{hover:!0,selected:a,children:[(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(C.Z,{onClick:n,sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:o.split("_").join(" ")})}),(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(C.Z,{children:"Note"})}),(0,F.jsx)(P.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,F.jsx)(k.Z,{onClick:n,color:l.open?"inherit":"default",children:(0,F.jsx)(S.Z,{icon:"majesticons:open"})})})]});y.Z,P.Z,_.Z,i.value,"countries"===o&&(b.Z,f.Z,r({arr:["Code","Name","Status","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name_english,e.status,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"cities"===o&&(b.Z,f.Z,r({arr:["Code","Name","Country","Status","Created At","Updated At"]}),s.map(((e,t)=>{var a;return r({idx:{idx:t},arr:[e.code,e.name_english,null===(a=e.country)||void 0===a?void 0:a.name_english,e.status,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})}))),"surgeries"===o&&(b.Z,f.Z,r({arr:["Code","Name","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"diseases"===o&&(b.Z,f.Z,r({arr:["Code","Name","Category","Created At","Updated At"]}),s.map(((e,t)=>{var a;return r({idx:{idx:t},arr:[e.code,e.name,null===(a=e.category)||void 0===a?void 0:a.name,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})}))),"specialities"===o&&(b.Z,f.Z,r({arr:["Code","Name","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name_english,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"sub_specialities"===o&&(b.Z,f.Z,r({arr:["Code","Name","Specialty","Created At","Updated At"]}),s.map(((e,t)=>{var a;return r({idx:{idx:t},arr:[e.code,e.name_english,null===(a=e.specialty)||void 0===a?void 0:a.name_english,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})}))),"insurance_companies"===o&&(b.Z,f.Z,r({arr:["Code","Name","Country","Status","Created At","Updated At"]}),s.map(((e,t)=>{var a;return r({idx:{idx:t},arr:[e.code,e.name,null===(a=e.country)||void 0===a?void 0:a.name,e.status,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})}))),"added_value_tax_GD"===o&&(b.Z,f.Z,r({arr:["Code","Name","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.tax_name,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"departments"===o&&(b.Z,f.Z,r({arr:["Code","Name","Unit Service","Created At","Updated At"]}),s.map(((e,t)=>{var a;return r({idx:{idx:t},arr:[e.code,e.name_english,null===(a=e.unit_service)||void 0===a?void 0:a.name_english,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})}))),"unit_services"===o&&(b.Z,f.Z,r({arr:["Code","Name","City","Status","Created At","Updated At"]}),s.map(((e,t)=>{var a;return r({idx:{idx:t},arr:[e.code,e.name_english,null===(a=e.city)||void 0===a?void 0:a.name_english,e.status,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})}))),"medicines"===o&&(b.Z,f.Z,r({arr:["Code","Name","Country","Status","Created At","Updated At"]}),s.map(((e,t)=>{var a;return r({idx:{idx:t},arr:[e.code,e.trade_name,null===(a=e.country)||void 0===a?void 0:a.name_english,e.status,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})}))),"appointment_types"===o&&(b.Z,f.Z,r({arr:["Code","Name","Status","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name,e.status,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"free_subscriptions"===o&&(b.Z,f.Z,r({arr:["Code","Name","General","Status","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name,e.general,e.status,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"symptoms"===o&&(b.Z,f.Z,r({arr:["Code","Name","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"patients"===o&&(b.Z,f.Z,r({arr:["Code","Name","Status","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.first_name,e.status,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"diets"===o&&(b.Z,f.Z,r({arr:["Code","Name","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"currencies"===o&&(b.Z,f.Z,r({arr:["Code","Name","Symbol","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name_english,e.symbol,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"analyses"===o&&(b.Z,f.Z,r({arr:["Code","Name","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"medical_categories"===o&&(b.Z,f.Z,r({arr:["Code","Name","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"medicines_families"===o&&(b.Z,f.Z,r({arr:["Code","Name","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"unit_service_types"===o&&(b.Z,f.Z,r({arr:["Code","Name","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name_english,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"activities"===o&&(b.Z,f.Z,r({arr:["Code","Name","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name_english,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"employee_types"===o&&(b.Z,f.Z,r({arr:["Code","Name","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name_english,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"payment_methods"===o&&(b.Z,f.Z,r({arr:["Code","Name","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name_english,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"stakeholder_types"===o&&(b.Z,f.Z,r({arr:["Code","Name","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name_english,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"work_shifts"===o&&(b.Z,f.Z,r({arr:["Code","Name","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name_english,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"service_types"===o&&(b.Z,f.Z,r({arr:["Code","Name","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name_english,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"measurement_types"===o&&(b.Z,f.Z,r({arr:["Code","Name","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name_english,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"hospital_list"===o&&(b.Z,f.Z,r({arr:["Code","Name","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name_english,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"deduction_config"===o&&(b.Z,f.Z,r({arr:["Code","Name","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name_english,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]})))),"rooms"===o&&(b.Z,f.Z,r({arr:["Code","Name","Created At","Updated At"]}),s.map(((e,t)=>r({idx:{idx:t},arr:[e.code,e.name_english,(0,x.zM)(e.created_at),(0,x.zM)(e.updated_at)]}))));return(0,F.jsx)(F.Fragment,{children:d})}var T=a(48550),B=a(63466),I=a(76932);function H(e){let{filters:t,onFilters:a,canReset:o,onResetFilters:s}=e;const{t:l}=(0,I.qM)(),r=(0,n.useCallback)((e=>{a("name",e.target.value)}),[a]);return(0,F.jsxs)(b.Z,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:[(0,F.jsx)(b.Z,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:(0,F.jsx)(T.Z,{fullWidth:!0,value:t.name,onChange:r,placeholder:l("Search name or number..."),InputProps:{startAdornment:(0,F.jsx)(B.Z,{position:"start",children:(0,F.jsx)(S.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})}),o&&(0,F.jsx)(i.Z,{color:"error",sx:{flexShrink:0},onClick:s,startIcon:(0,F.jsx)(S.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})}function M(e){let{filters:t,onFilters:a,onResetFilters:n,results:o,...s}=e;return(0,F.jsx)(b.Z,{spacing:1.5,...s,children:(0,F.jsxs)(C.Z,{sx:{typography:"body2"},children:[(0,F.jsx)("strong",{children:o}),(0,F.jsx)(C.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]})})}const W={name:"",status:"all",startDate:null,endDate:null};function L(){var e;const t=(0,w.x6)({defaultOrderBy:"code"}),a=(0,v.K$)(),C=(0,u.tv)(),f=(0,h.k)(),{tableData:b,loading:_}=(0,p.AF)(),[y,P]=(0,n.useState)(W),k=!(!y.startDate||!y.endDate)&&y.startDate.getTime()>y.endDate.getTime(),R=function(e){var t;let{inputData:a,comparator:n,filters:o,dateError:s}=e;const{status:i,name:l,startDate:r,endDate:d}=o,c=null===(t=a)||void 0===t?void 0:t.map(((e,t)=>[e,t]));c.sort(((e,t)=>{const a=n(e[0],t[0]);return 0!==a?a:e[1]-t[1]})),a=null===c||void 0===c?void 0:c.map((e=>e[0])),l&&(a=a.filter((e=>-1!==e.tableName.toLowerCase().indexOf(l.toLowerCase()))));"all"!==i&&(a=a.filter((e=>e.status===i)));s||r&&d&&(a=a.filter((e=>(0,x.IO)(e.createdAt)>=(0,x.IO)(r)&&(0,x.IO)(e.createdAt)<=(0,x.IO)(d))));return a}({inputData:[{tableName:"cities",documents:[]},{tableName:"surgeries",documents:[]},{tableName:"diseases",documents:[]},{tableName:"insurance_companies",documents:[]},{tableName:"unit_service_types",documents:[]},{tableName:"activities",documents:[]},{tableName:"employee_types",documents:[]},{tableName:"payment_methods",documents:[]},{tableName:"stakeholder_types",documents:[]},{tableName:"work_shifts",documents:[]},{tableName:"service_types",documents:[]},{tableName:"measurement_types",documents:[]},{tableName:"hospital_list",documents:[]},{tableName:"deduction_config",documents:[]},{tableName:"rooms",documents:[]},{tableName:"specialities",documents:[]},{tableName:"sub_specialities",documents:[]},{tableName:"countries",documents:[]},{tableName:"added_value_tax_GD",documents:[]},{tableName:"departments",documents:[]},{tableName:"medicines",documents:[]},{tableName:"unit_services",documents:[]},{tableName:"appointment_types",documents:[]},{tableName:"free_subscriptions",documents:[]},{tableName:"symptoms",documents:[]},{tableName:"patients",documents:[]},{tableName:"diets",documents:[]},{tableName:"currencies",documents:[]},{tableName:"analyses",documents:[]},{tableName:"medical_categories",documents:[]},{tableName:"medicines_families",documents:[]}],comparator:(0,w.sQ)(t.order,t.orderBy),filters:y,dateError:k}),S=t.dense?52:72,A=!!y.name||"all"!==y.status||!!y.startDate&&!!y.endDate,T=!(null!==R&&void 0!==R&&R.length)&&A||!(null!==R&&void 0!==R&&R.length),B=(0,n.useCallback)(((e,a)=>{t.onResetPage(),P((t=>({...t,[e]:a})))}),[t]),I=(0,n.useCallback)((()=>{P(W)}),[]),L=(0,n.useCallback)((e=>{C.push(c.H.superadmin.tables.details(e))}),[C]);return _?(0,F.jsx)(j.a,{}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(l.Z,{maxWidth:!a.themeStretch&&"lg",children:[(0,F.jsx)(Z.Z,{heading:"Tables",links:[{name:"superadmin",href:c.H.superadmin.root},{name:"management tables",href:c.H.superadmin.tables.list},{name:"tables"}],sx:{mb:{xs:3,md:5}}}),(0,F.jsxs)(o.Z,{children:[(0,F.jsx)(H,{filters:y,onFilters:B,canReset:A,onResetFilters:I}),A&&(0,F.jsx)(M,{filters:y,onFilters:B,onResetFilters:I,results:null===R||void 0===R?void 0:R.length,sx:{p:2.5,pt:0}}),(0,F.jsx)(d.Z,{sx:{position:"relative",overflow:"unset"},children:(0,F.jsx)(g.Z,{children:(0,F.jsxs)(s.Z,{size:t.dense?"small":"medium",children:[(0,F.jsx)(w.K,{order:t.order,orderBy:t.orderBy,headLabel:[{id:"Table Name",label:"Table Name"},{id:"Notes",label:"Notes"},{id:"",width:190}],rowCount:R.length,numSelected:t.selected.length,onSort:t.onSort}),(0,F.jsxs)(r.Z,{children:[null===(e=R.slice(t.page*t.rowsPerPage,t.page*t.rowsPerPage+t.rowsPerPage))||void 0===e?void 0:e.map(((e,a)=>(0,F.jsx)(D,{row:e,selected:t.selected.includes(e.id),onViewRow:()=>L(e.tableName)},a))),(0,F.jsx)(w.$W,{height:S,emptyRows:(0,w.fQ)(t.page,t.rowsPerPage,null===R||void 0===R?void 0:R.length)}),(0,F.jsx)(w.et,{notFound:T})]})]})})}),(0,F.jsx)(w.S_,{count:null===R||void 0===R?void 0:R.length,page:t.page,rowsPerPage:t.rowsPerPage,onPageChange:t.onChangePage,onRowsPerPageChange:t.onChangeRowsPerPage,dense:t.dense,onChangeDense:t.onChangeDense})]})]}),(0,F.jsx)(m.Q,{open:f.value,onClose:f.onFalse,title:"Delete",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to delete ",(0,F.jsxs)("strong",{children:[" ",t.selected.length," "]})," items?"]}),action:(0,F.jsx)(i.Z,{variant:"contained",color:"error",onClick:()=>{f.onFalse()},children:"Delete"})})]})}var E=a(64802),N=a(61146),z=a(4419),O=a(89731),U=a(6385);var Q=a(65483),q=a(49172);var $=a(34045),K=a(61474),J=a(2101),G=a(20068),V=a(12065),X=a(82626),Y=a(13034);function ee(e){let{row:t,selected:a,onEditRow:n,onSelectRow:o,onInactivate:s,onActivate:l}=e;const{code:r,name_english:d,country:c,status:u,created_at:p,user_creation:g,ip_address_user_creation:v,updated_at:j,user_modification:Z,ip_address_user_modification:w,modifications_nums:f}=t,{t:b}=(0,I.qM)(),_=(0,h.k)(),D=(0,A.S)(),T=(0,A.S)(),B=((0,A.S)(),(0,F.jsxs)(y.Z,{hover:!0,selected:a,children:[(0,F.jsx)(P.Z,{padding:"checkbox",children:(0,F.jsx)(Y.Z,{checked:a,onClick:o})}),(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(C.Z,{children:r})}),(0,F.jsx)(P.Z,{align:"center",children:d}),(0,F.jsx)(P.Z,{align:"center",children:null===c||void 0===c?void 0:c.name_english}),(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(R.Z,{variant:"soft",color:("active"===u?"success":"inactive"===u&&"error")||"default",children:u})}),(0,F.jsx)(P.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,F.jsx)(k.Z,{color:D.open?"inherit":"default",onClick:D.onOpen,children:(0,F.jsx)(S.Z,{icon:"eva:more-vertical-fill"})})})]}));return(0,F.jsxs)(F.Fragment,{children:[B,(0,F.jsxs)(A.Z,{open:D.open,onClose:D.onClose,arrow:"right-top",sx:{width:140},children:["active"===u?(0,F.jsxs)(X.Z,{onClick:()=>{s(),D.onClose()},sx:{color:"error.main"},children:[(0,F.jsx)(S.Z,{icon:"ic:baseline-pause"}),"Inactivate"]}):(0,F.jsxs)(X.Z,{onClick:()=>{l(),D.onClose()},sx:{color:"success.main"},children:[(0,F.jsx)(S.Z,{icon:"bi:play-fill"}),"activate"]}),(0,F.jsxs)(X.Z,{onClick:()=>{n(),D.onClose()},children:[(0,F.jsx)(S.Z,{icon:"fluent:edit-32-filled"}),"Edit"]}),(0,F.jsxs)(X.Z,{onClick:T.onOpen,children:[(0,F.jsx)(S.Z,{icon:"carbon:data-quality-definition"}),"DDL"]})]}),(0,F.jsxs)(A.Z,{open:T.open,onClose:T.onClose,arrow:"right-top",sx:{padding:2,fontSize:"14px"},children:[(0,F.jsx)(C.Z,{sx:{fontWeight:600},children:"Creation Time:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,x.zM)(p)}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Creator:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===g||void 0===g?void 0:g.email}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Creator IP:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:v}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editing Time:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,x.zM)(j)}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editor:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===Z||void 0===Z?void 0:Z.email}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editor IP:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray",fontWeight:"400"},children:w}),(0,F.jsxs)(C.Z,{sx:{pt:1,fontWeight:600},children:["Modifications No: ",f]})]}),(0,F.jsx)(m.Q,{open:_.value,onClose:_.onFalse,title:"Delete",content:"Are you sure want to delete?",action:(0,F.jsx)(i.Z,{variant:"contained",color:"error",onClick:s,children:"Delete"})})]})}const te=[{value:"all",label:"all"},{value:"active",label:"active"},{value:"inactive",label:"inactive"}],ae=[{id:"code",label:"Code"},{id:"name",label:"name"},{id:"country",label:"Country"},{id:"status",label:"Status"},{id:"",width:88}],ne={name:"",status:"all"};function oe(){const e=(0,w.x6)({defaultOrderBy:"code"}),{t:t}=(0,I.qM)(),a=(0,n.useRef)(),x=(0,v.K$)(),C=(0,u.tv)(),f=(0,h.k)(),b=(0,h.k)(),{tableData:_,loading:y,refetch:P}=(0,p.Sf)(),[A,D]=(0,n.useState)(ne),T=!(!A.startDate||!A.endDate)&&A.startDate.getTime()>A.endDate.getTime(),B=function(e){let{inputData:t,comparator:a,filters:n,dateError:o}=e;const{status:s,name:i}=n,l=t.map(((e,t)=>[e,t]));l.sort(((e,t)=>{const n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t=l.map((e=>e[0])),i&&(t=t.filter((e=>{var t,a,n,o,s;return-1!==(null===e||void 0===e?void 0:e.name_english.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e?void 0:e.name_arabic)&&-1!==(null===e||void 0===e||null===(t=e.name_arabic)||void 0===t?void 0:t.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e||null===(a=e.country)||void 0===a?void 0:a.name_english)&&-1!==(null===e||void 0===e||null===(n=e.country)||void 0===n?void 0:n.name_english.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e||null===(o=e.country)||void 0===o?void 0:o.name_arabic)&&-1!==(null===e||void 0===e||null===(s=e.country)||void 0===s?void 0:s.name_arabic.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e?void 0:e._id)===i||JSON.stringify(e.code)===i})));"all"!==s&&(t=t.filter((e=>e.status===s)));return t}({inputData:_,comparator:(0,w.sQ)(e.order,e.orderBy),filters:A,dateError:T}),H=B.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),M=e.dense?52:72,W=!(null===A||void 0===A||!A.name)||"all"!==A.status,L=!B.length&&W||!B.length,X=(0,N.useReactToPrint)({content:()=>a.current}),Y=(0,n.useCallback)(((t,a)=>{e.onResetPage(),D((e=>({...e,[t]:a})))}),[e]),oe=(0,n.useCallback)((async t=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.city(t),"/updatestatus"),data:{status:"active"}}),P(),e.onUpdatePageDeleteRow(H.length)}),[H.length,e,P]),se=(0,n.useCallback)((async t=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.city(t),"/updatestatus"),data:{status:"inactive"}}),P(),e.onUpdatePageDeleteRow(H.length)}),[H.length,e,P]),ie=(0,n.useCallback)((async()=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.cities,"/updatemanystatus"),data:{status:"active",ids:e.selected}}),P(),e.onUpdatePageDeleteRows({totalRows:_.length,totalRowsInPage:H.length,totalRowsFiltered:B.length})}),[B.length,H.length,e,_,P]),le=(0,n.useCallback)((async()=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.cities,"/updatemanystatus"),data:{status:"inactive",ids:e.selected}}),P(),e.onUpdatePageDeleteRows({totalRows:_.length,totalRowsInPage:H.length,totalRowsFiltered:B.length})}),[B.length,H.length,e,_,P]),re=(0,n.useCallback)((e=>{C.push(c.H.superadmin.tables.cities.edit(e))}),[C]),de=(0,n.useCallback)((()=>{D(ne)}),[]),ce=(0,n.useCallback)(((e,t)=>{Y("status",t)}),[Y]);return y?(0,F.jsx)(j.a,{}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(l.Z,{maxWidth:!x.themeStretch&&"lg",children:[(0,F.jsx)(Z.Z,{heading:"Cities",links:[{name:"dashboard",href:c.H.superadmin.root},{name:"Tables",href:c.H.superadmin.tables.list},{name:"cities"}],action:(0,F.jsx)(i.Z,{component:z.r,href:c.H.superadmin.tables.cities.new,variant:"contained",startIcon:(0,F.jsx)(S.Z,{icon:"mingcute:add-line"}),children:"New City"}),sx:{mb:{xs:3,md:5}}}),(0,F.jsxs)(o.Z,{children:[(0,F.jsx)(J.Z,{value:A.status,onChange:ce,sx:{px:2.5,boxShadow:e=>"inset 0 -2px 0 0 ".concat((0,V.Fq)(e.palette.grey[500],.08))},children:te.map((e=>(0,F.jsx)(K.Z,{iconPosition:"end",value:e.value,label:e.label,icon:(0,F.jsxs)(R.Z,{variant:"all"===e.value||e.value===A.status?"filled":"soft",color:("active"===e.value?"success":"inactive"===e.value&&"error")||"default",children:["all"===e.value&&_.length,"active"===e.value&&_.filter((e=>"active"===e.status)).length,"inactive"===e.value&&_.filter((e=>"inactive"===e.status)).length]})},e.value)))}),(0,F.jsx)(Q.Z,{onPrint:X,filters:A,onFilters:Y,onDownload:()=>{const e=B.reduce(((e,t)=>{var a;return e.push({code:t.code,name:t.name_english,country:null===(a=t.country)||void 0===a?void 0:a.name_english,status:t.status}),e}),[]),t=$.P6.book_new(),a=$.P6.json_to_sheet(e);$.P6.book_append_sheet(t,a,"Sheet 1");const n=$.cW(t,{bookType:"xlsx",type:"array"}),o=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,E.saveAs)(o,"citiesTable.xlsx")},canReset:W,onResetFilters:de}),W&&(0,F.jsx)(q.Z,{filters:A,onFilters:Y,onResetFilters:de,results:B.length,sx:{p:2.5,pt:0}}),(0,F.jsxs)(d.Z,{children:[(0,F.jsx)(w.Z4,{numSelected:e.selected.length,rowCount:B.length,onSelectAllRows:t=>e.onSelectAllRows(t,B.map((e=>e._id))),action:(0,F.jsx)(F.Fragment,{children:B.filter((t=>e.selected.includes(t._id))).some((e=>"inactive"===e.status))?(0,F.jsx)(G.Z,{title:"Activate all",children:(0,F.jsx)(k.Z,{color:"primary",onClick:f.onTrue,children:(0,F.jsx)(S.Z,{icon:"codicon:run-all"})})}):(0,F.jsx)(G.Z,{title:"Inactivate all",children:(0,F.jsx)(k.Z,{color:"error",onClick:b.onTrue,children:(0,F.jsx)(S.Z,{icon:"iconoir:pause-solid"})})})}),color:B.filter((t=>e.selected.includes(t._id))).some((e=>"inactive"===e.status))?"primary":"error"}),(0,F.jsx)(g.Z,{children:(0,F.jsxs)(s.Z,{ref:a,size:e.dense?"small":"medium",children:[(0,F.jsx)(w.K,{order:e.order,orderBy:e.orderBy,headLabel:ae,rowCount:B.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:t=>e.onSelectAllRows(t,B.map((e=>e._id)))}),(0,F.jsxs)(r.Z,{children:[B.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map((t=>(0,F.jsx)(ee,{row:t,selected:e.selected.includes(t._id),onSelectRow:()=>e.onSelectRow(t._id),onActivate:()=>oe(t._id),onInactivate:()=>se(t._id),onEditRow:()=>re(t._id)},t._id))),(0,F.jsx)(w.$W,{height:M,emptyRows:(0,w.fQ)(e.page,e.rowsPerPage,_.length)}),(0,F.jsx)(w.et,{notFound:L})]})]})})]}),(0,F.jsx)(w.S_,{count:B.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),(0,F.jsx)(m.Q,{open:b.value,onClose:b.onFalse,title:"Inactivate",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to Inactivate ",(0,F.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,F.jsx)(i.Z,{variant:"contained",color:"error",onClick:()=>{le(),b.onFalse()},children:"Inactivate"})}),(0,F.jsx)(m.Q,{open:f.value,onClose:f.onFalse,title:"Activate",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to Activate ",(0,F.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,F.jsx)(i.Z,{variant:"contained",color:"primary",onClick:()=>{ie(),f.onFalse()},children:"Activate"})})]})}function se(e){let{row:t,selected:a,onEditRow:n,onSelectRow:o,onInactivate:s,onActivate:i,filters:l,setFilters:r}=e;const{code:d,name_english:c,country:u,city:h,status:p,created_at:g,user_creation:m,ip_address_user_creation:v,updated_at:j,user_modification:Z,ip_address_user_modification:w,modifications_nums:f}=t,{t:b}=(0,I.qM)(),_=(0,A.S)(),D=((0,A.S)(),(0,A.S)()),T=(0,F.jsxs)(y.Z,{hover:!0,selected:a,children:[(0,F.jsx)(P.Z,{padding:"checkbox",children:(0,F.jsx)(Y.Z,{checked:a,onClick:o})}),(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(C.Z,{children:d})}),(0,F.jsx)(P.Z,{align:"center",children:c}),(0,F.jsx)(P.Z,{align:"center",sx:{cursor:"pointer",color:"#3F54EB"},onClick:()=>r({...l,name:u.name_english}),children:null===u||void 0===u?void 0:u.name_english}),(0,F.jsx)(P.Z,{align:"center",sx:{cursor:"pointer",color:"#3F54EB"},onClick:()=>r({...l,name:h.name_english}),children:null===h||void 0===h?void 0:h.name_english}),(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(R.Z,{variant:"soft",color:("active"===p?"success":"inactive"===p&&"error")||"default",children:p})}),(0,F.jsx)(P.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,F.jsx)(k.Z,{color:D.open?"inherit":"default",onClick:D.onOpen,children:(0,F.jsx)(S.Z,{icon:"eva:more-vertical-fill"})})})]});return(0,F.jsxs)(F.Fragment,{children:[T,(0,F.jsxs)(A.Z,{open:D.open,onClose:D.onClose,arrow:"right-top",sx:{width:140},children:["active"===p?(0,F.jsxs)(X.Z,{onClick:()=>{s(),D.onClose()},sx:{color:"error.main"},children:[(0,F.jsx)(S.Z,{icon:"ic:baseline-pause"}),"Inactivate"]}):(0,F.jsxs)(X.Z,{onClick:()=>{i(),D.onClose()},sx:{color:"success.main"},children:[(0,F.jsx)(S.Z,{icon:"bi:play-fill"}),"activate"]}),(0,F.jsxs)(X.Z,{onClick:()=>{n(),D.onClose()},children:[(0,F.jsx)(S.Z,{icon:"fluent:edit-32-filled"}),"Edit"]}),(0,F.jsxs)(X.Z,{onClick:_.onOpen,children:[(0,F.jsx)(S.Z,{icon:"carbon:data-quality-definition"}),"DDL"]})]}),(0,F.jsxs)(A.Z,{open:_.open,onClose:_.onClose,arrow:"right-top",sx:{padding:2,fontSize:"14px"},children:[(0,F.jsx)(C.Z,{sx:{fontWeight:600},children:"Creation Time:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,x.zM)(g)}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Creator:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===m||void 0===m?void 0:m.email}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Creator IP:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:v}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editing Time:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,x.zM)(j)}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editor:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===Z||void 0===Z?void 0:Z.email}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editor IP:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray",fontWeight:"400"},children:w}),(0,F.jsxs)(C.Z,{sx:{pt:1,fontWeight:600},children:["Modifications No: ",f]})]})]})}const ie=[{value:"all",label:"all"},{value:"active",label:"active"},{value:"inactive",label:"inactive"}],le=[{id:"code",label:"Code"},{id:"name",label:"Name"},{id:"country",label:"Country"},{id:"city",label:"city"},{id:"status",label:"Status"},{id:"",width:88}],re={name:"",status:"all"};function de(){const e=(0,w.x6)({defaultOrderBy:"code"}),{t:t}=(0,I.qM)(),a=(0,n.useRef)(),x=(0,v.K$)(),C=(0,u.tv)(),f=(0,h.k)(),b=(0,h.k)(),{hospitalsData:_,loading:y,refetch:P}=(0,p.VM)(),[A,D]=(0,n.useState)(re),T=!(!A.startDate||!A.endDate)&&A.startDate.getTime()>A.endDate.getTime(),B=function(e){let{inputData:t,comparator:a,filters:n,dateError:o}=e;const{status:s,name:i}=n,l=t.map(((e,t)=>[e,t]));l.sort(((e,t)=>{const n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t=l.map((e=>e[0])),i&&(t=t.filter((e=>{var t,a,n,o,s,l,r,d,c;return-1!==(null===e||void 0===e?void 0:e.name_english.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e?void 0:e.name_arabic)&&-1!==(null===e||void 0===e||null===(t=e.name_arabic)||void 0===t?void 0:t.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e||null===(a=e.country)||void 0===a?void 0:a.name_english)&&-1!==(null===e||void 0===e||null===(n=e.country)||void 0===n?void 0:n.name_english.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e||null===(o=e.country)||void 0===o?void 0:o.name_arabic)&&-1!==(null===e||void 0===e||null===(s=e.country)||void 0===s?void 0:s.name_arabic.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e||null===(l=e.city)||void 0===l?void 0:l.name_english)&&-1!==(null===e||void 0===e||null===(r=e.city)||void 0===r?void 0:r.name_english.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e||null===(d=e.city)||void 0===d?void 0:d.name_arabic)&&-1!==(null===e||void 0===e||null===(c=e.city)||void 0===c?void 0:c.name_arabic.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e?void 0:e._id)===i||JSON.stringify(e.code)===i})));"all"!==s&&(t=t.filter((e=>e.status===s)));return t}({inputData:_,comparator:(0,w.sQ)(e.order,e.orderBy),filters:A,dateError:T}),H=B.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),M=e.dense?52:72,W=!(null===A||void 0===A||!A.name)||"all"!==A.status,L=!B.length&&W||!B.length,X=(0,N.useReactToPrint)({content:()=>a.current}),Y=(0,n.useCallback)(((t,a)=>{e.onResetPage(),D((e=>({...e,[t]:a})))}),[e]),ee=(0,n.useCallback)((async t=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.hospital(t),"/updatestatus"),data:{status:"active"}}),P(),e.onUpdatePageDeleteRow(H.length)}),[H.length,e,P]),te=(0,n.useCallback)((async t=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.hospital(t),"/updatestatus"),data:{status:"inactive"}}),P(),e.onUpdatePageDeleteRow(H.length)}),[H.length,e,P]),ae=(0,n.useCallback)((async()=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.hospitals,"/updatestatus"),data:{status:"active",ids:e.selected}}),P(),e.onUpdatePageDeleteRows({totalRows:_.length,totalRowsInPage:H.length,totalRowsFiltered:B.length})}),[B.length,H.length,e,_,P]),ne=(0,n.useCallback)((async()=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.hospitals,"/updatestatus"),data:{status:"inactive",ids:e.selected}}),P(),e.onUpdatePageDeleteRows({totalRows:_.length,totalRowsInPage:H.length,totalRowsFiltered:B.length})}),[B.length,H.length,e,_,P]),oe=(0,n.useCallback)((e=>{C.push(c.H.superadmin.tables.hospitallist.edit(e))}),[C]),de=(0,n.useCallback)((()=>{D(re)}),[]),ce=(0,n.useCallback)(((e,t)=>{Y("status",t)}),[Y]);return y?(0,F.jsx)(j.a,{}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(l.Z,{maxWidth:!x.themeStretch&&"lg",children:[(0,F.jsx)(Z.Z,{heading:"Hospital List",links:[{name:"dashboard",href:c.H.superadmin.root},{name:"Tables",href:c.H.superadmin.tables.list},{name:"Hospital List"}],action:(0,F.jsx)(i.Z,{component:z.r,href:c.H.superadmin.tables.hospitallist.new,variant:"contained",startIcon:(0,F.jsx)(S.Z,{icon:"mingcute:add-line"}),children:"New Hospital"}),sx:{mb:{xs:3,md:5}}}),(0,F.jsxs)(o.Z,{children:[(0,F.jsx)(J.Z,{value:A.status,onChange:ce,sx:{px:2.5,boxShadow:e=>"inset 0 -2px 0 0 ".concat((0,V.Fq)(e.palette.grey[500],.08))},children:ie.map((e=>(0,F.jsx)(K.Z,{iconPosition:"end",value:e.value,label:e.label,icon:(0,F.jsxs)(R.Z,{variant:"all"===e.value||e.value===A.status?"filled":"soft",color:("active"===e.value?"success":"inactive"===e.value&&"error")||"default",children:["all"===e.value&&_.length,"active"===e.value&&_.filter((e=>"active"===e.status)).length,"inactive"===e.value&&_.filter((e=>"inactive"===e.status)).length]})},e.value)))}),(0,F.jsx)(Q.Z,{onPrint:X,filters:A,onFilters:Y,onDownload:()=>{const e=B.reduce(((e,t)=>{var a;return e.push({code:t.code,name:t.name_english,country:null===(a=t.country)||void 0===a?void 0:a.name_english,status:t.status}),e}),[]),t=$.P6.book_new(),a=$.P6.json_to_sheet(e);$.P6.book_append_sheet(t,a,"Sheet 1");const n=$.cW(t,{bookType:"xlsx",type:"array"}),o=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,E.saveAs)(o,"HospitalsTable.xlsx")},canReset:W,onResetFilters:de}),W&&(0,F.jsx)(q.Z,{filters:A,onFilters:Y,onResetFilters:de,results:B.length,sx:{p:2.5,pt:0}}),(0,F.jsxs)(d.Z,{children:[(0,F.jsx)(w.Z4,{numSelected:e.selected.length,rowCount:B.length,onSelectAllRows:t=>e.onSelectAllRows(t,B.map((e=>e._id))),action:(0,F.jsx)(F.Fragment,{children:B.filter((t=>e.selected.includes(t._id))).some((e=>"inactive"===e.status))?(0,F.jsx)(G.Z,{title:"Activate all",children:(0,F.jsx)(k.Z,{color:"primary",onClick:f.onTrue,children:(0,F.jsx)(S.Z,{icon:"codicon:run-all"})})}):(0,F.jsx)(G.Z,{title:"Inactivate all",children:(0,F.jsx)(k.Z,{color:"error",onClick:b.onTrue,children:(0,F.jsx)(S.Z,{icon:"iconoir:pause-solid"})})})}),color:B.filter((t=>e.selected.includes(t._id))).some((e=>"inactive"===e.status))?"primary":"error"}),(0,F.jsx)(g.Z,{children:(0,F.jsxs)(s.Z,{ref:a,size:e.dense?"small":"medium",children:[(0,F.jsx)(w.K,{order:e.order,orderBy:e.orderBy,headLabel:le,rowCount:B.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:t=>e.onSelectAllRows(t,B.map((e=>e._id)))}),(0,F.jsxs)(r.Z,{children:[B.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map((t=>(0,F.jsx)(se,{row:t,selected:e.selected.includes(t._id),onSelectRow:()=>e.onSelectRow(t._id),onActivate:()=>ee(t._id),onInactivate:()=>te(t._id),onEditRow:()=>oe(t._id)},t._id))),(0,F.jsx)(w.$W,{height:M,emptyRows:(0,w.fQ)(e.page,e.rowsPerPage,_.length)}),(0,F.jsx)(w.et,{notFound:L})]})]})})]}),(0,F.jsx)(w.S_,{count:B.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),(0,F.jsx)(m.Q,{open:b.value,onClose:b.onFalse,title:"Inactivate",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to Inactivate ",(0,F.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,F.jsx)(i.Z,{variant:"contained",color:"error",onClick:()=>{ne(),b.onFalse()},children:"Inactivate"})}),(0,F.jsx)(m.Q,{open:f.value,onClose:f.onFalse,title:"Activate",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to Activate ",(0,F.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,F.jsx)(i.Z,{variant:"contained",color:"primary",onClick:()=>{ae(),f.onFalse()},children:"Activate"})})]})}function ce(e){let{row:t,selected:a,onEditRow:n,onSelectRow:o,onInactivate:s,onActivate:l,filters:r,setFilters:d}=e;const{code:c,name_english:u,unit_service:p,department:g,status:v,created_at:j,user_creation:Z,ip_address_user_creation:w,updated_at:f,user_modification:b,ip_address_user_modification:_,modifications_nums:D}=t,{t:T}=(0,I.qM)(),B=(0,h.k)(),H=(0,A.S)(),M=(0,A.S)(),W=((0,A.S)(),(0,F.jsxs)(y.Z,{hover:!0,selected:a,children:[(0,F.jsx)(P.Z,{padding:"checkbox",children:(0,F.jsx)(Y.Z,{checked:a,onClick:o})}),(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(C.Z,{children:c})}),(0,F.jsx)(P.Z,{align:"center",children:u}),(0,F.jsx)(P.Z,{align:"center",sx:{cursor:"pointer",color:"#3F54EB"},onClick:()=>d({...r,name:p.name_english}),children:null===p||void 0===p?void 0:p.name_english}),(0,F.jsx)(P.Z,{align:"center",sx:{cursor:"pointer",color:"#3F54EB"},onClick:()=>d({...r,name:g.name_english}),children:null===g||void 0===g?void 0:g.name_english}),(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(R.Z,{variant:"soft",color:("active"===v?"success":"inactive"===v&&"error")||"default",children:v})}),(0,F.jsx)(P.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,F.jsx)(k.Z,{color:H.open?"inherit":"default",onClick:H.onOpen,children:(0,F.jsx)(S.Z,{icon:"eva:more-vertical-fill"})})})]}));return(0,F.jsxs)(F.Fragment,{children:[W,(0,F.jsxs)(A.Z,{open:H.open,onClose:H.onClose,arrow:"right-top",sx:{width:140},children:["active"===v?(0,F.jsxs)(X.Z,{onClick:()=>{s(),H.onClose()},sx:{color:"error.main"},children:[(0,F.jsx)(S.Z,{icon:"ic:baseline-pause"}),"Inactivate"]}):(0,F.jsxs)(X.Z,{onClick:()=>{l(),H.onClose()},sx:{color:"success.main"},children:[(0,F.jsx)(S.Z,{icon:"bi:play-fill"}),"activate"]}),(0,F.jsxs)(X.Z,{onClick:()=>{n(),H.onClose()},children:[(0,F.jsx)(S.Z,{icon:"fluent:edit-32-filled"}),"Edit"]}),(0,F.jsxs)(X.Z,{onClick:M.onOpen,children:[(0,F.jsx)(S.Z,{icon:"carbon:data-quality-definition"}),"DDL"]})]}),(0,F.jsxs)(A.Z,{open:M.open,onClose:M.onClose,arrow:"right-top",sx:{padding:2,fontSize:"14px"},children:[(0,F.jsx)(C.Z,{sx:{fontWeight:600},children:"Creation Time:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,x.zM)(j)}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Creator:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===Z||void 0===Z?void 0:Z.email}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Creator IP:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:w}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editing Time:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,x.zM)(f)}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editor:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===b||void 0===b?void 0:b.email}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editor IP:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray",fontWeight:"400"},children:_}),(0,F.jsxs)(C.Z,{sx:{pt:1,fontWeight:600},children:["Modifications No: ",D]})]}),(0,F.jsx)(m.Q,{open:B.value,onClose:B.onFalse,title:"Delete",content:"Are you sure want to delete?",action:(0,F.jsx)(i.Z,{variant:"contained",color:"error",onClick:s,children:"Delete"})})]})}const ue=[{value:"all",label:"all"},{value:"active",label:"active"},{value:"inactive",label:"inactive"}],he=[{id:"code",label:"Code"},{id:"name",label:"Name"},{id:"unit_service",label:"Unit Service"},{id:"department",label:"Department"},{id:"status",label:"Status"},{id:"",width:88}],xe={name:"",status:"all"};function pe(){const e=(0,w.x6)({defaultOrderBy:"code"}),{t:t}=(0,I.qM)(),a=(0,n.useRef)(),x=(0,v.K$)(),C=(0,u.tv)(),f=(0,h.k)(),b=(0,h.k)(),{activitiesData:_,loading:y,refetch:P}=(0,p.hG)(),[A,D]=(0,n.useState)(xe),T=!(!A.startDate||!A.endDate)&&A.startDate.getTime()>A.endDate.getTime(),B=function(e){var t;let{inputData:a,comparator:n,filters:o,dateError:s}=e;const{status:i,name:l}=o,r=null===(t=a)||void 0===t?void 0:t.map(((e,t)=>[e,t]));r.sort(((e,t)=>{const a=n(e[0],t[0]);return 0!==a?a:e[1]-t[1]})),a=r.map((e=>e[0])),l&&(a=a.filter((e=>{var t,a,n,o,s,i,r,d,c,u,h,x,p,g,m,v,j,Z,w,C;return(null===e||void 0===e?void 0:e.name_english)&&-1!==(null===e||void 0===e||null===(t=e.name_english)||void 0===t||null===(a=t.toLowerCase())||void 0===a?void 0:a.indexOf(l.toLowerCase()))||(null===e||void 0===e?void 0:e.name_arabic)&&-1!==(null===e||void 0===e||null===(n=e.name_arabic)||void 0===n||null===(o=n.toLowerCase())||void 0===o?void 0:o.indexOf(l.toLowerCase()))||(null===e||void 0===e||null===(s=e.unit_service)||void 0===s?void 0:s.name_english)&&-1!==(null===e||void 0===e||null===(i=e.unit_service)||void 0===i||null===(r=i.name_english)||void 0===r||null===(d=r.toLowerCase())||void 0===d?void 0:d.indexOf(l.toLowerCase()))||(null===e||void 0===e||null===(c=e.unit_service)||void 0===c?void 0:c.name_arabic)&&-1!==(null===e||void 0===e||null===(u=e.unit_service)||void 0===u||null===(h=u.name_arabic)||void 0===h||null===(x=h.toLowerCase())||void 0===x?void 0:x.indexOf(l.toLowerCase()))||(null===e||void 0===e||null===(p=e.department)||void 0===p?void 0:p.name_english)&&-1!==(null===e||void 0===e||null===(g=e.department)||void 0===g||null===(m=g.name_english)||void 0===m||null===(v=m.toLowerCase())||void 0===v?void 0:v.indexOf(l.toLowerCase()))||(null===e||void 0===e||null===(j=e.department)||void 0===j?void 0:j.name_english)&&-1!==(null===e||void 0===e||null===(Z=e.department)||void 0===Z||null===(w=Z.name_arabic)||void 0===w||null===(C=w.toLowerCase())||void 0===C?void 0:C.indexOf(l.toLowerCase()))||(null===e||void 0===e?void 0:e._id)===l||JSON.stringify(e.code)===l})));"all"!==i&&(a=a.filter((e=>e.status===i)));return a}({inputData:_,comparator:(0,w.sQ)(e.order,e.orderBy),filters:A,dateError:T}),H=B.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),M=e.dense?52:72,W=!(null===A||void 0===A||!A.name)||"all"!==A.status,L=!B.length&&W||!B.length,X=(0,N.useReactToPrint)({content:()=>a.current}),Y=(0,n.useCallback)(((t,a)=>{e.onResetPage(),D((e=>({...e,[t]:a})))}),[e]),ee=(0,n.useCallback)((async t=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.activity(t),"/updatestatus"),data:{status:"active"}}),P(),e.onUpdatePageDeleteRow(H.length)}),[H.length,e,P]),te=(0,n.useCallback)((async t=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.activity(t),"/updatestatus"),data:{status:"inactive"}}),P(),e.onUpdatePageDeleteRow(H.length)}),[H.length,e,P]),ae=(0,n.useCallback)((async()=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.activities,"/updatestatus"),data:{status:"active",ids:e.selected}}),P(),e.onUpdatePageDeleteRows({totalRows:_.length,totalRowsInPage:H.length,totalRowsFiltered:B.length})}),[B.length,H.length,e,_,P]),ne=(0,n.useCallback)((async()=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.activities,"/updatestatus"),data:{status:"inactive",ids:e.selected}}),P(),e.onUpdatePageDeleteRows({totalRows:_.length,totalRowsInPage:H.length,totalRowsFiltered:B.length})}),[B.length,H.length,e,_,P]),oe=(0,n.useCallback)((e=>{C.push(c.H.superadmin.tables.activities.edit(e))}),[C]),se=(0,n.useCallback)((()=>{D(xe)}),[]),ie=(0,n.useCallback)(((e,t)=>{Y("status",t)}),[Y]);return y?(0,F.jsx)(j.a,{}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(l.Z,{maxWidth:!x.themeStretch&&"lg",children:[(0,F.jsx)(Z.Z,{heading:"Activities",links:[{name:"dashboard",href:c.H.superadmin.root},{name:"Tables",href:c.H.superadmin.tables.list},{name:"Activities"}],action:(0,F.jsx)(i.Z,{component:z.r,href:c.H.superadmin.tables.activities.new,variant:"contained",startIcon:(0,F.jsx)(S.Z,{icon:"mingcute:add-line"}),children:"New Activity"}),sx:{mb:{xs:3,md:5}}}),(0,F.jsxs)(o.Z,{children:[(0,F.jsx)(J.Z,{value:A.status,onChange:ie,sx:{px:2.5,boxShadow:e=>"inset 0 -2px 0 0 ".concat((0,V.Fq)(e.palette.grey[500],.08))},children:ue.map((e=>(0,F.jsx)(K.Z,{iconPosition:"end",value:e.value,label:e.label,icon:(0,F.jsxs)(R.Z,{variant:"all"===e.value||e.value===A.status?"filled":"soft",color:("active"===e.value?"success":"inactive"===e.value&&"error")||"default",children:["all"===e.value&&_.length,"active"===e.value&&_.filter((e=>"active"===e.status)).length,"inactive"===e.value&&_.filter((e=>"inactive"===e.status)).length]})},e.value)))}),(0,F.jsx)(Q.Z,{onPrint:X,filters:A,onFilters:Y,onDownload:()=>{const e=B.reduce(((e,t)=>{var a;return e.push({code:t.code,name:t.name_english,country:null===(a=t.country)||void 0===a?void 0:a.name_english,status:t.status}),e}),[]),t=$.P6.book_new(),a=$.P6.json_to_sheet(e);$.P6.book_append_sheet(t,a,"Sheet 1");const n=$.cW(t,{bookType:"xlsx",type:"array"}),o=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,E.saveAs)(o,"ActivitiesTable.xlsx")},canReset:W,onResetFilters:se}),W&&(0,F.jsx)(q.Z,{filters:A,onFilters:Y,onResetFilters:se,results:B.length,sx:{p:2.5,pt:0}}),(0,F.jsxs)(d.Z,{children:[(0,F.jsx)(w.Z4,{numSelected:e.selected.length,rowCount:B.length,onSelectAllRows:t=>e.onSelectAllRows(t,B.map((e=>e._id))),action:(0,F.jsx)(F.Fragment,{children:B.filter((t=>e.selected.includes(t._id))).some((e=>"inactive"===e.status))?(0,F.jsx)(G.Z,{title:"Activate all",children:(0,F.jsx)(k.Z,{color:"primary",onClick:f.onTrue,children:(0,F.jsx)(S.Z,{icon:"codicon:run-all"})})}):(0,F.jsx)(G.Z,{title:"Inactivate all",children:(0,F.jsx)(k.Z,{color:"error",onClick:b.onTrue,children:(0,F.jsx)(S.Z,{icon:"iconoir:pause-solid"})})})}),color:B.filter((t=>e.selected.includes(t._id))).some((e=>"inactive"===e.status))?"primary":"error"}),(0,F.jsx)(g.Z,{children:(0,F.jsxs)(s.Z,{ref:a,size:e.dense?"small":"medium",children:[(0,F.jsx)(w.K,{order:e.order,orderBy:e.orderBy,headLabel:he,rowCount:B.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:t=>e.onSelectAllRows(t,B.map((e=>e._id)))}),(0,F.jsxs)(r.Z,{children:[B.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map((t=>(0,F.jsx)(ce,{row:t,selected:e.selected.includes(t._id),setFilters:D,filters:A,onSelectRow:()=>e.onSelectRow(t._id),onActivate:()=>ee(t._id),onInactivate:()=>te(t._id),onEditRow:()=>oe(t._id)},t._id))),(0,F.jsx)(w.$W,{height:M,emptyRows:(0,w.fQ)(e.page,e.rowsPerPage,_.length)}),(0,F.jsx)(w.et,{notFound:L})]})]})})]}),(0,F.jsx)(w.S_,{count:B.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),(0,F.jsx)(m.Q,{open:b.value,onClose:b.onFalse,title:"Inactivate",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to Inactivate ",(0,F.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,F.jsx)(i.Z,{variant:"contained",color:"error",onClick:()=>{ne(),b.onFalse()},children:"Inactivate"})}),(0,F.jsx)(m.Q,{open:f.value,onClose:f.onFalse,title:"Activate",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to Activate ",(0,F.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,F.jsx)(i.Z,{variant:"contained",color:"primary",onClick:()=>{ae(),f.onFalse()},children:"Activate"})})]})}function ge(e){let{row:t,selected:a,onEditRow:n,onSelectRow:o,onInactivate:s,onActivate:i,filters:l,setFilters:r}=e;const{code:d,name_english:c,unit_service:u,start_time:p,end_time:g,status:m,created_at:v,user_creation:j,ip_address_user_creation:Z,updated_at:w,user_modification:f,ip_address_user_modification:b,modifications_nums:_}=t,{t:D}=(0,I.qM)(),T=((0,h.k)(),(0,A.S)()),B=(0,A.S)(),H=((0,A.S)(),(0,F.jsxs)(y.Z,{hover:!0,selected:a,children:[(0,F.jsx)(P.Z,{padding:"checkbox",children:(0,F.jsx)(Y.Z,{checked:a,onClick:o})}),(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(C.Z,{children:d})}),(0,F.jsx)(P.Z,{align:"center",children:c}),(0,F.jsx)(P.Z,{align:"center",sx:{cursor:"pointer",color:"#3F54EB"},onClick:()=>r({...l,name:u.name_english}),children:null===u||void 0===u?void 0:u.name_english}),(0,F.jsx)(P.Z,{align:"center",children:(0,x.Je)(p)}),(0,F.jsx)(P.Z,{align:"center",children:(0,x.Je)(g)}),(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(R.Z,{variant:"soft",color:("active"===m?"success":"inactive"===m&&"error")||"default",children:m})}),(0,F.jsx)(P.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,F.jsx)(k.Z,{color:T.open?"inherit":"default",onClick:T.onOpen,children:(0,F.jsx)(S.Z,{icon:"eva:more-vertical-fill"})})})]}));return(0,F.jsxs)(F.Fragment,{children:[H,(0,F.jsxs)(A.Z,{open:T.open,onClose:T.onClose,arrow:"right-top",sx:{width:140},children:["active"===m?(0,F.jsxs)(X.Z,{onClick:()=>{s(),T.onClose()},sx:{color:"error.main"},children:[(0,F.jsx)(S.Z,{icon:"ic:baseline-pause"}),"Inactivate"]}):(0,F.jsxs)(X.Z,{onClick:()=>{i(),T.onClose()},sx:{color:"success.main"},children:[(0,F.jsx)(S.Z,{icon:"bi:play-fill"}),"activate"]}),(0,F.jsxs)(X.Z,{onClick:()=>{n(),T.onClose()},children:[(0,F.jsx)(S.Z,{icon:"fluent:edit-32-filled"}),"Edit"]}),(0,F.jsxs)(X.Z,{onClick:B.onOpen,children:[(0,F.jsx)(S.Z,{icon:"carbon:data-quality-definition"}),"DDL"]})]}),(0,F.jsxs)(A.Z,{open:B.open,onClose:B.onClose,arrow:"right-top",sx:{padding:2,fontSize:"14px"},children:[(0,F.jsx)(C.Z,{sx:{fontWeight:600},children:"Creation Time:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,x.zM)(v)}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Creator:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===j||void 0===j?void 0:j.email}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Creator IP:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:Z}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editing Time:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,x.zM)(w)}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editor:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===f||void 0===f?void 0:f.email}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editor IP:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray",fontWeight:"400"},children:b}),(0,F.jsxs)(C.Z,{sx:{pt:1,fontWeight:600},children:["Modifications No: ",_]})]})]})}const me=[{value:"all",label:"all"},{value:"active",label:"active"},{value:"inactive",label:"inactive"}],ve=[{id:"code",label:"Code"},{id:"name",label:"Name"},{id:"unit_service",label:"Unit Service"},{id:"start_date",label:"Start Date"},{id:"end_date",label:"End Date"},{id:"status",label:"Status"},{id:"",width:88}],je={name:"",status:"all"};function Ze(){const e=(0,w.x6)({defaultOrderBy:"code"}),{t:t}=(0,I.qM)(),a=(0,n.useRef)(),x=(0,v.K$)(),C=(0,u.tv)(),f=(0,h.k)(),b=(0,h.k)(),{workShiftsData:_,loading:y,refetch:P}=(0,p.PF)(),[A,D]=(0,n.useState)(je),T=!(!A.startDate||!A.endDate)&&A.startDate.getTime()>A.endDate.getTime(),B=function(e){let{inputData:t,comparator:a,filters:n,dateError:o}=e;const{status:s,name:i}=n,l=t.map(((e,t)=>[e,t]));l.sort(((e,t)=>{const n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t=l.map((e=>e[0])),i&&(t=t.filter((e=>{var t,a,n,o,s;return-1!==(null===e||void 0===e?void 0:e.name_english.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e?void 0:e.name_arabic)&&-1!==(null===e||void 0===e||null===(t=e.name_arabic)||void 0===t?void 0:t.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e||null===(a=e.unit_service)||void 0===a?void 0:a.name_english)&&-1!==(null===e||void 0===e||null===(n=e.unit_service)||void 0===n?void 0:n.name_english.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e||null===(o=e.unit_service)||void 0===o?void 0:o.name_arabic)&&-1!==(null===e||void 0===e||null===(s=e.unit_service)||void 0===s?void 0:s.name_arabic.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e?void 0:e._id)===i||JSON.stringify(e.code)===i})));"all"!==s&&(t=t.filter((e=>e.status===s)));return t}({inputData:_,comparator:(0,w.sQ)(e.order,e.orderBy),filters:A,dateError:T}),H=B.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),M=e.dense?52:72,W=!(null===A||void 0===A||!A.name)||"all"!==A.status,L=!B.length&&W||!B.length,X=(0,N.useReactToPrint)({content:()=>a.current}),Y=(0,n.useCallback)(((t,a)=>{e.onResetPage(),D((e=>({...e,[t]:a})))}),[e]),ee=(0,n.useCallback)((async t=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.workshift(t),"/updatestatus"),data:{status:"active"}}),P(),e.onUpdatePageDeleteRow(H.length)}),[H.length,e,P]),te=(0,n.useCallback)((async t=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.workshift(t),"/updatestatus"),data:{status:"inactive"}}),P(),e.onUpdatePageDeleteRow(H.length)}),[H.length,e,P]),ae=(0,n.useCallback)((async()=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.workshifts,"/updatestatus"),data:{status:"active",ids:e.selected}}),P(),e.onUpdatePageDeleteRows({totalRows:_.length,totalRowsInPage:H.length,totalRowsFiltered:B.length})}),[B.length,H.length,e,_,P]),ne=(0,n.useCallback)((async()=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.workshifts,"/updatestatus"),data:{status:"inactive",ids:e.selected}}),P(),e.onUpdatePageDeleteRows({totalRows:_.length,totalRowsInPage:H.length,totalRowsFiltered:B.length})}),[B.length,H.length,e,_,P]),oe=(0,n.useCallback)((e=>{C.push(c.H.superadmin.tables.workshifts.edit(e))}),[C]),se=(0,n.useCallback)((()=>{D(je)}),[]),ie=(0,n.useCallback)(((e,t)=>{Y("status",t)}),[Y]);return y?(0,F.jsx)(j.a,{}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(l.Z,{maxWidth:!x.themeStretch&&"lg",children:[(0,F.jsx)(Z.Z,{heading:"Work Shifts",links:[{name:"dashboard",href:c.H.superadmin.root},{name:"Tables",href:c.H.superadmin.tables.list},{name:"Work Shifts"}],action:(0,F.jsx)(i.Z,{component:z.r,href:c.H.superadmin.tables.workshifts.new,variant:"contained",startIcon:(0,F.jsx)(S.Z,{icon:"mingcute:add-line"}),children:"New Work Shift"}),sx:{mb:{xs:3,md:5}}}),(0,F.jsxs)(o.Z,{children:[(0,F.jsx)(J.Z,{value:A.status,onChange:ie,sx:{px:2.5,boxShadow:e=>"inset 0 -2px 0 0 ".concat((0,V.Fq)(e.palette.grey[500],.08))},children:me.map((e=>(0,F.jsx)(K.Z,{iconPosition:"end",value:e.value,label:e.label,icon:(0,F.jsxs)(R.Z,{variant:"all"===e.value||e.value===A.status?"filled":"soft",color:("active"===e.value?"success":"inactive"===e.value&&"error")||"default",children:["all"===e.value&&_.length,"active"===e.value&&_.filter((e=>"active"===e.status)).length,"inactive"===e.value&&_.filter((e=>"inactive"===e.status)).length]})},e.value)))}),(0,F.jsx)(Q.Z,{onPrint:X,filters:A,onFilters:Y,onDownload:()=>{const e=B.reduce(((e,t)=>{var a;return e.push({code:t.code,name:t.name_english,country:null===(a=t.country)||void 0===a?void 0:a.name_english,status:t.status}),e}),[]),t=$.P6.book_new(),a=$.P6.json_to_sheet(e);$.P6.book_append_sheet(t,a,"Sheet 1");const n=$.cW(t,{bookType:"xlsx",type:"array"}),o=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,E.saveAs)(o,"WorkShiftsTable.xlsx")},canReset:W,onResetFilters:se}),W&&(0,F.jsx)(q.Z,{filters:A,onFilters:Y,onResetFilters:se,results:B.length,sx:{p:2.5,pt:0}}),(0,F.jsxs)(d.Z,{children:[(0,F.jsx)(w.Z4,{numSelected:e.selected.length,rowCount:B.length,onSelectAllRows:t=>e.onSelectAllRows(t,B.map((e=>e._id))),action:(0,F.jsx)(F.Fragment,{children:B.filter((t=>e.selected.includes(t._id))).some((e=>"inactive"===e.status))?(0,F.jsx)(G.Z,{title:"Activate all",children:(0,F.jsx)(k.Z,{color:"primary",onClick:f.onTrue,children:(0,F.jsx)(S.Z,{icon:"codicon:run-all"})})}):(0,F.jsx)(G.Z,{title:"Inactivate all",children:(0,F.jsx)(k.Z,{color:"error",onClick:b.onTrue,children:(0,F.jsx)(S.Z,{icon:"iconoir:pause-solid"})})})}),color:B.filter((t=>e.selected.includes(t._id))).some((e=>"inactive"===e.status))?"primary":"error"}),(0,F.jsx)(g.Z,{children:(0,F.jsxs)(s.Z,{ref:a,size:e.dense?"small":"medium",children:[(0,F.jsx)(w.K,{order:e.order,orderBy:e.orderBy,headLabel:ve,rowCount:B.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:t=>e.onSelectAllRows(t,B.map((e=>e._id)))}),(0,F.jsxs)(r.Z,{children:[B.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map((t=>(0,F.jsx)(ge,{row:t,selected:e.selected.includes(t._id),onSelectRow:()=>e.onSelectRow(t._id),onActivate:()=>ee(t._id),onInactivate:()=>te(t._id),onEditRow:()=>oe(t._id)},t._id))),(0,F.jsx)(w.$W,{height:M,emptyRows:(0,w.fQ)(e.page,e.rowsPerPage,_.length)}),(0,F.jsx)(w.et,{notFound:L})]})]})})]}),(0,F.jsx)(w.S_,{count:B.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),(0,F.jsx)(m.Q,{open:b.value,onClose:b.onFalse,title:"Inactivate",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to Inactivate ",(0,F.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,F.jsx)(i.Z,{variant:"contained",color:"error",onClick:()=>{ne(),b.onFalse()},children:"Inactivate"})}),(0,F.jsx)(m.Q,{open:f.value,onClose:f.onFalse,title:"Activate",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to Activate ",(0,F.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,F.jsx)(i.Z,{variant:"contained",color:"primary",onClick:()=>{ae(),f.onFalse()},children:"Activate"})})]})}function we(e){let{row:t,selected:a,onEditRow:n,onSelectRow:o,onInactivate:s,onActivate:i,filters:l,setFilters:r}=e;const{code:d,name_english:c,unit_service:u,work_shift:p,Measurement_type:g,Price_per_unit:m,status:v,created_at:j,user_creation:Z,ip_address_user_creation:w,updated_at:f,user_modification:b,ip_address_user_modification:_,modifications_nums:D}=t,{t:T}=(0,I.qM)(),B=((0,h.k)(),(0,A.S)()),H=(0,A.S)(),M=((0,A.S)(),(0,F.jsxs)(y.Z,{hover:!0,selected:a,children:[(0,F.jsx)(P.Z,{padding:"checkbox",children:(0,F.jsx)(Y.Z,{checked:a,onClick:o})}),(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(C.Z,{children:d})}),(0,F.jsx)(P.Z,{align:"center",children:c}),(0,F.jsx)(P.Z,{align:"center",sx:{cursor:"pointer",color:"#3F54EB"},onClick:()=>r({...l,name:u.name_english}),children:null===u||void 0===u?void 0:u.name_english}),(0,F.jsx)(P.Z,{align:"center",sx:{cursor:"pointer",color:"#3F54EB"},onClick:()=>r({...l,name:p.name_english}),children:null===p||void 0===p?void 0:p.name_english}),(0,F.jsx)(P.Z,{align:"center",children:m}),(0,F.jsx)(P.Z,{align:"center",sx:{cursor:"pointer",color:"#3F54EB"},onClick:()=>r({...l,name:g.name_english}),children:null===g||void 0===g?void 0:g.name_english}),(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(R.Z,{variant:"soft",color:("active"===v?"success":"inactive"===v&&"error")||"default",children:v})}),(0,F.jsx)(P.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,F.jsx)(k.Z,{color:B.open?"inherit":"default",onClick:B.onOpen,children:(0,F.jsx)(S.Z,{icon:"eva:more-vertical-fill"})})})]}));return(0,F.jsxs)(F.Fragment,{children:[M,(0,F.jsxs)(A.Z,{open:B.open,onClose:B.onClose,arrow:"right-top",sx:{width:140},children:["active"===v?(0,F.jsxs)(X.Z,{onClick:()=>{s(),B.onClose()},sx:{color:"error.main"},children:[(0,F.jsx)(S.Z,{icon:"ic:baseline-pause"}),"Inactivate"]}):(0,F.jsxs)(X.Z,{onClick:()=>{i(),B.onClose()},sx:{color:"success.main"},children:[(0,F.jsx)(S.Z,{icon:"bi:play-fill"}),"activate"]}),(0,F.jsxs)(X.Z,{onClick:()=>{n(),B.onClose()},children:[(0,F.jsx)(S.Z,{icon:"fluent:edit-32-filled"}),"Edit"]}),(0,F.jsxs)(X.Z,{onClick:H.onOpen,children:[(0,F.jsx)(S.Z,{icon:"carbon:data-quality-definition"}),"DDL"]})]}),(0,F.jsxs)(A.Z,{open:H.open,onClose:H.onClose,arrow:"right-top",sx:{padding:2,fontSize:"14px"},children:[(0,F.jsx)(C.Z,{sx:{fontWeight:600},children:"Creation Time:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,x.zM)(j)}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Creator:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===Z||void 0===Z?void 0:Z.email}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Creator IP:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:w}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editing Time:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,x.zM)(f)}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editor:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===b||void 0===b?void 0:b.email}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editor IP:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray",fontWeight:"400"},children:_}),(0,F.jsxs)(C.Z,{sx:{pt:1,fontWeight:600},children:["Modifications No: ",D]})]})]})}const Ce=[{value:"all",label:"all"},{value:"active",label:"active"},{value:"inactive",label:"inactive"}],fe=[{id:"code",label:"Code"},{id:"name",label:"Name"},{id:"unit_service",label:"Unit Service"},{id:"work_shift",label:"Work Shift"},{id:"Price_per_unit",label:"Price per unit"},{id:"Measurement_type",label:"Measurement type"},{id:"status",label:"Status"},{id:"",width:88}],be={name:"",status:"all"};function _e(){const e=(0,w.x6)({defaultOrderBy:"code"}),{t:t}=(0,I.qM)(),a=(0,n.useRef)(),x=(0,v.K$)(),C=(0,u.tv)(),f=(0,h.k)(),b=(0,h.k)(),{serviceTypesData:_,loading:y,refetch:P}=(0,p.pv)(),[A,D]=(0,n.useState)(be),T=!(!A.startDate||!A.endDate)&&A.startDate.getTime()>A.endDate.getTime(),B=function(e){let{inputData:t,comparator:a,filters:n,dateError:o}=e;const{status:s,name:i}=n,l=t.map(((e,t)=>[e,t]));l.sort(((e,t)=>{const n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t=l.map((e=>e[0])),i&&(t=t.filter((e=>{var t,a,n,o,s,l,r,d,c;return-1!==(null===e||void 0===e?void 0:e.name_english.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e?void 0:e.name_arabic)&&-1!==(null===e||void 0===e||null===(t=e.name_arabic)||void 0===t?void 0:t.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e||null===(a=e.unit_service)||void 0===a?void 0:a.name_english)&&-1!==(null===e||void 0===e||null===(n=e.unit_service)||void 0===n?void 0:n.name_english.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e||null===(o=e.unit_service)||void 0===o?void 0:o.name_arabic)&&-1!==(null===e||void 0===e||null===(s=e.unit_service)||void 0===s?void 0:s.name_arabic.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e||null===(l=e.work_shift)||void 0===l?void 0:l.name_english)&&-1!==(null===e||void 0===e||null===(r=e.work_shift)||void 0===r?void 0:r.name_english.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e||null===(d=e.work_shift)||void 0===d?void 0:d.name_arabic)&&-1!==(null===e||void 0===e||null===(c=e.work_shift)||void 0===c?void 0:c.name_arabic.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e?void 0:e._id)===i||JSON.stringify(e.code)===i})));"all"!==s&&(t=t.filter((e=>e.status===s)));return t}({inputData:_,comparator:(0,w.sQ)(e.order,e.orderBy),filters:A,dateError:T}),H=B.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),M=e.dense?52:72,W=!(null===A||void 0===A||!A.name)||"all"!==A.status,L=!B.length&&W||!B.length,X=(0,N.useReactToPrint)({content:()=>a.current}),Y=(0,n.useCallback)(((t,a)=>{e.onResetPage(),D((e=>({...e,[t]:a})))}),[e]),ee=(0,n.useCallback)((async t=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.servicetype(t),"/updatestatus"),data:{status:"active"}}),P(),e.onUpdatePageDeleteRow(H.length)}),[H.length,e,P]),te=(0,n.useCallback)((async t=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.servicetype(t),"/updatestatus"),data:{status:"inactive"}}),P(),e.onUpdatePageDeleteRow(H.length)}),[H.length,e,P]),ae=(0,n.useCallback)((async()=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.servicetypes,"/updatestatus"),data:{status:"active",ids:e.selected}}),P(),e.onUpdatePageDeleteRows({totalRows:_.length,totalRowsInPage:H.length,totalRowsFiltered:B.length})}),[B.length,H.length,e,_,P]),ne=(0,n.useCallback)((async()=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.servicetypes,"/updatestatus"),data:{status:"inactive",ids:e.selected}}),P(),e.onUpdatePageDeleteRows({totalRows:_.length,totalRowsInPage:H.length,totalRowsFiltered:B.length})}),[B.length,H.length,e,_,P]),oe=(0,n.useCallback)((e=>{C.push(c.H.superadmin.tables.servicetypes.edit(e))}),[C]),se=(0,n.useCallback)((()=>{D(be)}),[]),ie=(0,n.useCallback)(((e,t)=>{Y("status",t)}),[Y]);return y?(0,F.jsx)(j.a,{}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(l.Z,{maxWidth:!x.themeStretch&&"lg",children:[(0,F.jsx)(Z.Z,{heading:"Service Types",links:[{name:"dashboard",href:c.H.superadmin.root},{name:"Tables",href:c.H.superadmin.tables.list},{name:"Service Types"}],action:(0,F.jsx)(i.Z,{component:z.r,href:c.H.superadmin.tables.servicetypes.new,variant:"contained",startIcon:(0,F.jsx)(S.Z,{icon:"mingcute:add-line"}),children:"New Service Type"}),sx:{mb:{xs:3,md:5}}}),(0,F.jsxs)(o.Z,{children:[(0,F.jsx)(J.Z,{value:A.status,onChange:ie,sx:{px:2.5,boxShadow:e=>"inset 0 -2px 0 0 ".concat((0,V.Fq)(e.palette.grey[500],.08))},children:Ce.map((e=>(0,F.jsx)(K.Z,{iconPosition:"end",value:e.value,label:e.label,icon:(0,F.jsxs)(R.Z,{variant:"all"===e.value||e.value===A.status?"filled":"soft",color:("active"===e.value?"success":"inactive"===e.value&&"error")||"default",children:["all"===e.value&&_.length,"active"===e.value&&_.filter((e=>"active"===e.status)).length,"inactive"===e.value&&_.filter((e=>"inactive"===e.status)).length]})},e.value)))}),(0,F.jsx)(Q.Z,{onPrint:X,filters:A,onFilters:Y,onDownload:()=>{const e=B.reduce(((e,t)=>{var a;return e.push({code:t.code,name:t.name_english,country:null===(a=t.country)||void 0===a?void 0:a.name_english,status:t.status}),e}),[]),t=$.P6.book_new(),a=$.P6.json_to_sheet(e);$.P6.book_append_sheet(t,a,"Sheet 1");const n=$.cW(t,{bookType:"xlsx",type:"array"}),o=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,E.saveAs)(o,"ServiceTypesTable.xlsx")},canReset:W,onResetFilters:se}),W&&(0,F.jsx)(q.Z,{filters:A,onFilters:Y,onResetFilters:se,results:B.length,sx:{p:2.5,pt:0}}),(0,F.jsxs)(d.Z,{children:[(0,F.jsx)(w.Z4,{numSelected:e.selected.length,rowCount:B.length,onSelectAllRows:t=>e.onSelectAllRows(t,B.map((e=>e._id))),action:(0,F.jsx)(F.Fragment,{children:B.filter((t=>e.selected.includes(t._id))).some((e=>"inactive"===e.status))?(0,F.jsx)(G.Z,{title:"Activate all",children:(0,F.jsx)(k.Z,{color:"primary",onClick:f.onTrue,children:(0,F.jsx)(S.Z,{icon:"codicon:run-all"})})}):(0,F.jsx)(G.Z,{title:"Inactivate all",children:(0,F.jsx)(k.Z,{color:"error",onClick:b.onTrue,children:(0,F.jsx)(S.Z,{icon:"iconoir:pause-solid"})})})}),color:B.filter((t=>e.selected.includes(t._id))).some((e=>"inactive"===e.status))?"primary":"error"}),(0,F.jsx)(g.Z,{children:(0,F.jsxs)(s.Z,{ref:a,size:e.dense?"small":"medium",children:[(0,F.jsx)(w.K,{order:e.order,orderBy:e.orderBy,headLabel:fe,rowCount:B.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:t=>e.onSelectAllRows(t,B.map((e=>e._id)))}),(0,F.jsxs)(r.Z,{children:[B.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map((t=>(0,F.jsx)(we,{row:t,selected:e.selected.includes(t._id),onSelectRow:()=>e.onSelectRow(t._id),onActivate:()=>ee(t._id),onInactivate:()=>te(t._id),onEditRow:()=>oe(t._id)},t._id))),(0,F.jsx)(w.$W,{height:M,emptyRows:(0,w.fQ)(e.page,e.rowsPerPage,_.length)}),(0,F.jsx)(w.et,{notFound:L})]})]})})]}),(0,F.jsx)(w.S_,{count:B.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),(0,F.jsx)(m.Q,{open:b.value,onClose:b.onFalse,title:"Inactivate",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to Inactivate ",(0,F.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,F.jsx)(i.Z,{variant:"contained",color:"error",onClick:()=>{ne(),b.onFalse()},children:"Inactivate"})}),(0,F.jsx)(m.Q,{open:f.value,onClose:f.onFalse,title:"Activate",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to Activate ",(0,F.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,F.jsx)(i.Z,{variant:"contained",color:"primary",onClick:()=>{ae(),f.onFalse()},children:"Activate"})})]})}function ye(e){let{row:t,selected:a,onEditRow:n,onSelectRow:o,onInactivate:s,onActivate:i,filters:l,setFilters:r}=e;const{code:d,name_english:c,unit_service:u,status:h,created_at:p,user_creation:g,ip_address_user_creation:m,updated_at:v,user_modification:j,ip_address_user_modification:Z,modifications_nums:w}=t,{t:f}=(0,I.qM)(),b=(0,A.S)(),_=((0,A.S)(),(0,A.S)()),D=(0,F.jsxs)(y.Z,{hover:!0,selected:a,children:[(0,F.jsx)(P.Z,{padding:"checkbox",children:(0,F.jsx)(Y.Z,{checked:a,onClick:o})}),(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(C.Z,{children:d})}),(0,F.jsx)(P.Z,{align:"center",children:c}),(0,F.jsx)(P.Z,{align:"center",sx:{cursor:"pointer",color:"#3F54EB"},onClick:()=>r({...l,name:u.name_english}),children:null===u||void 0===u?void 0:u.name_english}),(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(R.Z,{variant:"soft",color:("active"===h?"success":"inactive"===h&&"error")||"default",children:h})}),(0,F.jsx)(P.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,F.jsx)(k.Z,{color:_.open?"inherit":"default",onClick:_.onOpen,children:(0,F.jsx)(S.Z,{icon:"eva:more-vertical-fill"})})})]});return(0,F.jsxs)(F.Fragment,{children:[D,(0,F.jsxs)(A.Z,{open:_.open,onClose:_.onClose,arrow:"right-top",sx:{width:140},children:["active"===h?(0,F.jsxs)(X.Z,{onClick:()=>{s(),_.onClose()},sx:{color:"error.main"},children:[(0,F.jsx)(S.Z,{icon:"ic:baseline-pause"}),"Inactivate"]}):(0,F.jsxs)(X.Z,{onClick:()=>{i(),_.onClose()},sx:{color:"success.main"},children:[(0,F.jsx)(S.Z,{icon:"bi:play-fill"}),"activate"]}),(0,F.jsxs)(X.Z,{onClick:()=>{n(),_.onClose()},children:[(0,F.jsx)(S.Z,{icon:"fluent:edit-32-filled"}),"Edit"]}),(0,F.jsxs)(X.Z,{onClick:b.onOpen,children:[(0,F.jsx)(S.Z,{icon:"carbon:data-quality-definition"}),"DDL"]})]}),(0,F.jsxs)(A.Z,{open:b.open,onClose:b.onClose,arrow:"right-top",sx:{padding:2,fontSize:"14px"},children:[(0,F.jsx)(C.Z,{sx:{fontWeight:600},children:"Creation Time:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,x.zM)(p)}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Creator:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===g||void 0===g?void 0:g.email}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Creator IP:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:m}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editing Time:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,x.zM)(v)}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editor:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===j||void 0===j?void 0:j.email}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editor IP:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray",fontWeight:"400"},children:Z}),(0,F.jsxs)(C.Z,{sx:{pt:1,fontWeight:600},children:["Modifications No: ",w]})]})]})}const Pe=[{value:"all",label:"all"},{value:"active",label:"active"},{value:"inactive",label:"inactive"}],ke=[{id:"code",label:"Code"},{id:"name",label:"Name"},{id:"unit_service",label:"Unit Service"},{id:"status",label:"Status"},{id:"",width:88}],Re={name:"",status:"all"};function Se(){const e=(0,w.x6)({defaultOrderBy:"code"}),{t:t}=(0,I.qM)(),a=(0,n.useRef)(),x=(0,v.K$)(),C=(0,u.tv)(),f=(0,h.k)(),b=(0,h.k)(),{employeeTypesData:_,loading:y,refetch:P}=(0,p.A3)(),[A,D]=(0,n.useState)(Re),T=!(!A.startDate||!A.endDate)&&A.startDate.getTime()>A.endDate.getTime(),B=function(e){let{inputData:t,comparator:a,filters:n,dateError:o}=e;const{status:s,name:i}=n,l=t.map(((e,t)=>[e,t]));l.sort(((e,t)=>{const n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t=l.map((e=>e[0])),i&&(t=t.filter((e=>{var t,a,n,o,s;return-1!==(null===e||void 0===e?void 0:e.name_english.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e?void 0:e.name_arabic)&&-1!==(null===e||void 0===e||null===(t=e.name_arabic)||void 0===t?void 0:t.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e||null===(a=e.unit_service)||void 0===a?void 0:a.name_english)&&-1!==(null===e||void 0===e||null===(n=e.unit_service)||void 0===n?void 0:n.name_english.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e||null===(o=e.unit_service)||void 0===o?void 0:o.name_arabic)&&-1!==(null===e||void 0===e||null===(s=e.unit_service)||void 0===s?void 0:s.name_arabic.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e?void 0:e._id)===i||JSON.stringify(e.code)===i})));"all"!==s&&(t=t.filter((e=>e.status===s)));return t}({inputData:_,comparator:(0,w.sQ)(e.order,e.orderBy),filters:A,dateError:T}),H=B.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),M=e.dense?52:72,W=!(null===A||void 0===A||!A.name)||"all"!==A.status,L=!B.length&&W||!B.length,X=(0,N.useReactToPrint)({content:()=>a.current}),Y=(0,n.useCallback)(((t,a)=>{e.onResetPage(),D((e=>({...e,[t]:a})))}),[e]),ee=(0,n.useCallback)((async t=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.employeetype(t),"/updatestatus"),data:{status:"active"}}),P(),e.onUpdatePageDeleteRow(H.length)}),[H.length,e,P]),te=(0,n.useCallback)((async t=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.employeetype(t),"/updatestatus"),data:{status:"inactive"}}),P(),e.onUpdatePageDeleteRow(H.length)}),[H.length,e,P]),ae=(0,n.useCallback)((async()=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.employeetypes,"/updatestatus"),data:{status:"active",ids:e.selected}}),P(),e.onUpdatePageDeleteRows({totalRows:_.length,totalRowsInPage:H.length,totalRowsFiltered:B.length})}),[B.length,H.length,e,_,P]),ne=(0,n.useCallback)((async()=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.employeetypes,"/updatestatus"),data:{status:"inactive",ids:e.selected}}),P(),e.onUpdatePageDeleteRows({totalRows:_.length,totalRowsInPage:H.length,totalRowsFiltered:B.length})}),[B.length,H.length,e,_,P]),oe=(0,n.useCallback)((e=>{C.push(c.H.superadmin.tables.employeetypes.edit(e))}),[C]),se=(0,n.useCallback)((()=>{D(Re)}),[]),ie=(0,n.useCallback)(((e,t)=>{Y("status",t)}),[Y]);return y?(0,F.jsx)(j.a,{}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(l.Z,{maxWidth:!x.themeStretch&&"lg",children:[(0,F.jsx)(Z.Z,{heading:"Employee Types",links:[{name:"dashboard",href:c.H.superadmin.root},{name:"Tables",href:c.H.superadmin.tables.list},{name:"Employee Types"}],action:(0,F.jsx)(i.Z,{component:z.r,href:c.H.superadmin.tables.employeetypes.new,variant:"contained",startIcon:(0,F.jsx)(S.Z,{icon:"mingcute:add-line"}),children:"New Employee Type"}),sx:{mb:{xs:3,md:5}}}),(0,F.jsxs)(o.Z,{children:[(0,F.jsx)(J.Z,{value:A.status,onChange:ie,sx:{px:2.5,boxShadow:e=>"inset 0 -2px 0 0 ".concat((0,V.Fq)(e.palette.grey[500],.08))},children:Pe.map((e=>(0,F.jsx)(K.Z,{iconPosition:"end",value:e.value,label:e.label,icon:(0,F.jsxs)(R.Z,{variant:"all"===e.value||e.value===A.status?"filled":"soft",color:("active"===e.value?"success":"inactive"===e.value&&"error")||"default",children:["all"===e.value&&_.length,"active"===e.value&&_.filter((e=>"active"===e.status)).length,"inactive"===e.value&&_.filter((e=>"inactive"===e.status)).length]})},e.value)))}),(0,F.jsx)(Q.Z,{onPrint:X,filters:A,onFilters:Y,onDownload:()=>{const e=B.reduce(((e,t)=>{var a;return e.push({code:t.code,name:t.name_english,country:null===(a=t.country)||void 0===a?void 0:a.name_english,status:t.status}),e}),[]),t=$.P6.book_new(),a=$.P6.json_to_sheet(e);$.P6.book_append_sheet(t,a,"Sheet 1");const n=$.cW(t,{bookType:"xlsx",type:"array"}),o=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,E.saveAs)(o,"EmployeeTypesData.xlsx")},canReset:W,onResetFilters:se}),W&&(0,F.jsx)(q.Z,{filters:A,onFilters:Y,onResetFilters:se,results:B.length,sx:{p:2.5,pt:0}}),(0,F.jsxs)(d.Z,{children:[(0,F.jsx)(w.Z4,{numSelected:e.selected.length,rowCount:B.length,onSelectAllRows:t=>e.onSelectAllRows(t,B.map((e=>e._id))),action:(0,F.jsx)(F.Fragment,{children:B.filter((t=>e.selected.includes(t._id))).some((e=>"inactive"===e.status))?(0,F.jsx)(G.Z,{title:"Activate all",children:(0,F.jsx)(k.Z,{color:"primary",onClick:f.onTrue,children:(0,F.jsx)(S.Z,{icon:"codicon:run-all"})})}):(0,F.jsx)(G.Z,{title:"Inactivate all",children:(0,F.jsx)(k.Z,{color:"error",onClick:b.onTrue,children:(0,F.jsx)(S.Z,{icon:"iconoir:pause-solid"})})})}),color:B.filter((t=>e.selected.includes(t._id))).some((e=>"inactive"===e.status))?"primary":"error"}),(0,F.jsx)(g.Z,{children:(0,F.jsxs)(s.Z,{ref:a,size:e.dense?"small":"medium",children:[(0,F.jsx)(w.K,{order:e.order,orderBy:e.orderBy,headLabel:ke,rowCount:B.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:t=>e.onSelectAllRows(t,B.map((e=>e._id)))}),(0,F.jsxs)(r.Z,{children:[B.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map((t=>(0,F.jsx)(ye,{row:t,selected:e.selected.includes(t._id),onSelectRow:()=>e.onSelectRow(t._id),onActivate:()=>ee(t._id),onInactivate:()=>te(t._id),onEditRow:()=>oe(t._id)},t._id))),(0,F.jsx)(w.$W,{height:M,emptyRows:(0,w.fQ)(e.page,e.rowsPerPage,_.length)}),(0,F.jsx)(w.et,{notFound:L})]})]})})]}),(0,F.jsx)(w.S_,{count:B.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),(0,F.jsx)(m.Q,{open:b.value,onClose:b.onFalse,title:"Inactivate",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to Inactivate ",(0,F.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,F.jsx)(i.Z,{variant:"contained",color:"error",onClick:()=>{ne(),b.onFalse()},children:"Inactivate"})}),(0,F.jsx)(m.Q,{open:f.value,onClose:f.onFalse,title:"Activate",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to Activate ",(0,F.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,F.jsx)(i.Z,{variant:"contained",color:"primary",onClick:()=>{ae(),f.onFalse()},children:"Activate"})})]})}function Ae(e){let{row:t,selected:a,onEditRow:n,onSelectRow:o,onInactivate:s,onActivate:i,filters:l,setFilters:r}=e;const{code:d,name_english:c,status:u,created_at:p,user_creation:g,ip_address_user_creation:m,updated_at:v,user_modification:j,ip_address_user_modification:Z,modifications_nums:w}=t,{t:f}=(0,I.qM)(),b=((0,h.k)(),(0,A.S)()),_=(0,A.S)(),D=((0,A.S)(),(0,F.jsxs)(y.Z,{hover:!0,selected:a,children:[(0,F.jsx)(P.Z,{padding:"checkbox",children:(0,F.jsx)(Y.Z,{checked:a,onClick:o})}),(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(C.Z,{children:d})}),(0,F.jsx)(P.Z,{align:"center",children:c}),(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(R.Z,{variant:"soft",color:("active"===u?"success":"inactive"===u&&"error")||"default",children:u})}),(0,F.jsx)(P.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,F.jsx)(k.Z,{color:b.open?"inherit":"default",onClick:b.onOpen,children:(0,F.jsx)(S.Z,{icon:"eva:more-vertical-fill"})})})]}));return(0,F.jsxs)(F.Fragment,{children:[D,(0,F.jsxs)(A.Z,{open:b.open,onClose:b.onClose,arrow:"right-top",sx:{width:140},children:["active"===u?(0,F.jsxs)(X.Z,{onClick:()=>{s(),b.onClose()},sx:{color:"error.main"},children:[(0,F.jsx)(S.Z,{icon:"ic:baseline-pause"}),"Inactivate"]}):(0,F.jsxs)(X.Z,{onClick:()=>{i(),b.onClose()},sx:{color:"success.main"},children:[(0,F.jsx)(S.Z,{icon:"bi:play-fill"}),"activate"]}),(0,F.jsxs)(X.Z,{onClick:()=>{n(),b.onClose()},children:[(0,F.jsx)(S.Z,{icon:"fluent:edit-32-filled"}),"Edit"]}),(0,F.jsxs)(X.Z,{onClick:_.onOpen,children:[(0,F.jsx)(S.Z,{icon:"carbon:data-quality-definition"}),"DDL"]})]}),(0,F.jsxs)(A.Z,{open:_.open,onClose:_.onClose,arrow:"right-top",sx:{padding:2,fontSize:"14px"},children:[(0,F.jsx)(C.Z,{sx:{fontWeight:600},children:"Creation Time:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,x.zM)(p)}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Creator:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===g||void 0===g?void 0:g.email}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Creator IP:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:m}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editing Time:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,x.zM)(v)}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editor:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===j||void 0===j?void 0:j.email}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editor IP:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray",fontWeight:"400"},children:Z}),(0,F.jsxs)(C.Z,{sx:{pt:1,fontWeight:600},children:["Modifications No: ",w]})]})]})}const Fe=[{value:"all",label:"all"},{value:"active",label:"active"},{value:"inactive",label:"inactive"}],De=[{id:"code",label:"Code"},{id:"name",label:"Name"},{id:"status",label:"Status"},{id:"",width:88}],Te={name:"",status:"all"};function Be(){const e=(0,w.x6)({defaultOrderBy:"code"}),{t:t}=(0,I.qM)(),a=(0,n.useRef)(),x=(0,v.K$)(),C=(0,u.tv)(),f=(0,h.k)(),b=(0,h.k)(),{paymentMethodsData:_,loading:y,refetch:P}=(0,p.wf)(),[A,D]=(0,n.useState)(Te),T=!(!A.startDate||!A.endDate)&&A.startDate.getTime()>A.endDate.getTime(),B=function(e){let{inputData:t,comparator:a,filters:n,dateError:o}=e;const{status:s,name:i}=n,l=t.map(((e,t)=>[e,t]));l.sort(((e,t)=>{const n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t=l.map((e=>e[0])),i&&(t=t.filter((e=>{var t;return-1!==(null===e||void 0===e?void 0:e.name_english.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e?void 0:e.name_arabic)&&-1!==(null===e||void 0===e||null===(t=e.name_arabic)||void 0===t?void 0:t.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e?void 0:e._id)===i||JSON.stringify(e.code)===i})));"all"!==s&&(t=t.filter((e=>e.status===s)));return t}({inputData:_,comparator:(0,w.sQ)(e.order,e.orderBy),filters:A,dateError:T}),H=B.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),M=e.dense?52:72,W=!(null===A||void 0===A||!A.name)||"all"!==A.status,L=!B.length&&W||!B.length,X=(0,N.useReactToPrint)({content:()=>a.current}),Y=(0,n.useCallback)(((t,a)=>{e.onResetPage(),D((e=>({...e,[t]:a})))}),[e]),ee=(0,n.useCallback)((async t=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.paymentmethod(t),"/updatestatus"),data:{status:"active"}}),P(),e.onUpdatePageDeleteRow(H.length)}),[H.length,e,P]),te=(0,n.useCallback)((async t=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.paymentmethod(t),"/updatestatus"),data:{status:"inactive"}}),P(),e.onUpdatePageDeleteRow(H.length)}),[H.length,e,P]),ae=(0,n.useCallback)((async()=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.paymentmethods,"/updatestatus"),data:{status:"active",ids:e.selected}}),P(),e.onUpdatePageDeleteRows({totalRows:_.length,totalRowsInPage:H.length,totalRowsFiltered:B.length})}),[B.length,H.length,e,_,P]),ne=(0,n.useCallback)((async()=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.paymentmethods,"/updatestatus"),data:{status:"inactive",ids:e.selected}}),P(),e.onUpdatePageDeleteRows({totalRows:_.length,totalRowsInPage:H.length,totalRowsFiltered:B.length})}),[B.length,H.length,e,_,P]),oe=(0,n.useCallback)((e=>{C.push(c.H.superadmin.tables.paymentmethods.edit(e))}),[C]),se=(0,n.useCallback)((()=>{D(Te)}),[]),ie=(0,n.useCallback)(((e,t)=>{Y("status",t)}),[Y]);return y?(0,F.jsx)(j.a,{}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(l.Z,{maxWidth:!x.themeStretch&&"lg",children:[(0,F.jsx)(Z.Z,{heading:"Payment Methods",links:[{name:"dashboard",href:c.H.superadmin.root},{name:"Tables",href:c.H.superadmin.tables.list},{name:"Payment Methods"}],action:(0,F.jsx)(i.Z,{component:z.r,href:c.H.superadmin.tables.paymentmethods.new,variant:"contained",startIcon:(0,F.jsx)(S.Z,{icon:"mingcute:add-line"}),children:"New Payment Method"}),sx:{mb:{xs:3,md:5}}}),(0,F.jsxs)(o.Z,{children:[(0,F.jsx)(J.Z,{value:A.status,onChange:ie,sx:{px:2.5,boxShadow:e=>"inset 0 -2px 0 0 ".concat((0,V.Fq)(e.palette.grey[500],.08))},children:Fe.map((e=>(0,F.jsx)(K.Z,{iconPosition:"end",value:e.value,label:e.label,icon:(0,F.jsxs)(R.Z,{variant:"all"===e.value||e.value===A.status?"filled":"soft",color:("active"===e.value?"success":"inactive"===e.value&&"error")||"default",children:["all"===e.value&&_.length,"active"===e.value&&_.filter((e=>"active"===e.status)).length,"inactive"===e.value&&_.filter((e=>"inactive"===e.status)).length]})},e.value)))}),(0,F.jsx)(Q.Z,{onPrint:X,filters:A,onFilters:Y,onDownload:()=>{const e=B.reduce(((e,t)=>{var a;return e.push({code:t.code,name:t.name_english,country:null===(a=t.country)||void 0===a?void 0:a.name_english,status:t.status}),e}),[]),t=$.P6.book_new(),a=$.P6.json_to_sheet(e);$.P6.book_append_sheet(t,a,"Sheet 1");const n=$.cW(t,{bookType:"xlsx",type:"array"}),o=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,E.saveAs)(o,"PaymentMethodsTable.xlsx")},canReset:W,onResetFilters:se}),W&&(0,F.jsx)(q.Z,{filters:A,onFilters:Y,onResetFilters:se,results:B.length,sx:{p:2.5,pt:0}}),(0,F.jsxs)(d.Z,{children:[(0,F.jsx)(w.Z4,{numSelected:e.selected.length,rowCount:B.length,onSelectAllRows:t=>e.onSelectAllRows(t,B.map((e=>e._id))),action:(0,F.jsx)(F.Fragment,{children:B.filter((t=>e.selected.includes(t._id))).some((e=>"inactive"===e.status))?(0,F.jsx)(G.Z,{title:"Activate all",children:(0,F.jsx)(k.Z,{color:"primary",onClick:f.onTrue,children:(0,F.jsx)(S.Z,{icon:"codicon:run-all"})})}):(0,F.jsx)(G.Z,{title:"Inactivate all",children:(0,F.jsx)(k.Z,{color:"error",onClick:b.onTrue,children:(0,F.jsx)(S.Z,{icon:"iconoir:pause-solid"})})})}),color:B.filter((t=>e.selected.includes(t._id))).some((e=>"inactive"===e.status))?"primary":"error"}),(0,F.jsx)(g.Z,{children:(0,F.jsxs)(s.Z,{ref:a,size:e.dense?"small":"medium",children:[(0,F.jsx)(w.K,{order:e.order,orderBy:e.orderBy,headLabel:De,rowCount:B.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:t=>e.onSelectAllRows(t,B.map((e=>e._id)))}),(0,F.jsxs)(r.Z,{children:[B.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map((t=>(0,F.jsx)(Ae,{row:t,selected:e.selected.includes(t._id),onSelectRow:()=>e.onSelectRow(t._id),onActivate:()=>ee(t._id),onInactivate:()=>te(t._id),onEditRow:()=>oe(t._id)},t._id))),(0,F.jsx)(w.$W,{height:M,emptyRows:(0,w.fQ)(e.page,e.rowsPerPage,_.length)}),(0,F.jsx)(w.et,{notFound:L})]})]})})]}),(0,F.jsx)(w.S_,{count:B.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),(0,F.jsx)(m.Q,{open:b.value,onClose:b.onFalse,title:"Inactivate",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to Inactivate ",(0,F.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,F.jsx)(i.Z,{variant:"contained",color:"error",onClick:()=>{ne(),b.onFalse()},children:"Inactivate"})}),(0,F.jsx)(m.Q,{open:f.value,onClose:f.onFalse,title:"Activate",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to Activate ",(0,F.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,F.jsx)(i.Z,{variant:"contained",color:"primary",onClick:()=>{ae(),f.onFalse()},children:"Activate"})})]})}function Ie(e){let{row:t,selected:a,onEditRow:n,onSelectRow:o,onInactivate:s,onActivate:i,filters:l,setFilters:r}=e;const{code:d,name_english:c,unit_service:u,Employee:h,Service:p,type:g,Comment:m,percentage:v,status:j,created_at:Z,user_creation:w,ip_address_user_creation:f,updated_at:b,user_modification:_,ip_address_user_modification:D,modifications_nums:T}=t,{t:B}=(0,I.qM)(),H=(0,A.S)(),M=((0,A.S)(),(0,A.S)()),W=(0,F.jsxs)(y.Z,{hover:!0,selected:a,children:[(0,F.jsx)(P.Z,{padding:"checkbox",children:(0,F.jsx)(Y.Z,{checked:a,onClick:o})}),(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(C.Z,{children:d})}),(0,F.jsx)(P.Z,{align:"center",children:c}),(0,F.jsx)(P.Z,{align:"center",sx:{cursor:"pointer",color:"#3F54EB"},onClick:()=>r({...l,name:null===u||void 0===u?void 0:u.name_english}),children:null===u||void 0===u?void 0:u.name_english}),(0,F.jsx)(P.Z,{align:"center",sx:{cursor:"pointer",color:"#3F54EB"},onClick:()=>r({...l,name:null===h||void 0===h?void 0:h.name_english}),children:null===h||void 0===h?void 0:h.name_english}),(0,F.jsx)(P.Z,{align:"center",sx:{cursor:"pointer",color:"#3F54EB"},onClick:()=>r({...l,name:null===p||void 0===p?void 0:p.name_english}),children:null===p||void 0===p?void 0:p.name_english}),(0,F.jsx)(P.Z,{align:"center",sx:{cursor:"pointer",color:"#3F54EB"},onClick:()=>r({...l,name:g}),children:null===g||void 0===g?void 0:g.name_english}),(0,F.jsx)(P.Z,{align:"center",children:m}),(0,F.jsx)(P.Z,{align:"center",children:v}),(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(R.Z,{variant:"soft",color:("active"===j?"success":"inactive"===j&&"error")||"default",children:j})}),(0,F.jsx)(P.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,F.jsx)(k.Z,{color:M.open?"inherit":"default",onClick:M.onOpen,children:(0,F.jsx)(S.Z,{icon:"eva:more-vertical-fill"})})})]});return(0,F.jsxs)(F.Fragment,{children:[W,(0,F.jsxs)(A.Z,{open:M.open,onClose:M.onClose,arrow:"right-top",sx:{width:140},children:["active"===j?(0,F.jsxs)(X.Z,{onClick:()=>{s(),M.onClose()},sx:{color:"error.main"},children:[(0,F.jsx)(S.Z,{icon:"ic:baseline-pause"}),"Inactivate"]}):(0,F.jsxs)(X.Z,{onClick:()=>{i(),M.onClose()},sx:{color:"success.main"},children:[(0,F.jsx)(S.Z,{icon:"bi:play-fill"}),"activate"]}),(0,F.jsxs)(X.Z,{onClick:()=>{n(),M.onClose()},children:[(0,F.jsx)(S.Z,{icon:"fluent:edit-32-filled"}),"Edit"]}),(0,F.jsxs)(X.Z,{onClick:H.onOpen,children:[(0,F.jsx)(S.Z,{icon:"carbon:data-quality-definition"}),"DDL"]})]}),(0,F.jsxs)(A.Z,{open:H.open,onClose:H.onClose,arrow:"right-top",sx:{padding:2,fontSize:"14px"},children:[(0,F.jsx)(C.Z,{sx:{fontWeight:600},children:"Creation Time:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,x.zM)(Z)}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Creator:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===w||void 0===w?void 0:w.email}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Creator IP:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:f}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editing Time:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,x.zM)(b)}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editor:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===_||void 0===_?void 0:_.email}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editor IP:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray",fontWeight:"400"},children:D}),(0,F.jsxs)(C.Z,{sx:{pt:1,fontWeight:600},children:["Modifications No: ",T]})]})]})}const He=[{value:"all",label:"all"},{value:"active",label:"active"},{value:"inactive",label:"inactive"}],Me=[{id:"code",label:"Code"},{id:"name",label:"Name"},{id:"unit_service",label:"Unit Service"},{id:"Employee",label:"Employee"},{id:"Service",label:"Service"},{id:"type",label:"type"},{id:"Comment",label:"Comment"},{id:"percentage",label:"percentage"},{id:"status",label:"Status"},{id:"",width:88}],We={name:"",status:"all"};function Le(){const e=(0,w.x6)({defaultOrderBy:"code"}),{t:t}=(0,I.qM)(),a=(0,n.useRef)(),x=(0,v.K$)(),C=(0,u.tv)(),f=(0,h.k)(),b=(0,h.k)(),{deductionsData:_,loading:y,refetch:P}=(0,p.e6)(),[A,D]=(0,n.useState)(We),T=!(!A.startDate||!A.endDate)&&A.startDate.getTime()>A.endDate.getTime(),B=function(e){var t;let{inputData:a,comparator:n,filters:o,dateError:s}=e;const{status:i,name:l}=o,r=null===(t=a)||void 0===t?void 0:t.map(((e,t)=>[e,t]));r.sort(((e,t)=>{const a=n(e[0],t[0]);return 0!==a?a:e[1]-t[1]})),a=r.map((e=>e[0])),l&&(a=a.filter((e=>{var t,a,n,o,s;return-1!==(null===e||void 0===e?void 0:e.name_english.toLowerCase().indexOf(l.toLowerCase()))||(null===e||void 0===e?void 0:e.name_arabic)&&-1!==(null===e||void 0===e||null===(t=e.name_arabic)||void 0===t?void 0:t.toLowerCase().indexOf(l.toLowerCase()))||(null===e||void 0===e||null===(a=e.unit_service)||void 0===a?void 0:a.name_english)&&-1!==(null===e||void 0===e||null===(n=e.unit_service)||void 0===n?void 0:n.name_english.toLowerCase().indexOf(l.toLowerCase()))||(null===e||void 0===e||null===(o=e.unit_service)||void 0===o?void 0:o.name_arabic)&&-1!==(null===e||void 0===e||null===(s=e.unit_service)||void 0===s?void 0:s.name_arabic.toLowerCase().indexOf(l.toLowerCase()))||(null===e||void 0===e?void 0:e._id)===l||JSON.stringify(e.code)===l})));"all"!==i&&(a=a.filter((e=>e.status===i)));return a}({inputData:_,comparator:(0,w.sQ)(e.order,e.orderBy),filters:A,dateError:T}),H=B.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),M=e.dense?52:72,W=!(null===A||void 0===A||!A.name)||"all"!==A.status,L=!B.length&&W||!B.length,X=(0,N.useReactToPrint)({content:()=>a.current}),Y=(0,n.useCallback)(((t,a)=>{e.onResetPage(),D((e=>({...e,[t]:a})))}),[e]),ee=(0,n.useCallback)((async t=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.deduction(t),"/updatestatus"),data:{status:"active"}}),P(),e.onUpdatePageDeleteRow(H.length)}),[H.length,e,P]),te=(0,n.useCallback)((async t=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.deduction(t),"/updatestatus"),data:{status:"inactive"}}),P(),e.onUpdatePageDeleteRow(H.length)}),[H.length,e,P]),ae=(0,n.useCallback)((async()=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.deductions,"/updatestatus"),data:{status:"active",ids:e.selected}}),P(),e.onUpdatePageDeleteRows({totalRows:_.length,totalRowsInPage:H.length,totalRowsFiltered:B.length})}),[B.length,H.length,e,_,P]),ne=(0,n.useCallback)((async()=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.deductions,"/updatestatus"),data:{status:"inactive",ids:e.selected}}),P(),e.onUpdatePageDeleteRows({totalRows:_.length,totalRowsInPage:H.length,totalRowsFiltered:B.length})}),[B.length,H.length,e,_,P]),oe=(0,n.useCallback)((e=>{C.push(c.H.superadmin.tables.deductionconfig.edit(e))}),[C]),se=(0,n.useCallback)((()=>{D(We)}),[]),ie=(0,n.useCallback)(((e,t)=>{Y("status",t)}),[Y]);return y?(0,F.jsx)(j.a,{}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(l.Z,{maxWidth:!x.themeStretch&&"lg",children:[(0,F.jsx)(Z.Z,{heading:"Deduction Config",links:[{name:"dashboard",href:c.H.superadmin.root},{name:"Tables",href:c.H.superadmin.tables.list},{name:"Deduction Config"}],action:(0,F.jsx)(i.Z,{component:z.r,href:c.H.superadmin.tables.deductionconfig.new,variant:"contained",startIcon:(0,F.jsx)(S.Z,{icon:"mingcute:add-line"}),children:"New Deduction Config"}),sx:{mb:{xs:3,md:5}}}),(0,F.jsxs)(o.Z,{children:[(0,F.jsx)(J.Z,{value:A.status,onChange:ie,sx:{px:2.5,boxShadow:e=>"inset 0 -2px 0 0 ".concat((0,V.Fq)(e.palette.grey[500],.08))},children:He.map((e=>(0,F.jsx)(K.Z,{iconPosition:"end",value:e.value,label:e.label,icon:(0,F.jsxs)(R.Z,{variant:"all"===e.value||e.value===A.status?"filled":"soft",color:("active"===e.value?"success":"inactive"===e.value&&"error")||"default",children:["all"===e.value&&_.length,"active"===e.value&&_.filter((e=>"active"===e.status)).length,"inactive"===e.value&&_.filter((e=>"inactive"===e.status)).length]})},e.value)))}),(0,F.jsx)(Q.Z,{onPrint:X,filters:A,onFilters:Y,onDownload:()=>{const e=B.reduce(((e,t)=>{var a;return e.push({code:t.code,name:t.name_english,country:null===(a=t.country)||void 0===a?void 0:a.name_english,status:t.status}),e}),[]),t=$.P6.book_new(),a=$.P6.json_to_sheet(e);$.P6.book_append_sheet(t,a,"Sheet 1");const n=$.cW(t,{bookType:"xlsx",type:"array"}),o=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,E.saveAs)(o,"DeductionsTable.xlsx")},canReset:W,onResetFilters:se}),W&&(0,F.jsx)(q.Z,{filters:A,onFilters:Y,onResetFilters:se,results:B.length,sx:{p:2.5,pt:0}}),(0,F.jsxs)(d.Z,{children:[(0,F.jsx)(w.Z4,{numSelected:e.selected.length,rowCount:B.length,onSelectAllRows:t=>e.onSelectAllRows(t,B.map((e=>e._id))),action:(0,F.jsx)(F.Fragment,{children:B.filter((t=>e.selected.includes(t._id))).some((e=>"inactive"===e.status))?(0,F.jsx)(G.Z,{title:"Activate all",children:(0,F.jsx)(k.Z,{color:"primary",onClick:f.onTrue,children:(0,F.jsx)(S.Z,{icon:"codicon:run-all"})})}):(0,F.jsx)(G.Z,{title:"Inactivate all",children:(0,F.jsx)(k.Z,{color:"error",onClick:b.onTrue,children:(0,F.jsx)(S.Z,{icon:"iconoir:pause-solid"})})})}),color:B.filter((t=>e.selected.includes(t._id))).some((e=>"inactive"===e.status))?"primary":"error"}),(0,F.jsx)(g.Z,{children:(0,F.jsxs)(s.Z,{ref:a,size:e.dense?"small":"medium",children:[(0,F.jsx)(w.K,{order:e.order,orderBy:e.orderBy,headLabel:Me,rowCount:B.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:t=>e.onSelectAllRows(t,B.map((e=>e._id)))}),(0,F.jsxs)(r.Z,{children:[B.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map((t=>(0,F.jsx)(Ie,{row:t,selected:e.selected.includes(t._id),onSelectRow:()=>e.onSelectRow(t._id),onActivate:()=>ee(t._id),onInactivate:()=>te(t._id),onEditRow:()=>oe(t._id)},t._id))),(0,F.jsx)(w.$W,{height:M,emptyRows:(0,w.fQ)(e.page,e.rowsPerPage,_.length)}),(0,F.jsx)(w.et,{notFound:L})]})]})})]}),(0,F.jsx)(w.S_,{count:B.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),(0,F.jsx)(m.Q,{open:b.value,onClose:b.onFalse,title:"Inactivate",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to Inactivate ",(0,F.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,F.jsx)(i.Z,{variant:"contained",color:"error",onClick:()=>{ne(),b.onFalse()},children:"Inactivate"})}),(0,F.jsx)(m.Q,{open:f.value,onClose:f.onFalse,title:"Activate",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to Activate ",(0,F.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,F.jsx)(i.Z,{variant:"contained",color:"primary",onClick:()=>{ae(),f.onFalse()},children:"Activate"})})]})}function Ee(e){let{row:t,selected:a,onEditRow:n,onSelectRow:o,onInactivate:s,onActivate:i,filters:l,setFilters:r}=e;const{code:d,symbol:c,name_english:u,status:h,created_at:p,user_creation:g,ip_address_user_creation:m,updated_at:v,user_modification:j,ip_address_user_modification:Z,modifications_nums:w}=t,{t:f}=(0,I.qM)(),b=(0,A.S)(),_=((0,A.S)(),(0,A.S)()),D=(0,F.jsxs)(y.Z,{hover:!0,selected:a,children:[(0,F.jsx)(P.Z,{padding:"checkbox",children:(0,F.jsx)(Y.Z,{checked:a,onClick:o})}),(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(C.Z,{children:d})}),(0,F.jsx)(P.Z,{align:"center",children:c}),(0,F.jsx)(P.Z,{align:"center",children:u}),(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(R.Z,{variant:"soft",color:("active"===h?"success":"inactive"===h&&"error")||"default",children:h})}),(0,F.jsx)(P.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,F.jsx)(k.Z,{color:_.open?"inherit":"default",onClick:_.onOpen,children:(0,F.jsx)(S.Z,{icon:"eva:more-vertical-fill"})})})]});return(0,F.jsxs)(F.Fragment,{children:[D,(0,F.jsxs)(A.Z,{open:_.open,onClose:_.onClose,arrow:"right-top",sx:{width:140},children:["active"===h?(0,F.jsxs)(X.Z,{onClick:()=>{s(),_.onClose()},sx:{color:"error.main"},children:[(0,F.jsx)(S.Z,{icon:"ic:baseline-pause"}),"Inactivate"]}):(0,F.jsxs)(X.Z,{onClick:()=>{i(),_.onClose()},sx:{color:"success.main"},children:[(0,F.jsx)(S.Z,{icon:"bi:play-fill"}),"activate"]}),(0,F.jsxs)(X.Z,{onClick:()=>{n(),_.onClose()},children:[(0,F.jsx)(S.Z,{icon:"fluent:edit-32-filled"}),"Edit"]}),(0,F.jsxs)(X.Z,{onClick:b.onOpen,children:[(0,F.jsx)(S.Z,{icon:"carbon:data-quality-definition"}),"DDL"]})]}),(0,F.jsxs)(A.Z,{open:b.open,onClose:b.onClose,arrow:"right-top",sx:{padding:2,fontSize:"14px"},children:[(0,F.jsx)(C.Z,{sx:{fontWeight:600},children:"Creation Time:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,x.zM)(p)}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Creator:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===g||void 0===g?void 0:g.email}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Creator IP:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:m}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editing Time:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,x.zM)(v)}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editor:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===j||void 0===j?void 0:j.email}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editor IP:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray",fontWeight:"400"},children:Z}),(0,F.jsxs)(C.Z,{sx:{pt:1,fontWeight:600},children:["Modifications No: ",w]})]})]})}const Ne=[{value:"all",label:"all"},{value:"active",label:"active"},{value:"inactive",label:"inactive"}],ze=[{id:"code",label:"Code"},{id:"symbol",label:"Symbol"},{id:"name",label:"Name"},{id:"status",label:"Status"},{id:"",width:88}],Oe={name:"",status:"all"};function Ue(){const e=(0,w.x6)({defaultOrderBy:"code"}),{t:t}=(0,I.qM)(),a=(0,n.useRef)(),x=(0,v.K$)(),C=(0,u.tv)(),f=(0,h.k)(),b=(0,h.k)(),{measurmentTypesData:_,loading:y,refetch:P}=(0,p.k3)(),[A,D]=(0,n.useState)(Oe),T=!(!A.startDate||!A.endDate)&&A.startDate.getTime()>A.endDate.getTime(),B=function(e){let{inputData:t,comparator:a,filters:n,dateError:o}=e;const{status:s,name:i}=n,l=t.map(((e,t)=>[e,t]));l.sort(((e,t)=>{const n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t=l.map((e=>e[0])),i&&(t=t.filter((e=>{var t;return-1!==(null===e||void 0===e?void 0:e.name_english.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e?void 0:e.name_arabic)&&-1!==(null===e||void 0===e||null===(t=e.name_arabic)||void 0===t?void 0:t.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e?void 0:e._id)===i||(null===e||void 0===e?void 0:e.symbol)===i||JSON.stringify(e.code)===i})));"all"!==s&&(t=t.filter((e=>e.status===s)));return t}({inputData:_,comparator:(0,w.sQ)(e.order,e.orderBy),filters:A,dateError:T}),H=B.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),M=e.dense?52:72,W=!(null===A||void 0===A||!A.name)||"all"!==A.status,L=!B.length&&W||!B.length,X=(0,N.useReactToPrint)({content:()=>a.current}),Y=(0,n.useCallback)(((t,a)=>{e.onResetPage(),D((e=>({...e,[t]:a})))}),[e]),ee=(0,n.useCallback)((async t=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.measurmenttype(t),"/updatestatus"),data:{status:"active"}}),P(),e.onUpdatePageDeleteRow(H.length)}),[H.length,e,P]),te=(0,n.useCallback)((async t=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.measurmenttype(t),"/updatestatus"),data:{status:"inactive"}}),P(),e.onUpdatePageDeleteRow(H.length)}),[H.length,e,P]),ae=(0,n.useCallback)((async()=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.measurmenttypes,"/updatestatus"),data:{status:"active",ids:e.selected}}),P(),e.onUpdatePageDeleteRows({totalRows:_.length,totalRowsInPage:H.length,totalRowsFiltered:B.length})}),[B.length,H.length,e,_,P]),ne=(0,n.useCallback)((async()=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.measurmenttypes,"/updatestatus"),data:{status:"inactive",ids:e.selected}}),P(),e.onUpdatePageDeleteRows({totalRows:_.length,totalRowsInPage:H.length,totalRowsFiltered:B.length})}),[B.length,H.length,e,_,P]),oe=(0,n.useCallback)((e=>{C.push(c.H.superadmin.tables.measurementtypes.edit(e))}),[C]),se=(0,n.useCallback)((()=>{D(Oe)}),[]),ie=(0,n.useCallback)(((e,t)=>{Y("status",t)}),[Y]);return y?(0,F.jsx)(j.a,{}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(l.Z,{maxWidth:!x.themeStretch&&"lg",children:[(0,F.jsx)(Z.Z,{heading:"Measurment Types",links:[{name:"dashboard",href:c.H.superadmin.root},{name:"Tables",href:c.H.superadmin.tables.list},{name:"Measurment Types"}],action:(0,F.jsx)(i.Z,{component:z.r,href:c.H.superadmin.tables.measurementtypes.new,variant:"contained",startIcon:(0,F.jsx)(S.Z,{icon:"mingcute:add-line"}),children:"New Measurment Type"}),sx:{mb:{xs:3,md:5}}}),(0,F.jsxs)(o.Z,{children:[(0,F.jsx)(J.Z,{value:A.status,onChange:ie,sx:{px:2.5,boxShadow:e=>"inset 0 -2px 0 0 ".concat((0,V.Fq)(e.palette.grey[500],.08))},children:Ne.map((e=>(0,F.jsx)(K.Z,{iconPosition:"end",value:e.value,label:e.label,icon:(0,F.jsxs)(R.Z,{variant:"all"===e.value||e.value===A.status?"filled":"soft",color:("active"===e.value?"success":"inactive"===e.value&&"error")||"default",children:["all"===e.value&&_.length,"active"===e.value&&_.filter((e=>"active"===e.status)).length,"inactive"===e.value&&_.filter((e=>"inactive"===e.status)).length]})},e.value)))}),(0,F.jsx)(Q.Z,{onPrint:X,filters:A,onFilters:Y,onDownload:()=>{const e=B.reduce(((e,t)=>{var a;return e.push({code:t.code,name:t.name_english,country:null===(a=t.country)||void 0===a?void 0:a.name_english,status:t.status}),e}),[]),t=$.P6.book_new(),a=$.P6.json_to_sheet(e);$.P6.book_append_sheet(t,a,"Sheet 1");const n=$.cW(t,{bookType:"xlsx",type:"array"}),o=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,E.saveAs)(o,"MeasurmentTypesTable.xlsx")},canReset:W,onResetFilters:se}),W&&(0,F.jsx)(q.Z,{filters:A,onFilters:Y,onResetFilters:se,results:B.length,sx:{p:2.5,pt:0}}),(0,F.jsxs)(d.Z,{children:[(0,F.jsx)(w.Z4,{numSelected:e.selected.length,rowCount:B.length,onSelectAllRows:t=>e.onSelectAllRows(t,B.map((e=>e._id))),action:(0,F.jsx)(F.Fragment,{children:B.filter((t=>e.selected.includes(t._id))).some((e=>"inactive"===e.status))?(0,F.jsx)(G.Z,{title:"Activate all",children:(0,F.jsx)(k.Z,{color:"primary",onClick:f.onTrue,children:(0,F.jsx)(S.Z,{icon:"codicon:run-all"})})}):(0,F.jsx)(G.Z,{title:"Inactivate all",children:(0,F.jsx)(k.Z,{color:"error",onClick:b.onTrue,children:(0,F.jsx)(S.Z,{icon:"iconoir:pause-solid"})})})}),color:B.filter((t=>e.selected.includes(t._id))).some((e=>"inactive"===e.status))?"primary":"error"}),(0,F.jsx)(g.Z,{children:(0,F.jsxs)(s.Z,{ref:a,size:e.dense?"small":"medium",children:[(0,F.jsx)(w.K,{order:e.order,orderBy:e.orderBy,headLabel:ze,rowCount:B.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:t=>e.onSelectAllRows(t,B.map((e=>e._id)))}),(0,F.jsxs)(r.Z,{children:[B.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map((t=>(0,F.jsx)(Ee,{row:t,selected:e.selected.includes(t._id),onSelectRow:()=>e.onSelectRow(t._id),onActivate:()=>ee(t._id),onInactivate:()=>te(t._id),onEditRow:()=>oe(t._id)},t._id))),(0,F.jsx)(w.$W,{height:M,emptyRows:(0,w.fQ)(e.page,e.rowsPerPage,_.length)}),(0,F.jsx)(w.et,{notFound:L})]})]})})]}),(0,F.jsx)(w.S_,{count:B.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),(0,F.jsx)(m.Q,{open:b.value,onClose:b.onFalse,title:"Inactivate",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to Inactivate ",(0,F.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,F.jsx)(i.Z,{variant:"contained",color:"error",onClick:()=>{ne(),b.onFalse()},children:"Inactivate"})}),(0,F.jsx)(m.Q,{open:f.value,onClose:f.onFalse,title:"Activate",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to Activate ",(0,F.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,F.jsx)(i.Z,{variant:"contained",color:"primary",onClick:()=>{ae(),f.onFalse()},children:"Activate"})})]})}function Qe(e){let{row:t,selected:a,onEditRow:n,onSelectRow:o,onInactivate:s,onActivate:i,filters:l,setFilters:r}=e;const{code:d,name_english:c,unit_service:u,service:p,description:g,status:m,created_at:v,user_creation:j,ip_address_user_creation:Z,updated_at:w,user_modification:f,ip_address_user_modification:b,modifications_nums:_}=t,{t:D}=(0,I.qM)(),T=((0,h.k)(),(0,A.S)()),B=(0,A.S)(),H=((0,A.S)(),(0,F.jsxs)(y.Z,{hover:!0,selected:a,children:[(0,F.jsx)(P.Z,{padding:"checkbox",children:(0,F.jsx)(Y.Z,{checked:a,onClick:o})}),(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(C.Z,{children:d})}),(0,F.jsx)(P.Z,{align:"center",children:c}),(0,F.jsx)(P.Z,{align:"center",sx:{cursor:"pointer",color:"#3F54EB"},onClick:()=>r({...l,name:u.name_english}),children:null===u||void 0===u?void 0:u.name_english}),(0,F.jsx)(P.Z,{align:"center",sx:{cursor:"pointer",color:"#3F54EB"},onClick:()=>r({...l,name:p.name_english}),children:null===p||void 0===p?void 0:p.name_english}),(0,F.jsx)(P.Z,{align:"center",children:g}),(0,F.jsx)(P.Z,{align:"center",children:(0,F.jsx)(R.Z,{variant:"soft",color:("active"===m?"success":"inactive"===m&&"error")||"default",children:m})}),(0,F.jsx)(P.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,F.jsx)(k.Z,{color:T.open?"inherit":"default",onClick:T.onOpen,children:(0,F.jsx)(S.Z,{icon:"eva:more-vertical-fill"})})})]}));return(0,F.jsxs)(F.Fragment,{children:[H,(0,F.jsxs)(A.Z,{open:T.open,onClose:T.onClose,arrow:"right-top",sx:{width:140},children:["active"===m?(0,F.jsxs)(X.Z,{onClick:()=>{s(),T.onClose()},sx:{color:"error.main"},children:[(0,F.jsx)(S.Z,{icon:"ic:baseline-pause"}),"Inactivate"]}):(0,F.jsxs)(X.Z,{onClick:()=>{i(),T.onClose()},sx:{color:"success.main"},children:[(0,F.jsx)(S.Z,{icon:"bi:play-fill"}),"activate"]}),(0,F.jsxs)(X.Z,{onClick:()=>{n(),T.onClose()},children:[(0,F.jsx)(S.Z,{icon:"fluent:edit-32-filled"}),"Edit"]}),(0,F.jsxs)(X.Z,{onClick:B.onOpen,children:[(0,F.jsx)(S.Z,{icon:"carbon:data-quality-definition"}),"DDL"]})]}),(0,F.jsxs)(A.Z,{open:B.open,onClose:B.onClose,arrow:"right-top",sx:{padding:2,fontSize:"14px"},children:[(0,F.jsx)(C.Z,{sx:{fontWeight:600},children:"Creation Time:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,x.zM)(v)}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Creator:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===j||void 0===j?void 0:j.email}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Creator IP:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:Z}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editing Time:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,x.zM)(w)}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editor:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===f||void 0===f?void 0:f.email}),(0,F.jsx)(C.Z,{sx:{pt:1,fontWeight:600},children:"Editor IP:"}),(0,F.jsx)(C.Z,{sx:{pb:1,borderBottom:"1px solid gray",fontWeight:"400"},children:b}),(0,F.jsxs)(C.Z,{sx:{pt:1,fontWeight:600},children:["Modifications No: ",_]})]})]})}const qe=[{value:"all",label:"all"},{value:"active",label:"active"},{value:"inactive",label:"inactive"}],$e=[{id:"code",label:"Code"},{id:"name",label:"Name"},{id:"unit_service",label:"Unit Service"},{id:"service",label:"Service"},{id:"description",label:"Description"},{id:"status",label:"Status"},{id:"",width:88}],Ke={name:"",status:"all"};function Je(){const e=(0,w.x6)({defaultOrderBy:"code"}),{t:t}=(0,I.qM)(),a=(0,n.useRef)(),x=(0,v.K$)(),C=(0,u.tv)(),f=(0,h.k)(),b=(0,h.k)(),{stakeholderTypesData:_,loading:y,refetch:P}=(0,p.At)(),[A,D]=(0,n.useState)(Ke),T=!(!A.startDate||!A.endDate)&&A.startDate.getTime()>A.endDate.getTime(),B=function(e){let{inputData:t,comparator:a,filters:n,dateError:o}=e;const{status:s,name:i}=n,l=t.map(((e,t)=>[e,t]));l.sort(((e,t)=>{const n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t=l.map((e=>e[0])),i&&(t=t.filter((e=>{var t,a,n,o,s,l,r,d,c;return-1!==(null===e||void 0===e?void 0:e.name_english.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e?void 0:e.name_arabic)&&-1!==(null===e||void 0===e||null===(t=e.name_arabic)||void 0===t?void 0:t.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e||null===(a=e.unit_service)||void 0===a?void 0:a.name_english)&&-1!==(null===e||void 0===e||null===(n=e.unit_service)||void 0===n?void 0:n.name_english.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e||null===(o=e.unit_service)||void 0===o?void 0:o.name_arabic)&&-1!==(null===e||void 0===e||null===(s=e.unit_service)||void 0===s?void 0:s.name_arabic.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e||null===(l=e.service)||void 0===l?void 0:l.name_english)&&-1!==(null===e||void 0===e||null===(r=e.service)||void 0===r?void 0:r.name_english.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e||null===(d=e.service)||void 0===d?void 0:d.name_arabic)&&-1!==(null===e||void 0===e||null===(c=e.service)||void 0===c?void 0:c.name_arabic.toLowerCase().indexOf(i.toLowerCase()))||(null===e||void 0===e?void 0:e._id)===i||JSON.stringify(e.code)===i})));"all"!==s&&(t=t.filter((e=>e.status===s)));return t}({inputData:_,comparator:(0,w.sQ)(e.order,e.orderBy),filters:A,dateError:T}),H=B.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),M=e.dense?52:72,W=!(null===A||void 0===A||!A.name)||"all"!==A.status,L=!B.length&&W||!B.length,X=(0,N.useReactToPrint)({content:()=>a.current}),Y=(0,n.useCallback)(((t,a)=>{e.onResetPage(),D((e=>({...e,[t]:a})))}),[e]),ee=(0,n.useCallback)((async t=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.stakeholdertype(t),"/updatestatus"),data:{status:"active"}}),P(),e.onUpdatePageDeleteRow(H.length)}),[H.length,e,P]),te=(0,n.useCallback)((async t=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.stakeholdertype(t),"/updatestatus"),data:{status:"inactive"}}),P(),e.onUpdatePageDeleteRow(H.length)}),[H.length,e,P]),ae=(0,n.useCallback)((async()=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.stakeholdertypes,"/updatestatus"),data:{status:"active",ids:e.selected}}),P(),e.onUpdatePageDeleteRows({totalRows:_.length,totalRowsInPage:H.length,totalRowsFiltered:B.length})}),[B.length,H.length,e,_,P]),ne=(0,n.useCallback)((async()=>{await(0,U.Z)({method:"PATCH",path:"".concat(O.Hv.tables.stakeholdertypes,"/updatestatus"),data:{status:"inactive",ids:e.selected}}),P(),e.onUpdatePageDeleteRows({totalRows:_.length,totalRowsInPage:H.length,totalRowsFiltered:B.length})}),[B.length,H.length,e,_,P]),oe=(0,n.useCallback)((e=>{C.push(c.H.superadmin.tables.stakeholdertypes.edit(e))}),[C]),se=(0,n.useCallback)((()=>{D(Ke)}),[]),ie=(0,n.useCallback)(((e,t)=>{Y("status",t)}),[Y]);return y?(0,F.jsx)(j.a,{}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(l.Z,{maxWidth:!x.themeStretch&&"lg",children:[(0,F.jsx)(Z.Z,{heading:"Stakeholder Types",links:[{name:"dashboard",href:c.H.superadmin.root},{name:"Tables",href:c.H.superadmin.tables.list},{name:"Stakeholder Types"}],action:(0,F.jsx)(i.Z,{component:z.r,href:c.H.superadmin.tables.stakeholdertypes.new,variant:"contained",startIcon:(0,F.jsx)(S.Z,{icon:"mingcute:add-line"}),children:"New Stakeholder Type"}),sx:{mb:{xs:3,md:5}}}),(0,F.jsxs)(o.Z,{children:[(0,F.jsx)(J.Z,{value:A.status,onChange:ie,sx:{px:2.5,boxShadow:e=>"inset 0 -2px 0 0 ".concat((0,V.Fq)(e.palette.grey[500],.08))},children:qe.map((e=>(0,F.jsx)(K.Z,{iconPosition:"end",value:e.value,label:e.label,icon:(0,F.jsxs)(R.Z,{variant:"all"===e.value||e.value===A.status?"filled":"soft",color:("active"===e.value?"success":"inactive"===e.value&&"error")||"default",children:["all"===e.value&&_.length,"active"===e.value&&_.filter((e=>"active"===e.status)).length,"inactive"===e.value&&_.filter((e=>"inactive"===e.status)).length]})},e.value)))}),(0,F.jsx)(Q.Z,{onPrint:X,filters:A,onFilters:Y,onDownload:()=>{const e=B.reduce(((e,t)=>{var a;return e.push({code:t.code,name:t.name_english,country:null===(a=t.country)||void 0===a?void 0:a.name_english,status:t.status}),e}),[]),t=$.P6.book_new(),a=$.P6.json_to_sheet(e);$.P6.book_append_sheet(t,a,"Sheet 1");const n=$.cW(t,{bookType:"xlsx",type:"array"}),o=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,E.saveAs)(o,"StakeholderTypesTable.xlsx")},canReset:W,onResetFilters:se}),W&&(0,F.jsx)(q.Z,{filters:A,onFilters:Y,onResetFilters:se,results:B.length,sx:{p:2.5,pt:0}}),(0,F.jsxs)(d.Z,{children:[(0,F.jsx)(w.Z4,{numSelected:e.selected.length,rowCount:B.length,onSelectAllRows:t=>e.onSelectAllRows(t,B.map((e=>e._id))),action:(0,F.jsx)(F.Fragment,{children:B.filter((t=>e.selected.includes(t._id))).some((e=>"inactive"===e.status))?(0,F.jsx)(G.Z,{title:"Activate all",children:(0,F.jsx)(k.Z,{color:"primary",onClick:f.onTrue,children:(0,F.jsx)(S.Z,{icon:"codicon:run-all"})})}):(0,F.jsx)(G.Z,{title:"Inactivate all",children:(0,F.jsx)(k.Z,{color:"error",onClick:b.onTrue,children:(0,F.jsx)(S.Z,{icon:"iconoir:pause-solid"})})})}),color:B.filter((t=>e.selected.includes(t._id))).some((e=>"inactive"===e.status))?"primary":"error"}),(0,F.jsx)(g.Z,{children:(0,F.jsxs)(s.Z,{ref:a,size:e.dense?"small":"medium",children:[(0,F.jsx)(w.K,{order:e.order,orderBy:e.orderBy,headLabel:$e,rowCount:B.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:t=>e.onSelectAllRows(t,B.map((e=>e._id)))}),(0,F.jsxs)(r.Z,{children:[B.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map((t=>(0,F.jsx)(Qe,{row:t,selected:e.selected.includes(t._id),onSelectRow:()=>e.onSelectRow(t._id),onActivate:()=>ee(t._id),onInactivate:()=>te(t._id),onEditRow:()=>oe(t._id)},t._id))),(0,F.jsx)(w.$W,{height:M,emptyRows:(0,w.fQ)(e.page,e.rowsPerPage,_.length)}),(0,F.jsx)(w.et,{notFound:L})]})]})})]}),(0,F.jsx)(w.S_,{count:B.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),(0,F.jsx)(m.Q,{open:b.value,onClose:b.onFalse,title:"Inactivate",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to Inactivate ",(0,F.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,F.jsx)(i.Z,{variant:"contained",color:"error",onClick:()=>{ne(),b.onFalse()},children:"Inactivate"})}),(0,F.jsx)(m.Q,{open:f.value,onClose:f.onFalse,title:"Activate",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to Activate ",(0,F.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,F.jsx)(i.Z,{variant:"contained",color:"primary",onClick:()=>{ae(),f.onFalse()},children:"Activate"})})]})}},6385:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(55294),o=a(88329),s=a(33805);async function i(e){let{setData:t,setError:a,method:i,path:l,data:r}=e;const d="".concat(s.E0).concat(l),c=o.Z.get("user_token"),u=await(0,n.Z)({method:i,url:d,headers:{authorization:"Bearer ".concat(c)},data:r});return t&&t(u.data),a&&a(u.data),u}},88329:(e,t,a)=>{function n(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)e[n]=a[n]}return e}a.d(t,{Z:()=>o});var o=function e(t,a){function o(e,o,s){if("undefined"!==typeof document){"number"===typeof(s=n({},a,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var l in s)s[l]&&(i+="; "+l,!0!==s[l]&&(i+="="+s[l].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+i}}return Object.create({set:o,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var a=document.cookie?document.cookie.split("; "):[],n={},o=0;o<a.length;o++){var s=a[o].split("="),i=s.slice(1).join("=");try{var l=decodeURIComponent(s[0]);if(n[l]=t.read(i,l),e===l)break}catch(r){}}return e?n[e]:n}},remove:function(e,t){o(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(a)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}}]);
//# sourceMappingURL=5362.eb7a7e12.chunk.js.map