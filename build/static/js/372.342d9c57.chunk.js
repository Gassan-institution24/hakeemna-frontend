"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[372],{80372:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var r=a(8007),n=a(72791),l=a(61134),o=a(44695),i=a(82337),s=a(63515),d=a(53767),c=a(17003),u=a(13400),m=a(12258),p=a(4567),h=a(82626),v=a(63466),g=a(38072),x=a(19208),Z=a(22459),j=a(81164),y=a(8976),b=a(93011),f=a(41364),_=a(40268),C=a(85563),w=a(80184);function A(){var e;const{countriesData:t}=(0,b.Rpj)(),{register:a}=(0,y.E)(),{t:A}=(0,j.qM)(),S=(0,x.tv)(),[P,M]=(0,n.useState)(""),{user:q}=(0,y.E)(),k=(0,Z.k)(),z=r.Ry().shape({name_english:r.Z_().required("english name required"),name_arabic:r.Z_().required("arabic name required"),email:r.Z_().required("Email is required").email("Email must be a valid email address"),password:r.Z_().required("Password is required"),confirmPassword:r.Z_().oneOf([r.iH("password"),null],"Passwords must match").min(8,"Confirm password must be at least 8 characters"),identification_num:r.Z_().required("Identification number is required"),birth_date:r.hT().required("birth_date is required"),gender:r.Z_().required("Gender is required"),country:r.Z_().required("Country is required"),nationality:r.Z_().required("Nationality is required"),city:r.Z_().required("City is required")}),I={name_english:"",name_arabic:"",email:"",nationality:"",family_members:null===q||void 0===q||null===(e=q.patient)||void 0===e?void 0:e._id,password:"",confirmPassword:"",birth_date:"",identification_num:"",gender:"",country:null,city:null},L=(0,l.cI)({mode:"onTouched",resolver:(0,o.X)(z),defaultValues:I}),{reset:V,watch:R,control:T,handleSubmit:N,formState:{isSubmitting:O}}=L,F=R(),{tableData:H}=(0,b.s_U)(F.country),E=N((async e=>{try{await(null===a||void 0===a?void 0:a({userName:"".concat(e.name_english),...e})),S.push(g.H.dashboard.user.exist)}catch(t){console.error(t),V(),M("string"===typeof t?t:t.message)}}));return(0,w.jsx)(C.ZP,{methods:L,onSubmit:E,children:(0,w.jsxs)(i.Z,{sx:{display:"flex",flexDirection:{md:"row",xs:"column"}},children:[(0,w.jsxs)(d.Z,{spacing:2.5,sx:{width:{md:"50%",xs:"80%"},ml:5,mt:5,mr:15},children:[!!P&&(0,w.jsx)(s.Z,{severity:"error",children:P}),(0,w.jsx)(p.Z,{variant:"h3",sx:{textAlign:"center",display:{md:"none",xs:"block"}},children:A("Add Account")}),(0,w.jsxs)(d.Z,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,w.jsx)(C.au,{name:"name_english",label:A("full name english"),onChange:e=>{/^[a-zA-Z0-9\s,@#$!*_\-&^%.()]*$/.test(e.target.value)&&L.setValue(e.target.name,e.target.value,{shouldValidate:!0})}}),(0,w.jsx)(C.au,{name:"name_arabic",label:A("full name arabic"),onChange:e=>{/^[\u0600-\u06FF0-9\s!@#$%^&*_\-()]*$/.test(e.target.value)&&L.setValue(e.target.name,e.target.value,{shouldValidate:!0})}})]}),(0,w.jsx)(C.au,{name:"identification_num",label:A("Identification number")}),(0,w.jsx)(l.Qr,{name:"birth_date",control:T,render:e=>{let{field:t,fieldState:{error:a}}=e;return(0,w.jsx)(c.M,{label:A("birth date"),value:new Date(F.birth_date?F.birth_date:""),onChange:e=>{t.onChange(e)},slotProps:{textField:{fullWidth:!0,error:!!a,helperText:null===a||void 0===a?void 0:a.message}}})}}),(0,w.jsx)(C.Cc,{onChange:e=>{const t=e.target.value;L.setValue("nationality",t,{shouldValidate:!0})},name:"nationality",label:A("nationality"),children:null===t||void 0===t?void 0:t.map(((e,t)=>(0,w.jsx)(h.Z,{lang:"ar",value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name_english},t)))}),(0,w.jsxs)(d.Z,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,w.jsx)(C.Cc,{onChange:e=>{const t=e.target.value;L.setValue("country",t,{shouldValidate:!0})},name:"country",label:A("country"),children:null===t||void 0===t?void 0:t.map(((e,t)=>(0,w.jsx)(h.Z,{lang:"ar",value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name_english},t)))}),(0,w.jsx)(C.Cc,{name:"city",label:A("City"),children:null===H||void 0===H?void 0:H.map(((e,t)=>(0,w.jsx)(h.Z,{lang:"ar",value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name_english},t)))}),(0,w.jsxs)(C.Cc,{name:"gender",label:A("Gender"),children:[(0,w.jsx)(h.Z,{lang:"ar",value:"male",children:A("male")}),(0,w.jsx)(h.Z,{lang:"ar",value:"female",children:A("female")})]})]}),(0,w.jsx)(C.au,{name:"email",label:A("Email address")}),(0,w.jsx)(C.au,{name:"password",label:A("Password"),type:k.value?"text":"password",InputProps:{endAdornment:(0,w.jsx)(v.Z,{position:"end",children:(0,w.jsx)(u.Z,{onClick:k.onToggle,edge:"end",children:(0,w.jsx)(_.Z,{icon:k.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,w.jsx)(C.au,{name:"confirmPassword",label:A("Confirm Password"),type:k.value?"text":"password",InputProps:{endAdornment:(0,w.jsx)(v.Z,{position:"end",children:(0,w.jsx)(u.Z,{onClick:k.onToggle,edge:"end",children:(0,w.jsx)(_.Z,{icon:k.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,w.jsx)(m.Z,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:O,children:A("Create account")})]}),(0,w.jsxs)(d.Z,{sx:{display:{md:"block",xs:"none"},ml:10,mt:5},children:[(0,w.jsx)(p.Z,{variant:"h3",sx:{textAlign:"center"},children:A("Add Account")}),(0,w.jsx)(f.Z,{src:"https://www.sender.net/wp-content/uploads/2022/07/best-newsletter-software.webp"})]})]})})}},63515:(e,t,a)=>{a.d(t,{Z:()=>q});var r=a(63366),n=a(87462),l=a(72791),o=a(59278),i=a(20838),s=a(54131),d=a(2588),c=a(66934),u=a(18833),m=a(14036),p=a(27938),h=a(46131),v=a(13400),g=a(74223),x=a(80184);const Z=(0,g.Z)((0,x.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),j=(0,g.Z)((0,x.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),y=(0,g.Z)((0,x.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),b=(0,g.Z)((0,x.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");var f=a(8799);const _=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],C=(0,d.U)("MuiAlert"),w=(0,c.ZP)(p.Z,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],t["".concat(a.variant).concat((0,m.Z)(a.color||a.severity))]]}})((e=>{let{theme:t}=e;const a="light"===t.palette.mode?s._j:s.$n,r="light"===t.palette.mode?s.$n:s._j;return(0,n.Z)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[n]=e;return{props:{colorSeverity:n,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(n,"Color")]:a(t.palette[n].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(n,"StandardBg")]:r(t.palette[n].light,.9),["& .".concat(h.Z.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(n,"IconColor")]}:{color:t.palette[n].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(r,"Color")]:a(t.palette[r].light,.6),border:"1px solid ".concat((t.vars||t).palette[r].light),["& .".concat(h.Z.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(r,"IconColor")]}:{color:t.palette[r].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.dark})).map((e=>{let[a]=e;return{props:{colorSeverity:a,variant:"filled"},style:(0,n.Z)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(a,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(a,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[a].dark:t.palette[a].main,color:t.palette.getContrastText(t.palette[a].main)})}}))]})})),A=(0,c.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),S=(0,c.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),P=(0,c.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),M={success:(0,x.jsx)(Z,{fontSize:"inherit"}),warning:(0,x.jsx)(j,{fontSize:"inherit"}),error:(0,x.jsx)(y,{fontSize:"inherit"}),info:(0,x.jsx)(b,{fontSize:"inherit"})},q=l.forwardRef((function(e,t){const a=C({props:e,name:"MuiAlert"}),{action:l,children:s,className:d,closeText:c="Close",color:p,components:g={},componentsProps:Z={},icon:j,iconMapping:y=M,onClose:b,role:q="alert",severity:k="success",slotProps:z={},slots:I={},variant:L="standard"}=a,V=(0,r.Z)(a,_),R=(0,n.Z)({},a,{color:p,severity:k,variant:L,colorSeverity:p||k}),T=(e=>{const{variant:t,color:a,severity:r,classes:n}=e,l={root:["root","color".concat((0,m.Z)(a||r)),"".concat(t).concat((0,m.Z)(a||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,i.Z)(l,h.t,n)})(R),N={slots:(0,n.Z)({closeButton:g.CloseButton,closeIcon:g.CloseIcon},I),slotProps:(0,n.Z)({},Z,z)},[O,F]=(0,u.Z)("closeButton",{elementType:v.Z,externalForwardedProps:N,ownerState:R}),[H,E]=(0,u.Z)("closeIcon",{elementType:f.Z,externalForwardedProps:N,ownerState:R});return(0,x.jsxs)(w,(0,n.Z)({role:q,elevation:0,ownerState:R,className:(0,o.Z)(T.root,d),ref:t},V,{children:[!1!==j?(0,x.jsx)(A,{ownerState:R,className:T.icon,children:j||y[k]||M[k]}):null,(0,x.jsx)(S,{ownerState:R,className:T.message,children:s}),null!=l?(0,x.jsx)(P,{ownerState:R,className:T.action,children:l}):null,null==l&&b?(0,x.jsx)(P,{ownerState:R,className:T.action,children:(0,x.jsx)(O,(0,n.Z)({size:"small","aria-label":c,title:c,color:"inherit",onClick:b},F,{children:(0,x.jsx)(H,(0,n.Z)({fontSize:"small"},E))}))}):null]}))}))}}]);
//# sourceMappingURL=372.342d9c57.chunk.js.map