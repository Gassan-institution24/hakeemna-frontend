"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[36921],{36921:(e,n,i)=>{i.r(n),i.d(n,{default:()=>z});var t=i(73216),a=i(29490),s=i(68719),l=i(7625),r=i(80899),o=i(24858),c=i(65043),d=i(18403),u=i(74600),p=i(38246),m=i(68903),v=i(94496),x=i(12110),h=i(79958),g=i(77224),j=i(48407),f=i(67132),y=i(88887),A=i(31673),b=i(91562),_=i(75139),w=i(60778),T=i(94857),E=i(59699),k=i(70579);function O(){const{t:e}=(0,w.WD)(),{currentLang:n}=(0,w.jc)(),i="ar"===n.value,t=[{label:e("read"),value:"read"},{label:e("create"),value:"create"},{label:e("edit"),value:"update"},{label:e("delete"),value:"delete"}],{id:a}=(0,f.g)(),{user:s}=(0,_.Z)(),{data:O}=(0,l.tH$)(a),z=(0,y.Q)("up","md"),{enqueueSnackbar:C}=(0,T.dh)(),S=r.Ik().shape({departments:r.YO(),employees:r.YO(),management_tables:r.YO(),appointments:r.YO(),appointment_configs:r.YO(),accounting:r.YO(),offers:r.YO(),quality_control:r.YO(),unit_service_info:r.YO(),old_patient:r.YO()}),Y=(0,c.useMemo)((()=>{var e,n,i,t,a,s,l,r,o,c,d,u,p,m,v,x,h,g,j,f,y,A;return{departments:(null===O||void 0===O||null===(e=O.acl)||void 0===e||null===(n=e.unit_service)||void 0===n?void 0:n.departments)||[],employees:(null===O||void 0===O||null===(i=O.acl)||void 0===i||null===(t=i.unit_service)||void 0===t?void 0:t.employees)||[],management_tables:(null===O||void 0===O||null===(a=O.acl)||void 0===a||null===(s=a.unit_service)||void 0===s?void 0:s.management_tables)||[],appointments:(null===O||void 0===O||null===(l=O.acl)||void 0===l||null===(r=l.unit_service)||void 0===r?void 0:r.appointments)||[],appointment_configs:(null===O||void 0===O||null===(o=O.acl)||void 0===o||null===(c=o.unit_service)||void 0===c?void 0:c.appointment_configs)||[],accounting:(null===O||void 0===O||null===(d=O.acl)||void 0===d||null===(u=d.unit_service)||void 0===u?void 0:u.accounting)||[],offers:(null===O||void 0===O||null===(p=O.acl)||void 0===p||null===(m=p.unit_service)||void 0===m?void 0:m.offers)||[],quality_control:(null===O||void 0===O||null===(v=O.acl)||void 0===v||null===(x=v.unit_service)||void 0===x?void 0:x.quality_control)||[],unit_service_info:(null===O||void 0===O||null===(h=O.acl)||void 0===h||null===(g=h.unit_service)||void 0===g?void 0:g.unit_service_info)||[],old_patient:(null===O||void 0===O||null===(j=O.acl)||void 0===j||null===(f=j.unit_service)||void 0===f?void 0:f.old_patient)||[],permissions:(null===O||void 0===O||null===(y=O.acl)||void 0===y||null===(A=y.unit_service)||void 0===A?void 0:A.old_patient)||[]}}),[O]),H=(0,o.mN)({mode:"all",resolver:(0,d.t)(S),defaultValues:Y}),{reset:N,handleSubmit:M,formState:{isSubmitting:R,errors:$}}=H;(0,c.useEffect)((()=>{Object.keys($).length&&Object.keys($).forEach(((e,n)=>{var i;return C(`${e}: ${(null===$||void 0===$||null===(i=$[e])||void 0===i?void 0:i.message)||"error"}`,{variant:"error"})}))}),[$,C]),(0,c.useEffect)((()=>{N(Y)}),[Y,N]);const q=M((async n=>{try{const i=O.acl;i.unit_service=n,A.Ay.patch(A.vZ.employee_engagements.one(a),{acl:i}),b.A.emit("updated",{user:s,link:j.f.unitservice.employees.acl(a),msg:"updated a unit of service employee permissions"}),C(e("updated successfully!"))}catch(t){C(i&&`${t.arabic_message}`||`${t.message}`,{variant:"error"}),console.error(t)}})),P=(0,k.jsxs)(k.Fragment,{children:[z&&(0,k.jsxs)(m.Ay,{md:4,children:[(0,k.jsx)(v.A,{variant:"h6",sx:{mb:.5},children:e("permissions")}),(0,k.jsx)(v.A,{variant:"body2",sx:{color:"text.secondary"},children:e("giving or withdrowing permissions refered to all")}),(0,k.jsx)(v.A,{variant:"body2",sx:{color:"text.secondary"},children:e("unit of service and all its departments")})]}),(0,k.jsx)(m.Ay,{xs:12,md:8,children:(0,k.jsxs)(x.A,{children:[!z&&(0,k.jsx)(h.A,{title:e("permissions")}),(0,k.jsxs)(u.A,{spacing:3,sx:{p:3},children:[(0,k.jsxs)(u.A,{spacing:1,children:[(0,k.jsx)(v.A,{title:"Permissions",textTransform:"capitalize",variant:"subtitle2",children:e("departments")}),(0,k.jsx)(E.lE,{row:!0,spacing:4,name:"departments",options:t})]}),(0,k.jsxs)(u.A,{spacing:1,children:[(0,k.jsx)(v.A,{textTransform:"capitalize",variant:"subtitle2",children:e("employees")}),(0,k.jsx)(E.lE,{row:!0,spacing:4,name:"employees",options:t})]}),(0,k.jsxs)(u.A,{spacing:1,children:[(0,k.jsx)(v.A,{textTransform:"capitalize",variant:"subtitle2",children:e("management tables")}),(0,k.jsx)(E.lE,{row:!0,spacing:4,name:"management_tables",options:t})]}),(0,k.jsxs)(u.A,{spacing:1,children:[(0,k.jsx)(v.A,{textTransform:"capitalize",variant:"subtitle2",children:e("appointments")}),(0,k.jsx)(E.lE,{row:!0,spacing:4,name:"appointments",options:t})]}),(0,k.jsxs)(u.A,{spacing:1,children:[(0,k.jsx)(v.A,{textTransform:"capitalize",variant:"subtitle2",children:e("appointment configuration")}),(0,k.jsx)(E.lE,{row:!0,spacing:4,name:"appointment_configs",options:t})]}),(0,k.jsxs)(u.A,{spacing:1,children:[(0,k.jsx)(v.A,{textTransform:"capitalize",variant:"subtitle2",children:e("accounting")}),(0,k.jsx)(E.lE,{row:!0,spacing:4,name:"accounting",options:t})]}),(0,k.jsxs)(u.A,{spacing:1,children:[(0,k.jsx)(v.A,{textTransform:"capitalize",variant:"subtitle2",children:e("offers")}),(0,k.jsx)(E.lE,{row:!0,spacing:4,name:"offers",options:t})]}),(0,k.jsxs)(u.A,{spacing:1,children:[(0,k.jsx)(v.A,{textTransform:"capitalize",variant:"subtitle2",children:e("quality control")}),(0,k.jsx)(E.lE,{row:!0,spacing:4,name:"quality_control",options:t})]}),(0,k.jsxs)(u.A,{spacing:1,children:[(0,k.jsx)(v.A,{textTransform:"capitalize",variant:"subtitle2",children:e("old patient data")}),(0,k.jsx)(E.lE,{row:!0,spacing:4,name:"old_patient",options:t})]}),(0,k.jsxs)(u.A,{spacing:1,children:[(0,k.jsx)(v.A,{textTransform:"capitalize",variant:"subtitle2",children:e("unit of service info")}),(0,k.jsx)(E.lE,{row:!0,spacing:4,name:"unit_service_info",options:t})]}),(0,k.jsxs)(u.A,{spacing:1,children:[(0,k.jsx)(v.A,{textTransform:"capitalize",variant:"subtitle2",children:e("permissions")}),(0,k.jsx)(E.lE,{row:!0,spacing:4,name:"permissions",options:t})]})]})]})})]}),F=(0,k.jsxs)(k.Fragment,{children:[z&&(0,k.jsx)(m.Ay,{md:4}),(0,k.jsx)(m.Ay,{xs:12,md:8,sx:{display:"flex",justifyContent:"flex-end"},children:(0,k.jsx)(p.A,{type:"submit",variant:"contained",loading:R,sx:{m:2},children:e("save changes")})})]});return(0,k.jsx)(g.A,{maxWidth:"lg",children:(0,k.jsx)(E.Ay,{methods:H,onSubmit:q,children:(0,k.jsxs)(m.Ay,{container:!0,spacing:3,children:[P,F]})})})}function z(){const e=(0,t.g)(),{id:n}=e,{data:i}=(0,l.tH$)(n);return(0,k.jsxs)(s.A,{category:"unit_service",subcategory:"permissions",acl:"update",children:[(0,k.jsxs)(a.mg,{children:[(0,k.jsxs)("title",{children:[(null===i||void 0===i?void 0:i.name_english)||"Employee"," : Access control list"]}),(0,k.jsx)("meta",{name:"description",content:"meta"})]}),(0,k.jsx)(O,{})]})}},79958:(e,n,i)=>{i.d(n,{A:()=>A});var t=i(98587),a=i(58168),s=i(65043),l=i(58387),r=i(98610),o=i(94496),c=i(98206),d=i(34535),u=i(92532),p=i(72372);function m(e){return(0,p.Ay)("MuiCardHeader",e)}const v=(0,u.A)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var x=i(70579);const h=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],g=(0,d.Ay)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,n)=>(0,a.A)({[`& .${v.title}`]:n.title,[`& .${v.subheader}`]:n.subheader},n.root)})({display:"flex",alignItems:"center",padding:16}),j=(0,d.Ay)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,n)=>n.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),f=(0,d.Ay)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,n)=>n.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),y=(0,d.Ay)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,n)=>n.content})({flex:"1 1 auto"}),A=s.forwardRef((function(e,n){const i=(0,c.b)({props:e,name:"MuiCardHeader"}),{action:s,avatar:d,className:u,component:p="div",disableTypography:v=!1,subheader:A,subheaderTypographyProps:b,title:_,titleTypographyProps:w}=i,T=(0,t.A)(i,h),E=(0,a.A)({},i,{component:p,disableTypography:v}),k=(e=>{const{classes:n}=e;return(0,r.A)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},m,n)})(E);let O=_;null==O||O.type===o.A||v||(O=(0,x.jsx)(o.A,(0,a.A)({variant:d?"body2":"h5",className:k.title,component:"span",display:"block"},w,{children:O})));let z=A;return null==z||z.type===o.A||v||(z=(0,x.jsx)(o.A,(0,a.A)({variant:d?"body2":"body1",className:k.subheader,color:"text.secondary",component:"span",display:"block"},b,{children:z}))),(0,x.jsxs)(g,(0,a.A)({className:(0,l.A)(k.root,u),as:p,ref:n,ownerState:E},T,{children:[d&&(0,x.jsx)(j,{className:k.avatar,ownerState:E,children:d}),(0,x.jsxs)(y,{className:k.content,ownerState:E,children:[O,z]}),s&&(0,x.jsx)(f,{className:k.action,ownerState:E,children:s})]}))}))}}]);
//# sourceMappingURL=36921.9f7c6e35.chunk.js.map