{"version":3,"file":"static/js/88900.276a4e41.chunk.js","mappings":"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","sources":["sections/home/Blogs.jsx"],"sourcesContent":["import * as React from 'react';\nimport { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Box,\n  Card,\n  Grid,\n  Link,\n  Stack,\n  Button,\n  MenuItem,\n  Checkbox,\n  TextField,\n  Typography,\n} from '@mui/material';\n\nimport { paths } from 'src/routes/paths';\nimport { useRouter } from 'src/routes/hooks';\n\nimport { fDateAndTime } from 'src/utils/format-time';\n\nimport { useAuthContext } from 'src/auth/hooks';\nimport { useLocales, useTranslate } from 'src/locales';\nimport { useGetBlogs, useGetBlog_category } from 'src/api';\n\nimport Iconify from 'src/components/iconify';\n\nexport default function Blogs({ onPreview }) {\n  const { t } = useTranslate();\n  const { currentLang } = useLocales();\n  const curLangAr = currentLang.value === 'ar';\n  const { user } = useAuthContext();\n  const { Data } = useGetBlog_category();\n  const router = useRouter();\n\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterBy, setFilterBy] = useState();\n  const [myBlogs, setMyBlogs] = useState(false);\n\n  const formatTextWithLineBreaks = (text, limit = 20) => {\n    if (!text) return '';\n\n    const chunks = [];\n\n    for (let i = 0; i < text.length; i += 100) {\n      chunks.push(text.slice(i, i + 100));\n    }\n\n    let formattedText = chunks.join('<br />');\n\n    if (text.length > limit) {\n      formattedText = `${text.slice(0, limit)}...`;\n    }\n\n    return formattedText;\n  };\n\n  // Static data for blogs\n  const { data } = useGetBlogs({\n    populate: {\n      path: 'user',\n      select: 'role employee _id',\n      populate: { path: 'employee', select: '_id name_english name_arabic employee_engagements' },\n    },\n  });\n\n  const filteredBlogs = data?.filter((blog) => {\n    const matchesSearch =\n      (blog.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        blog.topic.toLowerCase().includes(searchTerm.toLowerCase())) &&\n      (filterBy ? blog.category === filterBy : true);\n    let filterMyBlogs = true;\n    if (myBlogs) {\n      filterMyBlogs = blog.user?._id === user?._id;\n    }\n    return matchesSearch && filterMyBlogs;\n  });\n\n  return (\n    <>\n      <Stack\n        sx={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          textAlign: 'center',\n          height: '35vh',\n          width: '100%',\n          px: 3,\n          mb: '150px',\n          mt: '130px',\n          position: 'relative',\n          backgroundImage: `linear-gradient(to right, rgba(112, 216, 192, 0.7), rgba(60, 176, 153, 0.7))`,\n          borderBottomLeftRadius: '60px',\n          borderBottomRightRadius: '60px',\n        }}\n      >\n        <Typography variant=\"h2\" component=\"h2\" color=\"white\">\n          {t('hakeemna medical blog')}\n        </Typography>\n      </Stack>\n\n      <Box sx={{ py: { xs: 2, md: 2 }, px: { xs: 2, md: 30 }, textAlign: 'start' }}>\n        {/* Search and filter section */}\n        <Box sx={{ display: 'flex', flexDirection: { xs: 'column', md: 'row' }, mb: 5 }}>\n          <TextField\n            label={t('Search')}\n            variant=\"outlined\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            sx={{ width: { xs: '100%', md: '100%' }, mr: { md: 3 }, mb: { xs: 2, md: 0 } }}\n          />\n          <TextField\n            select\n            label={t('Filter by category')}\n            value={filterBy}\n            onChange={(e) => setFilterBy(e.target.value)}\n            sx={{ width: { xs: '100%', md: '100%' } }}\n          >\n            <MenuItem value=\"\">{t('All categories')}</MenuItem>\n            {Data?.map((category, index) => (\n              <MenuItem key={index} value={category?._id}>\n                {category?.[t('name_english')]}\n              </MenuItem>\n            ))}\n          </TextField>\n          {user?._id && data?.some((one) => one.user?._id === user?._id) && (\n            <Stack ml={5} direction=\"row\" alignItems=\"center\">\n              <Checkbox checked={myBlogs} onClick={() => setMyBlogs(!myBlogs)} />\n              <Typography>{t('my blogs')}</Typography>\n            </Stack>\n          )}\n        </Box>\n\n        {/* Blog Cards */}\n        <Grid container spacing={2}>\n          {filteredBlogs?.map((blog, index) => (\n            <Grid key={index} item xs={12} sm={6} md={6} lg={6}>\n              <Card\n                sx={{\n                  position: 'relative',\n                  overflow: 'hidden',\n                  height: '250px',\n                  display: 'flex',\n                  flexDirection: 'column',\n                  justifyContent: 'space-between',\n                  borderRight: '5px solid #3CB099',\n                  borderRadius: '15px',\n                  bgcolor: 'rgba(216, 246, 240, 0.11)',\n                }}\n              >\n                <Box sx={{ p: 2 }}>\n                  <Typography sx={{ color: '#3CB099', fontWeight: 'bold', mb: 1 }}>\n                    {blog.title}\n                  </Typography>\n                  <Typography variant=\"caption\" sx={{ color: 'gray' }}>\n                    {fDateAndTime(blog.created_at)}\n                  </Typography>\n                  <Typography\n                    dangerouslySetInnerHTML={{\n                      __html: formatTextWithLineBreaks(blog.topic),\n                    }}\n                    sx={{ mt: 1 }}\n                  />\n\n                  <Stack sx={{ position: 'absolute', bottom: 60 }}>\n                    {blog?.user?.role === 'superadmin' ? (\n                      <Typography\n                        sx={{ color: '#3CB099' }}\n                        href={paths.pages.doctor(\n                          `${\n                            blog?.user?.employee?.employee_engagements[0]\n                          }_${blog?.user?.employee?.name_english?.replace(/ /g, '_')}`\n                        )}\n                      >\n                        {curLangAr ? 'حكيمنا ٣٦٠' : ' hakeemna 360'}\n                      </Typography>\n                    ) : (\n                      <Link\n                        sx={{ color: 'gray' }}\n                        href={paths.pages.doctor(\n                          `${\n                            blog?.user?.employee?.employee_engagements[0]\n                          }_${blog?.user?.employee?.name_english?.replace(/ /g, '_')}`\n                        )}\n                      >\n                        {blog.user?.employee?.name_english}\n                      </Link>\n                    )}\n                  </Stack>\n                </Box>\n\n                <Stack direction=\"row\" sx={{ alignSelf: 'end', mb: 2, mr: 2 }}>\n                  <Button\n                    size=\"large\"\n                    onClick={() => {\n                      if (onPreview) {\n                        onPreview(blog?._id);\n                      } else {\n                        router.push(\n                          `${paths.pages.BlogsView(blog?._id)}?title=${blog?.title?.replace(\n                            / /g,\n                            '-'\n                          )}}&writer=${\n                            blog?.user?.role === 'superadmin'\n                              ? 'hakeemna 360'\n                              : blog.user?.employee?.[t('name_english')]?.replace(/ /g, '-')\n                          }`\n                        );\n                      }\n                    }}\n                    id=\"About\"\n                    sx={{\n                      display: 'flex',\n                      alignItems: 'center',\n                      bgcolor: 'transparent',\n                      padding: 0,\n                      overflow: 'hidden',\n                      boxShadow: 'none',\n                    }}\n                  >\n                    <div\n                      style={{\n                        backgroundColor: 'white',\n                        color: '#1F2C5C',\n                        fontWeight: 'bold',\n                        padding: '6px 12px',\n                        fontSize: '16px',\n                      }}\n                    >\n                      {t('Read more')}\n                    </div>\n                    <div\n                      style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        backgroundColor: '#1F2C5C',\n                        padding: '6px 8px',\n                        borderEndEndRadius: '10px',\n                        borderStartEndRadius: '10px',\n                      }}\n                    >\n                      {curLangAr ? (\n                        <Iconify icon=\"icon-park-outline:left\" width={24} sx={{ color: 'white' }} />\n                      ) : (\n                        <Iconify\n                          icon=\"eva:arrow-ios-forward-fill\"\n                          width={24}\n                          sx={{ color: 'white' }}\n                        />\n                      )}\n                    </div>\n                  </Button>\n                </Stack>\n              </Card>\n            </Grid>\n          ))}\n        </Grid>\n      </Box>\n    </>\n  );\n}\n\nBlogs.propTypes = {\n  onPreview: PropTypes.func,\n};\n"],"names":["Blogs","_ref","onPreview","t","useTranslate","currentLang","useLocales","curLangAr","value","user","useAuthContext","Data","useGetBlog_category","router","useRouter","searchTerm","setSearchTerm","useState","filterBy","setFilterBy","myBlogs","setMyBlogs","formatTextWithLineBreaks","text","limit","arguments","length","undefined","chunks","i","push","slice","formattedText","join","data","useGetBlogs","populate","path","select","filteredBlogs","filter","blog","matchesSearch","title","toLowerCase","includes","topic","category","filterMyBlogs","_blog$user","_id","_jsxs","_Fragment","children","_jsx","Stack","sx","display","alignItems","justifyContent","textAlign","height","width","px","mb","mt","position","backgroundImage","borderBottomLeftRadius","borderBottomRightRadius","Typography","variant","component","color","Box","py","xs","md","flexDirection","TextField","label","onChange","e","target","mr","MenuItem","map","index","some","one","_one$user","ml","direction","Checkbox","checked","onClick","Grid","container","spacing","_blog$user2","_blog$user3","_blog$user3$employee","_blog$user4","_blog$user4$employee","_blog$user4$employee$","_blog$user5","_blog$user5$employee","_blog$user6","_blog$user6$employee","_blog$user6$employee$","_blog$user7","_blog$user7$employee","item","sm","lg","Card","overflow","borderRight","borderRadius","bgcolor","p","fontWeight","fDateAndTime","created_at","dangerouslySetInnerHTML","__html","bottom","role","href","paths","pages","doctor","employee","employee_engagements","name_english","replace","Link","alignSelf","Button","size","_blog$title","_blog$user8","_blog$user9","_blog$user9$employee","_blog$user9$employee$","BlogsView","id","padding","boxShadow","style","backgroundColor","fontSize","borderEndEndRadius","borderStartEndRadius","Iconify","icon"],"sourceRoot":""}