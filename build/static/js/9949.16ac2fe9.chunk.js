"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[9949],{38563:(e,n,t)=>{t.d(n,{Z:()=>x});var s=t(16029),o=t(50533),r=t(53767),i=t(4567),l=t(93517),a=t(4419),d=t(80184);function c(e){let{link:n,activeLast:t,disabled:r}=e;const i={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...r&&!t&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},l=(0,d.jsxs)(d.Fragment,{children:[n.icon&&(0,d.jsx)(s.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:n.icon}),n.name]});return n.href?(0,d.jsx)(o.Z,{component:a.r,href:n.href,sx:i,children:l}):(0,d.jsxs)(s.Z,{sx:i,children:[" ",l," "]})}function x(e){let{links:n,action:t,heading:a,moreLink:x,activeLast:p,sx:u,...g}=e;const m=n&&n[n.length-1].name;return(0,d.jsxs)(s.Z,{sx:{...u},children:[(0,d.jsxs)(r.Z,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(s.Z,{sx:{flexGrow:1,display:"flex",gap:{md:3},alignItems:{md:"center"},flexDirection:{xs:"column",md:"row"}},children:[a&&(0,d.jsx)(i.Z,{textTransform:"capitalize",variant:"h4",gutterBottom:!0,children:a}),n&&!!n.length&&(0,d.jsx)(l.Z,{separator:(0,d.jsx)(h,{}),...g,children:null===n||void 0===n?void 0:n.map(((e,n)=>(0,d.jsx)(c,{link:e,activeLast:p,disabled:e.name===m},n)))})]}),t&&(0,d.jsxs)(s.Z,{sx:{flexShrink:0,textTransform:"capitalize"},children:[" ",t," "]})]}),!!x&&(0,d.jsx)(s.Z,{sx:{mt:2},children:x.map(((e,n)=>(0,d.jsx)(o.Z,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},n)))})]})}function h(){return(0,d.jsx)(s.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},27356:(e,n,t)=>{t.d(n,{Z:()=>a});var s=t(16029),o=t(53767),r=t(12065),i=t(4567),l=t(80184);function a(e){let{title:n,imgUrl:t,action:a,filled:d,description:c,sx:x,...h}=e;return(0,l.jsxs)(o.Z,{flexGrow:1,alignItems:"center",justifyContent:"center",sx:{px:3,height:1,...d&&{borderRadius:2,bgcolor:e=>(0,r.Fq)(e.palette.grey[500],.04),border:e=>"dashed 1px ".concat((0,r.Fq)(e.palette.grey[500],.08))},...x},...h,children:[(0,l.jsx)(s.Z,{component:"img",alt:"empty content",src:t||"/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),n&&(0,l.jsx)(i.Z,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:n}),c&&(0,l.jsx)(i.Z,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:c}),a&&a]})}},31092:(e,n,t)=>{t.d(n,{Z:()=>s.Z});var s=t(27356)},38062:(e,n,t)=>{function s(e,n,t){return e?Math.max(0,(1+e)*n-t):0}function o(e,n,t){return null===e[t]?1:null===n[t]||n[t]<e[t]?-1:n[t]>e[t]?1:0}function r(e,n){return"desc"===e?(e,t)=>o(e,t,n):(e,t)=>-o(e,t,n)}t.d(n,{$W:()=>u,K:()=>y,et:()=>p,S_:()=>R,Z4:()=>w,fQ:()=>s,sQ:()=>r,x6:()=>l});var i=t(72791);function l(e){const[n,t]=(0,i.useState)(!(null===e||void 0===e||!e.defaultDense)),[s,o]=(0,i.useState)((null===e||void 0===e?void 0:e.defaultCurrentPage)||0),[r,l]=(0,i.useState)((null===e||void 0===e?void 0:e.defaultOrderBy)||"code"),[a,d]=(0,i.useState)((null===e||void 0===e?void 0:e.defaultRowsPerPage)||25),[c,x]=(0,i.useState)((null===e||void 0===e?void 0:e.defaultOrder)||"asc"),[h,p]=(0,i.useState)((null===e||void 0===e?void 0:e.defaultSelected)||[]),u=(0,i.useCallback)((e=>{""!==e&&(x(r===e&&"asc"===c?"desc":"asc"),l(e))}),[c,r]),g=(0,i.useCallback)((e=>{const n=h.includes(e)?h.filter((n=>n!==e)):[...h,e];p(n)}),[h]),m=(0,i.useCallback)((e=>{o(0),d(parseInt(e.target.value,10))}),[]),j=(0,i.useCallback)((e=>{t(e.target.checked)}),[]),v=(0,i.useCallback)(((e,n)=>{p(e?n:[])}),[]),Z=(0,i.useCallback)(((e,n)=>{o(n)}),[]),y=(0,i.useCallback)((()=>{o(0)}),[]),b=(0,i.useCallback)((e=>{p([]),s&&e<2&&o(s-1)}),[s]),f=(0,i.useCallback)((e=>{let{totalRows:n,totalRowsInPage:t,totalRowsFiltered:r}=e;const i=h.length;if(p([]),s)if(i===t)o(s-1);else if(i===r)o(0);else if(i>t){const e=Math.ceil((n-i)/a)-1;o(e)}}),[s,a,h.length]);return{dense:n,order:c,page:s,orderBy:r,rowsPerPage:a,selected:h,onSelectRow:g,onSelectAllRows:v,onSort:u,onChangePage:Z,onChangeDense:j,onResetPage:y,onChangeRowsPerPage:m,onUpdatePageDeleteRow:b,onUpdatePageDeleteRows:f,setPage:o,setDense:t,setOrder:x,setOrderBy:l,setSelected:p,setRowsPerPage:d}}var a=t(9195),d=t(68745),c=t(81164),x=t(31092),h=t(80184);function p(e){let{notFound:n,sx:t}=e;const{t:s}=(0,c.qM)();return(0,h.jsx)(a.Z,{children:n?(0,h.jsx)(d.Z,{colSpan:12,children:(0,h.jsx)(x.Z,{filled:!0,title:s("No Data"),sx:{py:10,...t}})}):(0,h.jsx)(d.Z,{colSpan:12,sx:{p:0}})})}function u(e){let{emptyRows:n,height:t}=e;return n?(0,h.jsx)(a.Z,{sx:{...t&&{height:t*n}},children:(0,h.jsx)(d.Z,{colSpan:9})}):null}var g=t(16029),m=t(13034),j=t(56890),v=t(80720);const Z={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function y(e){let{order:n,orderBy:t,rowCount:s=0,headLabel:o,numSelected:r=0,onSort:i,onSelectAllRows:l,sx:c}=e;return(0,h.jsx)(j.Z,{sx:c,children:(0,h.jsxs)(a.Z,{children:[l&&(0,h.jsx)(d.Z,{padding:"checkbox",children:(0,h.jsx)(m.Z,{indeterminate:!!r&&r<s,checked:!!s&&r===s,onChange:e=>l(e.target.checked)})}),o.map(((e,s)=>(0,h.jsx)(d.Z,{align:e.align||"center",sortDirection:t===e.id&&n,sx:{width:e.width,minWidth:e.minWidth},children:i?(0,h.jsxs)(v.Z,{hideSortIcon:!0,active:t===e.id,direction:t===e.id?n:"asc",onClick:()=>i(e.id),sx:{textTransform:"capitalize"},children:[e.label,t===e.id?(0,h.jsx)(g.Z,{sx:{...Z},children:"desc"===n?"sorted descending":"sorted ascending"}):null]}):e.label},s)))]})})}var b=t(53767),f=t(4567);function w(e){let{dense:n,action:t,rowCount:s,numSelected:o,onSelectAllRows:r,sx:i,color:l,...a}=e;const{t:d}=(0,c.qM)();return o?(0,h.jsxs)(b.Z,{direction:"row",alignItems:"center",sx:{pl:1,pr:2,top:0,left:0,width:1,zIndex:9,height:58,position:"absolute",bgcolor:"".concat(l,".lighter"),...n&&{height:38},...i},...a,children:[(0,h.jsx)(m.Z,{indeterminate:!!o&&o<s,checked:!!s&&o===s,onChange:e=>r(e.target.checked)}),(0,h.jsxs)(f.Z,{variant:"subtitle2",sx:{ml:2,flexGrow:1,color:"".concat(l,".main"),...n&&{ml:3}},children:[o," ",d("selected")]}),t&&t]}):null}var C=t(89891),k=t(58406),_=t(82626),P=t(5446),S=t(25801);function R(e){let{dense:n,count:t,page:s,onChangeDense:o,rowsPerPage:r,setPage:i,rowsPerPageOptions:l=[5,10,25,50],sx:a,...d}=e;const{t:x}=(0,c.qM)();return(0,h.jsxs)(g.Z,{sx:{position:"relative",...a},children:[(0,h.jsx)(P.Z,{showFirstButton:!0,showLastButton:!0,rowsPerPageOptions:l,component:"div",count:t,page:s,rowsPerPage:r,...d,sx:{borderTopColor:"transparent"}}),o&&(0,h.jsx)(S.Z,{label:x("dense"),control:(0,h.jsx)(C.Z,{checked:n,onChange:o}),sx:{pl:2,py:1.5,top:0,position:{sm:"absolute"}}}),i&&(0,h.jsx)(S.Z,{label:x("page"),control:(0,h.jsx)(k.Z,{value:s,onChange:e=>i(e.target.value),variant:"filled",sx:{height:0,width:68,mr:1,backgroundColor:"white",".MuiSelect-select":{paddingTop:1,paddingBottom:1,lineHeight:"40px"}},children:Array.from({length:Math.ceil(t/r)},((e,n)=>(0,h.jsx)(_.Z,{value:n,children:n+1},n)))}),sx:{ml:18,my:2,top:5,position:{sm:"absolute"}}})]})}},59949:(e,n,t)=>{t.d(n,{H:()=>ie,d:()=>U});var s=t(18111),o=t.n(s),r=t(72791),i=t(57621),l=t(79836),a=t(10266),d=t(53382),c=t(39281),x=t(38072),h=t(19208),p=t(22459),u=t(93011),g=t(81164),m=t(8976),j=t(10261),v=t(38563),Z=t(38062),y=t(16386),b=t(16029),f=t(82626),w=t(9195),C=t(68745),k=t(13400),_=t(49900),P=t(84954),S=t(40268),R=t(24845),D=t(80184);function I(e){let{row:n,selected:t,onSelectRow:s,refetch:o,onViewRow:r,onBookAppoint:i,onDelayRow:l,onCancelRow:a,onUnCancelRow:d,onDeleteRow:c}=e;const{_id:p,code:u,sequence_number:m,stakeholder:j,patient:v,products:Z,note:I,name_arabic:W,description_english:B,description_arabic:M,quantity:T,category:A,currency:F,price:q,images:O,status:z,completed_at:L,canceled_at:H,created_at:G,user_creation:E,ip_address_user_creation:Q,updated_at:U,user_modification:K,ip_address_user_modification:N,modifications_nums:$}=n,{t:V}=(0,g.qM)(),J=(0,h.tv)(),{currentLang:X}=(0,g.nt)(),Y="ar"===X.value,ee=(0,R.S)(),ne=(0,R.S)();return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(w.Z,{hover:!0,selected:t,children:[(0,D.jsx)(C.Z,{align:"center",children:m}),(0,D.jsx)(C.Z,{align:"center",children:Y?null===j||void 0===j?void 0:j.name_arabic:null===j||void 0===j?void 0:j.name_english}),(0,D.jsx)(C.Z,{align:"center",children:null===Z||void 0===Z?void 0:Z.length}),(0,D.jsx)(C.Z,{align:"center",children:I}),(0,D.jsx)(C.Z,{align:"center",children:(0,D.jsx)(P.Z,{variant:"soft",color:("pending"===z?"warning":"processing"===z&&"info")||"completed"===z&&"success"||"cancelled"===z&&"error"||"default",children:V(z)})}),(0,D.jsx)(C.Z,{align:"right",sx:{px:1},children:(0,D.jsx)(k.Z,{color:ee.open?"inherit":"default",onClick:ee.onOpen,children:(0,D.jsx)(S.Z,{icon:"eva:more-vertical-fill"})})})]}),(0,D.jsxs)(R.Z,{open:ee.open,onClose:ee.onClose,arrow:"right-top",sx:{width:155},children:[(0,D.jsxs)(f.Z,{lang:"ar",onClick:()=>{J.push(x.H.unitservice.orders.info(p)),ee.onClose()},children:[(0,D.jsx)(S.Z,{icon:"solar:eye-bold"}),V("show")]}),(0,D.jsxs)(f.Z,{lang:"ar",onClick:ne.onOpen,children:[(0,D.jsx)(S.Z,{icon:"carbon:data-quality-definition"}),V("DDL")]})]}),(0,D.jsxs)(R.Z,{open:ne.open,onClose:ne.onClose,arrow:"right-top",sx:{padding:2,fontSize:"14px"},children:[(0,D.jsxs)(b.Z,{sx:{fontWeight:600},children:[V("creation time"),":"]}),(0,D.jsx)(b.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,D.jsx)(_.Z,{primary:(0,y.Z)(new Date(G),"dd MMM yyyy"),secondary:(0,y.Z)(new Date(G),"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{component:"span",typography:"caption"}})}),(0,D.jsxs)(b.Z,{sx:{pt:1,fontWeight:600},children:[V("created by"),":"]}),(0,D.jsx)(b.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===E||void 0===E?void 0:E.email}),(0,D.jsxs)(b.Z,{sx:{pt:1,fontWeight:600},children:[V("created by IP"),":"]}),(0,D.jsx)(b.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:Q}),(0,D.jsxs)(b.Z,{sx:{pt:1,fontWeight:600},children:[V("editing time"),":"]}),(0,D.jsx)(b.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,D.jsx)(_.Z,{primary:(0,y.Z)(new Date(U),"dd MMM yyyy"),secondary:(0,y.Z)(new Date(U),"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{component:"span",typography:"caption"}})}),(0,D.jsxs)(b.Z,{sx:{pt:1,fontWeight:600},children:[V("editor"),":"]}),(0,D.jsx)(b.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===K||void 0===K?void 0:K.email}),(0,D.jsxs)(b.Z,{sx:{pt:1,fontWeight:600},children:[V("editor IP"),":"]}),(0,D.jsx)(b.Z,{sx:{pb:1,borderBottom:"1px solid gray",fontWeight:"400"},children:N}),(0,D.jsxs)(b.Z,{sx:{pt:1,fontWeight:600},children:[V("modifications no"),": ",$]})]})]})}var W=t(53767),B=t(58406),M=t(62861),T=t(68096),A=t(77196),F=t(48550),q=t(63466);function O(e){let{filters:n,onFilters:t,onAdd:s,dateError:o,options:i}=e;const{t:l}=(0,g.qM)(),a=(0,R.S)(),d=(0,r.useCallback)((e=>{t("status",e.target.value)}),[t]),c=(0,r.useCallback)((e=>{t("name",e.target.value)}),[t]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(W.Z,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:[(0,D.jsxs)(T.Z,{sx:{width:{xs:1,md:200}},children:[(0,D.jsx)(M.Z,{children:"".concat(l("status"))}),(0,D.jsxs)(B.Z,{value:n.status,onChange:d,input:(0,D.jsx)(A.Z,{label:l("status")}),MenuProps:{PaperProps:{sx:{maxHeight:240}}},children:[(0,D.jsx)(f.Z,{lang:"ar",value:"pending",children:l("pending")}),(0,D.jsx)(f.Z,{lang:"ar",value:"processing",children:l("processing")}),(0,D.jsx)(f.Z,{lang:"ar",value:"completed",children:l("completed")}),(0,D.jsx)(f.Z,{lang:"ar",value:"cancelled",children:l("cancelled")})]})]}),(0,D.jsxs)(W.Z,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:[(0,D.jsx)(F.Z,{fullWidth:!0,value:n.name,onChange:c,placeholder:l("Search name or number..."),InputProps:{startAdornment:(0,D.jsx)(q.Z,{position:"start",children:(0,D.jsx)(S.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),(0,D.jsx)(k.Z,{onClick:a.onOpen,children:(0,D.jsx)(S.Z,{icon:"eva:more-vertical-fill"})})]})]}),(0,D.jsxs)(R.Z,{open:a.open,onClose:a.onClose,arrow:"right-top",sx:{width:140},children:[(0,D.jsxs)(f.Z,{lang:"ar",onClick:()=>{a.onClose()},children:[(0,D.jsx)(S.Z,{icon:"solar:printer-minimalistic-bold"}),l("print")]}),(0,D.jsxs)(f.Z,{lang:"ar",onClick:()=>{a.onClose()},children:[(0,D.jsx)(S.Z,{icon:"solar:export-bold"}),l("export")]})]})]})}var z=t(85771),L=t(27938),H=t(13838);function G(e){let{filters:n,onFilters:t,canReset:s,onResetFilters:o,results:r,...i}=e;const{t:l}=(0,g.qM)();return(0,D.jsxs)(W.Z,{spacing:1.5,...i,children:[(0,D.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,D.jsx)("strong",{children:r}),(0,D.jsx)(b.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:l("results found")})]}),(0,D.jsxs)(W.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[""!==n.status&&(0,D.jsx)(E,{label:"".concat(l("status"),":"),children:(0,D.jsx)(z.Z,{size:"small",label:l(n.status),onDelete:e=>{t("status","")}})}),""!==n.name&&(0,D.jsx)(E,{label:"".concat(l("search"),":"),children:(0,D.jsx)(z.Z,{size:"small",label:l("search"),onDelete:e=>{t("name","")}})}),s&&(0,D.jsx)(H.Z,{color:"error",onClick:o,startIcon:(0,D.jsx)(S.Z,{icon:"solar:trash-bin-trash-bold"}),children:l("clear")})]})]})}function E(e){let{label:n,children:t,sx:s,...o}=e;return(0,D.jsxs)(W.Z,{component:L.Z,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...s},...o,children:[(0,D.jsx)(b.Z,{component:"span",sx:{typography:"subtitle2"},children:n}),(0,D.jsx)(W.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:t})]})}const Q={name:"",status:""};function U(){var e,n,t,s;const{t:y}=(0,g.qM)(),b=[{id:"code",label:y("code")},{id:"stakeholder",label:y("stakeholder")},{id:"products",label:y("products no.")},{id:"note",label:y("note")},{id:"status",label:y("status")},{id:""}],f=(0,h.lr)().get("name"),w=(0,Z.x6)({defaultOrderBy:"code"}),{user:C}=(0,m.E)(),k=(0,p.k)(),[_,P]=(0,r.useState)(Q),{ordersData:S,length:R,refetch:W}=(0,u.sV4)(null===C||void 0===C||null===(e=C.employee)||void 0===e||null===(n=e.employee_engagements)||void 0===n||null===(t=n[C.employee.selected_engagement])||void 0===t||null===(s=t.unit_service)||void 0===s?void 0:s._id,{page:w.page||0,sortBy:w.orderBy||"code",rowsPerPage:w.rowsPerPage||25,order:w.order||"asc",populate:"stakeholder",..._}),B=!(!_.startDate||!_.endDate)&&_.startDate.getTime()>_.endDate.getTime(),M=S,T=w.dense?56:76,A=!o()(_,Q),F=!(null!==M&&void 0!==M&&M.length)&&A||!(null!==M&&void 0!==M&&M.length),q=(0,r.useCallback)(((e,n)=>{w.onResetPage(),P((t=>({...t,[e]:n})))}),[w]),z=(0,r.useCallback)((()=>{P(Q)}),[]);return(0,r.useEffect)((()=>{f&&P((e=>({...e,name:f})))}),[f]),(0,D.jsxs)(a.Z,{maxWidth:"xl",children:[(0,D.jsx)(v.Z,{heading:y("orders"),links:[{name:y("dashboard"),href:x.H.dashboard.root},{name:y("orders")}],sx:{mb:{xs:3,md:5}}}),(0,D.jsxs)(i.Z,{children:[(0,D.jsx)(O,{filters:_,onFilters:q,onAdd:()=>k.onTrue(),dateError:B}),A&&(0,D.jsx)(G,{filters:_,onFilters:q,onResetFilters:z,results:null===M||void 0===M?void 0:M.length,sx:{p:2.5,pt:0}}),(0,D.jsx)(c.Z,{sx:{position:"relative",overflow:"unset"},children:(0,D.jsx)(j.Z,{children:(0,D.jsxs)(l.Z,{size:w.dense?"small":"medium",sx:{minWidth:800},children:[(0,D.jsx)(Z.K,{order:w.order,orderBy:w.orderBy,headLabel:b,rowCount:R,numSelected:w.selected.length,onSort:w.onSort}),(0,D.jsxs)(d.Z,{children:[null===M||void 0===M?void 0:M.map(((e,n)=>(0,D.jsx)(I,{refetch:W,row:e,selected:w.selected.includes(e._id),onSelectRow:()=>w.onSelectRow(e._id)},n))),(0,D.jsx)(Z.$W,{height:T,emptyRows:(0,Z.fQ)(w.page,w.rowsPerPage,R)}),(0,D.jsx)(Z.et,{notFound:F})]})]})})}),(0,D.jsx)(Z.S_,{count:R,page:w.page,rowsPerPage:w.rowsPerPage,onPageChange:w.onChangePage,onRowsPerPageChange:w.onChangeRowsPerPage,dense:w.dense,onChangeDense:w.onChangeDense})]})]})}var K=t(24308),N=t(66664),$=t(65833),V=t(93044),J=t(9585),X=t(4567);function Y(e){let{customer:n,note:t,payment:s,shippingAddress:o}=e;return(0,D.jsx)(i.Z,{children:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(J.Z,{title:"stakeholder"}),(0,D.jsxs)(W.Z,{direction:"row",sx:{p:3},children:[(0,D.jsx)(V.Z,{alt:null===n||void 0===n?void 0:n.name_english,src:null===n||void 0===n?void 0:n.company_logo,sx:{width:48,height:48,mr:2}}),(0,D.jsxs)(W.Z,{spacing:.5,alignItems:"flex-start",sx:{typography:"body2"},children:[(0,D.jsx)(X.Z,{variant:"subtitle2",children:null===n||void 0===n?void 0:n.name_english}),(0,D.jsx)(b.Z,{sx:{color:"text.secondary"},children:null===n||void 0===n?void 0:n.email}),(0,D.jsx)(b.Z,{sx:{color:"text.secondary"},children:null===n||void 0===n?void 0:n.phone}),t&&(0,D.jsx)(X.Z,{variant:"subtitle2",sx:{mt:2},children:"note:"}),(0,D.jsx)(b.Z,{sx:{color:"text.secondary"},children:t})]})]})]})})}var ee=t(17070);function ne(e){var n;let{items:t,onChangeQuantity:s,taxes:o,shipping:r,discount:l,subTotal:a,totalAmount:d}=e;const c=null===t||void 0===t?void 0:t.reduce(((e,n)=>e+n.price*n.real_delieverd_quantity),0),x=(0,D.jsx)(W.Z,{spacing:2,alignItems:"flex-end",sx:{my:3,textAlign:"right",typography:"body2"},children:(0,D.jsxs)(W.Z,{direction:"row",sx:{typography:"subtitle1"},children:[(0,D.jsx)(b.Z,{children:"Total"}),(0,D.jsx)(b.Z,{sx:{width:160},children:(0,ee.e_)(c,null===t||void 0===t||null===(n=t[0].currency)||void 0===n?void 0:n.symbol)||"-"})]})});return(0,D.jsxs)(i.Z,{children:[(0,D.jsx)(J.Z,{title:"Details"}),(0,D.jsxs)(W.Z,{sx:{px:3},children:[(0,D.jsx)(j.Z,{children:null===t||void 0===t?void 0:t.map((e=>{var n,t,s,o,r,i;return(0,D.jsxs)(W.Z,{direction:"row",alignItems:"center",sx:{py:3,minWidth:640,borderBottom:e=>"dashed 2px ".concat(e.palette.background.neutral)},children:[(0,D.jsx)(V.Z,{src:null===e||void 0===e||null===(n=e.product)||void 0===n||null===(t=n.images)||void 0===t?void 0:t[0],variant:"rounded",sx:{width:48,height:48,mr:2}}),(0,D.jsx)(_.Z,{primary:null===e||void 0===e||null===(s=e.product)||void 0===s?void 0:s.name_english,secondary:null===e||void 0===e||null===(o=e.product)||void 0===o||null===(r=o.category)||void 0===r?void 0:r.name_english,primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{component:"span",color:"text.disabled",mt:.5}}),(0,D.jsxs)(b.Z,{sx:{typography:"body2"},children:["x",e.real_delieverd_quantity]}),(0,D.jsx)(b.Z,{sx:{width:110,textAlign:"right",typography:"subtitle2"},children:(0,ee.e_)(e.price,null===(i=e.currency)||void 0===i?void 0:i.symbol)})]},e._id)}))}),x]})]})}var te=t(4419),se=t(9145);function oe(e){let{status:n,backLink:t,createdAt:s,orderNumber:o,statusOptions:r,onChangeStatus:i}=e;const l=(0,R.S)();return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(W.Z,{spacing:3,direction:{xs:"column",md:"row"},sx:{mb:{xs:3,md:5}},children:[(0,D.jsxs)(W.Z,{spacing:1,direction:"row",alignItems:"flex-start",children:[(0,D.jsx)(k.Z,{component:te.r,href:t,children:(0,D.jsx)(S.Z,{icon:"eva:arrow-ios-back-fill"})}),(0,D.jsxs)(W.Z,{spacing:.5,children:[(0,D.jsxs)(W.Z,{spacing:1,direction:"row",alignItems:"center",children:[(0,D.jsxs)(X.Z,{variant:"h4",children:[" Order ",o," "]}),(0,D.jsx)(P.Z,{variant:"soft",color:("completed"===n?"success":"pending"===n&&"warning")||"processing"===n&&"info"||"cancelled"===n&&"error"||"default",children:n})]}),(0,D.jsx)(X.Z,{variant:"body2",sx:{color:"text.disabled"},children:(0,se.zM)(s)})]})]}),(0,D.jsx)(W.Z,{flexGrow:1,spacing:1.5,direction:"row",alignItems:"center",justifyContent:"flex-end",children:(0,D.jsx)(H.Z,{color:"inherit",variant:"outlined",endIcon:(0,D.jsx)(S.Z,{icon:"eva:arrow-ios-downward-fill"}),onClick:l.onOpen,sx:{textTransform:"capitalize"},children:n})})]}),(0,D.jsx)(R.Z,{open:l.open,onClose:l.onClose,arrow:"top-right",sx:{width:140},children:r.map((e=>(0,D.jsx)(f.Z,{selected:e.value===n,onClick:()=>{l.onClose(),i(e.value)},children:e.label},e.value)))})]})}const re=[{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}];function ie(){const{id:e}=(0,h.UO)(),{orderData:n,refetch:t}=(0,u.gzy)(e),s=(0,$.K$)(),o=(0,r.useCallback)((async n=>{await N.ZP.patch(N.Hv.orders.one(e),{status:n}),t()}),[e,t]),i=(0,r.useCallback)((async s=>{await N.ZP.patch(N.Hv.orders.one(e),{products:n.products.map((e=>Object.keys(s).includes(e._id)?{...e,real_delieverd_quantity:s[e._id]}:e))}),t()}),[e,t,n]);return(0,D.jsxs)(a.Z,{maxWidth:!s.themeStretch&&"lg",children:[(0,D.jsx)(oe,{backLink:x.H.unitservice.orders.root,orderNumber:null===n||void 0===n?void 0:n.sequence_number,createdAt:null===n||void 0===n?void 0:n.created_at,status:null===n||void 0===n?void 0:n.status,onChangeStatus:o,statusOptions:re}),(0,D.jsxs)(K.Z,{container:!0,spacing:3,children:[(0,D.jsx)(K.Z,{xs:12,md:8,children:(0,D.jsx)(W.Z,{spacing:3,direction:{xs:"column-reverse",md:"column"},children:(0,D.jsx)(ne,{items:null===n||void 0===n?void 0:n.products,onChangeQuantity:i,taxes:null===n||void 0===n?void 0:n.taxes,shipping:null===n||void 0===n?void 0:n.shipping,discount:null===n||void 0===n?void 0:n.discount,subTotal:null===n||void 0===n?void 0:n.subTotal,totalAmount:null===n||void 0===n?void 0:n.totalAmount})})}),(0,D.jsx)(K.Z,{xs:12,md:4,children:(0,D.jsx)(Y,{customer:null===n||void 0===n?void 0:n.stakeholder,note:null===n||void 0===n?void 0:n.note})})]})]})}}}]);
//# sourceMappingURL=9949.16ac2fe9.chunk.js.map