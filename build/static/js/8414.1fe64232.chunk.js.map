{"version":3,"file":"static/js/8414.1fe64232.chunk.js","mappings":"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","sources":["sections/unit-service/subscriptions/pricing-card.jsx","sections/unit-service/subscriptions/view/new.jsx","pages/unit-service/subscriptions/new.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\n\nimport Box from '@mui/material/Box';\nimport Link from '@mui/material/Link';\nimport Stack from '@mui/material/Stack';\nimport Button from '@mui/material/Button';\nimport Divider from '@mui/material/Divider';\nimport Typography from '@mui/material/Typography';\n\nimport { paths } from 'src/routes/paths';\nimport { useRouter } from 'src/routes/hooks';\n\nimport { useBoolean } from 'src/hooks/use-boolean';\n\nimport axiosInstance, { endpoints } from 'src/utils/axios';\n\nimport { useAuthContext } from 'src/auth/hooks';\nimport { PlanStarterIcon } from 'src/assets/icons';\nimport { useLocales, useTranslate } from 'src/locales';\n\nimport Iconify from 'src/components/iconify';\nimport { ConfirmDialog } from 'src/components/custom-dialog';\n\n// ----------------------------------------------------------------------\n\nexport default function PricingCard({ card, sx, ...other }) {\n  const {\n    name_english,\n    name_arabic,\n    period_in_months,\n    price_in_usd,\n    package_appointment,\n    package_accounting,\n    package_docotor_report,\n    package_final_reporting,\n    package_old_files_Management,\n    package_TAX_Income_reporting,\n    Users_num,\n  } = card;\n\n  const { user, initialize } = useAuthContext();\n\n  const { t } = useTranslate();\n  const { currentLang } = useLocales();\n  const curLangAr = currentLang.value === 'ar';\n\n  const Router = useRouter();\n  const confirm = useBoolean();\n\n  const [lists, setLists] = useState([]);\n\n  const handleSubscribe = async () => {\n    try {\n      const today = new Date();\n      const Start_date = new Date(today.getFullYear(), today.getMonth(), today.getDate());\n\n      const End_date = new Date(\n        Start_date.getFullYear(),\n        Start_date.getMonth() + period_in_months,\n        Start_date.getDate()\n      );\n      await axiosInstance.post(endpoints.license_movements.all, {\n        unit_service:\n          user?.employee?.employee_engagements?.[user.employee.selected_engagement]?.unit_service\n            ?._id,\n        subscription: card._id,\n        Start_date,\n        End_date,\n        Users_num,\n        price: price_in_usd || 0,\n      });\n      initialize();\n      Router.push(paths.unitservice.subscriptions.root);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  useEffect(() => {\n    setLists([]);\n    if (package_appointment) {\n      setLists((prev) => [...prev, 'appointment package']);\n    }\n    if (package_accounting) {\n      setLists((prev) => [...prev, 'accounting package']);\n    }\n    if (package_docotor_report) {\n      setLists((prev) => [...prev, 'docotor report package']);\n    }\n    if (package_final_reporting) {\n      setLists((prev) => [...prev, 'final reporting package']);\n    }\n    if (package_old_files_Management) {\n      setLists((prev) => [...prev, 'old files Management package']);\n    }\n    if (package_TAX_Income_reporting) {\n      setLists((prev) => [...prev, 'TAX Income reporting package']);\n    }\n  }, [\n    package_appointment,\n    package_accounting,\n    package_docotor_report,\n    package_final_reporting,\n    package_old_files_Management,\n    package_TAX_Income_reporting,\n  ]);\n\n  const renderIcon = (\n    <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\">\n      <Box sx={{ width: 48, height: 48 }}>\n        <PlanStarterIcon />\n      </Box>\n\n      {/* {starter && <Label color=\"info\">POPULAR</Label>} */}\n    </Stack>\n  );\n\n  const renderSubscription = (\n    <Stack spacing={1}>\n      <Typography variant=\"h4\" sx={{ textTransform: 'capitalize' }}>\n        {curLangAr ? name_arabic : name_english}\n      </Typography>\n      <Typography variant=\"subtitle2\">\n        {Users_num} {t('users')}\n      </Typography>\n    </Stack>\n  );\n\n  const renderPrice = (\n    <Stack direction=\"row\">\n      <Typography variant=\"h4\">{price_in_usd ? '$' : ''}</Typography>\n\n      <Typography variant=\"h2\">{price_in_usd || t('FREE')}</Typography>\n\n      <Typography\n        component=\"span\"\n        sx={{\n          alignSelf: 'center',\n          color: 'text.disabled',\n          ml: 1,\n          typography: 'body2',\n        }}\n      >\n        / {period_in_months} {period_in_months > 1 ? t('months') : t('month')}\n      </Typography>\n    </Stack>\n  );\n\n  const renderList = (\n    <Stack spacing={2}>\n      <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\">\n        <Box component=\"span\" sx={{ typography: 'overline' }}>\n          {t('Backages')}\n        </Box>\n        <Link variant=\"body2\" color=\"inherit\" underline=\"always\">\n          {package_appointment &&\n          package_accounting &&\n          package_docotor_report &&\n          package_final_reporting &&\n          package_old_files_Management &&\n          package_TAX_Income_reporting\n            ? 'All'\n            : ''}\n        </Link>\n      </Stack>\n\n      {lists.map((item) => (\n        <Stack\n          key={item}\n          spacing={1}\n          direction=\"row\"\n          alignItems=\"center\"\n          sx={{\n            typography: 'body2',\n          }}\n        >\n          <Iconify icon=\"eva:checkmark-fill\" width={16} sx={{ mr: 1 }} />\n          {t(item)}\n        </Stack>\n      ))}\n    </Stack>\n  );\n\n  return (\n    <>\n      <Stack\n        spacing={5}\n        sx={{\n          p: 5,\n          borderRadius: 2,\n          boxShadow: (theme) => ({\n            xs: theme.customShadows.card,\n          }),\n          ...sx,\n        }}\n        {...other}\n      >\n        {renderIcon}\n\n        {renderSubscription}\n\n        {renderPrice}\n\n        <Divider sx={{ borderStyle: 'dashed' }} />\n\n        {renderList}\n\n        <Button fullWidth size=\"large\" variant=\"contained\" color=\"primary\" onClick={confirm.onTrue}>\n          {t('Select')}\n        </Button>\n      </Stack>\n      <ConfirmDialog\n        open={confirm.value}\n        onClose={confirm.onFalse}\n        title={t('Confirm')}\n        content={\n          <>\n            {t('Do you confirm choosing')}{' '}\n            <strong> {curLangAr ? name_arabic : name_english} </strong> {t('subscription ?')}\n          </>\n        }\n        action={\n          <Button\n            variant=\"contained\"\n            color=\"success\"\n            onClick={() => {\n              confirm.onFalse();\n              handleSubscribe();\n            }}\n          >\n            {t('confirm')}\n          </Button>\n        }\n      />\n    </>\n  );\n}\n\nPricingCard.propTypes = {\n  card: PropTypes.object,\n  sx: PropTypes.object,\n};\n","import Box from '@mui/material/Box';\nimport Container from '@mui/material/Container';\n\nimport { useGetUSSubscriptions } from 'src/api';\n\n// import { _pricingPlans } from 'src/_mock';\n\nimport { useAuthContext } from 'src/auth/hooks';\n\nimport PricingCard from '../pricing-card';\n\n// ----------------------------------------------------------------------\n\nexport default function PricingView() {\n  const { user } = useAuthContext();\n  const { subscriptionsData } = useGetUSSubscriptions(\n    user?.employee?.employee_engagements[user?.employee.selected_engagement]?.unit_service?._id\n  );\n  return (\n    <Container>\n      <Box\n        gap={{ xs: 3, md: 5 }}\n        display=\"grid\"\n        alignItems={{ md: 'center' }}\n        gridTemplateColumns={{ md: 'repeat(3, 1fr)' }}\n      >\n        {subscriptionsData.map((card, index) => (\n          <PricingCard key={card.subscription} card={card} index={index} />\n        ))}\n      </Box>\n    </Container>\n  );\n}\n","import { Helmet } from 'react-helmet-async';\n\nimport ACLGuard from 'src/auth/guard/acl-guard';\nimport { useAuthContext } from 'src/auth/hooks';\n\nimport SubscriptionNewView from 'src/sections/unit-service/subscriptions/view/new';\n\n// ----------------------------------------------------------------------\n\nexport default function SubscriptionNewPage() {\n  const { user } = useAuthContext();\n  const serviceUnitName =\n    user?.employee?.employee_engagements?.[user?.employee?.selected_engagement]?.unit_service\n      ?.name_english;\n  return (\n    <ACLGuard category=\"unit_service\" subcategory=\"unit_service_info\" acl=\"create\">\n      <Helmet>\n        <title>{serviceUnitName || 'Service unit'} : New Subscription</title>\n        <meta name=\"description\" content=\"meta\" />\n      </Helmet>\n\n      <SubscriptionNewView />\n    </ACLGuard>\n  );\n}\n"],"names":["PricingCard","_ref","card","sx","other","name_english","name_arabic","period_in_months","price_in_usd","package_appointment","package_accounting","package_docotor_report","package_final_reporting","package_old_files_Management","package_TAX_Income_reporting","Users_num","user","initialize","useAuthContext","t","useTranslate","currentLang","useLocales","curLangAr","value","Router","useRouter","confirm","useBoolean","lists","setLists","useState","useEffect","prev","renderIcon","_jsx","Stack","direction","alignItems","justifyContent","children","Box","width","height","PlanStarterIcon","renderSubscription","_jsxs","spacing","Typography","variant","textTransform","renderPrice","component","alignSelf","color","ml","typography","renderList","Link","underline","map","item","Iconify","icon","mr","_Fragment","p","borderRadius","boxShadow","theme","xs","customShadows","Divider","borderStyle","Button","fullWidth","size","onClick","onTrue","ConfirmDialog","open","onClose","onFalse","title","content","action","async","_user$employee","_user$employee$employ","_user$employee$employ2","_user$employee$employ3","today","Date","Start_date","getFullYear","getMonth","getDate","End_date","axiosInstance","post","endpoints","license_movements","all","unit_service","employee","employee_engagements","selected_engagement","_id","subscription","price","push","paths","unitservice","subscriptions","root","error","console","handleSubscribe","PricingView","subscriptionsData","useGetUSSubscriptions","Container","gap","md","display","gridTemplateColumns","index","SubscriptionNewPage","_user$employee2","serviceUnitName","ACLGuard","category","subcategory","acl","Helmet","name","SubscriptionNewView"],"sourceRoot":""}