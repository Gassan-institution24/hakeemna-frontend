"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[90540],{3900:(e,n,a)=>{a.d(n,{A:()=>t});a(65043);var i=a(66734),r=a(70579);const t=(0,i.A)((0,r.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},22698:(e,n,a)=>{a.d(n,{A:()=>P});var i=a(58168),r=a(98587),t=a(65043),l=a(58387),s=a(98610),o=a(88092),d=a(34535),c=a(98206),m=a(94496),u=a(67266),p=a(66734),x=a(70579);const h=(0,p.A)((0,x.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var f=a(96030);const v=["slots","slotProps"],g=(0,d.Ay)(f.A)((e=>{let{theme:n}=e;return(0,i.A)({display:"flex",marginLeft:`calc(${n.spacing(1)} * 0.5)`,marginRight:`calc(${n.spacing(1)} * 0.5)`},"light"===n.palette.mode?{backgroundColor:n.palette.grey[100],color:n.palette.grey[700]}:{backgroundColor:n.palette.grey[700],color:n.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,i.A)({},"light"===n.palette.mode?{backgroundColor:n.palette.grey[200]}:{backgroundColor:n.palette.grey[600]}),"&:active":(0,i.A)({boxShadow:n.shadows[0]},"light"===n.palette.mode?{backgroundColor:(0,u.tL)(n.palette.grey[200],.12)}:{backgroundColor:(0,u.tL)(n.palette.grey[600],.12)})})})),b=(0,d.Ay)(h)({width:24,height:16});const j=function(e){const{slots:n={},slotProps:a={}}=e,t=(0,r.A)(e,v),l=e;return(0,x.jsx)("li",{children:(0,x.jsx)(g,(0,i.A)({focusRipple:!0},t,{ownerState:l,children:(0,x.jsx)(b,(0,i.A)({as:n.CollapsedIcon,ownerState:l},a.collapsedIcon))}))})};var y=a(92532),A=a(72372);function w(e){return(0,A.Ay)("MuiBreadcrumbs",e)}const _=(0,y.A)("MuiBreadcrumbs",["root","ol","li","separator"]),k=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],C=(0,d.Ay)(m.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,n)=>[{[`& .${_.li}`]:n.li},n.root]})({}),I=(0,d.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,n)=>n.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),S=(0,d.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,n)=>n.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function $(e,n,a,i){return e.reduce(((r,t,l)=>(l<e.length-1?r=r.concat(t,(0,x.jsx)(S,{"aria-hidden":!0,className:n,ownerState:i,children:a},`separator-${l}`)):r.push(t),r)),[])}const P=t.forwardRef((function(e,n){const a=(0,c.b)({props:e,name:"MuiBreadcrumbs"}),{children:d,className:m,component:u="nav",slots:p={},slotProps:h={},expandText:f="Show path",itemsAfterCollapse:v=1,itemsBeforeCollapse:g=1,maxItems:b=8,separator:y="/"}=a,A=(0,r.A)(a,k),[_,S]=t.useState(!1),P=(0,i.A)({},a,{component:u,expanded:_,expandText:f,itemsAfterCollapse:v,itemsBeforeCollapse:g,maxItems:b,separator:y}),T=(e=>{const{classes:n}=e;return(0,s.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},w,n)})(P),D=(0,o.A)({elementType:p.CollapsedIcon,externalSlotProps:h.collapsedIcon,ownerState:P}),O=t.useRef(null),Y=t.Children.toArray(d).filter((e=>t.isValidElement(e))).map(((e,n)=>(0,x.jsx)("li",{className:T.li,children:e},`child-${n}`)));return(0,x.jsx)(C,(0,i.A)({ref:n,component:u,color:"text.secondary",className:(0,l.A)(T.root,m),ownerState:P},A,{children:(0,x.jsx)(I,{className:T.ol,ref:O,ownerState:P,children:$(_||b&&Y.length<=b?Y:(e=>g+v>=e.length?e:[...e.slice(0,g),(0,x.jsx)(j,{"aria-label":f,slots:{CollapsedIcon:p.CollapsedIcon},slotProps:{collapsedIcon:D},onClick:()=>{S(!0);const e=O.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-v,e.length)])(Y),T.separator,y,P)})}))}))},51639:(e,n,a)=>{a.d(n,{A:()=>t});a(65043);var i=a(66734),r=a(70579);const t=(0,i.A)((0,r.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},83858:(e,n,a)=>{a.d(n,{A:()=>i.A});var i=a(91720)},91720:(e,n,a)=>{a.d(n,{A:()=>m});var i=a(81e3),r=a(88446),t=a(74600),l=a(94496),s=a(22698),o=a(65381),d=a(70579);function c(e){let{link:n,activeLast:a,disabled:t}=e;const l={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...t&&!a&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},s=(0,d.jsxs)(d.Fragment,{children:[n.icon&&(0,d.jsx)(i.A,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:n.icon}),n.name]});return n.href?(0,d.jsx)(r.A,{component:o.W,href:n.href,sx:l,children:s}):(0,d.jsxs)(i.A,{sx:l,children:[" ",s," "]})}function m(e){let{links:n,action:a,heading:o,moreLink:m,activeLast:p,sx:x,...h}=e;const f=n&&n[n.length-1].name;return(0,d.jsxs)(i.A,{sx:{...x},children:[(0,d.jsxs)(t.A,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(i.A,{sx:{flexGrow:1,display:"flex",gap:{md:3},alignItems:{md:"center"},flexDirection:{xs:"column",md:"row"}},children:[o&&(0,d.jsx)(l.A,{textTransform:"capitalize",variant:"h4",gutterBottom:!0,children:o}),n&&!!n.length&&(0,d.jsx)(s.A,{separator:(0,d.jsx)(u,{}),...h,children:null===n||void 0===n?void 0:n.map(((e,n)=>(0,d.jsx)(c,{link:e,activeLast:p,disabled:e.name===f},n)))})]}),a&&(0,d.jsxs)(i.A,{sx:{flexShrink:0,textTransform:"capitalize"},children:[" ",a," "]})]}),!!m&&(0,d.jsx)(i.A,{sx:{mt:2},children:m.map(((e,n)=>(0,d.jsx)(r.A,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},n)))})]})}function u(){return(0,d.jsx)(i.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},94193:(e,n,a)=>{a.d(n,{A:()=>s});a(65043);var i=a(74600),r=a(81e3),t=a(88887),l=a(70579);const s=function(e){let{pages:n,vertical:a=!1}=e;return(0,t.Q)("up","md")||(a=!1),(0,l.jsx)(i.A,{sx:{...a&&{position:"sticky",top:0,zIndex:10,alignSelf:"flex-start",width:"max-content"}},direction:a?"column":"row",justifyContent:a?"flex-start":"center",spacing:1,children:(0,l.jsx)(i.A,{direction:a?"column":"row",justifyContent:"center",divider:(0,l.jsx)("div",{style:{width:"1px",backgroundColor:"#ccc"}}),sx:{backgroundColor:"white",border:"1px solid #ccc",borderRadius:2,m:2,display:"inline-flex",overflow:"hidden",width:"fit-content",overflowX:"auto",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},children:n.map((e=>(0,l.jsx)(r.A,{onClick:e.onClick,sx:{cursor:e.onClick?"pointer":"default",display:"flex",flex:1,p:1.5,px:4,backgroundColor:e.active?"info.darker":"transparent",color:e.active?"common.white":"info.darker",textAlign:"center",minWidth:"max-content",justifyContent:"center",alignItems:"center",whiteSpace:{md:"nowrap"},borderRight:a?"none":"1px solid #ccc",borderBottom:a?"1px solid #ccc":"none","&:last-child":{borderRight:"none",borderBottom:"none"}},children:e.label},e.label)))})})}},98263:(e,n,a)=>{a.r(n),a.d(n,{default:()=>X});var i=a(29490),r=a(75139),t=a(65043),l=a(40360),s=a(29013),o=a(77224),d=a(48407),c=a(7625),m=a(60778),u=a(49633),p=a(65381),x=a(35151),h=a(67555),f=a(83858),v=a(80899),g=a(89044),b=a(94113),j=a(24858),y=a(18403),A=a(81e3),w=a(12110),_=a(74600),k=a(38246),C=a(84284),I=a(94496),S=a(94814),$=a(39336),P=a(51787),T=a(77739),D=a(26487),O=a(67132),Y=a(31673),q=a(94857),z=a(94193),W=a(59699),L=a(17392),E=a(70579);function G(){const{t:e}=(0,m.WD)(),{control:n,watch:a}=(0,j.xW)(),{fields:i,append:r,remove:t}=(0,j.jz)({control:n,name:"other"}),l=a(),s=()=>{r({kind:"",name:""})};return(0,E.jsxs)(A.A,{sx:{pb:3},children:[(0,E.jsxs)(I.A,{variant:"body2",sx:{color:"text.secondary",my:2,fontWeight:"700",textTransform:"capitalize"},children:[e("other (researchs, books, and conferences)"),":"]}),(0,E.jsx)(_.A,{sx:{mt:3},divider:(0,E.jsx)($.A,{flexItem:!0,sx:{borderStyle:"dashed"}}),spacing:2,children:i.map(((n,a)=>(0,E.jsx)(_.A,{alignItems:"flex-start",spacing:1.5,sx:{width:"100%"},children:(0,E.jsxs)(_.A,{direction:{xs:"column",md:"row"},alignItems:"center",spacing:2,sx:{width:"100%"},children:[(0,E.jsxs)(W.tX,{name:`other[${a}].kind`,label:e("type"),sx:{flex:.4},children:[(0,E.jsx)(S.A,{value:"authored books",children:e("authored books")}),(0,E.jsx)(S.A,{value:"conferences",children:e("conferences")}),(0,E.jsx)(S.A,{value:"published research",children:e("published research")})]}),(0,E.jsx)(W.o3,{name:`other[${a}].name`,label:e("name"),sx:{flex:.6}}),(0,E.jsxs)(A.A,{sx:{flex:.1},children:[1!==l.other.length&&(0,E.jsx)(L.A,{color:"error",onClick:()=>(e=>{t(e)})(a),children:(0,E.jsx)(x.A,{icon:"tdesign:minus"})}),(a===l.other.length-1||l.other.length<=1)&&(0,E.jsx)(L.A,{color:"primary",onClick:s,children:(0,E.jsx)(x.A,{icon:"tdesign:plus"})})]})]})},a)))})]})}function B(){const{t:e}=(0,m.WD)(),{control:n,watch:a}=(0,j.xW)(),{fields:i,append:r,remove:t}=(0,j.jz)({control:n,name:"certifications"}),l=a(),s=()=>{r({name:"",institution:"",year:null})};return(0,E.jsxs)(A.A,{sx:{pt:3},children:[(0,E.jsx)($.A,{flexItem:!0,sx:{borderStyle:"solid"}}),(0,E.jsxs)(I.A,{variant:"body2",sx:{color:"text.secondary",my:2,fontWeight:"700",textTransform:"capitalize"},children:[e("certifications"),":"]}),(0,E.jsx)(_.A,{sx:{mt:3},divider:(0,E.jsx)($.A,{flexItem:!0,sx:{borderStyle:"dashed"}}),spacing:2,alignItems:"center",children:i.map(((n,a)=>(0,E.jsx)(_.A,{alignItems:"center",spacing:1.5,sx:{width:"100%"},children:(0,E.jsxs)(_.A,{direction:{xs:"column",md:"row"},alignItems:"center",spacing:2,sx:{width:"100%"},children:[(0,E.jsx)(W.o3,{name:`certifications[${a}].name`,label:e("cetificate"),sx:{flex:5}}),(0,E.jsx)(W.o3,{name:`certifications[${a}].institution`,label:e("institution"),sx:{flex:3}}),(0,E.jsx)(W.ZE,{label:e("year"),placeholder:e("year"),name:`certifications[${a}].year`,views:["year"],sx:{maxWidth:180}}),(0,E.jsxs)(A.A,{sx:{flex:1},children:[1!==l.certifications.length&&(0,E.jsx)(L.A,{color:"error",onClick:()=>(e=>{t(e)})(a),children:(0,E.jsx)(x.A,{icon:"tdesign:minus"})}),a===l.certifications.length-1&&(0,E.jsx)(L.A,{color:"primary",onClick:s,children:(0,E.jsx)(x.A,{icon:"tdesign:plus"})})]})]})},a)))}),(0,E.jsx)($.A,{flexItem:!0,sx:{borderStyle:"solid",pt:2}})]})}function R(){const{t:e}=(0,m.WD)(),{control:n,watch:a}=(0,j.xW)(),{fields:i,append:r,remove:t}=(0,j.jz)({control:n,name:"memberships"}),l=a(),s=()=>{r({name:"",institution:""})};return(0,E.jsxs)(A.A,{sx:{pb:3},children:[(0,E.jsxs)(I.A,{variant:"body2",sx:{color:"text.secondary",my:2,fontWeight:"700",textTransform:"capitalize"},children:[e("memberships"),":"]}),(0,E.jsx)(_.A,{sx:{mt:3},divider:(0,E.jsx)($.A,{flexItem:!0,sx:{borderStyle:"dashed"}}),spacing:2,children:i.map(((n,a)=>(0,E.jsx)(_.A,{alignItems:"flex-start",spacing:1.5,sx:{width:"100%"},children:(0,E.jsxs)(_.A,{direction:{xs:"column",md:"row"},alignItems:"center",spacing:2,sx:{width:"100%"},children:[(0,E.jsx)(W.o3,{name:`memberships[${a}].name`,label:e("name"),sx:{flex:.6}}),(0,E.jsx)(W.o3,{name:`memberships[${a}].institution`,label:e("institution"),sx:{flex:.4}}),(0,E.jsxs)(A.A,{sx:{flex:.1},children:[1!==l.memberships.length&&(0,E.jsx)(L.A,{color:"error",onClick:()=>(e=>{t(e)})(a),children:(0,E.jsx)(x.A,{icon:"tdesign:minus"})}),a===l.memberships.length-1&&(0,E.jsx)(L.A,{color:"primary",onClick:s,children:(0,E.jsx)(x.A,{icon:"tdesign:plus"})})]})]})},a)))}),(0,E.jsx)($.A,{flexItem:!0,sx:{borderStyle:"solid",pt:2}})]})}const M=["English","\u0627\u0644\u0639\u0631\u0628\u064a\u0629","Fran\xe7ais","Deutsch","Espa\xf1ol","Italiano","\u4e2d\u6587","\u0939\u093f\u0928\u094d\u0926\u0940","Portugu\xeas","\u09ac\u09be\u0982\u09b2\u09be","P\u0443\u0441\u0441\u043a\u0438\u0439","\u65e5\u672c\u8a9e","J\u0119zyk polski","Bahasa Indonesia","T\xfcrk\xe7e","\ud55c\uad6d\uc5b4","\u0641\u0627\u0631\u0633\u06cc","Ti\u1ebfng Vi\u1ec7t","\u0e44\u0e17\u0e22","Nederlands","Svenska","\u05e2\u05d1\u05e8\u05d9\u05ea","Dansk","\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac","Suomi","Magyar","\u010ce\u0161tina","Filipino","Rom\xe2n\u0103","Bahasa Melayu","\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430","Kiswahili","\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a","\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41","Bahasa Jawa","\u0c95\u0ca8\u0ccd\u0ca8\u0ca1","\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40","\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02","\u0627\u0631\u062f\u0648","\u0dc3\u0dd2\u0d82\u0dc4\u0dbd","\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0","\u0ba4\u0bae\u0bbf\u0bb4\u0bcd","\u0f56\u0f7c\u0f51\u0f0b\u0f66\u0f90\u0f51\u0f0b","\u041c\u043e\u043d\u0433\u043e\u043b \u0445\u044d\u043b","isiZulu","isiXhosa","Igbo","Hausa","Yor\xf9b\xe1"];function V(e){var n,a,i;let{employeeData:r,refetch:l}=e;const{enqueueSnackbar:s}=(0,q.dh)(),o=(0,O.rd)(),[p,x]=(0,t.useState)("information"),h=null===r||void 0===r||null===(n=r.employee_engagements)||void 0===n?void 0:n[r.selected_engagement],{data:f}=(0,c.tH$)(null===h||void 0===h?void 0:h._id),{workGroupsData:L}=(0,c.Lxi)(null===h||void 0===h?void 0:h._id),{data:V}=(0,c.tH$)(null===h||void 0===h?void 0:h._id),{countriesData:F}=(0,c.oOq)({select:"name_english name_arabic"}),{specialtiesData:N}=(0,c.srd)({select:"name_english name_arabic"}),{t:Z}=(0,m.WD)(),{currentLang:X}=(0,m.jc)(),J="ar"===X.value,H=[{label:Z("General Information"),active:"information"===p},{label:Z("Profession Practice Profile"),active:"profile"===p},{label:Z("Verification Document"),active:"verification"===p}],K=v.Ik().shape({employee_type:v.Yj().required(Z("required field")),email:v.Yj().required(Z("required field")),title:v.Yj(),name_english:v.Yj().required(Z("required field")).test("at-least-three-words",Z("must be at least three words"),(e=>{if(!e)return!1;return e.trim().split(/\s+/).length>=3})),name_arabic:v.Yj().required(Z("required field")).test("at-least-three-words",Z("must be at least three words"),(e=>{if(!e)return!1;return e.trim().split(/\s+/).length>=3})),nationality:v.Yj().required(Z("required field")),profrssion_practice_num:v.Yj(),identification_num:v.Yj(),tax_num:v.Yj(),phone:v.Yj().required(Z("required field")).test("is-valid-phone",Z("Invalid phone number"),(e=>(0,b.l0)(e))),mobile_num:v.Yj(),speciality:v.Yj().nullable(),gender:v.Yj(),birth_date:v.gl(),Bachelor_year_graduation:v.ai(),University_graduation_Bachelor:v.Yj(),University_graduation_Specialty:v.Yj(),about_me:v.Yj(),arabic_about_me:v.Yj(),scanned_identity:v.gl().nullable(),signature:v.gl().nullable(),stamp:v.gl().nullable(),picture:v.gl().nullable(),languages:v.YO().required(Z("required field")),certifications:v.YO(),memberships:v.YO(),other:v.YO(),keywords:v.YO(),arabic_keywords:v.YO(),fees:v.ai().required(Z("required field")),fees_after_discount:v.ai()}),U=(0,t.useMemo)((()=>{var e,n,a,i,t,l;return{employee_type:(null===r||void 0===r||null===(e=r.employee_type)||void 0===e?void 0:e._id)||null,email:(null===r||void 0===r?void 0:r.email)||"",name_english:(null===r||void 0===r?void 0:r.name_english)||"",name_arabic:(null===r||void 0===r?void 0:r.name_arabic)||"",nationality:(null===r||void 0===r||null===(n=r.nationality)||void 0===n?void 0:n._id)||"",profrssion_practice_num:(null===r||void 0===r?void 0:r.profrssion_practice_num)||"",identification_num:(null===r||void 0===r?void 0:r.identification_num)||"",tax_num:(null===r||void 0===r?void 0:r.tax_num)||"",phone:(null===r||void 0===r?void 0:r.phone)||"",mobile_num:(null===r||void 0===r?void 0:r.mobile_num)||"",speciality:(null===r||void 0===r||null===(a=r.speciality)||void 0===a?void 0:a._id)||null,gender:(null===r||void 0===r?void 0:r.gender)||"",birth_date:(null===r||void 0===r?void 0:r.birth_date)||null,scanned_identity:(null===r||void 0===r?void 0:r.scanned_identity)||null,signature:(null===r||void 0===r?void 0:r.signature)||null,stamp:(null===r||void 0===r?void 0:r.stamp)||null,picture:(null===r||void 0===r?void 0:r.picture)||null,about_me:null!==r&&void 0!==r&&r.about_me?(0,g.decode)(null===r||void 0===r?void 0:r.about_me):"",arabic_about_me:null!==r&&void 0!==r&&r.arabic_about_me?(0,g.decode)(null===r||void 0===r?void 0:r.arabic_about_me):"",languages:(null===r||void 0===r?void 0:r.languages)||[],arabic_keywords:(null===r||void 0===r?void 0:r.arabic_keywords)||[],keywords:(null===r||void 0===r?void 0:r.keywords)||[],memberships:null!==r&&void 0!==r&&null!==(i=r.memberships)&&void 0!==i&&i.length?null===r||void 0===r?void 0:r.memberships:[{name:"",institution:""}],other:null!==r&&void 0!==r&&null!==(t=r.other)&&void 0!==t&&t.length?null===r||void 0===r?void 0:r.other:[{kind:"",name:""}],certifications:null!==r&&void 0!==r&&null!==(l=r.certifications)&&void 0!==l&&l.length?null===r||void 0===r?void 0:r.certifications:[{name:"",institution:"",year:null}],fees:(null===V||void 0===V?void 0:V.fees)||0,fees_after_discount:(null===V||void 0===V?void 0:V.fees_after_discount)||0}}),[V,r]),Q=(0,j.mN)({mode:"all",resolver:(0,y.t)(K),defaultValues:U}),{reset:ee,watch:ne,setValue:ae,handleSubmit:ie,control:re,formState:{isSubmitting:te,errors:le}}=Q;(0,t.useEffect)((()=>{Object.keys(le).length&&Object.keys(le).forEach(((e,n)=>{var a;return s(`${e}: ${(null===le||void 0===le||null===(a=le[e])||void 0===a?void 0:a.message)||"error"}`,{variant:"error"})}))}),[le,s]),(0,t.useEffect)((()=>{ee(U)}),[U,ee]);const se=ne(),{keywordsData:oe}=(0,c.SEc)(),de=(0,t.useCallback)((async(e,n)=>{const a=n[0],i=Object.assign(a,{preview:URL.createObjectURL(a)});if(a){ae(e,i,{shouldValidate:!0});try{const n=new FormData;n.append(e,i),await Y.Ay.patch(Y.vZ.employees.one(r._id),n),s(Z("updated successfully!")),l()}catch(t){s(J&&`${t.arabic_message}`||`${t.message}`,{variant:"error"}),console.error(t)}}}),[ae,J,r,s,l,se,Z]),ce=ie((async e=>{try{var n,a,i;const t=e;delete t.picture,delete t.scanned_identity,delete t.signature,delete t.stamp,await Y.Ay.patch(Y.vZ.employees.one(r._id),t),await Y.Ay.patch(Y.vZ.employee_engagements.one(null===h||void 0===h?void 0:h._id),{fees:e.fees,fees_after_discount:e.fees_after_discount,currency:null===e||void 0===e?void 0:e.currency}),s(Z("updated successfully!")),l(),o.push(d.f.pages.doctor(`${h._id}_${null===r||void 0===r||null===(n=r[Z("name_english")])||void 0===n?void 0:n.replace(/ /g,"-")}_${null===r||void 0===r||null===(a=r.speciality)||void 0===a||null===(i=a[Z("name_english")])||void 0===i?void 0:i.replace(/ /g,"-")}`))}catch(t){s(J&&`${t.arabic_message}`||`${t.message}`,{variant:"error"}),console.error(t)}}));return(0,E.jsx)(W.Ay,{methods:Q,onSubmit:ce,children:(0,E.jsxs)(w.A,{sx:{p:3},children:[(0,E.jsx)(z.A,{pages:H}),(0,E.jsx)("br",{}),"information"===p&&(0,E.jsxs)(A.A,{sx:{px:3},children:[(0,E.jsx)(I.A,{mb:2,variant:"h6",children:Z("General Information")}),(0,E.jsxs)(A.A,{mt:4,rowGap:3,columnGap:2,display:"flex",flexDirection:{xs:"column",md:"row"},children:[(0,E.jsx)(A.A,{sx:{width:"100%",flex:1},children:(0,E.jsx)(W.BF,{maxSize:3145728,name:"picture",onDrop:e=>de("picture",e)})}),(0,E.jsxs)(A.A,{sx:{width:"100%",flex:2},children:[(0,E.jsxs)(A.A,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,E.jsx)(W.o3,{name:"name_english",onChange:e=>{/^[a-zA-Z0-9\s,@#$!*_\-&^%.()]*$/.test(e.target.value)&&Q.setValue(e.target.name,e.target.value,{shouldValidate:!0})},label:Z("Full name in English")}),(0,E.jsx)(W.o3,{name:"name_arabic",onChange:e=>{/^[\u0600-\u06FF0-9\s!@#$%^&*_\-().]*$/.test(e.target.value)&&Q.setValue(e.target.name,e.target.value,{shouldValidate:!0})},label:Z("Full name in Arabic")})]}),(0,E.jsx)(I.A,{variant:"caption",sx:{fontSize:11},color:"primary.main",children:Z("If you want your name to appear with a title (such as: Doctor, Consultant, etc.), in this case you must write the title and then your full name (for example: Consultant Muhammad Ahmad Ali).")}),(0,E.jsxs)(A.A,{rowGap:3,columnGap:2,display:"grid",sx:{mt:3},gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:[(0,E.jsxs)(W.tX,{label:Z("gender"),fullWidth:!0,name:"gender",InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},children:[(0,E.jsx)(S.A,{lang:"ar",value:"male",children:Z("male")}),(0,E.jsx)(S.A,{lang:"ar",value:"female",children:Z("female")})]}),(0,E.jsx)(j.xI,{name:"birth_date",control:re,render:e=>{let{field:n,fieldState:{error:a}}=e;return(0,E.jsx)(C.l,{label:Z("birth date"),value:new Date(se.birth_date?se.birth_date:""),onChange:e=>{n.onChange(e)},slotProps:{textField:{fullWidth:!0,error:!!a,helperText:null===a||void 0===a?void 0:a.message}}})}}),(0,E.jsx)(W.tX,{disabled:!0,label:Z("nationality"),fullWidth:!0,name:"nationality",InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},children:F.map(((e,n)=>(0,E.jsx)(S.A,{lang:"ar",value:e._id,children:J?e.name_arabic:e.name_english},n)))})]})]})]}),(0,E.jsxs)(A.A,{rowGap:3,columnGap:2,sx:{width:"100%",mt:4},display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:[(0,E.jsx)(W.o3,{type:"email",name:"email",label:`${Z("email")} :`}),(0,E.jsx)(W.u,{name:"phone",label:Z("phone number")}),(0,E.jsx)(W.u,{name:"mobile_num",label:Z("alternative mobile number")}),(0,E.jsx)(W.o3,{name:"identification_num",label:`${Z("National ID number")} :`}),(0,E.jsx)(W.o3,{name:"profrssion_practice_num",label:`${Z("profrssion practice number")} :`}),(0,E.jsx)(W.o3,{type:"number",name:"tax_num",label:Z("tax number")})]}),(0,E.jsx)($.A,{flexItem:!0,sx:{borderStyle:"solid",py:3}}),(0,E.jsx)(I.A,{my:2,variant:"h6",children:Z("Job Position Information")}),(0,E.jsxs)(A.A,{rowGap:3,columnGap:2,sx:{width:"100%",mt:4},display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,E.jsxs)(_.A,{direction:"row",gap:2,children:[(0,E.jsxs)(I.A,{variant:"subtitle2",children:[Z("employee type"),":"]}),(0,E.jsx)(I.A,{variant:"body2",children:null===r||void 0===r||null===(a=r.employee_type)||void 0===a?void 0:a[J?"name_arabic":"name_english"]})]}),!(null===f||void 0===f||!f.department)&&(0,E.jsxs)(_.A,{direction:"row",gap:2,children:[(0,E.jsxs)(I.A,{variant:"subtitle2",children:[Z("department"),":"]}),(0,E.jsx)(I.A,{variant:"body2",children:null===f||void 0===f||null===(i=f.department)||void 0===i?void 0:i[J?"name_arabic":"name_english"]})]}),L.length>0&&(0,E.jsxs)(_.A,{direction:"row",gap:2,children:[(0,E.jsxs)(I.A,{variant:"subtitle2",children:[Z("work groups"),":"]}),(0,E.jsx)(I.A,{variant:"body2",children:L.map((e=>null===e||void 0===e?void 0:e[J?"name_arabic":"name_english"])).join(", ")})]})]})]}),"profile"===p&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(I.A,{variant:"h6",children:Z("Professional definition elements")}),(0,E.jsx)(I.A,{variant:"body1",children:Z("This information will appear in your profile on the platform's home page.")}),(0,E.jsxs)(A.A,{rowGap:3,columnGap:2,display:"grid",sx:{mt:2},gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(3, 1fr)"},children:[(0,E.jsx)(W.j2,{name:"speciality",label:Z("speciality"),options:N.map((e=>e._id)),getOptionLabel:e=>{var n;return null===(n=N.find((n=>n._id===e)))||void 0===n?void 0:n[J?"name_arabic":"name_english"]},renderOption:(e,n,a)=>{var i;return(0,t.createElement)("li",{lang:"ar",...e,key:a,value:n},null===(i=N.find((e=>e._id===n)))||void 0===i?void 0:i[J?"name_arabic":"name_english"])}}),(0,E.jsx)(W.o3,{type:"number",name:"fees",label:Z("Examination price"),InputProps:{endAdornment:(0,E.jsx)(P.A,{position:"end",children:Z("JOD")})}}),(0,E.jsx)(T.A,{title:Z("If you want to promote yourself and make a discount on the price of the examination, please write the price of the new examination"),children:(0,E.jsx)("span",{children:(0,E.jsx)(W.o3,{type:"number",name:"fees_after_discount",label:Z("Examination price after discount"),InputProps:{endAdornment:(0,E.jsx)(P.A,{position:"end",children:Z("JOD")})}})})})]}),(0,E.jsx)(W.j2,{sx:{mt:3},name:"languages",label:Z("languages"),multiple:!0,disableCloseOnSelect:!0,options:M.filter((e=>!se.languages.some((n=>e===n)))),getOptionLabel:e=>e,renderOption:(e,n,a)=>(0,t.createElement)("li",{lang:"ar",...e,key:a,value:n},n),renderTags:(e,n)=>e.map(((e,a)=>(0,t.createElement)(D.A,{...n({index:a}),key:a,label:e,size:"small",color:"info",variant:"soft"})))}),(0,E.jsx)($.A,{flexItem:!0,sx:{borderStyle:"solid",pt:2}}),(0,E.jsx)(I.A,{sx:{my:2},variant:"h6",children:Z("Introduction")}),(0,E.jsx)(W.CX,{lang:"en",name:"about_me",label:Z("english about me"),sx:{mt:2,textTransform:"lowercase"}}),(0,E.jsx)(W.CX,{lang:"ar",name:"arabic_about_me",label:Z("arabic about me"),sx:{mt:2,textTransform:"lowercase"}}),(0,E.jsx)(B,{}),(0,E.jsx)(R,{}),(0,E.jsx)(G,{}),(0,E.jsx)(W.j2,{sx:{mb:3},name:"keywords",label:Z("keywords"),multiple:!0,freeSolo:!0,disableCloseOnSelect:!0,placeholder:Z("type then press enter to create new"),options:oe.filter((e=>!se.keywords.some((n=>e===n)))),getOptionLabel:e=>e,renderOption:(e,n,a)=>(0,t.createElement)("li",{lang:"ar",...e,key:a,value:n},n),renderTags:(e,n)=>e.map(((e,a)=>(0,t.createElement)(D.A,{...n({index:a}),key:a,label:e,size:"small",color:"info",variant:"soft"})))})]}),"verification"===p&&(0,E.jsxs)(A.A,{sx:{p:1,px:5,display:"flex",flexDirection:"column",gap:3},children:[(0,E.jsx)(I.A,{variant:"h6",children:Z("Personal Authentication Elements")}),(0,E.jsx)(A.A,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(3, 1fr)"},children:(0,E.jsx)(W.V$,{sx:{mx:"auto"},name:"scanned_identity",label:Z("Personal ID or Syndicate membership"),onDrop:e=>de("scanned_identity",e)})}),(0,E.jsx)($.A,{flexItem:!0,sx:{borderStyle:"solid"}}),(0,E.jsx)(I.A,{variant:"h6",children:Z("Character authentication elements in documents")}),(0,E.jsxs)(A.A,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(3, 1fr)"},children:[(0,E.jsx)(T.A,{title:Z("This signature is what will appear on documents issued by you, such as a prescription document and a medical report."),children:(0,E.jsx)("span",{children:(0,E.jsx)(W.V$,{sx:{mx:"auto"},showOnDocument:!0,name:"signature",label:Z("signature"),onDrop:e=>de("signature",e)})})}),(0,E.jsx)(T.A,{title:Z("This stamp is what will appear on documents issued by you, such as a prescription document and a medical report."),children:(0,E.jsx)("span",{children:(0,E.jsx)(W.V$,{sx:{mx:"auto"},showOnDocument:!0,name:"stamp",label:Z("stamp"),onDrop:e=>de("stamp",e)})})})]})]}),(0,E.jsxs)(_.A,{spacing:3,direction:"row",justifyContent:"flex-end",gap:2,sx:{mt:3},children:["information"!==p&&(0,E.jsx)(u.A,{variant:"contained",color:"warning",onClick:()=>{"profile"===p&&x("information"),"verification"===p&&x("profile")},children:Z("Back")}),"verification"!==p&&(0,E.jsx)(u.A,{variant:"contained",color:"secondary",onClick:async()=>{"information"===p&&x("profile"),"profile"===p&&x("verification")},children:Z("Next")}),"verification"===p&&(0,E.jsx)(k.A,{type:"submit",tabIndex:-1,variant:"contained",loading:te,children:Z("save changes")})]})]})})}var F=a(59229);function N(){const{enqueueSnackbar:e}=(0,q.dh)(),{user:n,logout:a}=(0,r.Z)(),{t:i}=(0,m.WD)(),{currentLang:l}=(0,m.jc)(),s="ar"===l.value,o=(0,F.C)(),d=(0,F.C)(),c=(0,F.C)(),u=v.Ik().shape({passwordCurrent:v.Yj().required(i("required field")),password:v.Yj().required(i("required field")).min(8,`${i("must be at least")} 8`).test("no-match",i("New password must be different than old password"),((e,n)=>{let{parent:a}=n;return e!==a.passwordCurrent})),confirmPassword:v.Yj().oneOf([v.KR("password")],i("Passwords must match"))}),p={email:null===n||void 0===n?void 0:n.email,passwordCurrent:"",password:"",confirmPassword:""},h=(0,j.mN)({mode:"all",resolver:(0,y.t)(u),defaultValues:p}),{reset:f,handleSubmit:g,formState:{isSubmitting:b,errors:A}}=h;(0,t.useEffect)((()=>{Object.keys(A).length&&Object.keys(A).forEach(((n,a)=>{var i;return e(`${n}: ${(null===A||void 0===A||null===(i=A[n])||void 0===i?void 0:i.message)||"error"}`,{variant:"error"})}))}),[A,e]);const C=g((async n=>{try{const{passwordCurrent:r,password:t,confirmPassword:l}=n,s={passwordCurrent:r,password:t,confirmPassword:l},o=await Y.Ay.patch(Y.vZ.auth.updatepassword,s);201===o.status?(f(),e(i("Password updated successfully!"),{variant:"success"}),await a()):e(o.data||i("Password update failed!"),{variant:"error"})}catch(r){e(s&&`${r.arabic_message}`||`${r.message}`,{variant:"error"}),console.error(r)}}));return(0,E.jsx)(W.Ay,{methods:h,onSubmit:C,children:(0,E.jsxs)(_.A,{component:w.A,spacing:3,sx:{p:3},children:[(0,E.jsx)(W.o3,{value:null===n||void 0===n?void 0:n.email,name:"email"}),(0,E.jsx)(W.o3,{name:"passwordCurrent",type:o.value?"text":"password",label:i("current password"),InputProps:{endAdornment:(0,E.jsx)(P.A,{position:"end",children:(0,E.jsx)(L.A,{onClick:o.onToggle,edge:"end",children:(0,E.jsx)(x.A,{icon:o.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,E.jsx)(W.o3,{name:"password",label:i("new password"),type:d.value?"text":"password",InputProps:{endAdornment:(0,E.jsx)(P.A,{position:"end",children:(0,E.jsx)(L.A,{onClick:d.onToggle,edge:"end",children:(0,E.jsx)(x.A,{icon:d.value?"solar:eye-bold":"solar:eye-closed-bold"})})})},helperText:(0,E.jsxs)(_.A,{component:"span",direction:"row",alignItems:"center",children:[(0,E.jsx)(x.A,{icon:"eva:info-fill",width:16,sx:{mr:.5}})," ",i("Password must be minimum 8+")]})}),(0,E.jsx)(W.o3,{name:"confirmPassword",type:c.value?"text":"password",label:i("confirm new password"),InputProps:{endAdornment:(0,E.jsx)(P.A,{position:"end",children:(0,E.jsx)(L.A,{onClick:c.onToggle,edge:"end",children:(0,E.jsx)(x.A,{icon:c.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,E.jsx)(k.A,{type:"submit",tabIndex:-1,variant:"contained",loading:b,sx:{ml:"auto"},children:i("save changes")})]})})}function Z(){var e,n,a,i,v,g,b,j,y;const{t:A}=(0,m.WD)(),[w,_]=(0,t.useState)("general"),{user:k}=(0,r.Z)(),{data:C,loading:I,refetch:S}=(0,c.CMc)(null===k||void 0===k||null===(e=k.employee)||void 0===e?void 0:e._id),$=null===k||void 0===k||null===(n=k.employee)||void 0===n||null===(a=n.employee_engagements)||void 0===a||null===(i=a[k.employee.selected_engagement])||void 0===i?void 0:i._id,P=(0,t.useCallback)(((e,n)=>{_(n)}),[]),T=[{value:"general",label:A("general"),icon:(0,E.jsx)(x.A,{icon:"solar:user-id-bold",width:24})},{value:"security",label:A("security"),icon:(0,E.jsx)(x.A,{icon:"ic:round-vpn-key",width:24})}];return I?(0,E.jsx)(h.x,{}):(0,E.jsxs)(o.A,{maxWidth:"xl",children:[(0,E.jsx)(f.A,{heading:A("profile"),links:[{name:A("dashboard"),href:d.f.dashboard.root},{name:A("profile")}],action:(0,E.jsx)(u.A,{component:p.W,href:d.f.pages.doctor(`${$}_${null===k||void 0===k||null===(v=k.employee)||void 0===v||null===(g=v[A("name_english")])||void 0===g?void 0:g.replace(/ /g,"-")}_${null===k||void 0===k||null===(b=k.employee)||void 0===b||null===(j=b.speciality)||void 0===j||null===(y=j[A("name_english")])||void 0===y?void 0:y.replace(/ /g,"-")}`),variant:"contained",target:"_blank",startIcon:(0,E.jsx)(x.A,{icon:"icomoon-free:new-tab"}),children:A("show page")}),sx:{mb:{xs:3,md:5}}}),(0,E.jsx)(s.A,{value:w,onChange:P,sx:{mb:{xs:3,md:5}},children:T.map(((e,n)=>(0,E.jsx)(l.A,{label:e.label,icon:e.icon,value:e.value},n)))}),"general"===w&&C&&(0,E.jsx)(V,{employeeData:C,refetch:S}),"security"===w&&(0,E.jsx)(N,{})]})}function X(){var e;const{user:n}=(0,r.Z)();return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(i.mg,{children:[(0,E.jsxs)("title",{children:[" ",(null===n||void 0===n||null===(e=n.employee)||void 0===e?void 0:e.name_english)||"employee"," : My Profile"]}),(0,E.jsx)("meta",{name:"description",content:"meta"})]}),(0,E.jsx)(Z,{})]})}}}]);
//# sourceMappingURL=90540.5a839e01.chunk.js.map