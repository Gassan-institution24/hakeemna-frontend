"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[8343],{38563:(e,n,t)=>{t.d(n,{Z:()=>p});var i=t(68870),s=t(50533),o=t(36314),r=t(4567),l=t(93517),a=t(4419),d=t(80184);function c(e){let{link:n,activeLast:t,disabled:o}=e;const r={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...o&&!t&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},l=(0,d.jsxs)(d.Fragment,{children:[n.icon&&(0,d.jsx)(i.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:n.icon}),n.name]});return n.href?(0,d.jsx)(s.Z,{component:a.r,href:n.href,sx:r,children:l}):(0,d.jsxs)(i.Z,{sx:r,children:[" ",l," "]})}function p(e){let{links:n,action:t,heading:a,moreLink:p,activeLast:x,sx:h,...m}=e;const v=n&&n[n.length-1].name;return(0,d.jsxs)(i.Z,{sx:{...h},children:[(0,d.jsxs)(o.Z,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(i.Z,{sx:{flexGrow:1,display:"flex",gap:3,alignItems:"center"},children:[a&&(0,d.jsx)(r.Z,{variant:"h4",gutterBottom:!0,children:a}),n&&!!n.length&&(0,d.jsx)(l.Z,{separator:(0,d.jsx)(u,{}),...m,children:null===n||void 0===n?void 0:n.map((e=>(0,d.jsx)(c,{link:e,activeLast:x,disabled:e.name===v},e.name||"")))})]}),t&&(0,d.jsxs)(i.Z,{sx:{flexShrink:0},children:[" ",t," "]})]}),!!p&&(0,d.jsx)(i.Z,{sx:{mt:2},children:p.map((e=>(0,d.jsx)(s.Z,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}function u(){return(0,d.jsx)(i.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},73379:(e,n,t)=>{t.d(n,{Z:()=>i.Z});var i=t(38563)},2540:(e,n,t)=>{t.d(n,{l2:()=>l});var i=t(82599),s=t(54690),o=t(85375),r=t(30250);function l(e,n){const t=(new Date).getFullYear(),l=e?(0,i.Z)(e):null,a=n?(0,i.Z)(n):null,d=t===l&&t===a,c=!(!e||!n)&&(0,s.Z)(new Date(e),new Date(n)),p=!(!e||!n)&&(0,o.Z)(new Date(e),new Date(n));return d?p?c?(0,r.Mu)(n,"dd MMM yy"):"".concat((0,r.Mu)(e,"dd")," - ").concat((0,r.Mu)(n,"dd MMM yy")):"".concat((0,r.Mu)(e,"dd MMM")," - ").concat((0,r.Mu)(n,"dd MMM yy")):"".concat((0,r.Mu)(e,"dd MMM yy")," - ").concat((0,r.Mu)(n,"dd MMM yy"))}t(80184);t(72791)},27356:(e,n,t)=>{t.d(n,{Z:()=>a});var i=t(68870),s=t(36314),o=t(12065),r=t(4567),l=t(80184);function a(e){let{title:n,imgUrl:t,action:a,filled:d,description:c,sx:p,...u}=e;return(0,l.jsxs)(s.Z,{flexGrow:1,alignItems:"center",justifyContent:"center",sx:{px:3,height:1,...d&&{borderRadius:2,bgcolor:e=>(0,o.Fq)(e.palette.grey[500],.04),border:e=>"dashed 1px ".concat((0,o.Fq)(e.palette.grey[500],.08))},...p},...u,children:[(0,l.jsx)(i.Z,{component:"img",alt:"empty content",src:t||"/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),n&&(0,l.jsx)(r.Z,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:n}),c&&(0,l.jsx)(r.Z,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:c}),a&&a]})}},31092:(e,n,t)=>{t.d(n,{Z:()=>i.Z});var i=t(27356)},78343:(e,n,t)=>{t.r(n),t.d(n,{default:()=>de});var i=t(6907),s=t(19208),o=t(77436),r=t(35456),l=t(45812),a=t.n(l),d=t(18111),c=t.n(d),p=t(72791),u=t(36314),x=t(89164),h=t(38072),m=t(22459),v=t(30250),j=t(76932),y=t(31092),_=t(25279),g=t(73379),Z=t(68870),b=t(44369),f=t(86414),w=t(66664),C=t(16386),k=t(50533),O=t(57621),S=t(13838),M=t(93044),D=t(94721),T=t(82626),I=t(4567),L=t(49900),F=t(4419),q=t(40268),P=t(24845),R=t(80184);function E(e){var n,t;let{appointment:i,onBook:s,onView:o,onEdit:r,onDelete:l}=e;const a=(0,P.S)(),[d,c]=(0,p.useState)(),{_id:x,code:m,unit_service:v,appointment_type:j,payment_method:y,start_time:_}=i;return(0,p.useEffect)((()=>{if(null!==v&&void 0!==v&&v.insurance){const e=v.insurance.map((e=>e.name_english));c(e)}}),[v]),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(O.Z,{children:[(0,R.jsxs)(u.Z,{sx:{p:3,pb:2},children:[(0,R.jsx)(M.Z,{alt:null===v||void 0===v?void 0:v.name_english,src:null===v||void 0===v?void 0:v.company_log,variant:"rounded",sx:{width:48,height:48,mb:2}}),(0,R.jsx)(L.Z,{primary:(0,R.jsx)(k.Z,{component:F.r,href:h.H.dashboard.job.details(x),color:"inherit",children:d}),secondary:(0,R.jsx)(k.Z,{component:F.r,href:h.H.dashboard.job.details(x),color:"inherit",children:null===v||void 0===v?void 0:v.name_english}),primaryTypographyProps:{typography:"subtitle1"},secondaryTypographyProps:{mt:1,component:"span",typography:"caption",color:"text.disabled"}}),(0,R.jsx)(u.Z,{spacing:.5,direction:"row",alignItems:"center",sx:{typography:"caption"},children:(0,R.jsx)(L.Z,{primary:new Date(_).toLocaleTimeString("en-US",{timeZone:null===v||void 0===v||null===(n=v.country)||void 0===n?void 0:n.time_zone,hour:"2-digit",minute:"2-digit"}),secondary:new Date(_).toLocaleDateString("en-US",{timeZone:(null===v||void 0===v||null===(t=v.country)||void 0===t?void 0:t.time_zone)||Intl.DateTimeFormat().resolvedOptions().timeZone}),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,R.jsxs)(u.Z,{spacing:.5,direction:"row",alignItems:"center",sx:{color:"primary.main",typography:"caption"},children:[(0,R.jsx)(q.Z,{width:16,icon:"ic:baseline-tag"}),m]})]}),(0,R.jsx)(D.Z,{sx:{borderStyle:"dashed"}}),(0,R.jsxs)(Z.Z,{rowGap:1.5,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",sx:{p:3,justifyContent:"space-between"},children:[[{label:(0,C.Z)(new Date(_),"p"),icon:(0,R.jsx)(q.Z,{width:16,icon:"icon-park-solid:time",sx:{flexShrink:0}})},{label:d,icon:(0,R.jsx)(q.Z,{width:16,icon:"medical-icon:health-services",sx:{flexShrink:0}})},{label:null===j||void 0===j?void 0:j.name_english,icon:(0,R.jsx)(q.Z,{width:16,icon:"fa-solid:file-medical-alt",sx:{flexShrink:0}})},{label:null===y||void 0===y?void 0:y.name_english,icon:(0,R.jsx)(q.Z,{width:16,icon:"streamline:payment-10-solid",sx:{flexShrink:0}})}].map(((e,n)=>(0,R.jsxs)(u.Z,{spacing:.5,flexShrink:0,direction:"row",alignItems:"center",sx:{color:"text.disabled",minWidth:0},children:[e.icon,(0,R.jsx)(I.Z,{variant:"caption",noWrap:!0,children:e.label})]},n))),(0,R.jsx)(S.Z,{onClick:s,sx:{mt:3,width:100},variant:"outlined",color:"success",children:"Book"})]})]}),(0,R.jsxs)(P.Z,{open:a.open,onClose:a.onClose,arrow:"right-top",sx:{width:140},children:[(0,R.jsxs)(T.Z,{onClick:()=>{a.onClose(),o()},children:[(0,R.jsx)(q.Z,{icon:"solar:eye-bold"}),"View"]}),(0,R.jsxs)(T.Z,{onClick:()=>{a.onClose(),r()},children:[(0,R.jsx)(q.Z,{icon:"solar:pen-bold"}),"Edit"]}),(0,R.jsxs)(T.Z,{onClick:()=>{a.onClose(),l()},sx:{color:"error.main"},children:[(0,R.jsx)(q.Z,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})]})}function z(e){let{patientData:n,appointments:t,refetch:i}=e;const o=(0,s.tv)(),r=(0,p.useCallback)((e=>{o.push(h.H.dashboard.job.details(e))}),[o]),l=(0,p.useCallback)((async e=>{await w.ZP.patch("".concat(w.Hv.appointments.one(e),"/book"),{patient:n._id}),i()}),[n._id,i]),a=(0,p.useCallback)((e=>{o.push(h.H.dashboard.job.edit(e))}),[o]),d=(0,p.useCallback)((e=>{console.info("DELETE",e)}),[]);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Z.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:t.map((e=>(0,R.jsx)(E,{appointment:e,onBook:()=>l(e._id),onView:()=>r(e._id),onEdit:()=>a(e._id),onDelete:()=>d(e._id)},e.id)))}),t.length>8&&(0,R.jsx)(b.Z,{count:8,sx:{mt:8,["& .".concat(f.Z.ul)]:{justifyContent:"center"}}})]})}function B(e){let{sort:n,onSort:t,sortOptions:i}=e;const s=(0,P.S)();return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(S.Z,{disableRipple:!0,color:"inherit",onClick:s.onOpen,endIcon:(0,R.jsx)(q.Z,{icon:s.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold"},children:["Sort By:",(0,R.jsx)(Z.Z,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold",textTransform:"capitalize"},children:n})]}),(0,R.jsx)(P.Z,{open:s.open,onClose:s.onClose,sx:{width:140},children:i.map((e=>(0,R.jsx)(T.Z,{selected:e.value===n,onClick:()=>{s.onClose(),t(e.value)},children:e.label},e.value)))})]})}var H=t(48550),W=t(89744),A=t(63466),U=t(72043);function G(e){let{query:n,results:t,onSearch:i,hrefItem:s}=e;return(0,R.jsx)(W.Z,{sx:{width:{xs:1,sm:260}},autoHighlight:!0,popupIcon:null,options:t.map((e=>e)),onInputChange:(e,n)=>i(n),getOptionLabel:e=>e._id,noOptionsText:(0,R.jsx)(U.Z,{query:n,sx:{bgcolor:"unset"}}),isOptionEqualToValue:(e,n)=>e._id===n._id,renderInput:e=>(0,R.jsx)(H.Z,{...e,placeholder:"Search...",InputProps:{...e.InputProps,startAdornment:(0,R.jsx)(A.Z,{position:"start",children:(0,R.jsx)(q.Z,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})})}})})}var V=t(49792),N=t(27029),J=t(46128),K=t(20068),Y=t(13400),$=t(17003),Q=t(25801),X=t(10261);function ee(e){let{open:n,onOpen:t,onClose:i,filters:s,onFilters:o,canReset:r,onResetFilters:l,insuranseCosData:a,paymentMethodsOptions:d,departmentsData:c,countriesOptions:x,citiesOptions:h,unitServicesOptions:m,appointmentTypeOptions:v,dateError:j}=e;const y=(0,p.useCallback)((e=>{o("appointtypes",e)}),[o]),_=(0,p.useCallback)((e=>{o("payment_methods",e)}),[o]),g=(0,p.useCallback)((e=>{o("countries",e)}),[o]),Z=(0,p.useCallback)((e=>{o("insurance",e.target.value)}),[o]),b=(0,p.useCallback)((e=>{o("unitServices",e)}),[o]),f=(0,p.useCallback)((e=>{o("start_date",e)}),[o]),w=(0,p.useCallback)((e=>{o("end_date",e)}),[o]),C=(0,R.jsxs)(u.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2,pr:1,pl:2.5},children:[(0,R.jsx)(I.Z,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),(0,R.jsx)(K.Z,{title:"Reset",children:(0,R.jsx)(Y.Z,{onClick:l,children:(0,R.jsx)(N.Z,{color:"error",variant:"dot",invisible:!r,children:(0,R.jsx)(q.Z,{icon:"solar:restart-bold"})})})}),(0,R.jsx)(Y.Z,{onClick:i,children:(0,R.jsx)(q.Z,{icon:"mingcute:close-line"})})]}),k=(0,R.jsxs)(u.Z,{children:[(0,R.jsx)(I.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Time"}),(0,R.jsxs)(u.Z,{spacing:2.5,children:[(0,R.jsx)($.M,{label:"From",value:s.start_date,onChange:f}),(0,R.jsx)($.M,{label:"To",value:s.end_date,onChange:w,slotProps:{textField:{error:j,helperText:j&&"To time must be later than start date"}}})]})]}),O=(0,R.jsxs)(u.Z,{children:[(0,R.jsx)(I.Z,{variant:"subtitle2",sx:{mb:1},children:"Payment Methods"}),d.map((e=>(0,R.jsx)(Q.Z,{control:(0,R.jsx)(V.Z,{checked:e._id===s.payment_methods,onClick:()=>_(e._id)}),label:e.name_english,sx:{..."all"===e&&{textTransform:"capitalize"}}},e._id)))]}),M=(0,R.jsxs)(u.Z,{children:[(0,R.jsx)(I.Z,{variant:"subtitle2",sx:{mb:1},children:"Appointment Types"}),v.map((e=>(0,R.jsx)(Q.Z,{control:(0,R.jsx)(V.Z,{checked:e._id===s.appointtypes,onClick:()=>y(e._id)}),label:e.name_english,sx:{..."all"===e&&{textTransform:"capitalize"}}},e._id)))]}),T=(0,R.jsxs)(u.Z,{children:[(0,R.jsx)(I.Z,{variant:"subtitle2",sx:{mb:1},children:"Countries"}),(0,R.jsx)("select",{onChange:g,name:"country",label:"country",children:null===x||void 0===x?void 0:x.map((e=>(0,R.jsx)("option",{value:e._id,children:null===e||void 0===e?void 0:e.name_english},e._id)))})]}),L=(0,R.jsxs)(u.Z,{children:[(0,R.jsx)(I.Z,{variant:"subtitle2",sx:{mb:1},children:"insurance"}),(0,R.jsx)("select",{onChange:Z,name:"insurance",label:"insurance",children:null===a||void 0===a?void 0:a.map(((e,n)=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("option",{}),(0,R.jsx)("option",{value:e._id,children:null===e||void 0===e?void 0:e.name_english},n)]})))})]}),F=(0,R.jsxs)(u.Z,{children:[(0,R.jsx)(I.Z,{variant:"subtitle2",sx:{mb:1},children:"Unit services"}),m.map((e=>(0,R.jsx)(Q.Z,{control:(0,R.jsx)(V.Z,{checked:e._id===s.unitServices,onClick:()=>b(e._id)}),label:e.name_english,sx:{..."all"===e&&{textTransform:"capitalize"}}},e._id)))]});return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(S.Z,{disableRipple:!0,color:"inherit",endIcon:(0,R.jsx)(N.Z,{color:"error",variant:"dot",invisible:!r,children:(0,R.jsx)(q.Z,{icon:"ic:round-filter-list"})}),onClick:t,children:"Filters"}),(0,R.jsxs)(J.ZP,{anchor:"right",open:n,onClose:i,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:280}},children:[C,(0,R.jsx)(D.Z,{}),(0,R.jsx)(X.Z,{sx:{px:2.5,py:3},children:(0,R.jsxs)(u.Z,{spacing:3,children:[k,F,T,L,M,O]})})]})]})}var ne=t(85771),te=t(27938),ie=t(2540);function se(e){let{filters:n,onFilters:t,canReset:i,onResetFilters:s,results:o,paymentMethodsOptions:r,countriesOptions:l,citiesOptions:a,unitServicesOptions:d,appointmentTypeOptions:c,...p}=e;const x=(0,ie.l2)(n.start_date,n.end_date);return(0,R.jsxs)(u.Z,{spacing:1.5,...p,children:[(0,R.jsxs)(Z.Z,{sx:{typography:"body2"},children:[(0,R.jsx)("strong",{children:o}),(0,R.jsx)(Z.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,R.jsxs)(u.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[n.start_date&&n.end_date&&(0,R.jsx)(oe,{label:"Time:",children:(0,R.jsx)(ne.Z,{size:"small",label:x,onDelete:()=>{t("start_date",null),t("end_date",null)}})}),"all"!==n.appointtypes&&(0,R.jsx)(oe,{label:"Appointment Types:",children:(0,R.jsx)(ne.Z,{size:"small",label:c.filter((e=>e._id===n.appointtypes))[0].name_english,onDelete:()=>{t("appointtypes","all")}})}),"all"!==n.payment_methods&&(0,R.jsx)(oe,{label:"Payment Methods:",children:(0,R.jsx)(ne.Z,{size:"small",label:r.filter((e=>e._id===n.payment_methods))[0].name_english,onDelete:()=>{t("payment_methods","all")}})}),"all"!==n.countries&&(0,R.jsx)(oe,{label:"Countries:",children:(0,R.jsx)(ne.Z,{size:"small",label:l.filter((e=>e._id===n.countries))[0].name_english,onDelete:()=>{t("countries","all")}})}),"all"!==n.unitServices&&(0,R.jsx)(oe,{label:"Unit Services:",children:(0,R.jsx)(ne.Z,{size:"small",label:d.filter((e=>e._id===n.unitServices))[0].name_english,onDelete:()=>{t("unitServices","all")}})}),i&&(0,R.jsx)(S.Z,{color:"error",onClick:s,startIcon:(0,R.jsx)(q.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}function oe(e){let{label:n,children:t,sx:i,...s}=e;return(0,R.jsxs)(u.Z,{component:te.Z,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...i},...s,children:[(0,R.jsx)(Z.Z,{component:"span",sx:{typography:"subtitle2"},children:n}),(0,R.jsx)(u.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:t})]})}const re={unitServices:"all",countries:"all",start_date:null,end_date:null,appointtypes:"all",payment_methods:"all"};function le(e){let{patientData:n}=e;const t=(0,_.K$)(),{t:i}=(0,j.qM)(),s=(0,m.k)(),[r,l]=(0,p.useState)("latest"),[a,d]=(0,p.useState)({query:"",results:[]}),{appointmentsData:v,refetch:Z}=(0,o.zd)(),{countriesData:b}=(0,o.Rp)(),{tableData:f}=(0,o.Sf)(),{unitservicesData:w}=(0,o.BC)(),{appointmenttypesData:C}=(0,o.o5)(),{paymentMethodsData:k}=(0,o.w5)(),[O,S]=(0,p.useState)(re),M=!(!O.Offer_start_date||!O.Offer_end_date)&&O.Offer_start_date.getTime()>O.Offer_end_date.getTime(),D=ae({inputData:v,filters:O,sortBy:r,dateError:M}),T=!c()(re,O),I=!D.length,L=(0,p.useCallback)(((e,n)=>{S((t=>({...t,[e]:n})))}),[]),F=(0,p.useCallback)((e=>{l(e)}),[]),q=(0,p.useCallback)((e=>{if(d((n=>({...n,query:e}))),e){const e=v.filter((e=>{var n,t,i,s;return e.name_english&&-1!==(null===(n=e.name_english)||void 0===n?void 0:n.toLowerCase().indexOf(a.query.toLowerCase()))||e.name_arabic&&-1!==(null===(t=e.name_arabic)||void 0===t?void 0:t.toLowerCase().indexOf(a.query.toLowerCase()))||e.unit_service&&-1!==(null===(i=e.unit_service.name_english)||void 0===i?void 0:i.toLowerCase().indexOf(a.query.toLowerCase()))||e.unit_service&&-1!==(null===(s=e.unit_service.name_arabic)||void 0===s?void 0:s.toLowerCase().indexOf(a.query.toLowerCase()))||e.work_group&&e.work_group.employees&&e.work_group.employees.some((e=>{var n;return-1!==(null===(n=e.first_name)||void 0===n?void 0:n.toLowerCase().indexOf(a.query.toLowerCase()))}))||e.work_group&&e.work_group.employees&&e.work_group.employees.some((e=>{var n;return-1!==(null===(n=e.last_name)||void 0===n?void 0:n.toLowerCase().indexOf(a.query.toLowerCase()))}))||e.work_group&&e.work_group.employees&&e.work_group.employees.some((e=>{var n;return-1!==(null===(n=e.name_arabic)||void 0===n?void 0:n.toLowerCase().indexOf(a.query.toLowerCase()))}))||(null===e||void 0===e?void 0:e._id)===a.query.toLowerCase()||JSON.stringify(e.code)===a.query.toLowerCase()}));d((n=>({...n,results:e})))}}),[a.query,v]),P=(0,p.useCallback)((()=>{S(re)}),[]),E=(0,R.jsxs)(u.Z,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[(0,R.jsx)(G,{query:a.query,results:a.results,onSearch:q,hrefItem:e=>h.H.dashboard.job.details(e)}),(0,R.jsxs)(u.Z,{direction:"row",spacing:1,flexShrink:0,children:[(0,R.jsx)(ee,{open:s.value,onOpen:s.onTrue,onClose:s.onFalse,filters:O,onFilters:L,canReset:T,onResetFilters:P,countriesOptions:b,citiesOptions:f,unitServicesOptions:w,appointmentTypeOptions:C,paymentMethodsOptions:k,dateError:M}),(0,R.jsx)(B,{sort:r,onSort:F,sortOptions:[{value:"latest",label:"Latest"},{value:"oldest",label:"Oldest"}]})]})]}),H=(0,R.jsx)(se,{countriesOptions:b,citiesOptions:f,unitServicesOptions:w,appointmentTypeOptions:C,paymentMethodsOptions:k,filters:O,onResetFilters:P,canReset:T,onFilters:L,results:D.length});return(0,R.jsxs)(x.Z,{maxWidth:!t.themeStretch&&"lg",children:[(0,R.jsx)(g.Z,{heading:"Book Appointment",links:[{name:"dashboard",href:h.H.superadmin.root},{name:i("patients"),href:h.H.superadmin.patients.root},{name:"History",href:h.H.superadmin.patients.history.root(n._id)},{name:i("appointments")}],sx:{mb:{xs:3,md:5}}}),(0,R.jsxs)(u.Z,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[E,T&&H]}),I&&(0,R.jsx)(y.Z,{filled:!0,title:"No Data",sx:{py:10}}),(0,R.jsx)(z,{patientData:n,refetch:Z,appointments:D})]})}const ae=e=>{let{inputData:n,filters:t,sortBy:i,dateError:s}=e;const{appointtypes:o,payment_methods:r,start_date:l,end_date:d,unitServices:c,countries:p}=t;return"latest"===i&&(n=a()(n,["start_time"],["desc"])),"oldest"===i&&(n=a()(n,["start_time"],["asc"])),"all"!==o&&(n=n.filter((e=>{var n;return(null===e||void 0===e||null===(n=e.appointment_type)||void 0===n?void 0:n._id)===o}))),"all"!==r&&(n=n.filter((e=>{var n;return(null===e||void 0===e||null===(n=e.payment_method)||void 0===n?void 0:n._id)===r}))),s||l&&d&&(n=n.filter((e=>(0,v.IO)(e.start_time)>=(0,v.IO)(l)&&(0,v.IO)(e.end_time)<=(0,v.IO)(d)))),"all"!==c&&(n=n.filter((e=>{var n;return(null===e||void 0===e||null===(n=e.unit_service)||void 0===n?void 0:n._id)===c}))),"all"!==p&&(n=n.filter((e=>{var n;return(null===e||void 0===e||null===(n=e.unit_service)||void 0===n?void 0:n.country)===p}))),n};function de(){const e=(0,s.UO)(),{id:n}=e,{data:t,loading:l}=(0,o.Eu)(n),a=(null===t||void 0===t?void 0:t.first_name)&&(null===t||void 0===t?void 0:t.last_name)&&"".concat(null===t||void 0===t?void 0:t.first_name," ").concat(null===t||void 0===t?void 0:t.last_name)||(null===t||void 0===t?void 0:t.first_name)&&(null===t||void 0===t?void 0:t.first_name)||(null===t||void 0===t?void 0:t.last_name)&&(null===t||void 0===t?void 0:t.last_name)||"Patient";return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(i.ql,{children:[(0,R.jsxs)("title",{children:[" ",a,": Book an appointment "]}),(0,R.jsx)("meta",{name:"description",content:"meta"})]}),l&&(0,R.jsx)(r.a,{}),!l&&(0,R.jsx)(le,{patientData:t})]})}}}]);
//# sourceMappingURL=8343.ba3a0d90.chunk.js.map