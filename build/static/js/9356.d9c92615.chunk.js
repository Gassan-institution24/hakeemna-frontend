"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[9356],{6599:(e,i,n)=>{n.r(i),n.d(i,{default:()=>M});var t=n(6907),a=n(27031),s=n(8007),o=n(61134),l=n(72791),r=n(44695),c=n(36314),d=n(12258),u=n(61889),v=n(4567),p=n(57621),m=n(9585),x=n(89164),h=n(38072),g=n(19208),f=n(38887),Z=n(66664),_=n(99116),j=n(76932),y=n(8976),b=n(36093),w=n(32869),T=n(26405),P=n(80184);function C(){const{t:e}=(0,j.qM)(),i=[{label:e("read"),value:"read"},{label:e("create"),value:"create"},{label:e("edit"),value:"update"},{label:e("delete"),value:"delete"}],{id:n}=(0,g.UO)(),{user:t}=(0,y.E)(),{data:a}=(0,b.X7)(n),C=(0,f.F)("up","md"),{enqueueSnackbar:M}=(0,w.Ds)(),I=s.Ry().shape({departments:s.IX(),employees:s.IX(),management_tables:s.IX(),appointments:s.IX(),appointment_configs:s.IX(),accounting:s.IX(),offers:s.IX(),quality_control:s.IX(),unit_service_info:s.IX(),old_patient:s.IX()}),R=(0,l.useMemo)((()=>{var e,i,n,t,s,o,l,r,c,d,u,v,p,m,x,h,g,f,Z,_,j,y;return{departments:(null===a||void 0===a||null===(e=a.acl)||void 0===e||null===(i=e.unit_service)||void 0===i?void 0:i.departments)||[],employees:(null===a||void 0===a||null===(n=a.acl)||void 0===n||null===(t=n.unit_service)||void 0===t?void 0:t.employees)||[],management_tables:(null===a||void 0===a||null===(s=a.acl)||void 0===s||null===(o=s.unit_service)||void 0===o?void 0:o.management_tables)||[],appointments:(null===a||void 0===a||null===(l=a.acl)||void 0===l||null===(r=l.unit_service)||void 0===r?void 0:r.appointments)||[],appointment_configs:(null===a||void 0===a||null===(c=a.acl)||void 0===c||null===(d=c.unit_service)||void 0===d?void 0:d.appointment_configs)||[],accounting:(null===a||void 0===a||null===(u=a.acl)||void 0===u||null===(v=u.unit_service)||void 0===v?void 0:v.accounting)||[],offers:(null===a||void 0===a||null===(p=a.acl)||void 0===p||null===(m=p.unit_service)||void 0===m?void 0:m.offers)||[],quality_control:(null===a||void 0===a||null===(x=a.acl)||void 0===x||null===(h=x.unit_service)||void 0===h?void 0:h.quality_control)||[],unit_service_info:(null===a||void 0===a||null===(g=a.acl)||void 0===g||null===(f=g.unit_service)||void 0===f?void 0:f.unit_service_info)||[],old_patient:(null===a||void 0===a||null===(Z=a.acl)||void 0===Z||null===(_=Z.unit_service)||void 0===_?void 0:_.old_patient)||[],permissions:(null===a||void 0===a||null===(j=a.acl)||void 0===j||null===(y=j.unit_service)||void 0===y?void 0:y.old_patient)||[]}}),[a]),X=(0,o.cI)({mode:"onTouched",resolver:(0,r.X)(I),defaultValues:R}),{reset:z,handleSubmit:N,formState:{isSubmitting:S}}=X;(0,l.useEffect)((()=>{var e,i,n,t,s,o,l,r,c,d,u,v,p,m,x,h,g,f,Z,_,j,y;z({departments:(null===a||void 0===a||null===(e=a.acl)||void 0===e||null===(i=e.unit_service)||void 0===i?void 0:i.departments)||[],employees:(null===a||void 0===a||null===(n=a.acl)||void 0===n||null===(t=n.unit_service)||void 0===t?void 0:t.employees)||[],management_tables:(null===a||void 0===a||null===(s=a.acl)||void 0===s||null===(o=s.unit_service)||void 0===o?void 0:o.management_tables)||[],appointments:(null===a||void 0===a||null===(l=a.acl)||void 0===l||null===(r=l.unit_service)||void 0===r?void 0:r.appointments)||[],appointment_configs:(null===a||void 0===a||null===(c=a.acl)||void 0===c||null===(d=c.unit_service)||void 0===d?void 0:d.appointment_configs)||[],accounting:(null===a||void 0===a||null===(u=a.acl)||void 0===u||null===(v=u.unit_service)||void 0===v?void 0:v.accounting)||[],offers:(null===a||void 0===a||null===(p=a.acl)||void 0===p||null===(m=p.unit_service)||void 0===m?void 0:m.offers)||[],quality_control:(null===a||void 0===a||null===(x=a.acl)||void 0===x||null===(h=x.unit_service)||void 0===h?void 0:h.quality_control)||[],unit_service_info:(null===a||void 0===a||null===(g=a.acl)||void 0===g||null===(f=g.unit_service)||void 0===f?void 0:f.unit_service_info)||[],old_patient:(null===a||void 0===a||null===(Z=a.acl)||void 0===Z||null===(_=Z.unit_service)||void 0===_?void 0:_.old_patient)||[],permissions:(null===a||void 0===a||null===(j=a.acl)||void 0===j||null===(y=j.unit_service)||void 0===y?void 0:y.old_patient)||[]})}),[n,a]);const k=N((async e=>{try{const i=a.acl;i.unit_service=e,Z.ZP.patch(Z.Hv.employee_engagements.one(n),{acl:i}),_.Z.emit("updated",{user:t,link:h.H.unitservice.employees.acl(n),msg:"updated a service unit employee permissions"}),M("Update success!")}catch(i){_.Z.emit("error",{error:i,user:t,location:window.location.pathname}),M("string"===typeof i?i:i.message,{variant:"error"}),console.error(i)}})),q=(0,P.jsxs)(P.Fragment,{children:[C&&(0,P.jsxs)(u.ZP,{md:4,children:[(0,P.jsx)(v.Z,{variant:"h6",sx:{mb:.5},children:"Permissions"}),(0,P.jsx)(v.Z,{variant:"body2",sx:{color:"text.secondary"},children:"giving or withdrowing permissions refered to all"}),(0,P.jsx)(v.Z,{variant:"body2",sx:{color:"text.secondary"},children:"service unit and all its departments"})]}),(0,P.jsx)(u.ZP,{xs:12,md:8,children:(0,P.jsxs)(p.Z,{children:[!C&&(0,P.jsx)(m.Z,{title:"Permissions"}),(0,P.jsxs)(c.Z,{spacing:3,sx:{p:3},children:[(0,P.jsxs)(c.Z,{spacing:1,children:[(0,P.jsx)(v.Z,{textTransform:"capitalize",variant:"subtitle2",children:e("departments")}),(0,P.jsx)(T.s2,{row:!0,spacing:4,name:"departments",options:i})]}),(0,P.jsxs)(c.Z,{spacing:1,children:[(0,P.jsx)(v.Z,{textTransform:"capitalize",variant:"subtitle2",children:e("employees")}),(0,P.jsx)(T.s2,{row:!0,spacing:4,name:"employees",options:i})]}),(0,P.jsxs)(c.Z,{spacing:1,children:[(0,P.jsx)(v.Z,{textTransform:"capitalize",variant:"subtitle2",children:e("management tables")}),(0,P.jsx)(T.s2,{row:!0,spacing:4,name:"management_tables",options:i})]}),(0,P.jsxs)(c.Z,{spacing:1,children:[(0,P.jsx)(v.Z,{textTransform:"capitalize",variant:"subtitle2",children:e("appointments")}),(0,P.jsx)(T.s2,{row:!0,spacing:4,name:"appointments",options:i})]}),(0,P.jsxs)(c.Z,{spacing:1,children:[(0,P.jsx)(v.Z,{textTransform:"capitalize",variant:"subtitle2",children:e("appointment configuration")}),(0,P.jsx)(T.s2,{row:!0,spacing:4,name:"appointment_configs",options:i})]}),(0,P.jsxs)(c.Z,{spacing:1,children:[(0,P.jsx)(v.Z,{textTransform:"capitalize",variant:"subtitle2",children:e("accounting")}),(0,P.jsx)(T.s2,{row:!0,spacing:4,name:"accounting",options:i})]}),(0,P.jsxs)(c.Z,{spacing:1,children:[(0,P.jsx)(v.Z,{textTransform:"capitalize",variant:"subtitle2",children:e("offers")}),(0,P.jsx)(T.s2,{row:!0,spacing:4,name:"offers",options:i})]}),(0,P.jsxs)(c.Z,{spacing:1,children:[(0,P.jsx)(v.Z,{textTransform:"capitalize",variant:"subtitle2",children:e("quality control")}),(0,P.jsx)(T.s2,{row:!0,spacing:4,name:"quality_control",options:i})]}),(0,P.jsxs)(c.Z,{spacing:1,children:[(0,P.jsx)(v.Z,{textTransform:"capitalize",variant:"subtitle2",children:e("old patient data")}),(0,P.jsx)(T.s2,{row:!0,spacing:4,name:"old_patient",options:i})]}),(0,P.jsxs)(c.Z,{spacing:1,children:[(0,P.jsx)(v.Z,{textTransform:"capitalize",variant:"subtitle2",children:e("service unit info")}),(0,P.jsx)(T.s2,{row:!0,spacing:4,name:"unit_service_info",options:i})]}),(0,P.jsxs)(c.Z,{spacing:1,children:[(0,P.jsx)(v.Z,{textTransform:"capitalize",variant:"subtitle2",children:e("permissions")}),(0,P.jsx)(T.s2,{row:!0,spacing:4,name:"permissions",options:i})]})]})]})})]}),H=(0,P.jsxs)(P.Fragment,{children:[C&&(0,P.jsx)(u.ZP,{md:4}),(0,P.jsx)(u.ZP,{xs:12,md:8,sx:{display:"flex",justifyContent:"flex-end"},children:(0,P.jsx)(d.Z,{type:"submit",variant:"contained",loading:S,sx:{m:2},children:"save changes"})})]});return(0,P.jsx)(x.Z,{maxWidth:"lg",children:(0,P.jsx)(T.ZP,{methods:X,onSubmit:k,children:(0,P.jsxs)(u.ZP,{container:!0,spacing:3,children:[q,H]})})})}function M(){return(0,P.jsxs)(a.Z,{category:"unit_service",subcategory:"permissions",acl:"update",children:[(0,P.jsxs)(t.ql,{children:[(0,P.jsx)("title",{children:"Access control list"}),(0,P.jsx)("meta",{name:"description",content:"meta"})]}),(0,P.jsx)(C,{})]})}},9585:(e,i,n)=>{n.d(i,{Z:()=>j});var t=n(63366),a=n(87462),s=n(72791),o=n(59278),l=n(94419),r=n(4567),c=n(31402),d=n(66934),u=n(75878),v=n(21217);function p(e){return(0,v.Z)("MuiCardHeader",e)}const m=(0,u.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var x=n(80184);const h=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],g=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,i)=>(0,a.Z)({["& .".concat(m.title)]:i.title,["& .".concat(m.subheader)]:i.subheader},i.root)})({display:"flex",alignItems:"center",padding:16}),f=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,i)=>i.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),Z=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,i)=>i.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),_=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,i)=>i.content})({flex:"1 1 auto"}),j=s.forwardRef((function(e,i){const n=(0,c.Z)({props:e,name:"MuiCardHeader"}),{action:s,avatar:d,className:u,component:v="div",disableTypography:m=!1,subheader:j,subheaderTypographyProps:y,title:b,titleTypographyProps:w}=n,T=(0,t.Z)(n,h),P=(0,a.Z)({},n,{component:v,disableTypography:m}),C=(e=>{const{classes:i}=e;return(0,l.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},p,i)})(P);let M=b;null==M||M.type===r.Z||m||(M=(0,x.jsx)(r.Z,(0,a.Z)({variant:d?"body2":"h5",className:C.title,component:"span",display:"block"},w,{children:M})));let I=j;return null==I||I.type===r.Z||m||(I=(0,x.jsx)(r.Z,(0,a.Z)({variant:d?"body2":"body1",className:C.subheader,color:"text.secondary",component:"span",display:"block"},y,{children:I}))),(0,x.jsxs)(g,(0,a.Z)({className:(0,o.Z)(C.root,u),as:v,ref:i,ownerState:P},T,{children:[d&&(0,x.jsx)(f,{className:C.avatar,ownerState:P,children:d}),(0,x.jsxs)(_,{className:C.content,ownerState:P,children:[M,I]}),s&&(0,x.jsx)(Z,{className:C.action,ownerState:P,children:s})]}))}))},57621:(e,i,n)=>{n.d(i,{Z:()=>g});var t=n(87462),a=n(63366),s=n(72791),o=n(59278),l=n(94419),r=n(66934),c=n(31402),d=n(27938),u=n(75878),v=n(21217);function p(e){return(0,v.Z)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var m=n(80184);const x=["className","raised"],h=(0,r.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,i)=>i.root})((()=>({overflow:"hidden"}))),g=s.forwardRef((function(e,i){const n=(0,c.Z)({props:e,name:"MuiCard"}),{className:s,raised:r=!1}=n,d=(0,a.Z)(n,x),u=(0,t.Z)({},n,{raised:r}),v=(e=>{const{classes:i}=e;return(0,l.Z)({root:["root"]},p,i)})(u);return(0,m.jsx)(h,(0,t.Z)({className:(0,o.Z)(v.root,s),elevation:r?8:void 0,ref:i,ownerState:u},d))}))}}]);
//# sourceMappingURL=9356.d9c92615.chunk.js.map