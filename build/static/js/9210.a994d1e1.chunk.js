"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[9210],{69210:(e,o,n)=>{n.r(o),n.d(o,{default:()=>M});var i=n(6907),t=n(34045),r=n(64802),l=n(61146),s=n(72791),a=n(57621),d=n(79836),c=n(13838),p=n(10266),u=n(53382),h=n(39281),x=n(38072),_=n(4419),m=n(19208),v=n(93011),g=n(40268),y=n(10261),f=n(35456),b=n(73379),j=n(38062),w=n(16386),Z=n(16029),C=n(49900),P=n(82626),L=n(9195),k=n(68745),D=n(13400),O=n(24845),R=n(80184);function S(e){let{row:o,selected:n,onEditRow:i,onSelectRow:t}=e;const{code:r,unit_service_type:l,country:s,city:a,email:d,insurance:c,info:p,sector:u,commercial_name:h,province:x,address:_,phone_number_1:m,Phone_number_2:v,work_shift:y,constitution_objective:f,type_of_specialty_1:b,type_of_specialty_2:j,created_at:S,user_creation:T,ip_address_user_creation:W,updated_at:B,user_modification:E,ip_address_user_modification:F,modifications_nums:M}=o,H=(0,O.S)(),I=(0,O.S)(),N=(0,R.jsxs)(L.Z,{hover:!0,selected:n,children:[(0,R.jsx)(k.Z,{align:"center",children:(0,R.jsx)(Z.Z,{children:r})}),(0,R.jsx)(k.Z,{align:"center",children:l}),(0,R.jsx)(k.Z,{align:"center",children:s}),(0,R.jsx)(k.Z,{align:"center",children:a}),(0,R.jsx)(k.Z,{align:"center",children:d}),(0,R.jsx)(k.Z,{align:"center",children:c}),(0,R.jsx)(k.Z,{align:"center",children:p}),(0,R.jsx)(k.Z,{align:"center",children:u}),(0,R.jsx)(k.Z,{align:"center",children:h}),(0,R.jsx)(k.Z,{align:"center",children:x}),(0,R.jsx)(k.Z,{align:"center",children:_}),(0,R.jsx)(k.Z,{align:"center",children:m}),(0,R.jsx)(k.Z,{align:"center",children:v}),(0,R.jsx)(k.Z,{align:"center",children:y}),(0,R.jsx)(k.Z,{align:"center",children:f}),(0,R.jsx)(k.Z,{align:"center",children:b}),(0,R.jsx)(k.Z,{align:"center",children:j}),(0,R.jsx)(k.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,R.jsx)(D.Z,{color:H.open?"inherit":"default",onClick:H.onOpen,children:(0,R.jsx)(g.Z,{icon:"eva:more-vertical-fill"})})})]});return(0,R.jsxs)(R.Fragment,{children:[N,(0,R.jsxs)(O.Z,{open:H.open,onClose:H.onClose,arrow:"right-top",sx:{width:140},children:[(0,R.jsxs)(P.Z,{lang:"ar",onClick:()=>{i(),H.onClose()},children:[(0,R.jsx)(g.Z,{icon:"fluent:edit-32-filled"}),"Edit"]}),(0,R.jsxs)(P.Z,{lang:"ar",onClick:I.onOpen,children:[(0,R.jsx)(g.Z,{icon:"carbon:data-quality-definition"}),"DDL"]})]}),(0,R.jsxs)(O.Z,{open:I.open,onClose:I.onClose,arrow:"right-top",sx:{padding:2,fontSize:"14px"},children:[(0,R.jsx)(Z.Z,{sx:{fontWeight:600},children:"Creation Time:"}),(0,R.jsx)(Z.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,R.jsx)(C.Z,{primary:(0,w.Z)(new Date(S),"dd MMM yyyy"),secondary:(0,w.Z)(new Date(S),"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{component:"span",typography:"caption"}})}),(0,R.jsx)(Z.Z,{sx:{pt:1,fontWeight:600},children:"created by:"}),(0,R.jsx)(Z.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===T||void 0===T?void 0:T.email}),(0,R.jsx)(Z.Z,{sx:{pt:1,fontWeight:600},children:"created by IP:"}),(0,R.jsx)(Z.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:W}),(0,R.jsx)(Z.Z,{sx:{pt:1,fontWeight:600},children:"Editing Time:"}),(0,R.jsx)(Z.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,R.jsx)(C.Z,{primary:(0,w.Z)(new Date(B),"dd MMM yyyy"),secondary:(0,w.Z)(new Date(B),"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{component:"span",typography:"caption"}})}),(0,R.jsx)(Z.Z,{sx:{pt:1,fontWeight:600},children:"Editor:"}),(0,R.jsx)(Z.Z,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===E||void 0===E?void 0:E.email}),(0,R.jsx)(Z.Z,{sx:{pt:1,fontWeight:600},children:"Editor IP:"}),(0,R.jsx)(Z.Z,{sx:{pb:1,borderBottom:"1px solid gray",fontWeight:"400"},children:F}),(0,R.jsxs)(Z.Z,{sx:{pt:1,fontWeight:600},children:["Modifications No: ",M]})]})]})}var T=n(65483),W=n(49172);const B=[{id:"code",label:"code"},{id:"unit_service_type",label:"unit_service_type"},{id:"country",label:"country"},{id:"city",label:"city"},{id:"email",label:"email"},{id:"insurance",label:"insurance"},{id:"info",label:"info"},{id:"sector",label:"sector"},{id:"commercial_name",label:"commercial_name"},{id:"province",label:"province"},{id:"address",label:"address"},{id:"phone_number_1",label:"phone_number_1"},{id:"Phone_number_2",label:"Phone_number_2"},{id:"work_shift",label:"work_shift"},{id:"constitution_objective",label:"constitution_objective"},{id:"type_of_specialty_1",label:"type_of_specialty_1"},{id:"type_of_specialty_2",label:"type_of_specialty_2"},{id:"subscribe_to",label:"subscribe_to"},{id:"social_network",label:"social_network"},{id:"notes",label:"notes"},{id:"",width:88}],E={name:""};function F(){const e=(0,j.x6)({defaultOrderBy:"code"}),o=(0,s.useRef)(),n=(0,m.tv)(),{companiesData:i,loading:w}=(0,v.jsU)(),[Z,C]=(0,s.useState)(E),P=(0,m.lr)().get("upload_record");(0,s.useEffect)((()=>{P&&C((e=>({...e,name:P})))}),[P]);const L=!(!Z.startDate||!Z.endDate)&&Z.startDate.getTime()>Z.endDate.getTime(),k=function(e){let{inputData:o,comparator:n,filters:i,dateError:t}=e;const{name:r}=i,l=o.map(((e,o,n)=>[e,o]));l.sort(((e,o)=>{const i=n(e[0],o[0]);return 0!==i?i:e[1]-o[1]})),o=l.map(((e,o)=>e[0])),r&&(o=o.filter((e=>{var o,n,i,t,l,s,a,d,c,p,u,h,x;return(null===e||void 0===e?void 0:e.name_english)&&-1!==(null===e||void 0===e||null===(o=e.name_english)||void 0===o?void 0:o.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.name_arabic)&&-1!==(null===e||void 0===e||null===(n=e.name_arabic)||void 0===n?void 0:n.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.commercial_name)&&-1!==(null===e||void 0===e||null===(i=e.commercial_name)||void 0===i?void 0:i.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.province)&&-1!==(null===e||void 0===e||null===(t=e.province)||void 0===t?void 0:t.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.country)&&-1!==(null===e||void 0===e||null===(l=e.country)||void 0===l?void 0:l.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.city)&&-1!==(null===e||void 0===e||null===(s=e.city)||void 0===s?void 0:s.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.email)&&-1!==(null===e||void 0===e||null===(a=e.email)||void 0===a?void 0:a.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.phone_number_1)&&-1!==(null===e||void 0===e||null===(d=e.phone_number_1)||void 0===d?void 0:d.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.type_of_specialty_1)&&-1!==(null===e||void 0===e||null===(c=e.type_of_specialty_1)||void 0===c?void 0:c.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.type_of_specialty_2)&&-1!==(null===e||void 0===e||null===(p=e.type_of_specialty_2)||void 0===p?void 0:p.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.unit_service_type)&&-1!==(null===e||void 0===e||null===(u=e.unit_service_type)||void 0===u?void 0:u.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.sector)&&-1!==(null===e||void 0===e||null===(h=e.sector)||void 0===h?void 0:h.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.info)&&-1!==(null===e||void 0===e||null===(x=e.info)||void 0===x?void 0:x.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.upload_record)===r||(null===e||void 0===e?void 0:e._id)===r||JSON.stringify(e.code)===r})));return o}({inputData:i,comparator:(0,j.sQ)(e.order,e.orderBy),filters:Z,dateError:L}),D=e.dense?52:72,O=!(null===Z||void 0===Z||!Z.name),F=!k.length&&O||!k.length,M=(0,l.useReactToPrint)({content:()=>o.current}),H=(0,s.useCallback)(((o,n)=>{e.onResetPage(),C((e=>({...e,[o]:n})))}),[e]),I=(0,s.useCallback)((e=>{n.push(x.H.superadmin.tables.companies.edit(e))}),[n]),N=(0,s.useCallback)((()=>{C(E)}),[]);return w?(0,R.jsx)(f.a,{}):(0,R.jsxs)(p.Z,{maxWidth:"xl",children:[(0,R.jsx)(b.Z,{heading:"companies",links:[{name:"dashboard",href:x.H.superadmin.root},{name:"Tables",href:x.H.superadmin.tables.list},{name:"companies"}],action:(0,R.jsx)(c.Z,{component:_.r,href:x.H.superadmin.tables.companies.new,variant:"contained",startIcon:(0,R.jsx)(g.Z,{icon:"mingcute:add-line"}),children:"New company"}),sx:{mb:{xs:3,md:5}}}),(0,R.jsxs)(a.Z,{children:[(0,R.jsx)(T.Z,{onPrint:M,filters:Z,onFilters:H,onDownload:()=>{const e=k.reduce(((e,o)=>(e.push({code:o.code,name:o.name_english,description:o.description}),e)),[]),o=t.P6.book_new(),n=t.P6.json_to_sheet(e);t.P6.book_append_sheet(o,n,"Sheet 1");const i=t.cW(o,{bookType:"xlsx",type:"array"}),l=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,r.saveAs)(l,"companiesTable.xlsx")},canReset:O,onResetFilters:N}),O&&(0,R.jsx)(W.Z,{filters:Z,onFilters:H,onResetFilters:N,results:k.length,sx:{p:2.5,pt:0}}),(0,R.jsx)(h.Z,{children:(0,R.jsx)(y.Z,{children:(0,R.jsxs)(d.Z,{ref:o,size:e.dense?"small":"medium",children:[(0,R.jsx)(j.K,{order:e.order,orderBy:e.orderBy,headLabel:B,rowCount:k.length,numSelected:e.selected.length,onSort:e.onSort}),(0,R.jsxs)(u.Z,{children:[k.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map(((o,n)=>(0,R.jsx)(S,{row:o,selected:e.selected.includes(o._id),onSelectRow:()=>e.onSelectRow(o._id),onEditRow:()=>I(o._id)},n))),(0,R.jsx)(j.$W,{height:D,emptyRows:(0,j.fQ)(e.page,e.rowsPerPage,i.length)}),(0,R.jsx)(j.et,{notFound:F})]})]})})}),(0,R.jsx)(j.S_,{count:k.length,page:e.page,setPage:e.setPage,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]})}function M(){return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(i.ql,{children:[(0,R.jsx)("title",{children:" Dashboard: companies Table"}),(0,R.jsx)("meta",{name:"description",content:"meta"})]}),(0,R.jsx)(F,{})]})}}}]);
//# sourceMappingURL=9210.a994d1e1.chunk.js.map