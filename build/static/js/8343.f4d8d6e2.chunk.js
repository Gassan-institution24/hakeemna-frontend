"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[8343],{38563:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(68870),s=n(50533),o=n(36314),a=n(4567),r=n(93517),l=n(4419),d=n(80184);function c(e){let{link:t,activeLast:n,disabled:o}=e;const a={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...o&&!n&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},r=(0,d.jsxs)(d.Fragment,{children:[t.icon&&(0,d.jsx)(i.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:t.icon}),t.name]});return t.href?(0,d.jsx)(s.Z,{component:l.r,href:t.href,sx:a,children:r}):(0,d.jsxs)(i.Z,{sx:a,children:[" ",r," "]})}function p(e){let{links:t,action:n,heading:l,moreLink:p,activeLast:h,sx:x,...m}=e;const v=t&&t[t.length-1].name;return(0,d.jsxs)(i.Z,{sx:{...x},children:[(0,d.jsxs)(o.Z,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(i.Z,{sx:{flexGrow:1,display:"flex",gap:3,alignItems:"center"},children:[l&&(0,d.jsx)(a.Z,{variant:"h4",gutterBottom:!0,children:l}),t&&!!t.length&&(0,d.jsx)(r.Z,{separator:(0,d.jsx)(u,{}),...m,children:null===t||void 0===t?void 0:t.map((e=>(0,d.jsx)(c,{link:e,activeLast:h,disabled:e.name===v},e.name||"")))})]}),n&&(0,d.jsxs)(i.Z,{sx:{flexShrink:0},children:[" ",n," "]})]}),!!p&&(0,d.jsx)(i.Z,{sx:{mt:2},children:p.map((e=>(0,d.jsx)(s.Z,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}function u(){return(0,d.jsx)(i.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},73379:(e,t,n)=>{n.d(t,{Z:()=>i.Z});var i=n(38563)},2540:(e,t,n)=>{n.d(t,{l2:()=>r});var i=n(82599),s=n(54690),o=n(85375),a=n(30250);function r(e,t){const n=(new Date).getFullYear(),r=e?(0,i.Z)(e):null,l=t?(0,i.Z)(t):null,d=n===r&&n===l,c=!(!e||!t)&&(0,s.Z)(new Date(e),new Date(t)),p=!(!e||!t)&&(0,o.Z)(new Date(e),new Date(t));return d?p?c?(0,a.Mu)(t,"dd MMM yy"):"".concat((0,a.Mu)(e,"dd")," - ").concat((0,a.Mu)(t,"dd MMM yy")):"".concat((0,a.Mu)(e,"dd MMM")," - ").concat((0,a.Mu)(t,"dd MMM yy")):"".concat((0,a.Mu)(e,"dd MMM yy")," - ").concat((0,a.Mu)(t,"dd MMM yy"))}n(80184);n(72791)},27356:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(68870),s=n(36314),o=n(12065),a=n(4567),r=n(80184);function l(e){let{title:t,imgUrl:n,action:l,filled:d,description:c,sx:p,...u}=e;return(0,r.jsxs)(s.Z,{flexGrow:1,alignItems:"center",justifyContent:"center",sx:{px:3,height:1,...d&&{borderRadius:2,bgcolor:e=>(0,o.Fq)(e.palette.grey[500],.04),border:e=>"dashed 1px ".concat((0,o.Fq)(e.palette.grey[500],.08))},...p},...u,children:[(0,r.jsx)(i.Z,{component:"img",alt:"empty content",src:n||"/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),t&&(0,r.jsx)(a.Z,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textalign:"center"},children:t}),c&&(0,r.jsx)(a.Z,{variant:"caption",sx:{mt:1,color:"text.disabled",textalign:"center"},children:c}),l&&l]})}},31092:(e,t,n)=>{n.d(t,{Z:()=>i.Z});var i=n(27356)},78343:(e,t,n)=>{n.r(t),n.d(t,{default:()=>xe});var i=n(6907),s=n(19208),o=n(66833),a=n(35456),r=n(45812),l=n.n(r),d=n(18111),c=n.n(d),p=n(72791),u=n(36314),h=n(89164),x=n(38072),m=n(22459),v=n(30250),j=n(76932),y=n(31092),_=n(25279),g=n(73379),Z=n(68870),b=n(44369),f=n(86414),w=n(89731),C=n(6385),k=n(16386),O=n(50533),S=n(57621),D=n(13838),M=n(93044),T=n(94721),L=n(82626),F=n(4567),I=n(49900),q=n(4419),E=n(40268),P=n(24845),R=n(80184);function z(e){var t,n;let{appointment:i,onBook:s,onView:o,onEdit:a,onDelete:r}=e;const l=(0,P.S)(),[d,c]=(0,p.useState)(),{_id:h,code:m,unit_service:v,department:j,work_group:y,work_shift:_,appointment_type:g,patient:b,payment_method:f,start_time:w,end_time:C,name_english:z,name_arabic:H,description:B,description_arabic:W,activities:U,result:A,drug_prescription:G,price_in_JOD:V,status:J}=i;return(0,p.useEffect)((()=>{if(null!==v&&void 0!==v&&v.insurance){const e=v.insurance.map((e=>e.name_english));c(e)}}),[v]),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(S.Z,{children:[(0,R.jsxs)(u.Z,{sx:{p:3,pb:2},children:[(0,R.jsx)(M.Z,{alt:null===v||void 0===v?void 0:v.name_english,src:null===v||void 0===v?void 0:v.company_log,variant:"rounded",sx:{width:48,height:48,mb:2}}),(0,R.jsx)(I.Z,{primary:(0,R.jsx)(O.Z,{component:q.r,href:x.H.dashboard.job.details(h),color:"inherit",children:d}),secondary:(0,R.jsx)(O.Z,{component:q.r,href:x.H.dashboard.job.details(h),color:"inherit",children:null===v||void 0===v?void 0:v.name_english}),primaryTypographyProps:{typography:"subtitle1"},secondaryTypographyProps:{mt:1,component:"span",typography:"caption",color:"text.disabled"}}),(0,R.jsx)(u.Z,{spacing:.5,direction:"row",alignItems:"center",sx:{typography:"caption"},children:(0,R.jsx)(I.Z,{primary:new Date(w).toLocaleTimeString("en-US",{timeZone:null===v||void 0===v||null===(t=v.country)||void 0===t?void 0:t.time_zone}),secondary:new Date(w).toLocaleDateString("en-US",{timeZone:null===v||void 0===v||null===(n=v.country)||void 0===n?void 0:n.time_zone}),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,R.jsxs)(u.Z,{spacing:.5,direction:"row",alignItems:"center",sx:{color:"primary.main",typography:"caption"},children:[(0,R.jsx)(E.Z,{width:16,icon:"ic:baseline-tag"}),m]})]}),(0,R.jsx)(T.Z,{sx:{borderStyle:"dashed"}}),(0,R.jsxs)(Z.Z,{rowGap:1.5,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",sx:{p:3,justifyContent:"space-between"},children:[[{label:(0,k.Z)(new Date(w),"p"),icon:(0,R.jsx)(E.Z,{width:16,icon:"icon-park-solid:time",sx:{flexShrink:0}})},{label:d,icon:(0,R.jsx)(E.Z,{width:16,icon:"medical-icon:health-services",sx:{flexShrink:0}})},{label:null===g||void 0===g?void 0:g.name_english,icon:(0,R.jsx)(E.Z,{width:16,icon:"fa-solid:file-medical-alt",sx:{flexShrink:0}})},{label:null===f||void 0===f?void 0:f.name_english,icon:(0,R.jsx)(E.Z,{width:16,icon:"streamline:payment-10-solid",sx:{flexShrink:0}})}].map((e=>(0,R.jsxs)(u.Z,{spacing:.5,flexShrink:0,direction:"row",alignItems:"center",sx:{color:"text.disabled",minWidth:0},children:[e.icon,(0,R.jsx)(F.Z,{variant:"caption",noWrap:!0,children:e.label})]},e.label))),(0,R.jsx)(D.Z,{onClick:s,sx:{mt:3,width:100},variant:"outlined",color:"success",children:"Book"})]})]}),(0,R.jsxs)(P.Z,{open:l.open,onClose:l.onClose,arrow:"right-top",sx:{width:140},children:[(0,R.jsxs)(L.Z,{onClick:()=>{l.onClose(),o()},children:[(0,R.jsx)(E.Z,{icon:"solar:eye-bold"}),"View"]}),(0,R.jsxs)(L.Z,{onClick:()=>{l.onClose(),a()},children:[(0,R.jsx)(E.Z,{icon:"solar:pen-bold"}),"Edit"]}),(0,R.jsxs)(L.Z,{onClick:()=>{l.onClose(),r()},sx:{color:"error.main"},children:[(0,R.jsx)(E.Z,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})]})}function H(e){let{patientData:t,appointments:n,refetch:i}=e;const o=(0,s.tv)(),a=(0,p.useCallback)((e=>{o.push(x.H.dashboard.job.details(e))}),[o]),r=(0,p.useCallback)((async e=>{await(0,C.Z)({method:"PATCH",path:"".concat(w.Hv.tables.appointment(e),"/book"),data:{patient:t._id}}),i()}),[t._id,i]),l=(0,p.useCallback)((e=>{o.push(x.H.dashboard.job.edit(e))}),[o]),d=(0,p.useCallback)((e=>{console.info("DELETE",e)}),[]);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Z.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:n.map((e=>(0,R.jsx)(z,{appointment:e,onBook:()=>r(e._id),onView:()=>a(e._id),onEdit:()=>l(e._id),onDelete:()=>d(e._id)},e.id)))}),n.length>8&&(0,R.jsx)(b.Z,{count:8,sx:{mt:8,["& .".concat(f.Z.ul)]:{justifyContent:"center"}}})]})}function B(e){let{sort:t,onSort:n,sortOptions:i}=e;const s=(0,P.S)();return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(D.Z,{disableRipple:!0,color:"inherit",onClick:s.onOpen,endIcon:(0,R.jsx)(E.Z,{icon:s.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold"},children:["Sort By:",(0,R.jsx)(Z.Z,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold",textTransform:"capitalize"},children:t})]}),(0,R.jsx)(P.Z,{open:s.open,onClose:s.onClose,sx:{width:140},children:i.map((e=>(0,R.jsx)(L.Z,{selected:e.value===t,onClick:()=>{s.onClose(),n(e.value)},children:e.label},e.value)))})]})}var W=n(79085),U=n.n(W),A=n(34004),G=n.n(A),V=n(48550),J=n(89744),K=n(63466),N=n(72043);function Y(e){let{query:t,results:n,onSearch:i,hrefItem:o}=e;(0,s.tv)();const a=e=>{if(t&&"Enter"===e.key){n.filter((e=>e.name_english===t))[0]}};return(0,R.jsx)(J.Z,{sx:{width:{xs:1,sm:260}},autoHighlight:!0,popupIcon:null,options:n.map((e=>e)),onInputChange:(e,t)=>i(t),getOptionLabel:e=>e._id,noOptionsText:(0,R.jsx)(N.Z,{query:t,sx:{bgcolor:"unset"}}),isOptionEqualToValue:(e,t)=>e._id===t._id,renderInput:e=>(0,R.jsx)(V.Z,{...e,placeholder:"Search...",onKeyUp:a,InputProps:{...e.InputProps,startAdornment:(0,R.jsx)(K.Z,{position:"start",children:(0,R.jsx)(E.Z,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})})}}),renderOption:(e,t,n)=>{let{inputValue:i}=n;const s=U()(t._id,i);G()(t._id,s);return(0,p.createElement)(Z.Z,{component:"li",...e,key:t._id})}})}var $=n(49792),Q=n(27029),X=n(46128),ee=n(20068),te=n(13400),ne=n(41985),ie=n(25801),se=n(10261);function oe(e){let{open:t,onOpen:n,onClose:i,filters:s,onFilters:o,canReset:a,onResetFilters:r,insuranseCosData:l,paymentMethodsOptions:d,departmentsData:c,countriesOptions:h,citiesOptions:x,unitServicesOptions:m,appointmentTypeOptions:v,dateError:j}=e;const[y,_]=(0,p.useState)(""),[g,Z]=(0,p.useState)(""),[b,f]=(0,p.useState)([]),w=(0,p.useCallback)((e=>{o("appointtypes",e)}),[o]),C=(0,p.useCallback)((e=>{o("payment_methods",e)}),[o]),k=(0,p.useCallback)((e=>{_(e),o("countries",e)}),[o]),O=(0,p.useCallback)((e=>{o("insurance",e.target.value)}),[o]),S=(0,p.useCallback)((e=>{o("unitServices",e)}),[o]),M=(0,p.useCallback)((e=>{o("start_date",e)}),[o]),L=(0,p.useCallback)((e=>{o("end_date",e)}),[o]),I=(0,R.jsxs)(u.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2,pr:1,pl:2.5},children:[(0,R.jsx)(F.Z,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),(0,R.jsx)(ee.Z,{title:"Reset",children:(0,R.jsx)(te.Z,{onClick:r,children:(0,R.jsx)(Q.Z,{color:"error",variant:"dot",invisible:!a,children:(0,R.jsx)(E.Z,{icon:"solar:restart-bold"})})})}),(0,R.jsx)(te.Z,{onClick:i,children:(0,R.jsx)(E.Z,{icon:"mingcute:close-line"})})]}),q=(0,R.jsxs)(u.Z,{children:[(0,R.jsx)(F.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Time"}),(0,R.jsxs)(u.Z,{spacing:2.5,children:[(0,R.jsx)(ne.M,{label:"From",value:s.start_date,onChange:M}),(0,R.jsx)(ne.M,{label:"To",value:s.end_date,onChange:L,slotProps:{textField:{error:j,helperText:j&&"To time must be later than start date"}}})]})]}),P=(0,R.jsxs)(u.Z,{children:[(0,R.jsx)(F.Z,{variant:"subtitle2",sx:{mb:1},children:"Payment Methods"}),d.map((e=>(0,R.jsx)(ie.Z,{control:(0,R.jsx)($.Z,{checked:e._id===s.payment_methods,onClick:()=>C(e._id)}),label:e.name_english,sx:{..."all"===e&&{textTransform:"capitalize"}}},e._id)))]}),z=(0,R.jsxs)(u.Z,{children:[(0,R.jsx)(F.Z,{variant:"subtitle2",sx:{mb:1},children:"Appointment Types"}),v.map((e=>(0,R.jsx)(ie.Z,{control:(0,R.jsx)($.Z,{checked:e._id===s.appointtypes,onClick:()=>w(e._id)}),label:e.name_english,sx:{..."all"===e&&{textTransform:"capitalize"}}},e._id)))]}),H=(0,R.jsxs)(u.Z,{children:[(0,R.jsx)(F.Z,{variant:"subtitle2",sx:{mb:1},children:"Countries"}),(0,R.jsx)("select",{onChange:k,name:"country",label:"Country",children:null===h||void 0===h?void 0:h.map((e=>(0,R.jsx)("option",{value:e._id,children:null===e||void 0===e?void 0:e.name_english},e._id)))})]}),B=(0,R.jsxs)(u.Z,{children:[(0,R.jsx)(F.Z,{variant:"subtitle2",sx:{mb:1},children:"insurance"}),(0,R.jsx)("select",{onChange:O,name:"insurance",label:"insurance",children:null===l||void 0===l?void 0:l.map((e=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("option",{}),(0,R.jsx)("option",{value:e._id,children:null===e||void 0===e?void 0:e.name_english},e._id)]})))})]}),W=(0,R.jsxs)(u.Z,{children:[(0,R.jsx)(F.Z,{variant:"subtitle2",sx:{mb:1},children:"Unit services"}),m.map((e=>(0,R.jsx)(ie.Z,{control:(0,R.jsx)($.Z,{checked:e._id===s.unitServices,onClick:()=>S(e._id)}),label:e.name_english,sx:{..."all"===e&&{textTransform:"capitalize"}}},e._id)))]});return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(D.Z,{disableRipple:!0,color:"inherit",endIcon:(0,R.jsx)(Q.Z,{color:"error",variant:"dot",invisible:!a,children:(0,R.jsx)(E.Z,{icon:"ic:round-filter-list"})}),onClick:n,children:"Filters"}),(0,R.jsxs)(X.ZP,{anchor:"right",open:t,onClose:i,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:280}},children:[I,(0,R.jsx)(T.Z,{}),(0,R.jsx)(se.Z,{sx:{px:2.5,py:3},children:(0,R.jsxs)(u.Z,{spacing:3,children:[q,W,H,B,z,P]})})]})]})}var ae=n(85771),re=n(27938),le=n(2540);function de(e){let{filters:t,onFilters:n,canReset:i,onResetFilters:s,results:o,paymentMethodsOptions:a,countriesOptions:r,citiesOptions:l,unitServicesOptions:d,appointmentTypeOptions:c,...p}=e;const h=(0,le.l2)(t.start_date,t.end_date);return(0,R.jsxs)(u.Z,{spacing:1.5,...p,children:[(0,R.jsxs)(Z.Z,{sx:{typography:"body2"},children:[(0,R.jsx)("strong",{children:o}),(0,R.jsx)(Z.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,R.jsxs)(u.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[t.start_date&&t.end_date&&(0,R.jsx)(ce,{label:"Time:",children:(0,R.jsx)(ae.Z,{size:"small",label:h,onDelete:()=>{n("start_date",null),n("end_date",null)}})}),"all"!==t.appointtypes&&(0,R.jsx)(ce,{label:"Appointment Types:",children:(0,R.jsx)(ae.Z,{size:"small",label:c.filter((e=>e._id===t.appointtypes))[0].name_english,onDelete:()=>{n("appointtypes","all")}})}),"all"!==t.payment_methods&&(0,R.jsx)(ce,{label:"Payment Methods:",children:(0,R.jsx)(ae.Z,{size:"small",label:a.filter((e=>e._id===t.payment_methods))[0].name_english,onDelete:()=>{n("payment_methods","all")}})}),"all"!==t.countries&&(0,R.jsx)(ce,{label:"Countries:",children:(0,R.jsx)(ae.Z,{size:"small",label:r.filter((e=>e._id===t.countries))[0].name_english,onDelete:()=>{n("countries","all")}})}),"all"!==t.unitServices&&(0,R.jsx)(ce,{label:"Unit Services:",children:(0,R.jsx)(ae.Z,{size:"small",label:d.filter((e=>e._id===t.unitServices))[0].name_english,onDelete:()=>{n("unitServices","all")}})}),i&&(0,R.jsx)(D.Z,{color:"error",onClick:s,startIcon:(0,R.jsx)(E.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}function ce(e){let{label:t,children:n,sx:i,...s}=e;return(0,R.jsxs)(u.Z,{component:re.Z,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...i},...s,children:[(0,R.jsx)(Z.Z,{component:"span",sx:{typography:"subtitle2"},children:t}),(0,R.jsx)(u.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:n})]})}const pe={unitServices:"all",countries:"all",start_date:null,end_date:null,appointtypes:"all",payment_methods:"all"};function ue(e){let{patientData:t}=e;const n=(0,_.K$)(),{t:i}=(0,j.qM)(),s=(0,m.k)(),[a,r]=(0,p.useState)("latest"),[l,d]=(0,p.useState)({query:"",results:[]}),{appointmentsData:v,refetch:Z}=(0,o.zd)(),{countriesData:b}=(0,o.Rp)(),{tableData:f}=(0,o.Sf)(),{unitservicesData:w}=(0,o.FH)(),{appointmenttypesData:C}=(0,o.o5)(),{paymentMethodsData:k}=(0,o.wf)(),[O,S]=(0,p.useState)(pe),D=!(!O.Offer_start_date||!O.Offer_end_date)&&O.Offer_start_date.getTime()>O.Offer_end_date.getTime(),M=he({inputData:v,filters:O,sortBy:a,dateError:D}),T=!c()(pe,O),L=!M.length,F=(0,p.useCallback)(((e,t)=>{S((n=>({...n,[e]:t})))}),[]),I=(0,p.useCallback)((e=>{r(e)}),[]),q=(0,p.useCallback)((e=>{if(d((t=>({...t,query:e}))),e){const e=v.filter((e=>{var t,n,i,s;return e.name_english&&-1!==(null===(t=e.name_english)||void 0===t?void 0:t.toLowerCase().indexOf(l.query.toLowerCase()))||e.name_arabic&&-1!==(null===(n=e.name_arabic)||void 0===n?void 0:n.toLowerCase().indexOf(l.query.toLowerCase()))||e.unit_service&&-1!==(null===(i=e.unit_service.name_english)||void 0===i?void 0:i.toLowerCase().indexOf(l.query.toLowerCase()))||e.unit_service&&-1!==(null===(s=e.unit_service.name_arabic)||void 0===s?void 0:s.toLowerCase().indexOf(l.query.toLowerCase()))||e.work_group&&e.work_group.employees&&e.work_group.employees.some((e=>{var t;return-1!==(null===(t=e.first_name)||void 0===t?void 0:t.toLowerCase().indexOf(l.query.toLowerCase()))}))||e.work_group&&e.work_group.employees&&e.work_group.employees.some((e=>{var t;return-1!==(null===(t=e.last_name)||void 0===t?void 0:t.toLowerCase().indexOf(l.query.toLowerCase()))}))||e.work_group&&e.work_group.employees&&e.work_group.employees.some((e=>{var t;return-1!==(null===(t=e.name_arabic)||void 0===t?void 0:t.toLowerCase().indexOf(l.query.toLowerCase()))}))||(null===e||void 0===e?void 0:e._id)===l.query.toLowerCase()||JSON.stringify(e.code)===l.query.toLowerCase()}));d((t=>({...t,results:e})))}}),[l.query,v]),E=(0,p.useCallback)((()=>{S(pe)}),[]),P=(0,R.jsxs)(u.Z,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[(0,R.jsx)(Y,{query:l.query,results:l.results,onSearch:q,hrefItem:e=>x.H.dashboard.job.details(e)}),(0,R.jsxs)(u.Z,{direction:"row",spacing:1,flexShrink:0,children:[(0,R.jsx)(oe,{open:s.value,onOpen:s.onTrue,onClose:s.onFalse,filters:O,onFilters:F,canReset:T,onResetFilters:E,countriesOptions:b,citiesOptions:f,unitServicesOptions:w,appointmentTypeOptions:C,paymentMethodsOptions:k,dateError:D}),(0,R.jsx)(B,{sort:a,onSort:I,sortOptions:[{value:"latest",label:"Latest"},{value:"oldest",label:"Oldest"}]})]})]}),z=(0,R.jsx)(de,{countriesOptions:b,citiesOptions:f,unitServicesOptions:w,appointmentTypeOptions:C,paymentMethodsOptions:k,filters:O,onResetFilters:E,canReset:T,onFilters:F,results:M.length});return(0,R.jsxs)(h.Z,{maxWidth:!n.themeStretch&&"lg",children:[(0,R.jsx)(g.Z,{heading:"Book Appointment",links:[{name:"dashboard",href:x.H.superadmin.root},{name:i("patients"),href:x.H.superadmin.patients.root},{name:"History",href:x.H.superadmin.patients.history.root(t._id)},{name:i("appointments")}],sx:{mb:{xs:3,md:5}}}),(0,R.jsxs)(u.Z,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[P,T&&z]}),L&&(0,R.jsx)(y.Z,{filled:!0,title:"No Data",sx:{py:10}}),(0,R.jsx)(H,{patientData:t,refetch:Z,appointments:M})]})}const he=e=>{let{inputData:t,filters:n,sortBy:i,dateError:s}=e;const{appointtypes:o,payment_methods:a,date:r,start_date:d,end_date:c,unitServices:p,countries:u,cities:h}=n;return"latest"===i&&(t=l()(t,["start_time"],["desc"])),"oldest"===i&&(t=l()(t,["start_time"],["asc"])),"all"!==o&&(t=t.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.appointment_type)||void 0===t?void 0:t._id)===o}))),"all"!==a&&(t=t.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.payment_method)||void 0===t?void 0:t._id)===a}))),s||d&&c&&(t=t.filter((e=>(0,v.IO)(e.start_time)>=(0,v.IO)(d)&&(0,v.IO)(e.end_time)<=(0,v.IO)(c)))),"all"!==p&&(t=t.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.unit_service)||void 0===t?void 0:t._id)===p}))),"all"!==u&&(t=t.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.unit_service)||void 0===t?void 0:t.country)===u}))),t};function xe(){const e=(0,s.UO)(),{id:t}=e,{data:n,loading:r}=(0,o.Eu)(t),l=(null===n||void 0===n?void 0:n.first_name)&&(null===n||void 0===n?void 0:n.last_name)&&"".concat(null===n||void 0===n?void 0:n.first_name," ").concat(null===n||void 0===n?void 0:n.last_name)||(null===n||void 0===n?void 0:n.first_name)&&(null===n||void 0===n?void 0:n.first_name)||(null===n||void 0===n?void 0:n.last_name)&&(null===n||void 0===n?void 0:n.last_name)||"Patient";return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(i.ql,{children:(0,R.jsxs)("title",{children:[" ",l,": Book an appointment "]})}),r&&(0,R.jsx)(a.a,{}),!r&&(0,R.jsx)(ue,{patientData:n})]})}},6385:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(55294),s=n(88329),o=n(33805);async function a(e){let{setData:t,setError:n,method:a,path:r,data:l}=e;const d="".concat(o.E0).concat(r),c=s.Z.get("user_token"),p=await(0,i.Z)({method:a,url:d,headers:{authorization:"Bearer ".concat(c)},data:l});return t&&t(p.data),n&&n(p.data),p}}}]);
//# sourceMappingURL=8343.f4d8d6e2.chunk.js.map