/*! For license information please see 404.2d582583.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[404],{80404:(e,n,i)=>{i.r(n),i.d(n,{default:()=>Q});var o=i(6907),t=i(19208),l=i(8966),a=i(6965),r=i(34045),s=i(64802),d=i(84802),c=i(61146),u=i(72791),v=i(61474),h=i(2101),m=i(57621),p=i(79836),g=i(13838),x=i(12065),f=i(82626),_=i(89164),j=i(53382),w=i(39281),b=i(38072),C=i(4419),Z=i(89731),P=i(6385),y=i(76932),k=i(84954),R=i(40268),D=i(10261),S=i(25279),F=i(73379),I=i(24845),O=i(38062),A=i(52007),B=i.n(A),T=i(9195),U=i(68745),L=i(13400),E=i(80184);function H(e){let{row:n,onDeleteRow:i,setFilters:o,filters:t}=e;const{code:l,name_english:a,type:r,status:s,webpage:d,phone:c,address:u,created_at:v,user_creation:h,ip_address_user_creation:m,updated_at:p,user_modification:g,ip_address_user_modification:x,modifications_nums:f}=n,{t:_}=(0,y.qM)(),j=((0,I.S)(),(0,I.S)(),(0,E.jsxs)(T.Z,{hover:!0,children:[(0,E.jsx)(U.Z,{align:"center",children:l}),(0,E.jsx)(U.Z,{children:a}),(0,E.jsx)(U.Z,{align:"center",onClick:()=>o({...t,name:null===r||void 0===r?void 0:r.name_english}),children:null===r||void 0===r?void 0:r.name_english}),(0,E.jsx)(U.Z,{align:"center",children:(0,E.jsx)(k.Z,{variant:"soft",color:("active"===s?"success":"inactive"===s&&"error")||"default",children:s})}),(0,E.jsx)(U.Z,{align:"center",children:d}),(0,E.jsx)(U.Z,{align:"center",children:c}),(0,E.jsx)(U.Z,{align:"center",children:u}),(0,E.jsx)(U.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,E.jsx)(L.Z,{sx:{color:"error.main"},onClick:i,children:(0,E.jsx)(R.Z,{icon:"mi:delete"})})})]}));return(0,E.jsx)(E.Fragment,{children:j})}H.propTypes={setFilters:B().func,onDeleteRow:B().func,row:B().object,filters:B().object};var W=i(68388),q=i(49383);const z=[{id:"code",label:"Code"},{id:"name_english",label:"Name"},{id:"type",label:"Type"},{id:"status",label:"Status"},{id:"webpage",label:"Webpage"},{id:"phone",label:"Phone"},{id:"address",label:"Address"},{id:"",width:88}],M={name:"",status:"all"},N=[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}];function K(e){var n;let{patientData:i,refetch:o}=e;const t=(0,O.x6)({defaultOrderBy:"code"}),A=(0,u.useRef)(),B=(0,S.K$)(),T=(0,I.S)(),[U,L]=(0,u.useState)(M),{insuranseCosData:K,loading:Q}=(0,l.Vc)(),$=K.filter((e=>{var n;return!(null!==i&&void 0!==i&&null!==(n=i.insurance)&&void 0!==n&&n.some((n=>n._id===e._id)))})).filter((e=>"active"===e.status)),G=!(!U.startDate||!U.endDate)&&U.startDate.getTime()>U.endDate.getTime(),J=function(e){var n;let{inputData:i,comparator:o,filters:t,dateError:l}=e;const{status:a,name:r}=t,s=null===(n=i)||void 0===n?void 0:n.map(((e,n)=>[e,n]));null===s||void 0===s||s.sort(((e,n)=>{const i=o(e[0],n[0]);return 0!==i?i:e[1]-n[1]})),i=null===s||void 0===s?void 0:s.map((e=>e[0])),r&&(i=i.filter((e=>{var n,i,o,t,l,a,s,d;return(null===e||void 0===e?void 0:e.name_english)&&-1!==(null===e||void 0===e||null===(n=e.name_english)||void 0===n?void 0:n.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e.name_arabic)&&-1!==(null===e||void 0===e||null===(i=e.name_arabic)||void 0===i?void 0:i.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e||null===(o=e.type)||void 0===o?void 0:o.name_english)&&-1!==(null===e||void 0===e||null===(t=e.type)||void 0===t||null===(l=t.name_english)||void 0===l?void 0:l.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e||null===(a=e.type)||void 0===a?void 0:a.name_arabic)&&-1!==(null===e||void 0===e||null===(s=e.type)||void 0===s||null===(d=s.name_arabic)||void 0===d?void 0:d.toLowerCase().indexOf(r.toLowerCase()))||(null===e||void 0===e?void 0:e._id)===r||JSON.stringify(e.code)===r})));"all"!==a&&(i=i.filter((e=>e.status===a)));return i}({inputData:null===i||void 0===i?void 0:i.insurance,comparator:(0,O.sQ)(t.order,t.orderBy),filters:U,dateError:G}),{t:V}=(0,y.qM)(),Y=null===J||void 0===J?void 0:J.slice(t.page*t.rowsPerPage,t.page*t.rowsPerPage+t.rowsPerPage),X=t.dense?52:72,ee=!(null===U||void 0===U||!U.name)||"all"!==U.status,ne=!(null!==J&&void 0!==J&&J.length)&&ee||!(null!==J&&void 0!==J&&J.length),ie=(0,c.useReactToPrint)({content:()=>A.current}),oe=(0,u.useCallback)((async e=>{if(i.insurance.some((n=>n._id===e)))return void(0,d.yv)("this company already exist",{variant:"error"});const n=[...i.insurance,e];await(0,P.Z)({method:"PATCH",path:Z.Hv.tables.patient(null===i||void 0===i?void 0:i._id),data:{insurance:n}}),o(),t.onUpdatePageDeleteRow(null===Y||void 0===Y?void 0:Y.length)}),[null===Y||void 0===Y?void 0:Y.length,t,o,null===i||void 0===i?void 0:i._id,null===i||void 0===i?void 0:i.insurance]),te=(0,u.useCallback)((async e=>{var n;const l=null===i||void 0===i||null===(n=i.insurance)||void 0===n?void 0:n.filter((n=>(null===n||void 0===n?void 0:n._id)!==e));await(0,P.Z)({method:"PATCH",path:Z.Hv.tables.patient(null===i||void 0===i?void 0:i._id),data:{insurance:l}}),o(),t.onUpdatePageDeleteRow(null===Y||void 0===Y?void 0:Y.length)}),[null===Y||void 0===Y?void 0:Y.length,t,o,null===i||void 0===i?void 0:i._id,null===i||void 0===i?void 0:i.insurance]),le=(0,u.useCallback)(((e,n)=>{t.onResetPage(),L((i=>({...i,[e]:n})))}),[t]),ae=(0,u.useCallback)((()=>{L(M)}),[]),re=(0,u.useCallback)(((e,n)=>{le("status",n)}),[le]),se=(null===i||void 0===i?void 0:i.first_name)&&(null===i||void 0===i?void 0:i.last_name)&&"".concat(null===i||void 0===i?void 0:i.first_name," ").concat(null===i||void 0===i?void 0:i.last_name)||(null===i||void 0===i?void 0:i.first_name)&&(null===i||void 0===i?void 0:i.first_name)||(null===i||void 0===i?void 0:i.last_name)&&(null===i||void 0===i?void 0:i.last_name)||"Patient";return Q?(0,E.jsx)(a.a,{}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(_.Z,{maxWidth:!B.themeStretch&&"lg",children:[(0,E.jsx)(F.Z,{heading:"".concat(se," Insurance"),links:[{name:"dashboard",href:b.H.superadmin.root},{name:V("patients"),href:b.H.superadmin.patients.root},{name:V("".concat(se," Insurance"))}],action:(0,E.jsx)(g.Z,{component:C.r,onClick:T.onOpen,variant:"contained",startIcon:(0,E.jsx)(R.Z,{icon:"mingcute:add-line"}),children:"New Insurance"}),sx:{mb:{xs:3,md:5}}}),(0,E.jsxs)(m.Z,{children:[(0,E.jsx)(h.Z,{value:U.status,onChange:re,sx:{px:2.5,boxShadow:e=>"inset 0 -2px 0 0 ".concat((0,x.Fq)(e.palette.grey[500],.08))},children:N.map((e=>{var n;return(0,E.jsx)(v.Z,{iconPosition:"end",value:e.value,label:e.label,icon:(0,E.jsxs)(k.Z,{variant:"all"===e.value||e.value===U.status?"filled":"soft",color:("active"===e.value?"success":"inactive"===e.value&&"error")||"default",children:["all"===e.value&&(null===i||void 0===i||null===(n=i.insurance)||void 0===n?void 0:n.length),"active"===e.value&&(null===i||void 0===i?void 0:i.insurance.filter((e=>"active"===e.status)).length),"inactive"===e.value&&(null===i||void 0===i?void 0:i.insurance.filter((e=>"inactive"===e.status)).length)]})},e.value)}))}),(0,E.jsx)(W.Z,{onPrint:ie,filters:U,onFilters:le,onDownload:()=>{const e=null===J||void 0===J?void 0:J.reduce(((e,n)=>{var i,o;return e.push({code:n.code,name:n.name_english,category:null===(i=n.category)||void 0===i?void 0:i.name_english,symptoms:null===(o=n.symptoms)||void 0===o?void 0:o.map((e=>null===e||void 0===e?void 0:e.name_english))}),e}),[]),n=r.P6.book_new(),i=r.P6.json_to_sheet(e);r.P6.book_append_sheet(n,i,"Sheet 1");const o=r.cW(n,{bookType:"xlsx",type:"array"}),t=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,s.saveAs)(t,"unitservicesTable.xlsx")},canReset:ee,onResetFilters:ae}),ee&&(0,E.jsx)(q.Z,{filters:U,onFilters:le,onResetFilters:ae,results:null===J||void 0===J?void 0:J.length,sx:{p:2.5,pt:0}}),(0,E.jsx)(w.Z,{children:(0,E.jsx)(D.Z,{children:(0,E.jsxs)(p.Z,{ref:A,size:t.dense?"small":"medium",children:[(0,E.jsx)(O.K,{order:t.order,orderBy:t.orderBy,headLabel:z,rowCount:null===J||void 0===J?void 0:J.length,numSelected:t.selected.length,onSort:t.onSort}),(0,E.jsxs)(j.Z,{children:[null===J||void 0===J||null===(n=J.slice(t.page*t.rowsPerPage,t.page*t.rowsPerPage+t.rowsPerPage))||void 0===n?void 0:n.map((e=>(0,E.jsx)(H,{row:e,filters:U,setFilters:L,onSelectRow:()=>t.onSelectRow(null===e||void 0===e?void 0:e._id),onDeleteRow:()=>te(null===e||void 0===e?void 0:e._id)},null===e||void 0===e?void 0:e._id))),(0,E.jsx)(O.$W,{height:X,emptyRows:(0,O.fQ)(t.page,t.rowsPerPage,null===i||void 0===i?void 0:i.insurance.length)}),(0,E.jsx)(O.et,{notFound:ne})]})]})})}),(0,E.jsx)(O.S_,{count:null===J||void 0===J?void 0:J.length,page:t.page,rowsPerPage:t.rowsPerPage,onPageChange:t.onChangePage,onRowsPerPageChange:t.onChangeRowsPerPage,dense:t.dense,onChangeDense:t.onChangeDense})]})]}),(0,E.jsx)(I.Z,{open:T.open,onClose:T.onClose,arrow:"right-top",children:(0,E.jsx)("div",{style:{maxHeight:"150px",overflowY:"auto",scrollbarWidth:"thin",scrollbarColor:"darkgray lightgray"},children:null===$||void 0===$?void 0:$.map((e=>(0,E.jsx)(f.Z,{onClick:()=>oe(e._id),children:null===e||void 0===e?void 0:e.name_english})))})})]})}function Q(){const e=(0,t.UO)(),{id:n}=e,{data:i,loading:r,refetch:s}=(0,l.Eu)(n),d=(null===i||void 0===i?void 0:i.first_name)&&(null===i||void 0===i?void 0:i.last_name)&&"".concat(null===i||void 0===i?void 0:i.first_name," ").concat(null===i||void 0===i?void 0:i.last_name)||(null===i||void 0===i?void 0:i.first_name)&&(null===i||void 0===i?void 0:i.first_name)||(null===i||void 0===i?void 0:i.last_name)&&(null===i||void 0===i?void 0:i.last_name)||"Patient";return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(o.ql,{children:(0,E.jsxs)("title",{children:[" Patients: ",d," Insurance "]})}),r&&(0,E.jsx)(a.a,{}),!r&&(0,E.jsx)(K,{patientData:i,refetch:s})]})}},68388:(e,n,i)=>{i.d(n,{Z:()=>m});var o=i(72791),t=i(36314),l=i(13838),a=i(82626),r=i(48550),s=i(13400),d=i(63466),c=i(76932),u=i(40268),v=i(24845),h=i(80184);function m(e){let{filters:n,onFilters:i,onPrint:m,onDownload:p,canReset:g,onResetFilters:x}=e;const f=(0,v.S)(),{t:_}=(0,c.qM)(),j=(0,o.useCallback)((e=>{i("name",e.target.value)}),[i]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(t.Z,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:[(0,h.jsxs)(t.Z,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:[(0,h.jsx)(r.Z,{fullWidth:!0,value:n.name,onChange:j,placeholder:_("Search name or number..."),InputProps:{startAdornment:(0,h.jsx)(d.Z,{position:"start",children:(0,h.jsx)(u.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),(0,h.jsx)(s.Z,{onClick:f.onOpen,children:(0,h.jsx)(u.Z,{icon:"eva:more-vertical-fill"})})]}),g&&(0,h.jsx)(l.Z,{color:"error",sx:{flexShrink:0},onClick:x,startIcon:(0,h.jsx)(u.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]}),(0,h.jsxs)(v.Z,{open:f.open,onClose:f.onClose,arrow:"right-top",sx:{width:140},children:[(0,h.jsxs)(a.Z,{onClick:()=>{m(),f.onClose()},children:[(0,h.jsx)(u.Z,{icon:"solar:printer-minimalistic-bold"}),"Print"]}),(0,h.jsxs)(a.Z,{onClick:()=>{p(),f.onClose()},children:[(0,h.jsx)(u.Z,{icon:"solar:import-bold"}),"Import"]})]})]})}},6385:(e,n,i)=>{i.d(n,{Z:()=>a});var o=i(55294),t=i(88329),l=i(33805);async function a(e){let{setData:n,setError:i,method:a,path:r,data:s}=e;const d="".concat(l.E0).concat(r),c=t.Z.get("user_token"),u=await(0,o.Z)({method:a,url:d,headers:{authorization:"Bearer ".concat(c)},data:s});return n&&n(u.data),i&&i(u.data),u}},88329:(e,n,i)=>{function o(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)e[o]=i[o]}return e}i.d(n,{Z:()=>t});var t=function e(n,i){function t(e,t,l){if("undefined"!==typeof document){"number"===typeof(l=o({},i,l)).expires&&(l.expires=new Date(Date.now()+864e5*l.expires)),l.expires&&(l.expires=l.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var r in l)l[r]&&(a+="; "+r,!0!==l[r]&&(a+="="+l[r].split(";")[0]));return document.cookie=e+"="+n.write(t,e)+a}}return Object.create({set:t,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var i=document.cookie?document.cookie.split("; "):[],o={},t=0;t<i.length;t++){var l=i[t].split("="),a=l.slice(1).join("=");try{var r=decodeURIComponent(l[0]);if(o[r]=n.read(a,r),e===r)break}catch(s){}}return e?o[e]:o}},remove:function(e,n){t(e,"",o({},n,{expires:-1}))},withAttributes:function(n){return e(this.converter,o({},this.attributes,n))},withConverter:function(n){return e(o({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}}]);
//# sourceMappingURL=404.2d582583.chunk.js.map