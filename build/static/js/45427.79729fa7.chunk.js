"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[45427],{25872:(e,n,t)=>{t.d(n,{A:()=>f});var l=t(80899),o=t(65043),s=t(46987),i=t(24858),r=t(18403),a=t(74600),d=t(49633),c=t(83462),u=t(81e3),h=t(94814),x=t(38246),p=t(4219),m=t(29347),g=t(35316),v=t(31673),j=t(60778),A=t(59699),y=t(70579);function f(e){let{row:n,open:t,onClose:f,refetch:b,employeeId:w}=e;const{enqueueSnackbar:_}=(0,s.dh)(),{t:k}=(0,j.WD)(),{currentLang:C}=(0,j.jc)(),D="ar"===C.value,M=l.Ik().shape({date:l.p6().nullable(),check_in_time:l.p6().nullable(),off:l.zM().nullable(),check_out_time:l.p6().nullable(),leave_end:l.p6().nullable(),leave_start:l.p6().nullable(),employee_engagement:l.Yj().nullable(),leave:l.Yj().nullable(),work_type:l.Yj().nullable(),note:l.Yj().nullable()}),S={date:(null===n||void 0===n?void 0:n.date)||null,check_in_time:(null===n||void 0===n?void 0:n.check_in_time)||null,off:(null===n||void 0===n?void 0:n.off)||!(null===n||void 0===n||!n.leave)||!1,check_out_time:(null===n||void 0===n?void 0:n.check_out_time)||null,leave_end:(null===n||void 0===n?void 0:n.leave_end)||null,leave_start:(null===n||void 0===n?void 0:n.leave_start)||null,leave:(null===n||void 0===n?void 0:n.leave)||"",work_type:(null===n||void 0===n?void 0:n.work_type)||"",note:(null===n||void 0===n?void 0:n.note)||"",employee_engagement:w||""},P=(0,i.mN)({resolver:(0,r.t)(M),defaultValues:S}),{watch:W,handleSubmit:R,formState:{isSubmitting:B}}=P,I=W("leave"),T=W("off"),F=R((async e=>{try{T?(e.check_in_time=null,e.check_out_time=null,e.leave_start=null,e.leave_end=null,e.work_type=""):e.leave="",null!==n&&void 0!==n&&n._id?(await v.Ay.patch(v.vZ.attendence.one(null===n||void 0===n?void 0:n._id),e),f(),b(),_(k("updated successfuly"))):(await v.Ay.post(v.vZ.attendence.create,e),f(),b(),_(k("created successfuly")))}catch(t){_(D?t.arabic_message||t.message:t.message||t,{variant:"error"}),b()}}));return(0,o.useEffect)((()=>{I?(P.setValue("check_in_time",null),P.setValue("check_out_time",null),P.setValue("leave_start",null),P.setValue("leave_end",null),P.setValue("work_type","")):P.setValue("leave","")}),[I]),(0,y.jsx)(c.A,{fullWidth:!0,maxWidth:"sm",open:t,onClose:()=>{P.reset(),f()},children:(0,y.jsxs)(A.Ay,{methods:P,onSubmit:F,children:[(0,y.jsx)(p.A,{children:k(n?"Edit Attendance details":"Create New Attendance")}),(0,y.jsx)(g.A,{dividers:!0,children:(0,y.jsxs)(a.A,{spacing:3,mt:2,children:[(0,y.jsxs)(u.A,{children:[(0,y.jsx)(A.ZE,{name:"date",label:k("Date")}),(0,y.jsx)(a.A,{direction:"row",justifyContent:"flex-end",children:(0,y.jsx)(A.SF,{name:"off",label:k("leave"),onChange:()=>P.setValue("off",!T)})})]}),T&&(0,y.jsxs)(A.tX,{name:"leave",label:k("Leave"),children:[(0,y.jsx)(h.A,{value:"annual",children:k("annual")}),(0,y.jsx)(h.A,{value:"sick",children:k("sick")}),(0,y.jsx)(h.A,{value:"unpaid",children:k("unpaid")}),(0,y.jsx)(h.A,{value:"public",children:k("public")}),(0,y.jsx)(h.A,{value:"other",children:k("other")})]}),!T&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(A.tX,{name:"work_type",label:k("Work type"),children:[(0,y.jsx)(h.A,{value:"online",children:k("online")}),(0,y.jsx)(h.A,{value:"onsite",children:k("onsite")}),(0,y.jsx)(h.A,{value:"hybrid",children:k("hybrid")}),(0,y.jsx)(h.A,{value:"field",children:k("on the ground")})]}),(0,y.jsx)(A.MB,{name:"check_in_time",label:k("Check in time")}),(0,y.jsx)(A.MB,{name:"check_out_time",label:k("Check out time")}),(0,y.jsx)(A.MB,{name:"leave_start",label:k("Leave start")}),(0,y.jsx)(A.MB,{name:"leave_end",label:k("Leave end")})]}),(0,y.jsx)(A.o3,{name:"note",label:k("note")})]})}),(0,y.jsxs)(m.A,{children:[(0,y.jsx)(d.A,{color:"inherit",variant:"outlined",onClick:f,children:k("Cancel")}),(0,y.jsx)(x.A,{type:"submit",variant:"contained",loading:B,children:k("Save")})]})]})})}},33546:(e,n,t)=>{t.d(n,{A:()=>a});var l=t(81e3),o=t(74600),s=t(90310),i=t(94496),r=t(70579);function a(e){let{title:n,imgUrl:t,action:a,filled:d,description:c,sx:u,...h}=e;return(0,r.jsxs)(o.A,{flexGrow:1,alignItems:"center",justifyContent:"center",sx:{px:3,height:1,...d&&{borderRadius:2,bgcolor:e=>(0,s.X4)(e.palette.grey[500],.04),border:e=>`dashed 1px ${(0,s.X4)(e.palette.grey[500],.08)}`},...u},...h,children:[(0,r.jsx)(l.A,{component:"img",alt:"empty content",src:t||"/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),n&&(0,r.jsx)(i.A,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:n}),c&&(0,r.jsx)(i.A,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:c}),a&&a]})}},44847:(e,n,t)=>{t.d(n,{A:()=>l.A});var l=t(33546)},45427:(e,n,t)=>{t.r(n),t.d(n,{default:()=>oe});var l=t(29490),o=t(75139),s=t(73216),i=t(65043),r=t(77224),a=t(12110),d=t(74600),c=t(81045),u=t(94496),h=t(81e3),x=t(29013),p=t(40360),m=t(49633),g=t(57442),v=t(94289),j=t(7625),A=t(60778),y=t(80899),f=t(24858),b=t(18403),w=t(22075),_=t(38246),k=t(31673),C=t(94857),D=t(59699),M=t(70579);function S(e){let{employee:n,refetch:t}=e;const{enqueueSnackbar:l}=(0,C.dh)(),{t:o}=(0,A.WD)(),s=y.Ik().shape({start_time:y.p6(),end_time:y.p6(),salary:y.ai(),monthly_hours:y.ai()}),i={start_time:(null===n||void 0===n?void 0:n.start_time)||null,end_time:(null===n||void 0===n?void 0:n.end_time)||null,salary:(null===n||void 0===n?void 0:n.salary)||0,monthly_hours:(null===n||void 0===n?void 0:n.monthly_hours)||0},r=(0,f.mN)({mode:"all",resolver:(0,b.t)(s),defaultValues:i}),{handleSubmit:c,formState:{isSubmitting:u}}=r;return(0,M.jsx)(D.Ay,{methods:r,onSubmit:c((async e=>{try{await k.Ay.patch(`${k.vZ.employee_engagements.one(null===n||void 0===n?void 0:n._id)}`,e),l(`${o("Profile updated successfully")}`,{variant:"success"}),t()}catch(s){l("string"===typeof s?s:s.message,{variant:"error"})}})),children:(0,M.jsx)(w.A,{container:!0,spacing:3,children:(0,M.jsx)(w.A,{xs:12,md:8,children:(0,M.jsxs)(a.A,{sx:{p:3},children:[(0,M.jsxs)(h.A,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,M.jsx)(D.MB,{name:"start_time",label:o("work start time")}),(0,M.jsx)(D.MB,{name:"end_time",label:o("work end time")}),(0,M.jsx)(D.o3,{type:"number",name:"salary",label:o("salary")}),(0,M.jsx)(D.o3,{type:"number",name:"monthly_hours",label:o("work hours / month")})]}),(0,M.jsx)(d.A,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:(0,M.jsx)(_.A,{type:"submit",tabIndex:-1,variant:"contained",loading:u,children:o("Save Changes")})})]})})})})}var P=t(25872),W=t(71806),R=t(77739),B=t(73460),I=t(17392),T=t(79650),F=t(59229),$=t(35151),E=t(51440),O=t(75950),V=t(94814),L=t(68738),z=t(39652),U=t(26353),q=t(68719),G=t(70074),N=t(34624);function Z(e){let{row:n,selected:t,refetch:l,onSelectRow:o,onViewRow:s,onCancelRow:r,onDeleteRow:a}=e;const{date:d,check_in_time:c,check_out_time:u,leave:x,work_type:p,note:v,leaveTime:j,workTime:y,created_at:f,user_creation:b,ip_address_user_creation:w,updated_at:_,user_modification:k,ip_address_user_modification:C,modifications_nums:D}=n,{t:S}=(0,A.WD)(),[W,R]=(0,i.useState)(!1),B=(0,q.v)(),T=(0,N.f)(),F=(0,N.f)(),E=(0,N.f)();return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(L.A,{hover:!0,selected:t,children:[(0,M.jsx)(z.A,{align:"center",children:(0,g.ts)(d,"EEEE, dd MMMMMMMM yyyy")}),(0,M.jsx)(z.A,{align:"center",children:(0,g.qi)(c)}),(0,M.jsx)(z.A,{align:"center",children:(0,g.qi)(u)}),(0,M.jsx)(z.A,{align:"center",children:(0,g.lU)(j)}),(0,M.jsx)(z.A,{align:"center",children:(0,g.lU)(y)}),(0,M.jsx)(z.A,{align:"center",children:S(p)}),(0,M.jsx)(z.A,{align:"center",children:S(x)}),(0,M.jsx)(z.A,{align:"center",children:v}),(0,M.jsx)(z.A,{align:"right",sx:{px:1},children:(0,M.jsx)(I.A,{color:T.open?"inherit":"default",onClick:T.onOpen,children:(0,M.jsx)($.A,{icon:"eva:more-vertical-fill"})})})]}),(0,M.jsxs)(N.A,{open:T.open,onClose:T.onClose,arrow:"right-top",children:[(0,M.jsxs)(V.A,{lang:"ar",onClick:F.onOpen,children:[(0,M.jsx)($.A,{icon:"carbon:data-quality-definition"}),S("DDL")]}),B({category:"unit_service",subcategory:"hr",acl:"update"})&&(0,M.jsxs)(V.A,{lang:"ar",onClick:()=>R(!0),children:[(0,M.jsx)($.A,{icon:"fluent:edit-32-filled"}),S("Edit")]}),B({category:"unit_service",subcategory:"hr",acl:"delete"})&&(0,M.jsxs)(V.A,{sx:{color:"error.main"},lang:"ar",onClick:E.onOpen,children:[(0,M.jsx)($.A,{icon:"mdi:trash"}),S("Delete")]})]}),(0,M.jsxs)(N.A,{open:F.open,onClose:F.onClose,arrow:"right-top",sx:{padding:2,fontSize:"14px"},children:[(0,M.jsxs)(h.A,{sx:{fontWeight:600},children:[S("creation time"),":"]}),(0,M.jsx)(h.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,M.jsx)(U.A,{primary:(0,g.ts)(f,"dd MMMMMMMM yyyy"),secondary:(0,g.ts)(f,"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{component:"span",typography:"caption"}})}),(0,M.jsxs)(h.A,{sx:{pt:1,fontWeight:600},children:[S("created by"),":"]}),(0,M.jsx)(h.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===b||void 0===b?void 0:b.email}),(0,M.jsxs)(h.A,{sx:{pt:1,fontWeight:600},children:[S("created by IP"),":"]}),(0,M.jsx)(h.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:w}),(0,M.jsxs)(h.A,{sx:{pt:1,fontWeight:600},children:[S("editing time"),":"]}),(0,M.jsx)(h.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,M.jsx)(U.A,{primary:(0,g.ts)(_,"dd MMMMMMMM yyyy"),secondary:(0,g.ts)(_,"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{component:"span",typography:"caption"}})}),(0,M.jsxs)(h.A,{sx:{pt:1,fontWeight:600},children:[S("editor"),":"]}),(0,M.jsx)(h.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===k||void 0===k?void 0:k.email}),(0,M.jsxs)(h.A,{sx:{pt:1,fontWeight:600},children:[S("editor IP"),":"]}),(0,M.jsx)(h.A,{sx:{pb:1,borderBottom:"1px solid gray",fontWeight:"400"},children:C}),(0,M.jsxs)(h.A,{sx:{pt:1,fontWeight:600},children:[S("modifications no"),": ",D]})]}),W&&(0,M.jsx)(P.A,{row:n,open:W,refetch:l,onClose:()=>R(!1)}),(0,M.jsx)(G.T,{open:E.open,onClose:E.onClose,title:S("Deleting Attendence"),content:S("Are you sure to delete this?"),action:(0,M.jsx)(m.A,{variant:"contained",color:"error",onClick:()=>{T.onClose(),E.onClose(),a(n._id)},children:S("Delete")})})]})}var X=t(84284);function Y(e){let{filters:n,onFilters:t,onAdd:l,hours:o,dateError:s,options:r}=e;const{t:a}=(0,A.WD)(),c=(0,N.f)(),u=(0,i.useCallback)((e=>{t("startDate",e)}),[t]),h=(0,i.useCallback)((e=>{t("endDate",e)}),[t]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(d.A,{direction:"row",justifyContent:"space-between",children:(0,M.jsxs)(d.A,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:[(0,M.jsx)(X.l,{label:a("start date"),value:n.startDate,onChange:u,slotProps:{textField:{fullWidth:!0}},sx:{width:{xs:1,md:200}}}),(0,M.jsx)(X.l,{label:a("end date"),value:n.endDate,onChange:h,slotProps:{textField:{fullWidth:!0,error:s}},sx:{width:{xs:1,md:200}}})]})}),(0,M.jsxs)(N.A,{open:c.open,onClose:c.onClose,arrow:"right-top",sx:{width:140},children:[(0,M.jsxs)(V.A,{lang:"ar",onClick:()=>{c.onClose()},children:[(0,M.jsx)($.A,{icon:"solar:printer-minimalistic-bold"}),a("print")]}),(0,M.jsxs)(V.A,{lang:"ar",onClick:()=>{c.onClose()},children:[(0,M.jsx)($.A,{icon:"solar:export-bold"}),a("export")]})]})]})}var H=t(26487),K=t(8555),Q=t(91264);function J(e){let{filters:n,onFilters:t,onResetFilters:l,results:o,...s}=e;const{t:i}=(0,A.WD)(),r=(0,Q.fT)(n.startDate,n.endDate),a=()=>{t("startDate",null),t("endDate",null)};return(0,M.jsxs)(d.A,{spacing:1.5,...s,children:[(0,M.jsxs)(h.A,{sx:{typography:"body2"},children:[(0,M.jsx)("strong",{children:o}),(0,M.jsx)(h.A,{component:"span",sx:{color:"text.secondary",ml:.25},children:i("results found")})]}),(0,M.jsxs)(d.A,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[n.startDate&&!n.endDate&&(0,M.jsx)(ee,{label:i("date:"),children:(0,M.jsx)(H.A,{size:"small",label:(0,g.ts)(n.startDate),onDelete:a})}),n.startDate&&n.endDate&&(0,M.jsx)(ee,{label:i("date:"),children:(0,M.jsx)(H.A,{size:"small",label:r,onDelete:a})}),(0,M.jsx)(m.A,{color:"error",onClick:l,startIcon:(0,M.jsx)($.A,{icon:"solar:trash-bin-trash-bold"}),children:i("clear")})]})]})}function ee(e){let{label:n,children:t,sx:l,...o}=e;return(0,M.jsxs)(d.A,{component:K.A,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...l},...o,children:[(0,M.jsx)(h.A,{component:"span",sx:{typography:"subtitle2"},children:n}),(0,M.jsx)(d.A,{spacing:1,direction:"row",flexWrap:"wrap",children:t})]})}const ne={startDate:null,endDate:null};function te(e){let{employee:n}=e;const{t:t}=(0,A.WD)(),l=[{id:"date",label:t("Day")},{id:"check_in_time",label:t("check in")},{id:"check_out_time",label:t("check out")},{id:"leave_time",label:t("leave time")},{id:"work_time",label:t("work time")},{id:"work_type",label:t("work type")},{id:"leave",label:t("leave")},{id:"note",label:t("note")},{id:""}].filter(Boolean),o=(0,O.K2)({defaultOrderBy:"code"}),s=(0,F.C)(),[c,h]=(0,i.useState)(ne),{attendence:x,length:p,hours:m,annual:g,sick:v,public:y,unpaid:f,other:b,refetch:w}=(0,j.b6Q)(null===n||void 0===n?void 0:n._id,{page:o.page,rowsPerPage:o.rowsPerPage,order:o.order,sortBy:o.orderBy,...c}),_=!(!c.startDate||!c.endDate)&&c.startDate.getTime()>c.endDate.getTime(),C=!!c.startDate&&!!c.endDate,D=!x.length&&C||!x.length,S=(0,i.useCallback)(((e,n)=>{o.onResetPage(),h((t=>({...t,[e]:n})))}),[o]),P=(0,i.useCallback)((()=>{h(ne)}),[]),V=(0,i.useCallback)((async e=>{await k.Ay.delete(k.vZ.attendence.one(e)),w()}),[w]);return(0,M.jsxs)(r.A,{maxWidth:"xl",children:[(0,M.jsxs)(d.A,{direction:{md:"row"},justifyContent:"space-around",mb:2,children:[(0,M.jsxs)(d.A,{alignItems:"center",direction:"row",gap:1,children:[(0,M.jsxs)(u.A,{children:[t("working hours"),":"]}),(0,M.jsx)(u.A,{children:m>60?`${Math.floor(m/60)} ${t("hr")} : ${(m%60).toString().padStart(2,"0")} ${t("min")}`:`${m} ${t("min")}`})]}),(0,M.jsxs)(d.A,{alignItems:"center",direction:"row",gap:1,children:[(0,M.jsxs)(u.A,{children:[t("annual days off"),":"]}),(0,M.jsx)(u.A,{children:g})]}),(0,M.jsxs)(d.A,{alignItems:"center",direction:"row",gap:1,children:[(0,M.jsxs)(u.A,{children:[t("sick days off"),":"]}),(0,M.jsx)(u.A,{children:v})]}),(0,M.jsxs)(d.A,{alignItems:"center",direction:"row",gap:1,children:[(0,M.jsxs)(u.A,{children:[t("unpaid days off"),":"]}),(0,M.jsx)(u.A,{children:f})]}),(0,M.jsxs)(d.A,{alignItems:"center",direction:"row",gap:1,children:[(0,M.jsxs)(u.A,{children:[t("public days off"),":"]}),(0,M.jsx)(u.A,{children:y})]}),(0,M.jsxs)(d.A,{alignItems:"center",direction:"row",gap:1,children:[(0,M.jsxs)(u.A,{children:[t("other days off"),":"]}),(0,M.jsx)(u.A,{children:b})]})]}),(0,M.jsxs)(a.A,{children:[(0,M.jsx)(Y,{filters:c,onFilters:S,dateError:_}),C&&(0,M.jsx)(J,{filters:c,onFilters:S,onResetFilters:P,results:p,sx:{p:2.5,pt:0}}),(0,M.jsxs)(T.A,{sx:{position:"relative",overflow:"unset"},children:[(0,M.jsx)(O.Uv,{dense:o.dense,numSelected:o.selected.length,rowCount:x.length,action:(0,M.jsx)(R.A,{title:"Unbook all",children:(0,M.jsx)(I.A,{color:"error",onClick:s.onTrue,children:(0,M.jsx)($.A,{icon:"mdi:bell-cancel"})})}),color:"error"}),(0,M.jsx)(E.A,{children:(0,M.jsxs)(W.A,{size:o.dense?"small":"medium",sx:{minWidth:800},children:[(0,M.jsx)(O.er,{order:o.order,orderBy:o.orderBy,headLabel:l,rowCount:x.length,numSelected:o.selected.length,onSort:o.onSort}),(0,M.jsxs)(B.A,{children:[x.map(((e,n)=>(0,M.jsx)(Z,{row:e,refetch:w,onDeleteRow:V},n))),(0,M.jsx)(O.Sm,{notFound:D})]})]})})]}),(0,M.jsx)(O.We,{count:p,page:o.page,rowsPerPage:o.rowsPerPage,onPageChange:o.onChangePage,onRowsPerPageChange:o.onChangeRowsPerPage,dense:o.dense,onChangeDense:o.onChangeDense})]})]})}function le(){var e,n,t,l,o;const{id:y}=(0,s.g)(),{data:f,refetch:b}=(0,j.tH$)(y),{t:w}=(0,A.WD)(),{currentLang:_}=(0,A.jc)(),k="ar"===_.value,[C,D]=(0,i.useState)(!1),[W,R]=(0,i.useState)("attendance"),B=(0,i.useCallback)(((e,n)=>{R(n)}),[]),I=[{value:"attendance",label:w("attendance")},{value:"edit",label:w("edit")}].filter(Boolean),T=[{title:"email",value:null===f||void 0===f||null===(e=f.employee)||void 0===e?void 0:e.email},{title:"phone",value:null===f||void 0===f||null===(n=f.employee)||void 0===n?void 0:n.phone},{title:"salary",value:(0,v.KZ)(null===f||void 0===f?void 0:f.salary)},{title:"start time",value:(0,g.qi)(null===f||void 0===f?void 0:f.start_time)},{title:"end time",value:(0,g.qi)(null===f||void 0===f?void 0:f.end_time)},{title:"work hours / month",value:null===f||void 0===f?void 0:f.monthly_hours}];return(0,M.jsxs)(r.A,{maxWidth:"xl",children:[(0,M.jsx)(a.A,{sx:{px:4,py:2,mb:4},children:(0,M.jsxs)(d.A,{direction:{md:"row"},alignItems:"center",gap:5,children:[(0,M.jsx)(c.A,{src:null===f||void 0===f||null===(t=f.employee)||void 0===t?void 0:t.picture,sx:{width:{md:100},height:{md:100}}}),(0,M.jsxs)(d.A,{gap:1,children:[(0,M.jsx)(u.A,{variant:"h6",children:k?null===f||void 0===f||null===(l=f.employee)||void 0===l?void 0:l.name_arabic:null===f||void 0===f||null===(o=f.employee)||void 0===o?void 0:o.name_english}),(0,M.jsx)(h.A,{rowGap:.5,columnGap:8,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)",sm:"repeat(2, 1fr)"},children:null===T||void 0===T?void 0:T.map(((e,n)=>(0,M.jsxs)(u.A,{variant:"body2",children:[(0,M.jsx)("span",{style:{fontWeight:650,color:"#637381"},children:w(null===e||void 0===e?void 0:e.title)}),":"," ",(0,M.jsxs)("span",{dir:"phone"===e.title?"ltr":"",children:[w(e.value)," ",e.unit]})]},n)))})]})]})}),(0,M.jsxs)(d.A,{direction:"row",justifyContent:"space-between",children:[(0,M.jsx)(x.A,{value:W,onChange:B,sx:{mb:{xs:3,md:5}},children:I.map(((e,n)=>(0,M.jsx)(p.A,{label:e.label,value:e.value},n)))}),"attendance"===W&&(0,M.jsx)(h.A,{children:(0,M.jsx)(m.A,{onClick:()=>D(!0),variant:"contained",children:w("Add new")})})]}),"attendance"===W&&(0,M.jsx)(te,{employee:f}),"edit"===W&&(0,M.jsx)(S,{employee:f,refetch:b}),(0,M.jsx)(P.A,{employeeId:y,open:C,refetch:()=>{R("edit"),setTimeout((()=>{R("attendance")}),100)},onClose:()=>D(!1)})]})}function oe(){var e,n,t,s,i;const{user:r}=(0,o.Z)(),a=null===r||void 0===r||null===(e=r.employee)||void 0===e||null===(n=e.employee_engagements)||void 0===n||null===(t=n[null===r||void 0===r||null===(i=r.employee)||void 0===i?void 0:i.selected_engagement])||void 0===t||null===(s=t.unit_service)||void 0===s?void 0:s.name_english;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(l.mg,{children:[(0,M.jsxs)("title",{children:[a||"unit of service"," : Human resourse"]}),(0,M.jsx)("meta",{name:"description",content:"meta"})]}),(0,M.jsx)(le,{})]})}},75950:(e,n,t)=>{function l(e,n,t){return null===e[t]?1:null===n[t]||n[t]<e[t]?-1:n[t]>e[t]?1:0}function o(e,n){return"desc"===e?(e,t)=>l(e,t,n):(e,t)=>-l(e,t,n)}t.d(n,{er:()=>j,Sm:()=>h,We:()=>D,Uv:()=>f,hz:()=>o,K2:()=>i});var s=t(65043);function i(e){const[n,t]=(0,s.useState)(!(null===e||void 0===e||!e.defaultDense)),[l,o]=(0,s.useState)((null===e||void 0===e?void 0:e.defaultCurrentPage)||0),[i,r]=(0,s.useState)((null===e||void 0===e?void 0:e.defaultOrderBy)||"created_at"),[a,d]=(0,s.useState)((null===e||void 0===e?void 0:e.defaultRowsPerPage)||10),[c,u]=(0,s.useState)((null===e||void 0===e?void 0:e.defaultOrder)||"desc"),[h,x]=(0,s.useState)((null===e||void 0===e?void 0:e.defaultSelected)||[]),p=(0,s.useCallback)((e=>{""!==e&&(u(i===e&&"asc"===c?"desc":"asc"),r(e))}),[c,i]),m=(0,s.useCallback)((e=>{const n=h.includes(e)?h.filter((n=>n!==e)):[...h,e];x(n)}),[h]),g=(0,s.useCallback)((e=>{o(0),d(parseInt(e.target.value,10))}),[]),v=(0,s.useCallback)((e=>{t(e.target.checked)}),[]),j=(0,s.useCallback)(((e,n)=>{x(e?n:[])}),[]),A=(0,s.useCallback)(((e,n)=>{o(n)}),[]),y=(0,s.useCallback)((()=>{o(0)}),[]),f=(0,s.useCallback)((e=>{x([]),l&&e<2&&o(l-1)}),[l]),b=(0,s.useCallback)((e=>{let{totalRows:n,totalRowsInPage:t,totalRowsFiltered:s}=e;const i=h.length;if(x([]),l)if(i===t)o(l-1);else if(i===s)o(0);else if(i>t){const e=Math.ceil((n-i)/a)-1;o(e)}}),[l,a,h.length]);return{dense:n,order:c,page:l,orderBy:i,rowsPerPage:a,selected:h,onSelectRow:m,onSelectAllRows:j,onSort:p,onChangePage:A,onChangeDense:v,onResetPage:y,onChangeRowsPerPage:g,onUpdatePageDeleteRow:f,onUpdatePageDeleteRows:b,setPage:o,setDense:t,setOrder:u,setOrderBy:r,setSelected:x,setRowsPerPage:d}}var r=t(68738),a=t(39652),d=t(60778),c=t(44847),u=t(70579);function h(e){let{notFound:n,sx:t}=e;const{t:l}=(0,d.WD)();return(0,u.jsx)(r.A,{children:n?(0,u.jsx)(a.A,{colSpan:12,children:(0,u.jsx)(c.A,{filled:!0,title:l("No Data"),sx:{py:10,...t}})}):(0,u.jsx)(a.A,{colSpan:12,sx:{p:0}})})}var x=t(81e3),p=t(1273),m=t(84882),g=t(58093);const v={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function j(e){let{order:n,orderBy:t,rowCount:l=0,headLabel:o,numSelected:s=0,onSort:i,onSelectAllRows:c,sx:h}=e;const{t:j}=(0,d.WD)();return(0,u.jsx)(m.A,{sx:h,children:(0,u.jsxs)(r.A,{children:[c&&(0,u.jsx)(a.A,{padding:"checkbox",children:(0,u.jsx)(p.A,{indeterminate:!!s&&s<l,checked:!!l&&s===l,onChange:e=>c(e.target.checked)})}),o.map(((e,l)=>(0,u.jsx)(a.A,{align:e.align||"center",sortDirection:t===e.id&&n,sx:{width:e.width,minWidth:e.minWidth},children:i?(0,u.jsxs)(g.A,{hideSortIcon:!0,active:t===e.id,direction:t===e.id?n:"asc",onClick:()=>i(e.id),sx:{textTransform:"capitalize"},children:[j(e.label),t===e.id?(0,u.jsx)(x.A,{sx:{...v},children:"desc"===n?"sorted descending":"sorted ascending"}):null]}):j(e.label)},l)))]})})}var A=t(74600),y=t(94496);function f(e){let{dense:n,action:t,rowCount:l,numSelected:o,onSelectAllRows:s,sx:i,color:r,...a}=e;const{t:c}=(0,d.WD)();return o?(0,u.jsxs)(A.A,{direction:"row",alignItems:"center",sx:{pl:1,pr:2,top:0,left:0,width:1,zIndex:9,height:58,position:"absolute",bgcolor:`${r}.lighter`,...n&&{height:38},...i},...a,children:[(0,u.jsx)(p.A,{indeterminate:!!o&&o<l,checked:!!l&&o===l,onChange:e=>s(e.target.checked)}),(0,u.jsxs)(y.A,{variant:"subtitle2",sx:{ml:2,flexGrow:1,color:`${r}.main`,...n&&{ml:3}},children:[o," ",c("selected")]}),t&&t]}):null}var b=t(19042),w=t(72221),_=t(94814),k=t(79266),C=t(99784);function D(e){let{dense:n,count:t,page:l,onChangeDense:o,rowsPerPage:s,setPage:i,rowsPerPageOptions:r=[5,10,25,50],sx:a,...c}=e;const{t:h}=(0,d.WD)();return(0,u.jsxs)(x.A,{sx:{position:"relative",...a},children:[(0,u.jsx)(k.A,{showFirstButton:!0,showLastButton:!0,rowsPerPageOptions:r,component:"div",count:t,page:l,rowsPerPage:s,...c,sx:{borderTopColor:"transparent"}}),o&&(0,u.jsx)(C.A,{label:h("dense"),control:(0,u.jsx)(b.A,{checked:n,onChange:o}),sx:{pl:2,py:1.5,top:0,position:{sm:"absolute"}}}),i&&(0,u.jsx)(C.A,{label:h("page"),control:(0,u.jsx)(w.A,{value:l,onChange:e=>i(e.target.value),variant:"filled",sx:{height:0,width:68,mr:1,backgroundColor:"white",".MuiSelect-select":{paddingTop:1,paddingBottom:1,lineHeight:"40px"}},children:Array.from({length:Math.ceil(t/s)},((e,n)=>(0,u.jsx)(_.A,{value:n,children:n+1},n)))}),sx:{ml:18,my:2,top:5,position:{sm:"absolute"}}})]})}},79650:(e,n,t)=>{t.d(n,{A:()=>g});var l=t(58168),o=t(98587),s=t(65043),i=t(58387),r=t(98610),a=t(98206),d=t(34535),c=t(92532),u=t(72372);function h(e){return(0,u.Ay)("MuiTableContainer",e)}(0,c.A)("MuiTableContainer",["root"]);var x=t(70579);const p=["className","component"],m=(0,d.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,n)=>n.root})({width:"100%",overflowX:"auto"}),g=s.forwardRef((function(e,n){const t=(0,a.b)({props:e,name:"MuiTableContainer"}),{className:s,component:d="div"}=t,c=(0,o.A)(t,p),u=(0,l.A)({},t,{component:d}),g=(e=>{const{classes:n}=e;return(0,r.A)({root:["root"]},h,n)})(u);return(0,x.jsx)(m,(0,l.A)({ref:n,as:d,className:(0,i.A)(g.root,s),ownerState:u},c))}))},91264:(e,n,t)=>{t.d(n,{fT:()=>r});var l=t(41210),o=t(407),s=t(2431),i=t(57442);function r(e,n){const t=(new Date).getFullYear(),r=e?(0,l.A)(e):null,a=n?(0,l.A)(n):null,d=t===r&&t===a,c=!(!e||!n)&&(0,o.A)(new Date(e),new Date(n)),u=!(!e||!n)&&(0,s.A)(new Date(e),new Date(n));return d?u?c?(0,i.ts)(n,"dd MMM yy"):`${(0,i.ts)(e,"dd")} - ${(0,i.ts)(n,"dd MMM yy")}`:`${(0,i.ts)(e,"dd MMM")} - ${(0,i.ts)(n,"dd MMM yy")}`:`${(0,i.ts)(e,"dd MMM yy")} - ${(0,i.ts)(n,"dd MMM yy")}`}t(70579);t(65043)}}]);
//# sourceMappingURL=45427.79729fa7.chunk.js.map