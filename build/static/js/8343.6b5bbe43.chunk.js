"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[8343],{38563:(e,t,n)=>{n.d(t,{Z:()=>p});var o=n(68870),i=n(50533),s=n(36314),a=n(4567),r=n(93517),l=n(4419),c=n(80184);function d(e){let{link:t,activeLast:n,disabled:s}=e;const a={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...s&&!n&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},r=(0,c.jsxs)(c.Fragment,{children:[t.icon&&(0,c.jsx)(o.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:t.icon}),t.name]});return t.href?(0,c.jsx)(i.Z,{component:l.r,href:t.href,sx:a,children:r}):(0,c.jsxs)(o.Z,{sx:a,children:[" ",r," "]})}function p(e){let{links:t,action:n,heading:l,moreLink:p,activeLast:h,sx:m,...x}=e;const v=t&&t[t.length-1].name;return(0,c.jsxs)(o.Z,{sx:{...m},children:[(0,c.jsxs)(s.Z,{direction:"row",alignItems:"center",children:[(0,c.jsxs)(o.Z,{sx:{flexGrow:1,display:"flex",gap:3,alignItems:"center"},children:[l&&(0,c.jsx)(a.Z,{variant:"h4",gutterBottom:!0,children:l}),t&&!!t.length&&(0,c.jsx)(r.Z,{separator:(0,c.jsx)(u,{}),...x,children:null===t||void 0===t?void 0:t.map((e=>(0,c.jsx)(d,{link:e,activeLast:h,disabled:e.name===v},e.name||"")))})]}),n&&(0,c.jsxs)(o.Z,{sx:{flexShrink:0},children:[" ",n," "]})]}),!!p&&(0,c.jsx)(o.Z,{sx:{mt:2},children:p.map((e=>(0,c.jsx)(i.Z,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}function u(){return(0,c.jsx)(o.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},73379:(e,t,n)=>{n.d(t,{Z:()=>o.Z});var o=n(38563)},2540:(e,t,n)=>{n.d(t,{l2:()=>r});var o=n(82599),i=n(54690),s=n(85375),a=n(30250);function r(e,t){const n=(new Date).getFullYear(),r=e?(0,o.Z)(e):null,l=t?(0,o.Z)(t):null,c=n===r&&n===l,d=!(!e||!t)&&(0,i.Z)(new Date(e),new Date(t)),p=!(!e||!t)&&(0,s.Z)(new Date(e),new Date(t));return c?p?d?(0,a.Mu)(t,"dd MMM yy"):"".concat((0,a.Mu)(e,"dd")," - ").concat((0,a.Mu)(t,"dd MMM yy")):"".concat((0,a.Mu)(e,"dd MMM")," - ").concat((0,a.Mu)(t,"dd MMM yy")):"".concat((0,a.Mu)(e,"dd MMM yy")," - ").concat((0,a.Mu)(t,"dd MMM yy"))}n(80184);n(72791)},27356:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(68870),i=n(36314),s=n(12065),a=n(4567),r=n(80184);function l(e){let{title:t,imgUrl:n,action:l,filled:c,description:d,sx:p,...u}=e;return(0,r.jsxs)(i.Z,{flexGrow:1,alignItems:"center",justifyContent:"center",sx:{px:3,height:1,...c&&{borderRadius:2,bgcolor:e=>(0,s.Fq)(e.palette.grey[500],.04),border:e=>"dashed 1px ".concat((0,s.Fq)(e.palette.grey[500],.08))},...p},...u,children:[(0,r.jsx)(o.Z,{component:"img",alt:"empty content",src:n||"/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),t&&(0,r.jsx)(a.Z,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:t}),d&&(0,r.jsx)(a.Z,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:d}),l&&l]})}},31092:(e,t,n)=>{n.d(t,{Z:()=>o.Z});var o=n(27356)},78343:(e,t,n)=>{n.r(t),n.d(t,{default:()=>me});var o=n(6907),i=n(45812),s=n.n(i),a=n(18111),r=n.n(a),l=n(72791),c=n(36314),d=n(89164),p=n(38072),u=n(76932),h=n(4419),m=n(22459),x=n(40268),v=n(31092),j=n(25279),y=n(73379),Z=n(79572),f=n(30250),g=n(68870),_=n(44369),b=n(86414),w=n(6385),C=n(89731),k=n(19208),S=n(16386),O=n(50533),M=n(57621),D=n(13838),T=n(93044),z=n(94721),I=n(82626),F=n(4567),L=n(49900),R=(n(17070),n(24845)),q=n(80184);function P(e){var t,n;let{appointment:o,onBook:i,onView:s,onEdit:a,onDelete:r}=e;const d=(0,R.S)(),[u,m]=(0,l.useState)(),{_id:v,code:j,unit_service:y,department:Z,work_group:f,work_shift:_,appointment_type:b,patient:w,payment_method:C,start_time:k,end_time:P,name_english:E,name_arabic:B,description:H,description_arabic:W,activities:N,result:U,drug_prescription:A,price_in_JOD:G,status:V}=o;return(0,l.useEffect)((()=>{if(null!==y&&void 0!==y&&y.insurance){const e=y.insurance.map((e=>e.name_english));m(e)}}),[y]),(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(M.Z,{children:[(0,q.jsxs)(c.Z,{sx:{p:3,pb:2},children:[(0,q.jsx)(T.Z,{alt:null===y||void 0===y?void 0:y.name_english,src:null===y||void 0===y?void 0:y.company_log,variant:"rounded",sx:{width:48,height:48,mb:2}}),(0,q.jsx)(L.Z,{primary:(0,q.jsx)(O.Z,{component:h.r,href:p.H.dashboard.job.details(v),color:"inherit",children:u}),secondary:(0,q.jsx)(O.Z,{component:h.r,href:p.H.dashboard.job.details(v),color:"inherit",children:null===y||void 0===y?void 0:y.name_english}),primaryTypographyProps:{typography:"subtitle1"},secondaryTypographyProps:{mt:1,component:"span",typography:"caption",color:"text.disabled"}}),(0,q.jsx)(c.Z,{spacing:.5,direction:"row",alignItems:"center",sx:{typography:"caption"},children:(0,q.jsx)(L.Z,{primary:new Date(k).toLocaleTimeString("en-US",{timeZone:null===y||void 0===y||null===(t=y.country)||void 0===t?void 0:t.time_zone}),secondary:new Date(k).toLocaleDateString("en-US",{timeZone:null===y||void 0===y||null===(n=y.country)||void 0===n?void 0:n.time_zone}),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,q.jsxs)(c.Z,{spacing:.5,direction:"row",alignItems:"center",sx:{color:"primary.main",typography:"caption"},children:[(0,q.jsx)(x.Z,{width:16,icon:"ic:baseline-tag"}),j]})]}),(0,q.jsx)(z.Z,{sx:{borderStyle:"dashed"}}),(0,q.jsxs)(g.Z,{rowGap:1.5,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",sx:{p:3,justifyContent:"space-between"},children:[[{label:(0,S.Z)(new Date(k),"p"),icon:(0,q.jsx)(x.Z,{width:16,icon:"icon-park-solid:time",sx:{flexShrink:0}})},{label:u,icon:(0,q.jsx)(x.Z,{width:16,icon:"medical-icon:health-services",sx:{flexShrink:0}})},{label:null===b||void 0===b?void 0:b.name_english,icon:(0,q.jsx)(x.Z,{width:16,icon:"fa-solid:file-medical-alt",sx:{flexShrink:0}})},{label:null===C||void 0===C?void 0:C.name_english,icon:(0,q.jsx)(x.Z,{width:16,icon:"streamline:payment-10-solid",sx:{flexShrink:0}})}].map((e=>(0,q.jsxs)(c.Z,{spacing:.5,flexShrink:0,direction:"row",alignItems:"center",sx:{color:"text.disabled",minWidth:0},children:[e.icon,(0,q.jsx)(F.Z,{variant:"caption",noWrap:!0,children:e.label})]},e.label))),(0,q.jsx)(D.Z,{onClick:i,sx:{mt:3,width:100},variant:"outlined",color:"success",children:"Book"})]})]}),(0,q.jsxs)(R.Z,{open:d.open,onClose:d.onClose,arrow:"right-top",sx:{width:140},children:[(0,q.jsxs)(I.Z,{onClick:()=>{d.onClose(),s()},children:[(0,q.jsx)(x.Z,{icon:"solar:eye-bold"}),"View"]}),(0,q.jsxs)(I.Z,{onClick:()=>{d.onClose(),a()},children:[(0,q.jsx)(x.Z,{icon:"solar:pen-bold"}),"Edit"]}),(0,q.jsxs)(I.Z,{onClick:()=>{d.onClose(),r()},sx:{color:"error.main"},children:[(0,q.jsx)(x.Z,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})]})}function E(e){let{patientData:t,appointments:n,refetch:o}=e;const i=(0,k.tv)(),s=(0,l.useCallback)((e=>{i.push(p.H.dashboard.job.details(e))}),[i]),a=(0,l.useCallback)((async e=>{await(0,w.Z)({method:"PATCH",path:"".concat(C.Hv.tables.appointment(e),"/book"),data:{patient:t._id}}),o()}),[t._id,o]),r=(0,l.useCallback)((e=>{i.push(p.H.dashboard.job.edit(e))}),[i]),c=(0,l.useCallback)((e=>{console.info("DELETE",e)}),[]);return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(g.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:n.map((e=>(0,q.jsx)(P,{appointment:e,onBook:()=>a(e._id),onView:()=>s(e._id),onEdit:()=>r(e._id),onDelete:()=>c(e._id)},e.id)))}),n.length>8&&(0,q.jsx)(_.Z,{count:8,sx:{mt:8,["& .".concat(b.Z.ul)]:{justifyContent:"center"}}})]})}function B(e){let{sort:t,onSort:n,sortOptions:o}=e;const i=(0,R.S)();return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(D.Z,{disableRipple:!0,color:"inherit",onClick:i.onOpen,endIcon:(0,q.jsx)(x.Z,{icon:i.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold"},children:["Sort By:",(0,q.jsx)(g.Z,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold",textTransform:"capitalize"},children:t})]}),(0,q.jsx)(R.Z,{open:i.open,onClose:i.onClose,sx:{width:140},children:o.map((e=>(0,q.jsx)(I.Z,{selected:e.value===t,onClick:()=>{i.onClose(),n(e.value)},children:e.label},e.value)))})]})}var H=n(34004),W=n.n(H),N=n(79085),U=n.n(N),A=n(48550),G=n(89744),V=n(63466),J=n(72043);function K(e){let{query:t,results:n,onSearch:o,hrefItem:i}=e;(0,k.tv)();const s=e=>{if(t&&"Enter"===e.key){n.filter((e=>e.name_english===t))[0]}};return(0,q.jsx)(G.Z,{sx:{width:{xs:1,sm:260}},autoHighlight:!0,popupIcon:null,options:n.map((e=>e)),onInputChange:(e,t)=>o(t),getOptionLabel:e=>e._id,noOptionsText:(0,q.jsx)(J.Z,{query:t,sx:{bgcolor:"unset"}}),isOptionEqualToValue:(e,t)=>e._id===t._id,renderInput:e=>(0,q.jsx)(A.Z,{...e,placeholder:"Search...",onKeyUp:s,InputProps:{...e.InputProps,startAdornment:(0,q.jsx)(V.Z,{position:"start",children:(0,q.jsx)(x.Z,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})})}}),renderOption:(e,t,n)=>{let{inputValue:o}=n;const i=U()(t._id,o);W()(t._id,i);return(0,l.createElement)(g.Z,{component:"li",...e,key:t._id})}})}var Y=n(49792),$=n(27029),Q=n(46128),X=n(20068),ee=n(13400),te=n(25801),ne=n(41985),oe=(n(29028),n(10261));function ie(e){let{open:t,onOpen:n,onClose:o,filters:i,onFilters:s,canReset:a,onResetFilters:r,insuranseCosData:d,paymentMethodsOptions:p,departmentsData:u,countriesOptions:h,citiesOptions:m,unitServicesOptions:v,appointmentTypeOptions:j,dateError:y}=e;const[Z,f]=(0,l.useState)(""),[g,_]=(0,l.useState)(""),[b,w]=(0,l.useState)([]),C=(0,l.useCallback)((e=>{s("appointtypes",e)}),[s]),k=(0,l.useCallback)((e=>{s("payment_methods",e)}),[s]),S=(0,l.useCallback)((e=>{f(e),s("countries",e)}),[s]),O=(0,l.useCallback)((e=>{s("insurance",e.target.value)}),[s]),M=(0,l.useCallback)((e=>{s("unitServices",e)}),[s]),T=(0,l.useCallback)((e=>{s("start_date",e)}),[s]),I=(0,l.useCallback)((e=>{s("end_date",e)}),[s]),L=(0,q.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2,pr:1,pl:2.5},children:[(0,q.jsx)(F.Z,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),(0,q.jsx)(X.Z,{title:"Reset",children:(0,q.jsx)(ee.Z,{onClick:r,children:(0,q.jsx)($.Z,{color:"error",variant:"dot",invisible:!a,children:(0,q.jsx)(x.Z,{icon:"solar:restart-bold"})})})}),(0,q.jsx)(ee.Z,{onClick:o,children:(0,q.jsx)(x.Z,{icon:"mingcute:close-line"})})]}),R=(0,q.jsxs)(c.Z,{children:[(0,q.jsx)(F.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Time"}),(0,q.jsxs)(c.Z,{spacing:2.5,children:[(0,q.jsx)(ne.M,{label:"From",value:i.start_date,onChange:T}),(0,q.jsx)(ne.M,{label:"To",value:i.end_date,onChange:I,slotProps:{textField:{error:y,helperText:y&&"To time must be later than start date"}}})]})]}),P=(0,q.jsxs)(c.Z,{children:[(0,q.jsx)(F.Z,{variant:"subtitle2",sx:{mb:1},children:"Payment Methods"}),p.map((e=>(0,q.jsx)(te.Z,{control:(0,q.jsx)(Y.Z,{checked:e._id===i.payment_methods,onClick:()=>k(e._id)}),label:e.name_english,sx:{..."all"===e&&{textTransform:"capitalize"}}},e._id)))]}),E=(0,q.jsxs)(c.Z,{children:[(0,q.jsx)(F.Z,{variant:"subtitle2",sx:{mb:1},children:"Appointment Types"}),j.map((e=>(0,q.jsx)(te.Z,{control:(0,q.jsx)(Y.Z,{checked:e._id===i.appointtypes,onClick:()=>C(e._id)}),label:e.name_english,sx:{..."all"===e&&{textTransform:"capitalize"}}},e._id)))]}),B=(0,q.jsxs)(c.Z,{children:[(0,q.jsx)(F.Z,{variant:"subtitle2",sx:{mb:1},children:"Countries"}),(0,q.jsx)("select",{onChange:S,name:"country",label:"Country",children:null===h||void 0===h?void 0:h.map((e=>(0,q.jsx)("option",{value:e._id,children:null===e||void 0===e?void 0:e.name_english},e._id)))})]}),H=(0,q.jsxs)(c.Z,{children:[(0,q.jsx)(F.Z,{variant:"subtitle2",sx:{mb:1},children:"insurance"}),(0,q.jsx)("select",{onChange:O,name:"insurance",label:"insurance",children:null===d||void 0===d?void 0:d.map((e=>(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)("option",{}),(0,q.jsx)("option",{value:e._id,children:null===e||void 0===e?void 0:e.name_english},e._id)]})))})]}),W=(0,q.jsxs)(c.Z,{children:[(0,q.jsx)(F.Z,{variant:"subtitle2",sx:{mb:1},children:"Unit services"}),v.map((e=>(0,q.jsx)(te.Z,{control:(0,q.jsx)(Y.Z,{checked:e._id===i.unitServices,onClick:()=>M(e._id)}),label:e.name_english,sx:{..."all"===e&&{textTransform:"capitalize"}}},e._id)))]});return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(D.Z,{disableRipple:!0,color:"inherit",endIcon:(0,q.jsx)($.Z,{color:"error",variant:"dot",invisible:!a,children:(0,q.jsx)(x.Z,{icon:"ic:round-filter-list"})}),onClick:n,children:"Filters"}),(0,q.jsxs)(Q.ZP,{anchor:"right",open:t,onClose:o,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:280}},children:[L,(0,q.jsx)(z.Z,{}),(0,q.jsx)(oe.Z,{sx:{px:2.5,py:3},children:(0,q.jsxs)(c.Z,{spacing:3,children:[R,W,B,H,E,P]})})]})]})}var se=n(85771),ae=n(27938),re=n(2540);function le(e){let{filters:t,onFilters:n,canReset:o,onResetFilters:i,results:s,paymentMethodsOptions:a,countriesOptions:r,citiesOptions:l,unitServicesOptions:d,appointmentTypeOptions:p,...u}=e;const h=(0,re.l2)(t.start_date,t.end_date);return(0,q.jsxs)(c.Z,{spacing:1.5,...u,children:[(0,q.jsxs)(g.Z,{sx:{typography:"body2"},children:[(0,q.jsx)("strong",{children:s}),(0,q.jsx)(g.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,q.jsxs)(c.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[t.start_date&&t.end_date&&(0,q.jsx)(ce,{label:"Time:",children:(0,q.jsx)(se.Z,{size:"small",label:h,onDelete:()=>{n("start_date",null),n("end_date",null)}})}),"all"!==t.appointtypes&&(0,q.jsx)(ce,{label:"Appointment Types:",children:(0,q.jsx)(se.Z,{size:"small",label:p.filter((e=>e._id===t.appointtypes))[0].name_english,onDelete:()=>{n("appointtypes","all")}})}),"all"!==t.payment_methods&&(0,q.jsx)(ce,{label:"Payment Methods:",children:(0,q.jsx)(se.Z,{size:"small",label:a.filter((e=>e._id===t.payment_methods))[0].name_english,onDelete:()=>{n("payment_methods","all")}})}),"all"!==t.countries&&(0,q.jsx)(ce,{label:"Countries:",children:(0,q.jsx)(se.Z,{size:"small",label:r.filter((e=>e._id===t.countries))[0].name_english,onDelete:()=>{n("countries","all")}})}),"all"!==t.unitServices&&(0,q.jsx)(ce,{label:"Unit Services:",children:(0,q.jsx)(se.Z,{size:"small",label:d.filter((e=>e._id===t.unitServices))[0].name_english,onDelete:()=>{n("unitServices","all")}})}),o&&(0,q.jsx)(D.Z,{color:"error",onClick:i,startIcon:(0,q.jsx)(x.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}function ce(e){let{label:t,children:n,sx:o,...i}=e;return(0,q.jsxs)(c.Z,{component:ae.Z,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...o},...i,children:[(0,q.jsx)(g.Z,{component:"span",sx:{typography:"subtitle2"},children:t}),(0,q.jsx)(c.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:n})]})}const de={unitServices:"all",countries:"all",start_date:null,end_date:null,appointtypes:"all",payment_methods:"all"};function pe(e){let{patientData:t}=e;const n=(0,j.K$)(),{t:o}=(0,u.qM)(),i=(0,m.k)(),[s,a]=(0,l.useState)("latest"),[h,x]=(0,l.useState)({query:"",results:[]}),{appointmentsData:f,refetch:g}=(0,Z.zd)(),{countriesData:_}=(0,Z.Rp)(),{tableData:b}=(0,Z.Sf)(),{unitservicesData:w}=(0,Z.FH)(),{appointmenttypesData:C}=(0,Z.o5)(),{paymentMethodsData:k}=(0,Z.wf)(),[S,O]=(0,l.useState)(de),M=!(!S.Offer_start_date||!S.Offer_end_date)&&S.Offer_start_date.getTime()>S.Offer_end_date.getTime(),D=ue({inputData:f,filters:S,sortBy:s,dateError:M}),T=!r()(de,S),z=!D.length,I=(0,l.useCallback)(((e,t)=>{O((n=>({...n,[e]:t})))}),[]),F=(0,l.useCallback)((e=>{a(e)}),[]),L=(0,l.useCallback)((e=>{if(x((t=>({...t,query:e}))),e){const e=f.filter((e=>{var t,n,o,i;return e.name_english&&-1!==(null===(t=e.name_english)||void 0===t?void 0:t.toLowerCase().indexOf(h.query.toLowerCase()))||e.name_arabic&&-1!==(null===(n=e.name_arabic)||void 0===n?void 0:n.toLowerCase().indexOf(h.query.toLowerCase()))||e.unit_service&&-1!==(null===(o=e.unit_service.name_english)||void 0===o?void 0:o.toLowerCase().indexOf(h.query.toLowerCase()))||e.unit_service&&-1!==(null===(i=e.unit_service.name_arabic)||void 0===i?void 0:i.toLowerCase().indexOf(h.query.toLowerCase()))||e.work_group&&e.work_group.employees&&e.work_group.employees.some((e=>{var t;return-1!==(null===(t=e.first_name)||void 0===t?void 0:t.toLowerCase().indexOf(h.query.toLowerCase()))}))||e.work_group&&e.work_group.employees&&e.work_group.employees.some((e=>{var t;return-1!==(null===(t=e.last_name)||void 0===t?void 0:t.toLowerCase().indexOf(h.query.toLowerCase()))}))||e.work_group&&e.work_group.employees&&e.work_group.employees.some((e=>{var t;return-1!==(null===(t=e.name_arabic)||void 0===t?void 0:t.toLowerCase().indexOf(h.query.toLowerCase()))}))||(null===e||void 0===e?void 0:e._id)===h.query.toLowerCase()||JSON.stringify(e.code)===h.query.toLowerCase()}));x((t=>({...t,results:e})))}}),[h.query,f]),R=(0,l.useCallback)((()=>{O(de)}),[]),P=(0,q.jsxs)(c.Z,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[(0,q.jsx)(K,{query:h.query,results:h.results,onSearch:L,hrefItem:e=>p.H.dashboard.job.details(e)}),(0,q.jsxs)(c.Z,{direction:"row",spacing:1,flexShrink:0,children:[(0,q.jsx)(ie,{open:i.value,onOpen:i.onTrue,onClose:i.onFalse,filters:S,onFilters:I,canReset:T,onResetFilters:R,countriesOptions:_,citiesOptions:b,unitServicesOptions:w,appointmentTypeOptions:C,paymentMethodsOptions:k,dateError:M}),(0,q.jsx)(B,{sort:s,onSort:F,sortOptions:[{value:"latest",label:"Latest"},{value:"oldest",label:"Oldest"}]})]})]}),H=(0,q.jsx)(le,{countriesOptions:_,citiesOptions:b,unitServicesOptions:w,appointmentTypeOptions:C,paymentMethodsOptions:k,filters:S,onResetFilters:R,canReset:T,onFilters:I,results:D.length});return(0,q.jsxs)(d.Z,{maxWidth:!n.themeStretch&&"lg",children:[(0,q.jsx)(y.Z,{heading:"Book Appointment",links:[{name:o("dashboard"),href:p.H.superadmin.root},{name:o("patients"),href:p.H.superadmin.patients.root},{name:"History",href:p.H.superadmin.patients.history.root(t._id)},{name:o("appointments")}],sx:{mb:{xs:3,md:5}}}),(0,q.jsxs)(c.Z,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[P,T&&H]}),z&&(0,q.jsx)(v.Z,{filled:!0,title:"No Data",sx:{py:10}}),(0,q.jsx)(E,{patientData:t,refetch:g,appointments:D})]})}const ue=e=>{let{inputData:t,filters:n,sortBy:o,dateError:i}=e;const{appointtypes:a,payment_methods:r,date:l,start_date:c,end_date:d,unitServices:p,countries:u,cities:h}=n;return"latest"===o&&(t=s()(t,["start_time"],["desc"])),"oldest"===o&&(t=s()(t,["start_time"],["asc"])),"all"!==a&&(t=t.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.appointment_type)||void 0===t?void 0:t._id)===a}))),"all"!==r&&(t=t.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.payment_method)||void 0===t?void 0:t._id)===r}))),i||c&&d&&(t=t.filter((e=>(0,f.IO)(e.start_time)>=(0,f.IO)(c)&&(0,f.IO)(e.end_time)<=(0,f.IO)(d)))),"all"!==p&&(t=t.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.unit_service)||void 0===t?void 0:t._id)===p}))),"all"!==u&&(t=t.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.unit_service)||void 0===t?void 0:t.country)===u}))),t};var he=n(6965);function me(){const e=(0,k.UO)(),{id:t}=e,{data:n,loading:i}=(0,Z.Eu)(t),s=(null===n||void 0===n?void 0:n.first_name)&&(null===n||void 0===n?void 0:n.last_name)&&"".concat(null===n||void 0===n?void 0:n.first_name," ").concat(null===n||void 0===n?void 0:n.last_name)||(null===n||void 0===n?void 0:n.first_name)&&(null===n||void 0===n?void 0:n.first_name)||(null===n||void 0===n?void 0:n.last_name)&&(null===n||void 0===n?void 0:n.last_name)||"Patient";return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(o.ql,{children:(0,q.jsxs)("title",{children:[" ",s,": Book an appointment "]})}),i&&(0,q.jsx)(he.a,{}),!i&&(0,q.jsx)(pe,{patientData:n})]})}},6385:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(31243),i=n(88329),s=n(33805);async function a(e){let{setData:t,setError:n,method:a,path:r,data:l}=e;const c="".concat(s.E0).concat(r),d=i.Z.get("user_token"),p=await(0,o.Z)({method:a,url:c,headers:{authorization:"Bearer ".concat(d)},data:l});return p.status,t&&t(p.data),p}},49792:(e,t,n)=>{n.d(t,{Z:()=>T});var o=n(63366),i=n(87462),s=n(72791),a=n(59278),r=n(94419),l=n(12065),c=n(97278),d=n(31402),p=n(74223),u=n(80184);const h=(0,p.Z)((0,u.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),m=(0,p.Z)((0,u.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked");var x=n(66934);const v=(0,x.ZP)("span")({position:"relative",display:"flex"}),j=(0,x.ZP)(h)({transform:"scale(1)"}),y=(0,x.ZP)(m)((e=>{let{theme:t,ownerState:n}=e;return(0,i.Z)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));const Z=function(e){const{checked:t=!1,classes:n={},fontSize:o}=e,s=(0,i.Z)({},e,{checked:t});return(0,u.jsxs)(v,{className:n.root,ownerState:s,children:[(0,u.jsx)(j,{fontSize:o,className:n.background,ownerState:s}),(0,u.jsx)(y,{fontSize:o,className:n.dot,ownerState:s})]})};var f=n(14036);const g=n(78949).Z;const _=s.createContext(void 0);var b=n(75878),w=n(21217);function C(e){return(0,w.Z)("MuiRadio",e)}const k=(0,b.Z)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),S=["checked","checkedIcon","color","icon","name","onChange","size","className"],O=(0,x.ZP)(c.Z,{shouldForwardProp:e=>(0,x.FO)(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["color".concat((0,f.Z)(n.color))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,i.Z)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,l.Fq)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(k.checked)]:{color:(t.vars||t).palette[n.color].main}},{["&.".concat(k.disabled)]:{color:(t.vars||t).palette.action.disabled}})}));const M=(0,u.jsx)(Z,{checked:!0}),D=(0,u.jsx)(Z,{}),T=s.forwardRef((function(e,t){var n,l;const c=(0,d.Z)({props:e,name:"MuiRadio"}),{checked:p,checkedIcon:h=M,color:m="primary",icon:x=D,name:v,onChange:j,size:y="medium",className:Z}=c,b=(0,o.Z)(c,S),w=(0,i.Z)({},c,{color:m,size:y}),k=(e=>{const{classes:t,color:n,size:o}=e,s={root:["root","color".concat((0,f.Z)(n)),"medium"!==o&&"size".concat((0,f.Z)(o))]};return(0,i.Z)({},t,(0,r.Z)(s,C,t))})(w),T=s.useContext(_);let z=p;const I=g(j,T&&T.onChange);let F=v;var L,R;return T&&("undefined"===typeof z&&(L=T.value,z="object"===typeof(R=c.value)&&null!==R?L===R:String(L)===String(R)),"undefined"===typeof F&&(F=T.name)),(0,u.jsx)(O,(0,i.Z)({type:"radio",icon:s.cloneElement(x,{fontSize:null!=(n=D.props.fontSize)?n:y}),checkedIcon:s.cloneElement(h,{fontSize:null!=(l=M.props.fontSize)?l:y}),ownerState:w,classes:k,name:F,checked:z,onChange:I,ref:t,className:(0,a.Z)(k.root,Z)},b))}))}}]);
//# sourceMappingURL=8343.6b5bbe43.chunk.js.map