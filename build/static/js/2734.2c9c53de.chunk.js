"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[2734],{94791:(e,n,t)=>{t.d(n,{i5:()=>f,A0:()=>p,ZP:()=>j,vr:()=>i});var a=t(95717),r=t(72791),o=t(13967);function i(e){const n=(0,o.Z)(),t=(0,r.useRef)(null),[a,i]=(0,r.useState)((null===e||void 0===e?void 0:e.initialSlide)||0),[l,s]=(0,r.useState)(void 0),c="rtl"===n.direction,d={arrows:!1,dots:!(null===e||void 0===e||!e.customPaging),rtl:c,beforeChange:(e,n)=>i(n),...e,fade:!(null===e||void 0===e||!e.fade||c)},u=(0,r.useCallback)((()=>{t.current&&s(t.current)}),[]),m=(0,r.useCallback)((()=>{t.current&&t.current.slickPrev()}),[]),p=(0,r.useCallback)((()=>{t.current&&t.current.slickNext()}),[]),h=(0,r.useCallback)((e=>{t.current&&t.current.slickGoTo(e)}),[]);return{nav:l,carouselRef:t,currentIndex:a,carouselSettings:d,onPrev:m,onNext:p,onTogo:h,onSetNav:u,setNav:s,setCurrentIndex:i}}var l=t(16029),s=t(53767),c=t(66934),d=t(80184);const u=(0,c.ZP)(l.Z,{shouldForwardProp:e=>"rounded"!==e})((e=>{let{rounded:n,theme:t}=e;return{zIndex:9,margin:0,padding:0,display:"flex",alignItems:"center",justifyContent:"center",color:t.palette.primary.main,"& li":{width:18,height:18,opacity:.32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&.slick-active":{opacity:1,...n&&{"& span":{width:16,borderRadius:6}}}}}})),m=(0,c.ZP)("span")((e=>{let{theme:n}=e;return{width:8,height:8,borderRadius:"50%",transition:n.transitions.create(["width"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.short})}}));function p(e){const n=(null===e||void 0===e?void 0:e.rounded)||!1,t=null===e||void 0===e?void 0:e.sx;return{appendDots:a=>(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(u,{component:"ul",rounded:n,sx:{...t},...e,children:a})}),customPaging:()=>(0,d.jsx)(s.Z,{component:"div",alignItems:"center",justifyContent:"center",sx:{width:1,height:1},children:(0,d.jsx)(m,{sx:{bgcolor:"currentColor"}})})}}var h=t(13400),x=t(12065),g=t(40268);function b(e){let{icon:n="eva:arrow-ios-forward-fill",isRTL:t}=e;return(0,d.jsx)(g.Z,{icon:n,sx:{transform:" scaleX(-1)",...t&&{transform:" scaleX(1)"}}})}function v(e){let{icon:n="eva:arrow-ios-forward-fill",isRTL:t}=e;return(0,d.jsx)(g.Z,{icon:n,sx:{...t&&{transform:" scaleX(-1)"}}})}const Z=(0,c.ZP)(h.Z,{shouldForwardProp:e=>"filled"!==e&&"hasChild"!==e&&"shape"!==e})((e=>{let{filled:n,shape:t,hasChild:a,theme:r}=e;return{color:"inherit",transition:r.transitions.create("all",{duration:r.transitions.duration.shorter}),..."rounded"===t&&{borderRadius:1.5*r.shape.borderRadius},...!n&&{opacity:.48,"&:hover":{opacity:1}},...n&&{color:(0,x.Fq)(r.palette.common.white,.8),backgroundColor:(0,x.Fq)(r.palette.grey[900],.48),"&:hover":{color:r.palette.common.white,backgroundColor:r.palette.grey[900]}},...a&&{zIndex:9,top:"50%",position:"absolute",marginTop:r.spacing(-2.5)}}}));function f(e){let{shape:n="circular",filled:t=!1,icon:a,onNext:r,onPrev:i,children:l,leftButtonProps:c,rightButtonProps:u,sx:m,...p}=e;const h="rtl"===(0,o.Z)().direction;return!!l?(0,d.jsxs)(s.Z,{sx:m,...p,children:[r&&(0,d.jsx)(Z,{filled:t,shape:n,hasChild:!!l,onClick:i,...c,sx:{left:16,...null===c||void 0===c?void 0:c.sx},children:(0,d.jsx)(b,{icon:a,isRTL:h})}),l,i&&(0,d.jsx)(Z,{filled:t,shape:n,hasChild:!!l,onClick:r,...u,sx:{right:16,...null===u||void 0===u?void 0:u.sx},children:(0,d.jsx)(v,{icon:a,isRTL:h})})]}):(0,d.jsxs)(s.Z,{direction:"row",alignItems:"center",display:"inline-flex",sx:m,...p,children:[(0,d.jsx)(Z,{filled:t,shape:n,onClick:i,...c,children:(0,d.jsx)(b,{icon:a,isRTL:h})}),(0,d.jsx)(Z,{filled:t,shape:n,onClick:r,...u,children:(0,d.jsx)(v,{icon:a,isRTL:h})})]})}const j=a.Z},38563:(e,n,t)=>{t.d(n,{Z:()=>u});var a=t(16029),r=t(50533),o=t(53767),i=t(4567),l=t(93517),s=t(4419),c=t(80184);function d(e){let{link:n,activeLast:t,disabled:o}=e;const i={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...o&&!t&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},l=(0,c.jsxs)(c.Fragment,{children:[n.icon&&(0,c.jsx)(a.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:n.icon}),n.name]});return n.href?(0,c.jsx)(r.Z,{component:s.r,href:n.href,sx:i,children:l}):(0,c.jsxs)(a.Z,{sx:i,children:[" ",l," "]})}function u(e){let{links:n,action:t,heading:s,moreLink:u,activeLast:p,sx:h,...x}=e;const g=n&&n[n.length-1].name;return(0,c.jsxs)(a.Z,{sx:{...h},children:[(0,c.jsxs)(o.Z,{direction:"row",alignItems:"center",children:[(0,c.jsxs)(a.Z,{sx:{flexGrow:1,display:"flex",gap:{md:3},alignItems:{md:"center"},flexDirection:{xs:"column",md:"row"}},children:[s&&(0,c.jsx)(i.Z,{textTransform:"capitalize",variant:"h4",gutterBottom:!0,children:s}),n&&!!n.length&&(0,c.jsx)(l.Z,{separator:(0,c.jsx)(m,{}),...x,children:null===n||void 0===n?void 0:n.map(((e,n)=>(0,c.jsx)(d,{link:e,activeLast:p,disabled:e.name===g},n)))})]}),t&&(0,c.jsxs)(a.Z,{sx:{flexShrink:0,textTransform:"capitalize"},children:[" ",t," "]})]}),!!u&&(0,c.jsx)(a.Z,{sx:{mt:2},children:u.map(((e,n)=>(0,c.jsx)(r.Z,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},n)))})]})}function m(){return(0,c.jsx)(a.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},73379:(e,n,t)=>{t.d(n,{Z:()=>a.Z});var a=t(38563)},27356:(e,n,t)=>{t.d(n,{Z:()=>s});var a=t(16029),r=t(53767),o=t(12065),i=t(4567),l=t(80184);function s(e){let{title:n,imgUrl:t,action:s,filled:c,description:d,sx:u,...m}=e;return(0,l.jsxs)(r.Z,{flexGrow:1,alignItems:"center",justifyContent:"center",sx:{px:3,height:1,...c&&{borderRadius:2,bgcolor:e=>(0,o.Fq)(e.palette.grey[500],.04),border:e=>"dashed 1px ".concat((0,o.Fq)(e.palette.grey[500],.08))},...u},...m,children:[(0,l.jsx)(a.Z,{component:"img",alt:"empty content",src:t||"/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),n&&(0,l.jsx)(i.Z,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:n}),d&&(0,l.jsx)(i.Z,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:d}),s&&s]})}},31092:(e,n,t)=>{t.d(n,{Z:()=>a.Z});var a=t(27356)},38062:(e,n,t)=>{function a(e,n,t){return e?Math.max(0,(1+e)*n-t):0}function r(e,n,t){return null===e[t]?1:null===n[t]||n[t]<e[t]?-1:n[t]>e[t]?1:0}function o(e,n){return"desc"===e?(e,t)=>r(e,t,n):(e,t)=>-r(e,t,n)}t.d(n,{$W:()=>h,K:()=>f,et:()=>p,S_:()=>k,Z4:()=>_,fQ:()=>a,sQ:()=>o,x6:()=>l});var i=t(72791);function l(e){const[n,t]=(0,i.useState)(!(null===e||void 0===e||!e.defaultDense)),[a,r]=(0,i.useState)((null===e||void 0===e?void 0:e.defaultCurrentPage)||0),[o,l]=(0,i.useState)((null===e||void 0===e?void 0:e.defaultOrderBy)||"code"),[s,c]=(0,i.useState)((null===e||void 0===e?void 0:e.defaultRowsPerPage)||25),[d,u]=(0,i.useState)((null===e||void 0===e?void 0:e.defaultOrder)||"asc"),[m,p]=(0,i.useState)((null===e||void 0===e?void 0:e.defaultSelected)||[]),h=(0,i.useCallback)((e=>{""!==e&&(u(o===e&&"asc"===d?"desc":"asc"),l(e))}),[d,o]),x=(0,i.useCallback)((e=>{const n=m.includes(e)?m.filter((n=>n!==e)):[...m,e];p(n)}),[m]),g=(0,i.useCallback)((e=>{r(0),c(parseInt(e.target.value,10))}),[]),b=(0,i.useCallback)((e=>{t(e.target.checked)}),[]),v=(0,i.useCallback)(((e,n)=>{p(e?n:[])}),[]),Z=(0,i.useCallback)(((e,n)=>{r(n)}),[]),f=(0,i.useCallback)((()=>{r(0)}),[]),j=(0,i.useCallback)((e=>{p([]),a&&e<2&&r(a-1)}),[a]),y=(0,i.useCallback)((e=>{let{totalRows:n,totalRowsInPage:t,totalRowsFiltered:o}=e;const i=m.length;if(p([]),a)if(i===t)r(a-1);else if(i===o)r(0);else if(i>t){const e=Math.ceil((n-i)/s)-1;r(e)}}),[a,s,m.length]);return{dense:n,order:d,page:a,orderBy:o,rowsPerPage:s,selected:m,onSelectRow:x,onSelectAllRows:v,onSort:h,onChangePage:Z,onChangeDense:b,onResetPage:f,onChangeRowsPerPage:g,onUpdatePageDeleteRow:j,onUpdatePageDeleteRows:y,setPage:r,setDense:t,setOrder:u,setOrderBy:l,setSelected:p,setRowsPerPage:c}}var s=t(9195),c=t(68745),d=t(78644),u=t(31092),m=t(80184);function p(e){let{notFound:n,sx:t}=e;const{t:a}=(0,d.qM)();return(0,m.jsx)(s.Z,{children:n?(0,m.jsx)(c.Z,{colSpan:12,children:(0,m.jsx)(u.Z,{filled:!0,title:a("No Data"),sx:{py:10,...t}})}):(0,m.jsx)(c.Z,{colSpan:12,sx:{p:0}})})}function h(e){let{emptyRows:n,height:t}=e;return n?(0,m.jsx)(s.Z,{sx:{...t&&{height:t*n}},children:(0,m.jsx)(c.Z,{colSpan:9})}):null}var x=t(16029),g=t(13034),b=t(56890),v=t(80720);const Z={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function f(e){let{order:n,orderBy:t,rowCount:a=0,headLabel:r,numSelected:o=0,onSort:i,onSelectAllRows:l,sx:d}=e;return(0,m.jsx)(b.Z,{sx:d,children:(0,m.jsxs)(s.Z,{children:[l&&(0,m.jsx)(c.Z,{padding:"checkbox",children:(0,m.jsx)(g.Z,{indeterminate:!!o&&o<a,checked:!!a&&o===a,onChange:e=>l(e.target.checked)})}),r.map(((e,a)=>(0,m.jsx)(c.Z,{align:e.align||"center",sortDirection:t===e.id&&n,sx:{width:e.width,minWidth:e.minWidth},children:i?(0,m.jsxs)(v.Z,{hideSortIcon:!0,active:t===e.id,direction:t===e.id?n:"asc",onClick:()=>i(e.id),sx:{textTransform:"capitalize"},children:[e.label,t===e.id?(0,m.jsx)(x.Z,{sx:{...Z},children:"desc"===n?"sorted descending":"sorted ascending"}):null]}):e.label},a)))]})})}var j=t(53767),y=t(4567);function _(e){let{dense:n,action:t,rowCount:a,numSelected:r,onSelectAllRows:o,sx:i,color:l,...s}=e;const{t:c}=(0,d.qM)();return r?(0,m.jsxs)(j.Z,{direction:"row",alignItems:"center",sx:{pl:1,pr:2,top:0,left:0,width:1,zIndex:9,height:58,position:"absolute",bgcolor:"".concat(l,".lighter"),...n&&{height:38},...i},...s,children:[(0,m.jsx)(g.Z,{indeterminate:!!r&&r<a,checked:!!a&&r===a,onChange:e=>o(e.target.checked)}),(0,m.jsxs)(y.Z,{variant:"subtitle2",sx:{ml:2,flexGrow:1,color:"".concat(l,".main"),...n&&{ml:3}},children:[r," ",c("selected")]}),t&&t]}):null}var w=t(89891),C=t(5446),P=t(25801);function k(e){let{dense:n,onChangeDense:t,rowsPerPageOptions:a=[5,10,25],sx:r,...o}=e;const{t:i}=(0,d.qM)();return(0,m.jsxs)(x.Z,{sx:{position:"relative",...r},children:[(0,m.jsx)(C.Z,{rowsPerPageOptions:a,component:"div",...o,sx:{borderTopColor:"transparent"}}),t&&(0,m.jsx)(P.Z,{label:i("dense"),control:(0,m.jsx)(w.Z,{checked:n,onChange:t}),sx:{pl:2,py:1.5,top:0,position:{sm:"absolute"}}})]})}},83131:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Q});var a=t(6907),r=t(27031),o=t(8007),i=t(10266),l=t(38072),s=t(8976),c=t(78644),d=t(76119),u=t(84802),m=t(61134),p=t(72791),h=t(44695),x=t(12258),g=t(57621),b=t(16029),v=t(82626),Z=t(53767),f=t(19208),j=t(66664),y=t(73379),_=t(82007),w=t(535),C=t(79836),P=t(13967),k=t(53382),S=t(90618),R=t(53507),I=t(38062),T=t(9195),D=t(68745),M=t(13400),B=t(13838),L=t(22459),q=t(40268),A=t(77008),N=t(80184);function F(e){let{row:n,selected:t,onEmploymentRow:a}=e;const{sequence_number:r,name_english:o,name_arabic:i,nationality:l,birth_date:s,identification_num:d,email:u,mobile_num1:m,mobile_num2:p}=n,{t:h}=(0,c.qM)(),{currentLang:x}=(0,c.nt)(),g="ar"===x.value,v=(0,L.k)(),Z=(0,N.jsxs)(T.Z,{hover:!0,selected:t,children:[(0,N.jsx)(D.Z,{align:"center",children:(0,N.jsxs)(b.Z,{children:[String(l.code).padStart(3,"0"),"-",r]})}),(0,N.jsx)(D.Z,{align:"center",children:o}),(0,N.jsx)(D.Z,{align:"center",children:i}),(0,N.jsx)(D.Z,{align:"center",children:m}),(0,N.jsx)(D.Z,{align:"center",children:p}),(0,N.jsx)(D.Z,{align:"center",sx:{textTransform:"none"},children:u}),(0,N.jsx)(D.Z,{align:"center",children:d}),(0,N.jsx)(D.Z,{align:"center",children:g?null===l||void 0===l?void 0:l.name_arabic:null===l||void 0===l?void 0:l.name_english}),(0,N.jsx)(D.Z,{align:"center",children:s}),(0,N.jsx)(D.Z,{align:"center",sx:{px:1,whiteSpace:"nowrap"},children:(0,N.jsx)(M.Z,{onClick:v.onToggle,children:(0,N.jsx)(q.Z,{width:"27px",color:"info.main",icon:"mdi:book-add"})})})]});return(0,N.jsxs)(N.Fragment,{children:[Z,(0,N.jsx)(A.Q,{open:v.value,onClose:v.onFalse,title:h("confirm checking information"),content:h("Do you confirm checking patient data and check at least three values if they are true?"),action:(0,N.jsx)(B.Z,{variant:"contained",color:"info",onClick:a,children:h("confirm")})})]})}function z(e){let{reset:n,selected:t,oldPatients:a}=e;const{t:r}=(0,c.qM)(),{currentLang:o}=(0,c.nt)(),i="ar"===o.value,l=[{id:"code",label:r("code")},{id:"name_english",label:r("name in english")},{id:"name_arabic",label:r("name in arabic")},{id:"mobile_num1",label:r("mobile number")},{id:"mobile_num2",label:r("alternative mobile number")},{id:"email",label:r("email")},{id:"identification_num",label:r("ID number")},{id:"nationality",label:r("nationality")},{id:"birth_date",label:r("birth date")},{id:"book",width:88}],s=(0,f.tv)(),{enqueueSnackbar:d}=(0,u.Ds)(),m=(0,I.x6)({defaultRowsPerPage:10}),p=(0,P.Z)(),{dense:h,page:x,order:g,orderBy:b,rowsPerPage:v,onSort:y,onChangeDense:_,onChangePage:w,onChangeRowsPerPage:T}=m;return(0,N.jsxs)(Z.Z,{children:[(0,N.jsxs)(C.Z,{size:h?"small":"medium",sx:{minWidth:960,borderCollapse:"separate",borderSpacing:"0 16px"},children:[(0,N.jsx)(I.K,{order:g,orderBy:b,headLabel:l,onSort:y,sx:{["& .".concat(S.Z.head)]:{"&:first-of-type":{borderTopLeftRadius:12,borderBottomLeftRadius:12},"&:last-of-type":{borderTopRightRadius:12,borderBottomRightRadius:12}}}}),(0,N.jsxs)(k.Z,{children:[a.slice(x*v,x*v+v).map(((e,a,o)=>(0,N.jsx)(F,{row:e,onEmploymentRow:()=>(async e=>{try{await j.ZP.patch(j.Hv.appointments.book(t),{patient:e._id}),d(r("booked successfully!")),n(),s.back()}catch(a){d(i&&a.arabic_message||a.message,{variant:"error"}),console.error(a)}})(e)},o))),(0,N.jsx)(I.et,{notFound:0===a.length,sx:{m:-2,borderRadius:1.5,border:"dashed 1px ".concat(p.palette.divider)}})]})]}),(0,N.jsx)(I.S_,{count:a.length,page:x,rowsPerPage:v,onPageChange:w,onRowsPerPageChange:T,dense:h,onChangeDense:_,sx:{["& .".concat(R.Z.toolbar)]:{borderTopColor:"transparent"}}})]})}var H=t(90811),E=t(94721),O=t(9585),W=t(49900),G=t(38887),U=t(94791);function $(e){let{selected:n,setSelected:t,list:a,loading:r,...o}=e;const{t:i}=(0,c.qM)(),[l,s]=(0,p.useState)(),d=(0,U.vr)({adaptiveHeight:!0,initialSlide:l||0});return(0,p.useEffect)((()=>{r.value||(a.length?a.forEach(((e,t)=>{console.log("one.selected",n),console.log("one",e._id),console.log("one._id === selected",e._id===n),e._id===n&&(console.log("one.index",t),s(t))})):s(0))}),[a,n,r]),(0,p.useEffect)((()=>{var e;t(null===(e=a[d.currentIndex])||void 0===e?void 0:e._id)}),[a,d.currentIndex]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(O.Z,{title:i("Appointment details"),action:(0,N.jsx)(U.i5,{onNext:d.onNext,onPrev:d.onPrev})}),(0,N.jsx)(U.ZP,{style:{dir:"rtl"},ref:d.carouselRef,...d.carouselSettings,children:a.map((e=>(0,N.jsx)(X,{item:e},e._id)))}),(0,N.jsx)(E.Z,{sx:{borderStyle:"dashed",my:3}})]})}function X(e){var n,t;let{item:a}=e;const{work_group:r,appointment_type:o,unit_service:i,start_time:l,service_types:s,online_available:d}=a,{t:u}=(0,c.qM)(),{currentLang:m}=(0,c.nt)(),p="ar"===m.value,h=(0,G.F)("up","md");return(0,N.jsx)(Z.Z,{dir:p?"rtl":"ltr",spacing:2,sx:{p:3,position:"relative"},children:(0,N.jsxs)(Z.Z,{direction:h?"row":"column",alignItems:"center",spacing:2,children:[(0,N.jsx)(W.Z,{primary:(0,H.Z)(new Date(l))&&new Date(l).toLocaleTimeString(u("en-US"),{timeZone:null===i||void 0===i||null===(n=i.country)||void 0===n?void 0:n.time_zone,hour:"2-digit",minute:"2-digit"}),secondary:(0,H.Z)(new Date(l))&&new Date(l).toLocaleDateString(u("en-US"),{timeZone:(null===i||void 0===i||null===(t=i.country)||void 0===t?void 0:t.time_zone)||Intl.DateTimeFormat().resolvedOptions().timeZone}),primaryTypographyProps:{typography:"subtitle1",noWrap:!0},secondaryTypographyProps:{typography:"body2",component:"span",mt:.5,color:"text.disabled"}}),[{label:p?null===o||void 0===o?void 0:o.name_arabic:null===o||void 0===o?void 0:o.name_english,icon:(0,N.jsx)(q.Z,{icon:"streamline:waiting-appointments-calendar"})},{label:p?null===r||void 0===r?void 0:r.name_arabic:null===r||void 0===r?void 0:r.name_english,icon:(0,N.jsx)(q.Z,{icon:"ri:group-line"})},{label:null===s||void 0===s?void 0:s.reduce(((e,n)=>e+n.Price_per_unit),0),icon:(0,N.jsx)(q.Z,{icon:"solar:tag-price-bold"})},{label:u("available online"),icon:(0,N.jsx)(q.Z,{icon:d?"typcn:tick-outline":"mdi:close-outline",sx:{color:d?"success.main":"error.main"}})}].map((e=>(0,N.jsxs)(Z.Z,{spacing:.5,direction:"row",children:[e.icon,(0,N.jsx)(W.Z,{primary:e.label,secondary:(0,N.jsx)("span",{dir:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"===e.label?"ltr":"auto",children:e.value}),primaryTypographyProps:{typography:"body2",color:"text.secondary",mb:.5},secondaryTypographyProps:{typography:"subtitle2",color:"text.primary",component:"span",textTransform:"none"}})]},e.label)))]})})}function K(){var e,n;const{user:t}=(0,s.E)(),{t:a}=(0,c.qM)(),{currentLang:r}=(0,c.nt)(),C="ar"===r.value,{countriesData:P}=(0,d.Rpj)(),k=(0,f.tv)(),S=(0,f.lr)(),R=S.get("appointment"),I=S.get("day"),[T,D]=(0,p.useState)(R),{appointmentsData:M,loading:B}=(0,d.E7C)({id:null===t||void 0===t||null===(e=t.employee)||void 0===e||null===(n=e.employee_engagements[null===t||void 0===t?void 0:t.employee.selected_engagement])||void 0===n?void 0:n._id,filters:{startDate:I?new Date(I):new Date,status:"available"}}),{enqueueSnackbar:L}=(0,u.Ds)(),q=o.Ry().shape({sequence_number:o.Z_(),name_english:o.Z_(),name_arabic:o.Z_(),email:o.Z_(),identification_num:o.Z_(),birth_date:o.nK().nullable(),marital_status:o.Z_().nullable(),nationality:o.Z_().nullable(),country:o.Z_(),city:o.Z_(),mobile_num1:o.Z_(),mobile_num2:o.Z_(),gender:o.Z_()}),A=(0,p.useMemo)((()=>({sequence_number:"",name_english:"",name_arabic:"",email:"",identification_num:"",birth_date:null,marital_status:"",nationality:"",country:"",city:"",mobile_num1:"",mobile_num2:"",gender:""})),[]),F=(0,m.cI)({mode:"onTouched",resolver:(0,h.X)(q),defaultValues:A}),{reset:H,handleSubmit:E,watch:O,setValue:W,formState:{isSubmitting:G}}=F,U=O(),{tableData:X}=(0,d.s_U)(U.country),{existPatients:K}=(0,d.E$b)({sequence_number:U.sequence_number,name_english:U.name_english,name_arabic:U.name_arabic,email:U.email.toLowerCase(),identification_num:U.identification_num,mobile_num1:U.mobile_num1,mobile_num2:U.mobile_num2}),Q=E((async e=>{try{await j.ZP.patch(j.Hv.appointments.patient.createPatientAndBookAppoint(T),e),L(a("created successfully!")),H(),k.back()}catch(n){L(C&&n.arabic_message||n.message,{variant:"error"}),console.error(n)}})),V=e=>{/^[a-zA-Z0-9\s,@#$!*_\-&^%.()]*$/.test(e.target.value)&&W(e.target.name,e.target.value)};return(0,N.jsxs)(i.Z,{maxWidth:"xl",children:[(0,N.jsx)(y.Z,{heading:a("Book Appointment"),links:[{name:a("dashboard"),href:l.H.employee.root},{name:a("appointments"),href:l.H.employee.appointments.root},{name:a("book")}],sx:{mb:{xs:3,md:5}}}),(0,N.jsx)(_.Z,{methods:F,onSubmit:Q,children:(0,N.jsxs)(g.Z,{sx:{px:3,pb:3},children:[(0,N.jsx)($,{selected:T,loading:B,setSelected:D,list:M}),(0,N.jsx)(w.au,{InputLabelProps:{shrink:!0},inputProps:{style:{textAlign:"center"}},sx:{width:"200px",mb:3,textAlign:"center"},size:"small",name:"sequence_number",onChange:e=>{const{value:n}=e.target,t=n.replace(/\D/g,"");t.length<=3?W(e.target.name,t):4===t.length&&"-"===t.charAt(3)?W(e.target.name,t.slice(0,3)):4===t.length&&"-"!==t.charAt(3)?W(e.target.name,"".concat(t.slice(0,3),"-").concat(t.slice(3))):W(e.target.name,t)},placeholder:"001-22",label:a("patient-code")}),(0,N.jsxs)(b.Z,{sx:{mb:3},rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(3, 1fr)"},children:[(0,N.jsx)(w.au,{onChange:V,name:"name_english",label:a("patient name in english")}),(0,N.jsx)(w.au,{onChange:e=>{/^[\u0600-\u06FF0-9\s!@#$%^&*_\-()]*$/.test(e.target.value)&&W(e.target.name,e.target.value)},name:"name_arabic",label:a("patient name in arabic")}),(0,N.jsx)(w.au,{type:"email",name:"email",label:a("email address")}),(0,N.jsx)(w.au,{onChange:V,name:"identification_num",label:a("ID number")}),(0,N.jsx)(w.Y_,{name:"mobile_num1",label:a("mobile number")}),(0,N.jsx)(w.Y_,{name:"mobile_num2",label:a("alternative mobile number")}),(0,N.jsx)(w.C5,{name:"birth_date",label:a("birth date")}),(0,N.jsx)(w.Cc,{name:"nationality",label:a("nationality"),children:P.map(((e,n)=>(0,N.jsx)(v.Z,{lang:"ar",value:e._id,children:C?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},n)))}),(0,N.jsx)(w.Cc,{name:"country",label:a("country of residence"),children:P.map(((e,n)=>(0,N.jsx)(v.Z,{lang:"ar",value:e._id,children:C?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},n)))}),(0,N.jsx)(w.Cc,{name:"city",label:a("city of residence"),children:X.map(((e,n)=>(0,N.jsx)(v.Z,{lang:"ar",value:e._id,children:C?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},n)))}),(0,N.jsxs)(w.Cc,{name:"marital_status",label:a("marital status"),children:[(0,N.jsx)(v.Z,{lang:"ar",value:"single",children:a("single")}),(0,N.jsx)(v.Z,{lang:"ar",value:"married",children:a("married")}),(0,N.jsx)(v.Z,{lang:"ar",value:"widowed",children:a("widowed")}),(0,N.jsx)(v.Z,{lang:"ar",value:"separated",children:a("separated")}),(0,N.jsx)(v.Z,{lang:"ar",value:"divorced",children:a("divorced")})]}),(0,N.jsxs)(w.Cc,{name:"gender",label:a("gender"),children:[(0,N.jsx)(v.Z,{lang:"ar",value:"male",children:a("male")}),(0,N.jsx)(v.Z,{lang:"ar",value:"female",children:a("female")})]})]}),(0,N.jsx)(Z.Z,{alignItems:"flex-end",sx:{mt:3},children:(0,N.jsx)(x.Z,{type:"submit",tabIndex:-1,variant:"contained",loading:G,children:a("create new patient and book")})}),K.length>0&&(0,N.jsx)(z,{selected:T,reset:H,oldPatients:K})]})})]})}function Q(){return(0,N.jsxs)(r.Z,{category:"work_group",subcategory:"appointments",acl:"read",children:[(0,N.jsxs)(a.ql,{children:[(0,N.jsx)("title",{children:" Book Appointment "}),(0,N.jsx)("meta",{name:"description",content:"meta"})]}),(0,N.jsx)(K,{})]})}},93517:(e,n,t)=>{t.d(n,{Z:()=>I});var a=t(87462),r=t(63366),o=t(72791),i=(t(57441),t(59278)),l=t(50385),s=t(20838),c=t(66934),d=t(31402),u=t(4567),m=t(54131),p=t(74223),h=t(80184);const x=(0,p.Z)((0,h.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var g=t(95080);const b=["slots","slotProps"],v=(0,c.ZP)(g.Z)((e=>{let{theme:n}=e;return(0,a.Z)({display:"flex",marginLeft:"calc(".concat(n.spacing(1)," * 0.5)"),marginRight:"calc(".concat(n.spacing(1)," * 0.5)")},"light"===n.palette.mode?{backgroundColor:n.palette.grey[100],color:n.palette.grey[700]}:{backgroundColor:n.palette.grey[700],color:n.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,a.Z)({},"light"===n.palette.mode?{backgroundColor:n.palette.grey[200]}:{backgroundColor:n.palette.grey[600]}),"&:active":(0,a.Z)({boxShadow:n.shadows[0]},"light"===n.palette.mode?{backgroundColor:(0,m._4)(n.palette.grey[200],.12)}:{backgroundColor:(0,m._4)(n.palette.grey[600],.12)})})})),Z=(0,c.ZP)(x)({width:24,height:16});const f=function(e){const{slots:n={},slotProps:t={}}=e,o=(0,r.Z)(e,b),i=e;return(0,h.jsx)("li",{children:(0,h.jsx)(v,(0,a.Z)({focusRipple:!0},o,{ownerState:i,children:(0,h.jsx)(Z,(0,a.Z)({as:n.CollapsedIcon,ownerState:i},t.collapsedIcon))}))})};var j=t(59703),y=t(64657);function _(e){return(0,y.ZP)("MuiBreadcrumbs",e)}const w=(0,j.Z)("MuiBreadcrumbs",["root","ol","li","separator"]),C=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],P=(0,c.ZP)(u.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,n)=>[{["& .".concat(w.li)]:n.li},n.root]})({}),k=(0,c.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,n)=>n.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),S=(0,c.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,n)=>n.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function R(e,n,t,a){return e.reduce(((r,o,i)=>(i<e.length-1?r=r.concat(o,(0,h.jsx)(S,{"aria-hidden":!0,className:n,ownerState:a,children:t},"separator-".concat(i))):r.push(o),r)),[])}const I=o.forwardRef((function(e,n){const t=(0,d.Z)({props:e,name:"MuiBreadcrumbs"}),{children:c,className:u,component:m="nav",slots:p={},slotProps:x={},expandText:g="Show path",itemsAfterCollapse:b=1,itemsBeforeCollapse:v=1,maxItems:Z=8,separator:j="/"}=t,y=(0,r.Z)(t,C),[w,S]=o.useState(!1),I=(0,a.Z)({},t,{component:m,expanded:w,expandText:g,itemsAfterCollapse:b,itemsBeforeCollapse:v,maxItems:Z,separator:j}),T=(e=>{const{classes:n}=e;return(0,s.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},_,n)})(I),D=(0,l.y)({elementType:p.CollapsedIcon,externalSlotProps:x.collapsedIcon,ownerState:I}),M=o.useRef(null),B=o.Children.toArray(c).filter((e=>o.isValidElement(e))).map(((e,n)=>(0,h.jsx)("li",{className:T.li,children:e},"child-".concat(n))));return(0,h.jsx)(P,(0,a.Z)({ref:n,component:m,color:"text.secondary",className:(0,i.Z)(T.root,u),ownerState:I},y,{children:(0,h.jsx)(k,{className:T.ol,ref:M,ownerState:I,children:R(w||Z&&B.length<=Z?B:(e=>v+b>=e.length?e:[...e.slice(0,v),(0,h.jsx)(f,{"aria-label":g,slots:{CollapsedIcon:p.CollapsedIcon},slotProps:{collapsedIcon:D},onClick:()=>{S(!0);const e=M.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-b,e.length)])(B),T.separator,j,I)})}))}))},9585:(e,n,t)=>{t.d(n,{Z:()=>j});var a=t(63366),r=t(87462),o=t(72791),i=t(59278),l=t(20838),s=t(4567),c=t(31402),d=t(66934),u=t(59703),m=t(64657);function p(e){return(0,m.ZP)("MuiCardHeader",e)}const h=(0,u.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var x=t(80184);const g=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],b=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,n)=>(0,r.Z)({["& .".concat(h.title)]:n.title,["& .".concat(h.subheader)]:n.subheader},n.root)})({display:"flex",alignItems:"center",padding:16}),v=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,n)=>n.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),Z=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,n)=>n.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),f=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,n)=>n.content})({flex:"1 1 auto"}),j=o.forwardRef((function(e,n){const t=(0,c.Z)({props:e,name:"MuiCardHeader"}),{action:o,avatar:d,className:u,component:m="div",disableTypography:h=!1,subheader:j,subheaderTypographyProps:y,title:_,titleTypographyProps:w}=t,C=(0,a.Z)(t,g),P=(0,r.Z)({},t,{component:m,disableTypography:h}),k=(e=>{const{classes:n}=e;return(0,l.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},p,n)})(P);let S=_;null==S||S.type===s.Z||h||(S=(0,x.jsx)(s.Z,(0,r.Z)({variant:d?"body2":"h5",className:k.title,component:"span",display:"block"},w,{children:S})));let R=j;return null==R||R.type===s.Z||h||(R=(0,x.jsx)(s.Z,(0,r.Z)({variant:d?"body2":"body1",className:k.subheader,color:"text.secondary",component:"span",display:"block"},y,{children:R}))),(0,x.jsxs)(b,(0,r.Z)({className:(0,i.Z)(k.root,u),as:m,ref:n,ownerState:P},C,{children:[d&&(0,x.jsx)(v,{className:k.avatar,ownerState:P,children:d}),(0,x.jsxs)(f,{className:k.content,ownerState:P,children:[S,R]}),o&&(0,x.jsx)(Z,{className:k.action,ownerState:P,children:o})]}))}))}}]);
//# sourceMappingURL=2734.2c9c53de.chunk.js.map