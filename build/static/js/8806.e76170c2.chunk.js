"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[8806],{61447:(e,a,n)=>{n.r(a),n.d(a,{default:()=>u});var t=n(6907),r=n(19208),s=n(36093),i=n(35456),o=n(10266),d=n(25279),l=n(59403),c=n(80184);function m(e){let{roomData:a,departmentData:n}=e;const t=(0,d.K$)();return(0,c.jsx)(o.Z,{maxWidth:!t.themeStretch&&"lg",children:a&&n&&(0,c.jsx)(l.Z,{departmentData:n,currentTable:a})})}function u(){const e=(0,r.UO)(),{depid:a,acid:n}=e,o=(0,s.YL)(a).data,{data:d,loading:l}=(0,s.zT)(n),u=null===d||void 0===d?void 0:d.name_english;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(t.ql,{children:[(0,c.jsxs)("title",{children:[" Edit ",u||""," Room "]}),(0,c.jsx)("meta",{name:"description",content:"meta"})]}),l&&(0,c.jsx)(i.a,{}),!l&&(0,c.jsx)(m,{roomData:d,departmentData:o})]})}},59403:(e,a,n)=>{n.d(a,{Z:()=>b});var t=n(8007),r=n(72791),s=n(61134),i=n(44695),o=n(16029),d=n(57621),l=n(53767),c=n(24308),m=n(12258),u=n(38072),g=n(19208),h=n(66664),_=n(99116),p=n(8976),v=n(76932),Z=n(32869),x=n(26405),f=n(80184);function b(e){let{departmentData:a,currentTable:n}=e;const b=(0,g.tv)(),{id:j}=(0,g.UO)(),{t:C}=(0,v.qM)(),{currentLang:k}=(0,v.nt)(),w="ar"===k.value,{user:q}=(0,p.E)(),{enqueueSnackbar:D}=(0,Z.Ds)(),S=t.Ry().shape({name_arabic:t.Z_().required("Name is required"),name_english:t.Z_().required("Name is required"),general_info:t.Z_()}),M=(0,r.useMemo)((()=>({unit_service:j,name_arabic:(null===n||void 0===n?void 0:n.name_arabic)||"",name_english:(null===n||void 0===n?void 0:n.name_english)||"",department:a._id,general_info:(null===n||void 0===n?void 0:n.general_info)||""})),[n,a,j]),y=(0,s.cI)({mode:"onTouched",resolver:(0,i.X)(S),defaultValues:M}),N=e=>{/^[a-zA-Z0-9\s,@#$!*_\-&^%]*$/.test(e.target.value)&&y.setValue(e.target.name,e.target.value,{shouldValidate:!0})},{reset:P,handleSubmit:R,formState:{isSubmitting:T}}=y,V=R((async e=>{try{n?await h.ZP.patch(h.Hv.rooms.one(n._id),{department:a._id,...e}):(await h.ZP.post(h.Hv.rooms.all,{department:a._id,...e}),_.Z.emit("created",{data:e,user:q,link:u.H.superadmin.unitservices.departments.rooms.root(j,a._id),msg:"created room <strong>".concat(e.name_english||"","</strong> into <strong>").concat(a.name_english,"</strong> department"),ar_msg:"\u0625\u0646\u0634\u0627\u0621 \u063a\u0631\u0641\u0629 <strong>".concat(e.name_arabic||"","</strong> \u062f\u0627\u062e\u0644 \u0642\u0633\u0645 <strong>").concat(a.name_arabic,"</strong>")})),P(),D(C(n?"update success!":"create success!")),b.push(u.H.superadmin.unitservices.departments.rooms.root(j,a._id))}catch(t){D(w?t.arabic_message:t.message,{variant:"error"}),console.error(t)}}));return(0,f.jsx)(x.ZP,{methods:y,onSubmit:V,children:(0,f.jsx)(c.Z,{container:!0,spacing:3,children:(0,f.jsx)(c.Z,{xs:12,maxWidth:"md",children:(0,f.jsxs)(d.Z,{sx:{p:3},children:[(0,f.jsxs)(o.Z,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,f.jsx)(x.au,{lang:"ar",onChange:N,name:"name_english",label:"".concat(C("name english")," *")}),(0,f.jsx)(x.au,{lang:"ar",onChange:e=>{/^[\u0600-\u06FF0-9\s!@#$%^&*_-]*$/.test(e.target.value)&&y.setValue(e.target.name,e.target.value,{shouldValidate:!0})},name:"name_arabic",label:"".concat(C("name arabic")," *")}),(0,f.jsx)(x.au,{lang:"ar",onChange:N,name:"general_info",label:C("general info")})]}),(0,f.jsx)(l.Z,{alignItems:"flex-end",sx:{mt:3},children:(0,f.jsx)(m.Z,{type:"submit",tabIndex:-1,variant:"contained",loading:T,children:C(n?"save changes":"create")})})]})})})})}},57621:(e,a,n)=>{n.d(a,{Z:()=>v});var t=n(87462),r=n(63366),s=n(72791),i=n(59278),o=n(20838),d=n(66934),l=n(31402),c=n(27938),m=n(59703),u=n(64657);function g(e){return(0,u.ZP)("MuiCard",e)}(0,m.Z)("MuiCard",["root"]);var h=n(80184);const _=["className","raised"],p=(0,d.ZP)(c.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,a)=>a.root})((()=>({overflow:"hidden"}))),v=s.forwardRef((function(e,a){const n=(0,l.Z)({props:e,name:"MuiCard"}),{className:s,raised:d=!1}=n,c=(0,r.Z)(n,_),m=(0,t.Z)({},n,{raised:d}),u=(e=>{const{classes:a}=e;return(0,o.Z)({root:["root"]},g,a)})(m);return(0,h.jsx)(p,(0,t.Z)({className:(0,i.Z)(u.root,s),elevation:d?8:void 0,ref:a,ownerState:m},c))}))}}]);
//# sourceMappingURL=8806.e76170c2.chunk.js.map