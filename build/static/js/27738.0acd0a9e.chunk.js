"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[27738],{22698:(e,t,a)=>{a.d(t,{A:()=>I});var r=a(58168),n=a(98587),l=a(65043),s=a(58387),o=a(98610),i=a(88092),d=a(34535),c=a(98206),u=a(94496),m=a(67266),p=a(66734),h=a(70579);const x=(0,p.A)((0,h.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var g=a(96030);const b=["slots","slotProps"],f=(0,d.Ay)(g.A)((e=>{let{theme:t}=e;return(0,r.A)({display:"flex",marginLeft:`calc(${t.spacing(1)} * 0.5)`,marginRight:`calc(${t.spacing(1)} * 0.5)`},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,r.A)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,r.A)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,m.tL)(t.palette.grey[200],.12)}:{backgroundColor:(0,m.tL)(t.palette.grey[600],.12)})})})),v=(0,d.Ay)(x)({width:24,height:16});const y=function(e){const{slots:t={},slotProps:a={}}=e,l=(0,n.A)(e,b),s=e;return(0,h.jsx)("li",{children:(0,h.jsx)(f,(0,r.A)({focusRipple:!0},l,{ownerState:s,children:(0,h.jsx)(v,(0,r.A)({as:t.CollapsedIcon,ownerState:s},a.collapsedIcon))}))})};var A=a(92532),j=a(72372);function _(e){return(0,j.Ay)("MuiBreadcrumbs",e)}const S=(0,A.A)("MuiBreadcrumbs",["root","ol","li","separator"]),k=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],w=(0,d.Ay)(u.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{[`& .${S.li}`]:t.li},t.root]})({}),C=(0,d.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),q=(0,d.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function P(e,t,a,r){return e.reduce(((n,l,s)=>(s<e.length-1?n=n.concat(l,(0,h.jsx)(q,{"aria-hidden":!0,className:t,ownerState:r,children:a},`separator-${s}`)):n.push(l),n)),[])}const I=l.forwardRef((function(e,t){const a=(0,c.b)({props:e,name:"MuiBreadcrumbs"}),{children:d,className:u,component:m="nav",slots:p={},slotProps:x={},expandText:g="Show path",itemsAfterCollapse:b=1,itemsBeforeCollapse:f=1,maxItems:v=8,separator:A="/"}=a,j=(0,n.A)(a,k),[S,q]=l.useState(!1),I=(0,r.A)({},a,{component:m,expanded:S,expandText:g,itemsAfterCollapse:b,itemsBeforeCollapse:f,maxItems:v,separator:A}),M=(e=>{const{classes:t}=e;return(0,o.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},_,t)})(I),E=(0,i.A)({elementType:p.CollapsedIcon,externalSlotProps:x.collapsedIcon,ownerState:I}),R=l.useRef(null),B=l.Children.toArray(d).filter((e=>l.isValidElement(e))).map(((e,t)=>(0,h.jsx)("li",{className:M.li,children:e},`child-${t}`)));return(0,h.jsx)(w,(0,r.A)({ref:t,component:m,color:"text.secondary",className:(0,s.A)(M.root,u),ownerState:I},j,{children:(0,h.jsx)(C,{className:M.ol,ref:R,ownerState:I,children:P(S||v&&B.length<=v?B:(e=>f+b>=e.length?e:[...e.slice(0,f),(0,h.jsx)(y,{"aria-label":g,slots:{CollapsedIcon:p.CollapsedIcon},slotProps:{collapsedIcon:E},onClick:()=>{q(!0);const e=R.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-b,e.length)])(B),M.separator,A,I)})}))}))},50053:(e,t,a)=>{a.d(t,{A:()=>A});var r=a(80899),n=a(65043),l=a(24858),s=a(18403),o=a(81e3),i=a(12110),d=a(74600),c=a(94814),u=a(22075),m=a(84284),p=a(38246),h=a(48407),x=a(67132),g=a(31673),b=a(7625),f=a(94857),v=a(59699),y=a(70579);function A(e){let{licenseMovementData:t,stakeholderData:a}=e;const A=(0,x.rd)(),{freeSubscriptionsData:j}=(0,b.MFk)(),{subscriptionsData:_}=(0,b.Mj2)(),{paymentMethodsData:S}=(0,b.efm)(),{enqueueSnackbar:k}=(0,f.dh)(),w=r.Ik().shape({free_subscription:r.Yj().nullable(),subscription:r.Yj().nullable(),Payment_method:r.Yj().required("Payment method is required"),Payment_frequency:r.Yj().required("Payment frequency is required"),note:r.Yj(),Start_date:r.gl().required("Start date is required"),End_date:r.gl().required("End date is required"),Users_num:r.ai().required("Number of users is required"),price:r.ai().required("Price is required")}),C=(0,n.useMemo)((()=>{var e,a,r;return{free_subscription:(null===t||void 0===t||null===(e=t.free_subscription)||void 0===e?void 0:e._id)||null,subscription:(null===t||void 0===t||null===(a=t.subscription)||void 0===a?void 0:a._id)||null,Payment_method:(null===t||void 0===t||null===(r=t.Payment_method)||void 0===r?void 0:r._id)||null,Payment_frequency:(null===t||void 0===t?void 0:t.Payment_frequency)||"",note:(null===t||void 0===t?void 0:t.note)||"",Start_date:(null===t||void 0===t?void 0:t.Start_date)||"",End_date:(null===t||void 0===t?void 0:t.End_date)||"",Users_num:(null===t||void 0===t?void 0:t.Users_num)||"",price:(null===t||void 0===t?void 0:t.price)||""}}),[t]),q=(0,l.mN)({mode:"all",resolver:(0,s.t)(w),defaultValues:C}),{reset:P,handleSubmit:I,formState:{isSubmitting:M}}=q,E=I((async e=>{try{t?await g.Ay.patch(g.vZ.license_movements.one(t._id),e):await g.Ay.post(g.vZ.license_movements.all,e),P(),A.push(h.f.superadmin.accounting.stakeholder.root(a._id)),k(t?"Update success!":"Create success!")}catch(r){console.error(r)}}));return(0,y.jsx)(v.Ay,{methods:q,onSubmit:E,children:(0,y.jsx)(u.A,{container:!0,spacing:3,children:(0,y.jsx)(u.A,{xs:12,maxWidth:"md",children:(0,y.jsxs)(i.A,{sx:{p:3},children:[(0,y.jsxs)(o.A,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,y.jsx)(v.tX,{name:"free_subscription",label:"Free Subscription",children:j.map(((e,t)=>(0,y.jsx)(c.A,{lang:"ar",value:e._id,children:e.name_english},t)))}),(0,y.jsx)(v.tX,{name:"subscription",label:"subscription",children:_.map(((e,t)=>(0,y.jsx)(c.A,{lang:"ar",value:e._id,children:e.name_english},t)))}),(0,y.jsx)(v.tX,{name:"Payment_method",label:"Payment method",children:S.map(((e,t)=>(0,y.jsx)(c.A,{lang:"ar",value:e._id,children:e.name_english},t)))}),(0,y.jsxs)(v.tX,{name:"Payment_frequency",label:"Payment Frequency",children:[(0,y.jsx)(c.A,{lang:"ar",value:"once a week",children:"once a week"}),(0,y.jsx)(c.A,{lang:"ar",value:"once a month",children:"once a month"})]}),(0,y.jsx)(m.l,{name:"Start_date",label:"Start date",onChange:e=>q.setValue("Start_date",e,{shouldValidate:!0}),value:q.getValues("Start_date")?new Date(q.getValues("Start_date")):null}),(0,y.jsx)(m.l,{name:"End_date",label:"End date",onChange:e=>q.setValue("End_date",e,{shouldValidate:!0}),value:q.getValues("End_date")?new Date(q.getValues("End_date")):null}),(0,y.jsx)(v.o3,{name:"price",label:"Price",type:"number"}),(0,y.jsx)(v.o3,{name:"Users_num",label:"Users no",type:"number"}),(0,y.jsx)(v.o3,{name:"note",label:"note"})]}),(0,y.jsx)(d.A,{alignItems:"flex-end",sx:{mt:3},children:(0,y.jsx)(p.A,{type:"submit",tabIndex:-1,variant:"contained",loading:M,children:t?"Save Changes":"Create One"})})]})})})})}},83858:(e,t,a)=>{a.d(t,{A:()=>r.A});var r=a(91720)},91720:(e,t,a)=>{a.d(t,{A:()=>u});var r=a(81e3),n=a(88446),l=a(74600),s=a(94496),o=a(22698),i=a(65381),d=a(70579);function c(e){let{link:t,activeLast:a,disabled:l}=e;const s={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...l&&!a&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},o=(0,d.jsxs)(d.Fragment,{children:[t.icon&&(0,d.jsx)(r.A,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:t.icon}),t.name]});return t.href?(0,d.jsx)(n.A,{component:i.W,href:t.href,sx:s,children:o}):(0,d.jsxs)(r.A,{sx:s,children:[" ",o," "]})}function u(e){let{links:t,action:a,heading:i,moreLink:u,activeLast:p,sx:h,...x}=e;const g=t&&t[t.length-1].name;return(0,d.jsxs)(r.A,{sx:{...h},children:[(0,d.jsxs)(l.A,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(r.A,{sx:{flexGrow:1,display:"flex",gap:{md:3},alignItems:{md:"center"},flexDirection:{xs:"column",md:"row"}},children:[i&&(0,d.jsx)(s.A,{textTransform:"capitalize",variant:"h4",gutterBottom:!0,children:i}),t&&!!t.length&&(0,d.jsx)(o.A,{separator:(0,d.jsx)(m,{}),...x,children:null===t||void 0===t?void 0:t.map(((e,t)=>(0,d.jsx)(c,{link:e,activeLast:p,disabled:e.name===g},t)))})]}),a&&(0,d.jsxs)(r.A,{sx:{flexShrink:0,textTransform:"capitalize"},children:[" ",a," "]})]}),!!u&&(0,d.jsx)(r.A,{sx:{mt:2},children:u.map(((e,t)=>(0,d.jsx)(n.A,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},t)))})]})}function m(){return(0,d.jsx)(r.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}}}]);
//# sourceMappingURL=27738.0acd0a9e.chunk.js.map