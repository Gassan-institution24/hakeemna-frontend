"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[2147],{94791:(e,n,t)=>{t.d(n,{i5:()=>f,A0:()=>h,ZP:()=>Z,vr:()=>o});var a=t(95717),i=t(72791),r=t(13967);function o(e){const n=(0,r.Z)(),t=(0,i.useRef)(null),[a,o]=(0,i.useState)((null===e||void 0===e?void 0:e.initialSlide)||0),[l,s]=(0,i.useState)(void 0),d="rtl"===n.direction,c={arrows:!1,dots:!(null===e||void 0===e||!e.customPaging),rtl:d,beforeChange:(e,n)=>o(n),...e,fade:!(null===e||void 0===e||!e.fade||d)},u=(0,i.useCallback)((()=>{t.current&&s(t.current)}),[]),m=(0,i.useCallback)((()=>{t.current&&t.current.slickPrev()}),[]),h=(0,i.useCallback)((()=>{t.current&&t.current.slickNext()}),[]),x=(0,i.useCallback)((e=>{t.current&&t.current.slickGoTo(e)}),[]);return{nav:l,carouselRef:t,currentIndex:a,carouselSettings:c,onPrev:m,onNext:h,onTogo:x,onSetNav:u,setNav:s,setCurrentIndex:o}}var l=t(16029),s=t(53767),d=t(66934),c=t(80184);const u=(0,d.ZP)(l.Z,{shouldForwardProp:e=>"rounded"!==e})((e=>{let{rounded:n,theme:t}=e;return{zIndex:9,margin:0,padding:0,display:"flex",alignItems:"center",justifyContent:"center",color:t.palette.primary.main,"& li":{width:18,height:18,opacity:.32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&.slick-active":{opacity:1,...n&&{"& span":{width:16,borderRadius:6}}}}}})),m=(0,d.ZP)("span")((e=>{let{theme:n}=e;return{width:8,height:8,borderRadius:"50%",transition:n.transitions.create(["width"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.short})}}));function h(e){const n=(null===e||void 0===e?void 0:e.rounded)||!1,t=null===e||void 0===e?void 0:e.sx;return{appendDots:a=>(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(u,{component:"ul",rounded:n,sx:{...t},...e,children:a})}),customPaging:()=>(0,c.jsx)(s.Z,{component:"div",alignItems:"center",justifyContent:"center",sx:{width:1,height:1},children:(0,c.jsx)(m,{sx:{bgcolor:"currentColor"}})})}}var x=t(13400),p=t(12065),g=t(40268);function v(e){let{icon:n="eva:arrow-ios-forward-fill",isRTL:t}=e;return(0,c.jsx)(g.Z,{icon:n,sx:{transform:" scaleX(-1)",...t&&{transform:" scaleX(1)"}}})}function b(e){let{icon:n="eva:arrow-ios-forward-fill",isRTL:t}=e;return(0,c.jsx)(g.Z,{icon:n,sx:{...t&&{transform:" scaleX(-1)"}}})}const j=(0,d.ZP)(x.Z,{shouldForwardProp:e=>"filled"!==e&&"hasChild"!==e&&"shape"!==e})((e=>{let{filled:n,shape:t,hasChild:a,theme:i}=e;return{color:"inherit",transition:i.transitions.create("all",{duration:i.transitions.duration.shorter}),..."rounded"===t&&{borderRadius:1.5*i.shape.borderRadius},...!n&&{opacity:.48,"&:hover":{opacity:1}},...n&&{color:(0,p.Fq)(i.palette.common.white,.8),backgroundColor:(0,p.Fq)(i.palette.grey[900],.48),"&:hover":{color:i.palette.common.white,backgroundColor:i.palette.grey[900]}},...a&&{zIndex:9,top:"50%",position:"absolute",marginTop:i.spacing(-2.5)}}}));function f(e){let{shape:n="circular",filled:t=!1,icon:a,onNext:i,onPrev:o,children:l,leftButtonProps:d,rightButtonProps:u,sx:m,...h}=e;const x="rtl"===(0,r.Z)().direction;return!!l?(0,c.jsxs)(s.Z,{sx:m,...h,children:[i&&(0,c.jsx)(j,{filled:t,shape:n,hasChild:!!l,onClick:o,...d,sx:{left:16,...null===d||void 0===d?void 0:d.sx},children:(0,c.jsx)(v,{icon:a,isRTL:x})}),l,o&&(0,c.jsx)(j,{filled:t,shape:n,hasChild:!!l,onClick:i,...u,sx:{right:16,...null===u||void 0===u?void 0:u.sx},children:(0,c.jsx)(b,{icon:a,isRTL:x})})]}):(0,c.jsxs)(s.Z,{direction:"row",alignItems:"center",display:"inline-flex",sx:m,...h,children:[(0,c.jsx)(j,{filled:t,shape:n,onClick:o,...d,children:(0,c.jsx)(v,{icon:a,isRTL:x})}),(0,c.jsx)(j,{filled:t,shape:n,onClick:i,...u,children:(0,c.jsx)(b,{icon:a,isRTL:x})})]})}const Z=a.Z},38563:(e,n,t)=>{t.d(n,{Z:()=>u});var a=t(16029),i=t(50533),r=t(53767),o=t(4567),l=t(93517),s=t(4419),d=t(80184);function c(e){let{link:n,activeLast:t,disabled:r}=e;const o={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...r&&!t&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},l=(0,d.jsxs)(d.Fragment,{children:[n.icon&&(0,d.jsx)(a.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:n.icon}),n.name]});return n.href?(0,d.jsx)(i.Z,{component:s.r,href:n.href,sx:o,children:l}):(0,d.jsxs)(a.Z,{sx:o,children:[" ",l," "]})}function u(e){let{links:n,action:t,heading:s,moreLink:u,activeLast:h,sx:x,...p}=e;const g=n&&n[n.length-1].name;return(0,d.jsxs)(a.Z,{sx:{...x},children:[(0,d.jsxs)(r.Z,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(a.Z,{sx:{flexGrow:1,display:"flex",gap:{md:3},alignItems:{md:"center"},flexDirection:{xs:"column",md:"row"}},children:[s&&(0,d.jsx)(o.Z,{textTransform:"capitalize",variant:"h4",gutterBottom:!0,children:s}),n&&!!n.length&&(0,d.jsx)(l.Z,{separator:(0,d.jsx)(m,{}),...p,children:null===n||void 0===n?void 0:n.map(((e,n)=>(0,d.jsx)(c,{link:e,activeLast:h,disabled:e.name===g},n)))})]}),t&&(0,d.jsxs)(a.Z,{sx:{flexShrink:0,textTransform:"capitalize"},children:[" ",t," "]})]}),!!u&&(0,d.jsx)(a.Z,{sx:{mt:2},children:u.map(((e,n)=>(0,d.jsx)(i.Z,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},n)))})]})}function m(){return(0,d.jsx)(a.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},73379:(e,n,t)=>{t.d(n,{Z:()=>a.Z});var a=t(38563)},27356:(e,n,t)=>{t.d(n,{Z:()=>s});var a=t(16029),i=t(53767),r=t(12065),o=t(4567),l=t(80184);function s(e){let{title:n,imgUrl:t,action:s,filled:d,description:c,sx:u,...m}=e;return(0,l.jsxs)(i.Z,{flexGrow:1,alignItems:"center",justifyContent:"center",sx:{px:3,height:1,...d&&{borderRadius:2,bgcolor:e=>(0,r.Fq)(e.palette.grey[500],.04),border:e=>"dashed 1px ".concat((0,r.Fq)(e.palette.grey[500],.08))},...u},...m,children:[(0,l.jsx)(a.Z,{component:"img",alt:"empty content",src:t||"/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),n&&(0,l.jsx)(o.Z,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:n}),c&&(0,l.jsx)(o.Z,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:c}),s&&s]})}},31092:(e,n,t)=>{t.d(n,{Z:()=>a.Z});var a=t(27356)},38062:(e,n,t)=>{function a(e,n,t){return e?Math.max(0,(1+e)*n-t):0}function i(e,n,t){return null===e[t]?1:null===n[t]||n[t]<e[t]?-1:n[t]>e[t]?1:0}function r(e,n){return"desc"===e?(e,t)=>i(e,t,n):(e,t)=>-i(e,t,n)}t.d(n,{$W:()=>x,K:()=>f,et:()=>h,S_:()=>P,Z4:()=>y,fQ:()=>a,sQ:()=>r,x6:()=>l});var o=t(72791);function l(e){const[n,t]=(0,o.useState)(!(null===e||void 0===e||!e.defaultDense)),[a,i]=(0,o.useState)((null===e||void 0===e?void 0:e.defaultCurrentPage)||0),[r,l]=(0,o.useState)((null===e||void 0===e?void 0:e.defaultOrderBy)||"code"),[s,d]=(0,o.useState)((null===e||void 0===e?void 0:e.defaultRowsPerPage)||25),[c,u]=(0,o.useState)((null===e||void 0===e?void 0:e.defaultOrder)||"asc"),[m,h]=(0,o.useState)((null===e||void 0===e?void 0:e.defaultSelected)||[]),x=(0,o.useCallback)((e=>{""!==e&&(u(r===e&&"asc"===c?"desc":"asc"),l(e))}),[c,r]),p=(0,o.useCallback)((e=>{const n=m.includes(e)?m.filter((n=>n!==e)):[...m,e];h(n)}),[m]),g=(0,o.useCallback)((e=>{i(0),d(parseInt(e.target.value,10))}),[]),v=(0,o.useCallback)((e=>{t(e.target.checked)}),[]),b=(0,o.useCallback)(((e,n)=>{h(e?n:[])}),[]),j=(0,o.useCallback)(((e,n)=>{i(n)}),[]),f=(0,o.useCallback)((()=>{i(0)}),[]),Z=(0,o.useCallback)((e=>{h([]),a&&e<2&&i(a-1)}),[a]),_=(0,o.useCallback)((e=>{let{totalRows:n,totalRowsInPage:t,totalRowsFiltered:r}=e;const o=m.length;if(h([]),a)if(o===t)i(a-1);else if(o===r)i(0);else if(o>t){const e=Math.ceil((n-o)/s)-1;i(e)}}),[a,s,m.length]);return{dense:n,order:c,page:a,orderBy:r,rowsPerPage:s,selected:m,onSelectRow:p,onSelectAllRows:b,onSort:x,onChangePage:j,onChangeDense:v,onResetPage:f,onChangeRowsPerPage:g,onUpdatePageDeleteRow:Z,onUpdatePageDeleteRows:_,setPage:i,setDense:t,setOrder:u,setOrderBy:l,setSelected:h,setRowsPerPage:d}}var s=t(9195),d=t(68745),c=t(81164),u=t(31092),m=t(80184);function h(e){let{notFound:n,sx:t}=e;const{t:a}=(0,c.qM)();return(0,m.jsx)(s.Z,{children:n?(0,m.jsx)(d.Z,{colSpan:12,children:(0,m.jsx)(u.Z,{filled:!0,title:a("No Data"),sx:{py:10,...t}})}):(0,m.jsx)(d.Z,{colSpan:12,sx:{p:0}})})}function x(e){let{emptyRows:n,height:t}=e;return n?(0,m.jsx)(s.Z,{sx:{...t&&{height:t*n}},children:(0,m.jsx)(d.Z,{colSpan:9})}):null}var p=t(16029),g=t(13034),v=t(56890),b=t(80720);const j={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function f(e){let{order:n,orderBy:t,rowCount:a=0,headLabel:i,numSelected:r=0,onSort:o,onSelectAllRows:l,sx:c}=e;return(0,m.jsx)(v.Z,{sx:c,children:(0,m.jsxs)(s.Z,{children:[l&&(0,m.jsx)(d.Z,{padding:"checkbox",children:(0,m.jsx)(g.Z,{indeterminate:!!r&&r<a,checked:!!a&&r===a,onChange:e=>l(e.target.checked)})}),i.map(((e,a)=>(0,m.jsx)(d.Z,{align:e.align||"center",sortDirection:t===e.id&&n,sx:{width:e.width,minWidth:e.minWidth},children:o?(0,m.jsxs)(b.Z,{hideSortIcon:!0,active:t===e.id,direction:t===e.id?n:"asc",onClick:()=>o(e.id),sx:{textTransform:"capitalize"},children:[e.label,t===e.id?(0,m.jsx)(p.Z,{sx:{...j},children:"desc"===n?"sorted descending":"sorted ascending"}):null]}):e.label},a)))]})})}var Z=t(53767),_=t(4567);function y(e){let{dense:n,action:t,rowCount:a,numSelected:i,onSelectAllRows:r,sx:o,color:l,...s}=e;const{t:d}=(0,c.qM)();return i?(0,m.jsxs)(Z.Z,{direction:"row",alignItems:"center",sx:{pl:1,pr:2,top:0,left:0,width:1,zIndex:9,height:58,position:"absolute",bgcolor:"".concat(l,".lighter"),...n&&{height:38},...o},...s,children:[(0,m.jsx)(g.Z,{indeterminate:!!i&&i<a,checked:!!a&&i===a,onChange:e=>r(e.target.checked)}),(0,m.jsxs)(_.Z,{variant:"subtitle2",sx:{ml:2,flexGrow:1,color:"".concat(l,".main"),...n&&{ml:3}},children:[i," ",d("selected")]}),t&&t]}):null}var w=t(89891),C=t(5446),k=t(25801);function P(e){let{dense:n,onChangeDense:t,rowsPerPageOptions:a=[5,10,25],sx:i,...r}=e;const{t:o}=(0,c.qM)();return(0,m.jsxs)(p.Z,{sx:{position:"relative",...i},children:[(0,m.jsx)(C.Z,{rowsPerPageOptions:a,component:"div",...r,sx:{borderTopColor:"transparent"}}),t&&(0,m.jsx)(k.Z,{label:o("dense"),control:(0,m.jsx)(w.Z,{checked:n,onChange:t}),sx:{pl:2,py:1.5,top:0,position:{sm:"absolute"}}})]})}},88700:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ee});var a=t(6907),i=t(27031),r=t(8007),o=t(10266),l=t(4567),s=t(38072),d=t(8976),c=t(81164),u=t(80994),m=t(84802),h=t(61134),x=t(72791),p=t(44695),g=t(12258),v=t(57621),b=t(16029),j=t(82626),f=t(53767),Z=t(19208),_=t(66664),y=t(73379),w=t(82007),C=t(535),k=t(79836),P=t(13967),S=t(53382),D=t(90618),R=t(53507),T=t(38062),I=t(9195),L=t(68745),q=t(13400),F=t(13838),A=t(22459),B=t(40268),M=t(77008),W=t(80184);function z(e){let{row:n,selected:t,onEmploymentRow:a}=e;const{sequence_number:i,name_english:r,name_arabic:o,nationality:l,birth_date:s,identification_num:d,email:u,mobile_num1:m,mobile_num2:h}=n,{t:x}=(0,c.qM)(),{currentLang:p}=(0,c.nt)(),g="ar"===p.value,v=(0,A.k)(),j=(0,W.jsxs)(I.Z,{hover:!0,selected:t,children:[(0,W.jsx)(L.Z,{align:"center",children:(0,W.jsxs)(b.Z,{children:[String(l.code).padStart(3,"0"),"-",i]})}),(0,W.jsx)(L.Z,{align:"center",children:r}),(0,W.jsx)(L.Z,{align:"center",children:o}),(0,W.jsx)(L.Z,{align:"center",children:m}),(0,W.jsx)(L.Z,{align:"center",children:h}),(0,W.jsx)(L.Z,{align:"center",sx:{textTransform:"none"},children:u}),(0,W.jsx)(L.Z,{align:"center",children:d}),(0,W.jsx)(L.Z,{align:"center",children:g?null===l||void 0===l?void 0:l.name_arabic:null===l||void 0===l?void 0:l.name_english}),(0,W.jsx)(L.Z,{align:"center",children:s}),(0,W.jsx)(L.Z,{align:"center",sx:{px:1,whiteSpace:"nowrap"},children:(0,W.jsx)(q.Z,{onClick:v.onToggle,children:(0,W.jsx)(B.Z,{width:"27px",color:"info.main",icon:"mdi:book-add"})})})]});return(0,W.jsxs)(W.Fragment,{children:[j,(0,W.jsx)(M.Q,{open:v.value,onClose:v.onFalse,title:x("confirm checking information"),content:x("Do you confirm checking patient data and check at least three values if they are true?"),action:(0,W.jsx)(F.Z,{variant:"contained",color:"info",onClick:a,children:x("confirm")})})]})}function E(e){let{reset:n,selected:t,oldPatients:a}=e;const{t:i}=(0,c.qM)(),{currentLang:r}=(0,c.nt)(),o="ar"===r.value,l=[{id:"code",label:i("code")},{id:"name_english",label:i("name in english")},{id:"name_arabic",label:i("name in arabic")},{id:"mobile_num1",label:i("mobile number")},{id:"mobile_num2",label:i("alternative mobile number")},{id:"email",label:i("email")},{id:"identification_num",label:i("ID number")},{id:"nationality",label:i("nationality")},{id:"birth_date",label:i("birth date")},{id:"book",width:88}],s=(0,Z.tv)(),{enqueueSnackbar:d}=(0,m.Ds)(),u=(0,T.x6)({defaultRowsPerPage:10}),h=(0,P.Z)(),{dense:x,page:p,order:g,orderBy:v,rowsPerPage:b,onSort:j,onChangeDense:y,onChangePage:w,onChangeRowsPerPage:C}=u;return(0,W.jsxs)(f.Z,{children:[(0,W.jsxs)(k.Z,{size:x?"small":"medium",sx:{minWidth:960,borderCollapse:"separate",borderSpacing:"0 16px"},children:[(0,W.jsx)(T.K,{order:g,orderBy:v,headLabel:l,onSort:j,sx:{["& .".concat(D.Z.head)]:{"&:first-of-type":{borderTopLeftRadius:12,borderBottomLeftRadius:12},"&:last-of-type":{borderTopRightRadius:12,borderBottomRightRadius:12}}}}),(0,W.jsxs)(S.Z,{children:[a.slice(p*b,p*b+b).map(((e,a,r)=>(0,W.jsx)(z,{row:e,onEmploymentRow:()=>(async e=>{try{await _.ZP.patch(_.Hv.appointments.book(t),{patient:e._id}),d(i("booked successfully!")),n(),s.back()}catch(a){d(o&&a.arabic_message||a.message,{variant:"error"}),console.error(a)}})(e)},r))),(0,W.jsx)(T.et,{notFound:0===a.length,sx:{m:-2,borderRadius:1.5,border:"dashed 1px ".concat(h.palette.divider)}})]})]}),(0,W.jsx)(T.S_,{count:a.length,page:p,rowsPerPage:b,onPageChange:w,onRowsPerPageChange:C,dense:x,onChangeDense:y,sx:{["& .".concat(R.Z.toolbar)]:{borderTopColor:"transparent"}}})]})}var G=t(90811),N=t(94721),O=t(9585),U=t(49900),$=t(96474),H=t(38887),X=t(30250);function Y(e){let{name:n,list:t,helperText:a,value:i,onChange:r,...o}=e;const{currentLang:s}=(0,c.nt)(),d="ar"===s.value;return(0,W.jsxs)(f.Z,{sx:{width:"100%",height:"100%",flexGrow:1,flexShrink:.5,px:3},children:[(0,W.jsx)(l.Z,{sx:{py:2,fontWeight:700},variant:"caption",color:"text.secondary",textTransform:"uppercase",children:"Select time"}),(0,W.jsx)(f.Z,{sx:{py:8,height:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-start"},children:t.map((e=>(0,W.jsx)(F.Z,{variant:"outlined",sx:{"&:hover":{backgroundColor:i===e._id?"primary.main":"hoverColor",color:i===e._id?"white":"hoverTextColor"},fontWeight:i===e._id?600:500,backgroundColor:i===e._id?"primary.main":"",color:i===e._id?"white":"",borderRadius:0},onClick:()=>{r(e._id)},children:(0,X.Je)(e.start_time,"p",d)})))})]})}var K=t(94791);function Q(e){let{selected:n,AppointDates:t,setSelected:a,selectedDate:i,setSelectedDate:r,list:o,loading:s}=e;const{t:d}=(0,c.qM)(),[u,m]=(0,x.useState)(),h=(0,H.F)("up","md"),p=(0,K.vr)({adaptiveHeight:!0});(0,x.useEffect)((()=>{var e,t;if(!s.value)if(n)if(o.some((e=>e._id===n)))o.forEach(((e,t)=>{var i,r;e._id===n&&(p.onTogo(t),a(null===o||void 0===o||null===(i=o[t])||void 0===i?void 0:i._id),m(null===o||void 0===o||null===(r=o[t])||void 0===r?void 0:r._id))}));else{var i,r;a(null===o||void 0===o||null===(i=o[0])||void 0===i?void 0:i._id),m(null===o||void 0===o||null===(r=o[0])||void 0===r?void 0:r._id),p.onTogo(0)}else a(null===o||void 0===o||null===(e=o[0])||void 0===e?void 0:e._id),m(null===o||void 0===o||null===(t=o[0])||void 0===t?void 0:t._id),p.onTogo(0)}),[o,s.value]);const g=e=>{var n,t;let i=p.currentIndex;"next"===e&&(p.onNext(),i===o.length-1?i=0:i+=1),"prev"===e&&(p.onPrev(),0===i?i=o.length-1:i-=1),a(null===(n=o[i])||void 0===n?void 0:n._id),m(null===(t=o[i])||void 0===t?void 0:t._id)};return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(f.Z,{direction:h?"row":"column",justifyContent:"space-around",children:[(0,W.jsx)($.w,{sx:{width:"100%",flexGrow:1,flexShrink:.4},orientation:h?"landscape":"",shouldDisableDate:e=>!t.some((n=>{const t=new Date(n),a=new Date(e);return t.getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()&&t.getDate()===a.getDate()})),slotProps:{actionBar:{actions:[]}},value:new Date(i),onChange:e=>r(e)}),(0,W.jsx)(Y,{list:o,onChange:e=>{a(e),m(e),o.forEach(((n,t)=>{n._id===e&&p.onTogo(t)}))},value:u})]}),(0,W.jsx)(N.Z,{sx:{borderStyle:"dashed"}}),n&&(0,W.jsx)(O.Z,{title:(0,W.jsx)(l.Z,{sx:{py:2,fontWeight:700},variant:"caption",color:"text.secondary",textTransform:"uppercase",children:d("Appointment details")}),action:(0,W.jsx)(K.i5,{onNext:()=>g("next"),onPrev:()=>g("prev")})}),(0,W.jsx)(K.ZP,{style:{dir:"rtl"},ref:p.carouselRef,...p.carouselSettings,children:o.map((e=>(0,W.jsx)(V,{item:e},e._id)))}),(0,W.jsx)(N.Z,{sx:{borderStyle:"dashed",mb:3}})]})}function V(e){var n,t;let{item:a}=e;const{work_group:i,appointment_type:r,unit_service:o,start_time:l,service_types:s,online_available:d}=a,{t:u}=(0,c.qM)(),{currentLang:m}=(0,c.nt)(),h="ar"===m.value,x=(0,H.F)("up","md");return(0,W.jsx)(f.Z,{dir:h?"rtl":"ltr",spacing:2,sx:{p:3,position:"relative"},children:(0,W.jsxs)(f.Z,{direction:x?"row":"column",alignItems:"center",spacing:2,children:[(0,W.jsx)(U.Z,{primary:(0,G.Z)(new Date(l))&&new Date(l).toLocaleTimeString(u("en-US"),{timeZone:null===o||void 0===o||null===(n=o.country)||void 0===n?void 0:n.time_zone,hour:"2-digit",minute:"2-digit"}),secondary:(0,G.Z)(new Date(l))&&new Date(l).toLocaleDateString(u("en-US"),{timeZone:(null===o||void 0===o||null===(t=o.country)||void 0===t?void 0:t.time_zone)||Intl.DateTimeFormat().resolvedOptions().timeZone}),primaryTypographyProps:{typography:"subtitle1",noWrap:!0},secondaryTypographyProps:{typography:"body2",component:"span",mt:.5,color:"text.disabled"}}),[{label:h?null===r||void 0===r?void 0:r.name_arabic:null===r||void 0===r?void 0:r.name_english,icon:(0,W.jsx)(B.Z,{icon:"streamline:waiting-appointments-calendar"})},{label:h?null===i||void 0===i?void 0:i.name_arabic:null===i||void 0===i?void 0:i.name_english,icon:(0,W.jsx)(B.Z,{icon:"ri:group-line"})},{label:null===s||void 0===s?void 0:s.reduce(((e,n)=>e+n.Price_per_unit),0),icon:(0,W.jsx)(B.Z,{icon:"solar:tag-price-bold"})},{label:u("available online"),icon:(0,W.jsx)(B.Z,{icon:d?"typcn:tick-outline":"mdi:close-outline",sx:{color:d?"success.main":"error.main"}})}].map(((e,n)=>(0,W.jsxs)(f.Z,{spacing:.5,direction:"row",children:[e.icon,(0,W.jsx)(U.Z,{primary:e.label,secondary:(0,W.jsx)("span",{dir:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"===e.label?"ltr":"auto",children:e.value}),primaryTypographyProps:{typography:"body2",color:"text.secondary",mb:.5},secondaryTypographyProps:{typography:"subtitle2",color:"text.primary",component:"span",textTransform:"none"}})]},n)))]})})}function J(){var e,n;const{user:t}=(0,d.E)(),{t:a}=(0,c.qM)(),{currentLang:i}=(0,c.nt)(),k="ar"===i.value,{countriesData:P}=(0,u.Rpj)(),S=(0,Z.tv)(),D=(0,Z.lr)(),R=D.get("appointment"),T=D.get("day"),[I,L]=(0,x.useState)(T?new Date(T):new Date),[q,F]=(0,x.useState)(R),{appointmentsData:A,AppointDates:B,loading:M}=(0,u.E7C)({id:null===t||void 0===t||null===(e=t.employee)||void 0===e||null===(n=e.employee_engagements[null===t||void 0===t?void 0:t.employee.selected_engagement])||void 0===n?void 0:n._id,filters:{startDate:new Date(I),status:"available"}}),{enqueueSnackbar:z}=(0,m.Ds)(),G=r.Ry().shape({sequence_number:r.Z_(),name_english:r.Z_(),name_arabic:r.Z_(),email:r.Z_(),identification_num:r.Z_(),birth_date:r.nK().nullable(),marital_status:r.Z_().nullable(),nationality:r.Z_().nullable(),country:r.Z_(),city:r.Z_(),mobile_num1:r.Z_(),mobile_num2:r.Z_(),gender:r.Z_()}),N=(0,x.useMemo)((()=>({sequence_number:"",name_english:"",name_arabic:"",email:"",identification_num:"",birth_date:null,marital_status:"",nationality:"",country:"",city:"",mobile_num1:"",mobile_num2:"",gender:""})),[]),O=(0,h.cI)({mode:"onTouched",resolver:(0,p.X)(G),defaultValues:N}),{reset:U,handleSubmit:$,watch:H,setValue:X,formState:{isSubmitting:Y}}=O,K=H(),{tableData:V}=(0,u.s_U)(K.country),{existPatients:J}=(0,u.E$b)({sequence_number:K.sequence_number,name_english:K.name_english,name_arabic:K.name_arabic,email:K.email.toLowerCase(),identification_num:K.identification_num,mobile_num1:K.mobile_num1,mobile_num2:K.mobile_num2}),ee=$((async e=>{try{await _.ZP.patch(_.Hv.appointments.patient.createPatientAndBookAppoint(q),e),z(a("created successfully!")),U(),S.back()}catch(n){z(k&&n.arabic_message||n.message,{variant:"error"}),console.error(n)}})),ne=e=>{/^[a-zA-Z0-9\s,@#$!*_\-&^%.()]*$/.test(e.target.value)&&X(e.target.name,e.target.value)};return(0,W.jsxs)(o.Z,{maxWidth:"xl",children:[(0,W.jsx)(y.Z,{heading:a("Book Appointment"),links:[{name:a("dashboard"),href:s.H.employee.root},{name:a("appointments"),href:s.H.employee.appointments.root},{name:a("book")}],sx:{mb:{xs:3,md:5}}}),(0,W.jsx)(w.Z,{methods:O,onSubmit:ee,children:(0,W.jsxs)(v.Z,{sx:{px:3,pb:3},children:[!M&&(0,W.jsx)(Q,{selected:q,AppointDates:B,loading:M,setSelected:F,selectedDate:I,setSelectedDate:L,list:A}),(0,W.jsx)(l.Z,{sx:{py:2,fontWeight:700},variant:"caption",color:"text.secondary",textTransform:"uppercase",children:a("patient information")}),(0,W.jsx)("br",{}),(0,W.jsx)("br",{}),(0,W.jsx)(C.au,{InputLabelProps:{shrink:!0},inputProps:{style:{textAlign:"center"}},sx:{width:"200px",mb:3,textAlign:"center"},size:"small",name:"sequence_number",onChange:e=>{const{value:n}=e.target,t=n.replace(/\D/g,"");t.length<=3?X(e.target.name,t):4===t.length&&"-"===t.charAt(3)?X(e.target.name,t.slice(0,3)):4===t.length&&"-"!==t.charAt(3)?X(e.target.name,"".concat(t.slice(0,3),"-").concat(t.slice(3))):X(e.target.name,t)},placeholder:"001-22",label:a("patient-code")}),(0,W.jsxs)(b.Z,{sx:{mb:3},rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(3, 1fr)"},children:[(0,W.jsx)(C.au,{onChange:ne,name:"name_english",label:a("patient name in english")}),(0,W.jsx)(C.au,{onChange:e=>{/^[\u0600-\u06FF0-9\s!@#$%^&*_\-()]*$/.test(e.target.value)&&X(e.target.name,e.target.value)},name:"name_arabic",label:a("patient name in arabic")}),(0,W.jsx)(C.au,{type:"email",name:"email",label:a("email address")}),(0,W.jsx)(C.au,{onChange:ne,name:"identification_num",label:a("ID number")}),(0,W.jsx)(C.Y_,{name:"mobile_num1",label:a("mobile number")}),(0,W.jsx)(C.Y_,{name:"mobile_num2",label:a("alternative mobile number")}),(0,W.jsx)(C.C5,{name:"birth_date",label:a("birth date")}),(0,W.jsx)(C.Cc,{name:"nationality",label:a("nationality"),children:P.map(((e,n)=>(0,W.jsx)(j.Z,{lang:"ar",value:e._id,children:k?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},n)))}),(0,W.jsx)(C.Cc,{name:"country",label:a("country of residence"),children:P.map(((e,n)=>(0,W.jsx)(j.Z,{lang:"ar",value:e._id,children:k?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},n)))}),(0,W.jsx)(C.Cc,{name:"city",label:a("city of residence"),children:V.map(((e,n)=>(0,W.jsx)(j.Z,{lang:"ar",value:e._id,children:k?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},n)))}),(0,W.jsxs)(C.Cc,{name:"marital_status",label:a("marital status"),children:[(0,W.jsx)(j.Z,{lang:"ar",value:"single",children:a("single")}),(0,W.jsx)(j.Z,{lang:"ar",value:"married",children:a("married")}),(0,W.jsx)(j.Z,{lang:"ar",value:"widowed",children:a("widowed")}),(0,W.jsx)(j.Z,{lang:"ar",value:"separated",children:a("separated")}),(0,W.jsx)(j.Z,{lang:"ar",value:"divorced",children:a("divorced")})]}),(0,W.jsxs)(C.Cc,{name:"gender",label:a("gender"),children:[(0,W.jsx)(j.Z,{lang:"ar",value:"male",children:a("male")}),(0,W.jsx)(j.Z,{lang:"ar",value:"female",children:a("female")})]})]}),(0,W.jsx)(f.Z,{alignItems:"flex-end",sx:{mt:3},children:(0,W.jsx)(g.Z,{type:"submit",tabIndex:-1,variant:"contained",loading:Y,children:a("create new patient and book")})}),J.length>0&&(0,W.jsx)(E,{selected:q,reset:U,oldPatients:J})]})})]})}function ee(){return(0,W.jsxs)(i.Z,{category:"work_group",subcategory:"appointments",acl:"read",children:[(0,W.jsxs)(a.ql,{children:[(0,W.jsx)("title",{children:" Book Appointment "}),(0,W.jsx)("meta",{name:"description",content:"meta"})]}),(0,W.jsx)(J,{})]})}}}]);
//# sourceMappingURL=2147.9931502f.chunk.js.map