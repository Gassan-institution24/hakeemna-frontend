"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[6599],{6599:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R});var n=a(6907),o=a(57689),r=a(79572),i=a(27031),s=a(6965),c=a(8007),l=a(72791),d=a(61134),p=a(44695),u=a(68870),m=a(36314),g=a(12258),v=a(27938),h=a(4567),f=a(9195),y=a(68745),x=a(38072),b=a(19208),Z=(a(10261),a(99116)),_=a(32869),k=a(29028),j=(a(40268),a(8976)),I=a(89731),X=(a(22459),a(80184));const w=[{label:"read",value:"read"},{label:"create",value:"create"},{label:"edit",value:"update"},{label:"delete",value:"delete"}];function C(e){var t;let{acl:a}=e;(0,b.tv)();const n=(0,b.UO)().id,{user:o}=(0,j.E)(),{enqueueSnackbar:r}=(0,_.Ds)(),s=c.Ry().shape({unit_service:c.Ry().shape({departments:c.IX(),employees:c.IX(),activities:c.IX(),appointments:c.IX(),appointment_configs:c.IX(),accounting:c.IX(),employee_type:c.IX(),work_shift:c.IX(),insurance:c.IX(),offers:c.IX(),quality_control:c.IX(),subscriptions:c.IX(),unit_service_info:c.IX(),old_patient:c.IX()}),department:c.Ry().shape({employees:c.IX(),activities:c.IX(),appointments:c.IX(),appointment_configs:c.IX(),accounting:c.IX(),rooms:c.IX(),quality_control:c.IX(),work_groups:c.IX()}),employee:c.Ry().shape({entrance_management:c.IX(),appointments:c.IX(),appointment_configs:c.IX(),accounting:c.IX()})}),C=(0,l.useMemo)((()=>({employee:(null===a||void 0===a?void 0:a.employee)||{entrance_management:[],appointments:[],appointment_configs:[],accounting:[],offers:[],acl:[],communication:[],info:[]},department:(null===a||void 0===a?void 0:a.department)||{employees:[],activities:[],appointments:[],appointment_configs:[],accounting:[],rooms:[],quality_control:[],work_groups:[],department_info:[]},unit_service:(null===a||void 0===a?void 0:a.unit_service)||{departments:[],employees:[],activities:[],appointments:[],appointment_configs:[],accounting:[],employee_type:[],work_shift:[],insurance:[],offers:[],quality_control:[],subscriptions:[],unit_service_info:[],old_patient:[],communication:[]}})),[a]),R=(0,d.cI)({resolver:(0,p.X)(s),defaultValues:C}),{reset:O,getValues:S,handleSubmit:z,formState:{isSubmitting:A}}=R,H=S(),q=z((async e=>{try{I.ZP.patch(I.Hv.tables.employeeEngagement(n),{acl:e}),Z.W.emit("updated",{user:o,link:x.H.unitservice.employees.acl(n),msg:"updated an employee permissions"}),r("Update success!"),console.info("DATA",e)}catch(t){Z.W.emit("error",{error:t,user:o,location:window.location.href}),console.error(t)}}));return(0,X.jsxs)(k.ZP,{methods:R,onSubmit:q,children:[(0,i.Z)({category:"employee",subcategory:"acl",acl:"update"})&&(0,X.jsx)(m.Z,{alignItems:"flex-end",sx:{mb:3,mr:3},children:(0,X.jsx)(g.Z,{type:"submit",variant:"contained",loading:A,children:"Save Changes"})}),(0,X.jsx)(u.Z,{gap:{xs:3,lg:10},height:"1500px",display:{md:"flex",xs:"block"},alignItems:"center",flexDirection:"column",flexWrap:"wrap",children:null===(t=Object.keys(H))||void 0===t?void 0:t.map((e=>(0,X.jsxs)(v.Z,{variant:"outlined",sx:{bgcolor:"background.neutral",py:2,borderRadius:1.5},children:[(0,X.jsx)(h.Z,{variant:"h6",sx:{m:2,mt:0},children:e}),Object.keys(H[e]).map((t=>(0,X.jsxs)(f.Z,{children:[(0,X.jsx)(y.Z,{lang:"ar",component:"th",scope:"row",children:t}),(0,X.jsx)(y.Z,{lang:"ar",align:"center",children:(0,X.jsx)(k.s2,{name:"".concat(e,".").concat(t),options:w,sx:{ml:4,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(4, 1fr)"}}})})]},t)))]})))})]})}function R(){const{id:e}=(0,o.UO)(),{data:t,loading:a}=(0,r.X7)(e);return(0,X.jsx)(X.Fragment,{children:(0,X.jsxs)(i.Z,{hasContent:!0,category:"employee",subcategory:"acl",acl:"update",children:[(0,X.jsx)(n.ql,{children:(0,X.jsx)("title",{children:"Access control list"})}),a&&(0,X.jsx)(s.a,{}),!a&&(0,X.jsx)(C,{acl:t.acl})]})})}},68745:(e,t,a)=>{a.d(t,{Z:()=>y});var n=a(63366),o=a(87462),r=a(72791),i=a(59278),s=a(94419),c=a(12065),l=a(14036),d=a(46646),p=a(829),u=a(31402),m=a(66934),g=a(90618),v=a(80184);const h=["align","className","component","padding","scope","size","sortDirection","variant"],f=(0,m.ZP)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],t["size".concat((0,l.Z)(a.size))],"normal"!==a.padding&&t["padding".concat((0,l.Z)(a.padding))],"inherit"!==a.align&&t["align".concat((0,l.Z)(a.align))],a.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:a}=e;return(0,o.Z)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?"1px solid ".concat(t.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===t.palette.mode?(0,c.$n)((0,c.Fq)(t.palette.divider,1),.88):(0,c._j)((0,c.Fq)(t.palette.divider,1),.68)),textAlign:"left",padding:16},"head"===a.variant&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===a.variant&&{color:(t.vars||t).palette.text.primary},"footer"===a.variant&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===a.size&&{padding:"6px 16px",["&.".concat(g.Z.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===a.padding&&{width:48,padding:"0 0 0 4px"},"none"===a.padding&&{padding:0},"left"===a.align&&{textAlign:"left"},"center"===a.align&&{textAlign:"center"},"right"===a.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===a.align&&{textAlign:"justify"},a.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})})),y=r.forwardRef((function(e,t){const a=(0,u.Z)({props:e,name:"MuiTableCell"}),{align:c="inherit",className:m,component:y,padding:x,scope:b,size:Z,sortDirection:_,variant:k}=a,j=(0,n.Z)(a,h),I=r.useContext(d.Z),X=r.useContext(p.Z),w=X&&"head"===X.variant;let C;C=y||(w?"th":"td");let R=b;"td"===C?R=void 0:!R&&w&&(R="col");const O=k||X&&X.variant,S=(0,o.Z)({},a,{align:c,component:C,padding:x||(I&&I.padding?I.padding:"normal"),size:Z||(I&&I.size?I.size:"medium"),sortDirection:_,stickyHeader:"head"===O&&I&&I.stickyHeader,variant:O}),z=(e=>{const{classes:t,variant:a,align:n,padding:o,size:r,stickyHeader:i}=e,c={root:["root",a,i&&"stickyHeader","inherit"!==n&&"align".concat((0,l.Z)(n)),"normal"!==o&&"padding".concat((0,l.Z)(o)),"size".concat((0,l.Z)(r))]};return(0,s.Z)(c,g.U,t)})(S);let A=null;return _&&(A="asc"===_?"ascending":"descending"),(0,v.jsx)(f,(0,o.Z)({as:C,ref:t,className:(0,i.Z)(z.root,m),"aria-sort":A,scope:R,ownerState:S},j))}))},9195:(e,t,a)=>{a.d(t,{Z:()=>f});var n=a(87462),o=a(63366),r=a(72791),i=a(59278),s=a(94419),c=a(12065),l=a(829),d=a(31402),p=a(66934),u=a(61613),m=a(80184);const g=["className","component","hover","selected"],v=(0,p.ZP)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.head&&t.head,a.footer&&t.footer]}})((e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,["&.".concat(u.Z.hover,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(u.Z.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}})),h="tr",f=r.forwardRef((function(e,t){const a=(0,d.Z)({props:e,name:"MuiTableRow"}),{className:c,component:p=h,hover:f=!1,selected:y=!1}=a,x=(0,o.Z)(a,g),b=r.useContext(l.Z),Z=(0,n.Z)({},a,{component:p,hover:f,selected:y,head:b&&"head"===b.variant,footer:b&&"footer"===b.variant}),_=(e=>{const{classes:t,selected:a,hover:n,head:o,footer:r}=e,i={root:["root",a&&"selected",n&&"hover",o&&"head",r&&"footer"]};return(0,s.Z)(i,u.G,t)})(Z);return(0,m.jsx)(v,(0,n.Z)({as:p,ref:t,className:(0,i.Z)(_.root,c),role:p===h?null:"row",ownerState:Z},x))}))},46646:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a(72791).createContext()},829:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a(72791).createContext()},44695:(e,t,a)=>{a.d(t,{X:()=>l});var n=a(61134),o=function(e,t,a){if(e&&"reportValidity"in e){var o=(0,n.U2)(a,t);e.setCustomValidity(o&&o.message||""),e.reportValidity()}},r=function(e,t){var a=function(a){var n=t.fields[a];n&&n.ref&&"reportValidity"in n.ref?o(n.ref,a,e):n.refs&&n.refs.forEach((function(t){return o(t,a,e)}))};for(var n in t.fields)a(n)},i=function(e,t){t.shouldUseNativeValidation&&r(e,t);var a={};for(var o in e){var i=(0,n.U2)(t.fields,o),l=Object.assign(e[o]||{},{ref:i&&i.ref});if(c(t.names||Object.keys(e),o)){var d=Object.assign({},s((0,n.U2)(a,o)));(0,n.t8)(d,"root",l),(0,n.t8)(a,o,d)}else(0,n.t8)(a,o,l)}return a},s=function(e){return Array.isArray(e)?e.filter(Boolean):[]},c=function(e,t){return e.some((function(e){return e.startsWith(t+".")}))};function l(e,t,a){return void 0===t&&(t={}),void 0===a&&(a={}),function(o,s,c){try{return Promise.resolve(function(n,i){try{var l=(t.context,Promise.resolve(e["sync"===a.mode?"validateSync":"validate"](o,Object.assign({abortEarly:!1},t,{context:s}))).then((function(e){return c.shouldUseNativeValidation&&r({},c),{values:a.raw?o:e,errors:{}}})))}catch(d){return i(d)}return l&&l.then?l.then(void 0,i):l}(0,(function(e){if(!e.inner)throw e;return{values:{},errors:i((t=e,a=!c.shouldUseNativeValidation&&"all"===c.criteriaMode,(t.inner||[]).reduce((function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),a){var o=e[t.path].types,r=o&&o[t.type];e[t.path]=(0,n.KN)(t.path,a,e,t.type,r?[].concat(r,t.message):t.message)}return e}),{})),c)};var t,a})))}catch(l){return Promise.reject(l)}}}}}]);
//# sourceMappingURL=6599.9858d418.chunk.js.map