"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[8414],{88414:(e,n,i)=>{i.r(n),i.d(n,{default:()=>S});var t=i(6907),s=i(27031),a=i(8976),r=i(16029),o=i(10266),l=i(76119),c=i(72791),d=i(50533),p=i(53767),u=i(13838),g=i(94721),m=i(4567),h=i(38072),v=i(19208),_=i(22459),x=i(66664),j=i(20748),y=i(78644),k=i(40268),Z=i(77008),f=i(80184);function b(e){let{card:n,sx:i,...t}=e;const{name_english:s,name_arabic:o,period_in_months:l,price_in_usd:b,package_appointment:w,package_accounting:S,package_docotor_report:C,package_final_reporting:D,package_old_files_Management:E,package_TAX_Income_reporting:F,Users_num:I}=n,{user:M,initialize:T}=(0,a.E)(),{t:q}=(0,y.qM)(),{currentLang:z}=(0,y.nt)(),A="ar"===z.value,H=(0,v.tv)(),P=(0,_.k)(),[R,U]=(0,c.useState)([]);(0,c.useEffect)((()=>{U([]),w&&U((e=>[...e,"appointment package"])),S&&U((e=>[...e,"accounting package"])),C&&U((e=>[...e,"docotor report package"])),D&&U((e=>[...e,"final reporting package"])),E&&U((e=>[...e,"old files Management package"])),F&&U((e=>[...e,"TAX Income reporting package"]))}),[w,S,C,D,E,F]);const X=(0,f.jsx)(p.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:(0,f.jsx)(r.Z,{sx:{width:48,height:48},children:(0,f.jsx)(j.Zk,{})})}),Y=(0,f.jsxs)(p.Z,{spacing:1,children:[(0,f.jsx)(m.Z,{variant:"h4",sx:{textTransform:"capitalize"},children:A?o:s}),(0,f.jsxs)(m.Z,{variant:"subtitle2",children:[I," ",q("users")]})]}),B=(0,f.jsxs)(p.Z,{direction:"row",children:[(0,f.jsx)(m.Z,{variant:"h4",children:b?"$":""}),(0,f.jsx)(m.Z,{lang:"ar",variant:"h2",children:b||q("FREE")}),(0,f.jsxs)(m.Z,{component:"span",sx:{alignSelf:"center",color:"text.disabled",ml:1,typography:"body2"},children:["/ ",l," ",q(l>1?"months":"month")]})]}),L=(0,f.jsxs)(p.Z,{spacing:2,children:[(0,f.jsxs)(p.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,f.jsx)(r.Z,{component:"span",sx:{typography:"overline"},children:q("Backages")}),(0,f.jsx)(d.Z,{variant:"body2",color:"inherit",underline:"always",children:w&&S&&C&&D&&E&&F?"All":""})]}),R.map((e=>(0,f.jsxs)(p.Z,{spacing:1,direction:"row",alignItems:"center",sx:{typography:"body2"},children:[(0,f.jsx)(k.Z,{icon:"eva:checkmark-fill",width:16,sx:{mr:1}}),q(e)]},e)))]});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(p.Z,{spacing:5,sx:{p:5,borderRadius:2,boxShadow:e=>({xs:e.customShadows.card}),...i},...t,children:[X,Y,B,(0,f.jsx)(g.Z,{sx:{borderStyle:"dashed"}}),L,(0,f.jsx)(u.Z,{fullWidth:!0,size:"large",variant:"contained",color:"primary",onClick:P.onTrue,children:q("Select")})]}),(0,f.jsx)(Z.Q,{open:P.value,onClose:P.onFalse,title:q("Confirm"),content:(0,f.jsxs)(f.Fragment,{children:[q("Do you confirm choosing")," ",(0,f.jsxs)("strong",{children:[" ",A?o:s," "]})," ",q("subscription ?")]}),action:(0,f.jsx)(u.Z,{variant:"contained",color:"success",onClick:()=>{P.onFalse(),(async()=>{try{var e,i,t,s;const a=new Date,r=new Date(a.getFullYear(),a.getMonth(),a.getDate()),o=new Date(r.getFullYear(),r.getMonth()+l,r.getDate());await x.ZP.post(x.Hv.license_movements.all,{unit_service:null===M||void 0===M||null===(e=M.employee)||void 0===e||null===(i=e.employee_engagements)||void 0===i||null===(t=i[M.employee.selected_engagement])||void 0===t||null===(s=t.unit_service)||void 0===s?void 0:s._id,subscription:n._id,Start_date:r,End_date:o,Users_num:I,price:b||0}),T(),H.push(h.H.unitservice.subscriptions.root)}catch(a){console.error(a)}})()},children:q("confirm")})})]})}function w(){var e,n,i;const{user:t}=(0,a.E)(),{subscriptionsData:s}=(0,l.SPq)(null===t||void 0===t||null===(e=t.employee)||void 0===e||null===(n=e.employee_engagements[null===t||void 0===t?void 0:t.employee.selected_engagement])||void 0===n||null===(i=n.unit_service)||void 0===i?void 0:i._id);return(0,f.jsx)(o.Z,{children:(0,f.jsx)(r.Z,{gap:{xs:3,md:5},display:"grid",alignItems:{md:"center"},gridTemplateColumns:{md:"repeat(3, 1fr)"},children:s.map(((e,n)=>(0,f.jsx)(b,{card:e,index:n},e.subscription)))})})}function S(){var e,n,i,r,o;const{user:l}=(0,a.E)(),c=null===l||void 0===l||null===(e=l.employee)||void 0===e||null===(n=e.employee_engagements)||void 0===n||null===(i=n[null===l||void 0===l||null===(o=l.employee)||void 0===o?void 0:o.selected_engagement])||void 0===i||null===(r=i.unit_service)||void 0===r?void 0:r.name_english;return(0,f.jsxs)(s.Z,{category:"unit_service",subcategory:"unit_service_info",acl:"create",children:[(0,f.jsxs)(t.ql,{children:[(0,f.jsxs)("title",{children:[c||"Service unit"," : New Subscription"]}),(0,f.jsx)("meta",{name:"description",content:"meta"})]}),(0,f.jsx)(w,{})]})}}}]);
//# sourceMappingURL=8414.b55089cf.chunk.js.map