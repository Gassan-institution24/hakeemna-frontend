"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[5220],{38563:(e,n,t)=>{t.d(n,{Z:()=>m});var l=t(16029),a=t(50533),i=t(53767),o=t(4567),s=t(93517),r=t(4419),d=t(80184);function c(e){let{link:n,activeLast:t,disabled:i}=e;const o={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...i&&!t&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},s=(0,d.jsxs)(d.Fragment,{children:[n.icon&&(0,d.jsx)(l.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:n.icon}),n.name]});return n.href?(0,d.jsx)(a.Z,{component:r.r,href:n.href,sx:o,children:s}):(0,d.jsxs)(l.Z,{sx:o,children:[" ",s," "]})}function m(e){let{links:n,action:t,heading:r,moreLink:m,activeLast:p,sx:v,...x}=e;const h=n&&n[n.length-1].name;return(0,d.jsxs)(l.Z,{sx:{...v},children:[(0,d.jsxs)(i.Z,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(l.Z,{sx:{flexGrow:1,display:"flex",gap:{md:3},alignItems:{md:"center"},flexDirection:{xs:"column",md:"row"}},children:[r&&(0,d.jsx)(o.Z,{textTransform:"capitalize",variant:"h4",gutterBottom:!0,children:r}),n&&!!n.length&&(0,d.jsx)(s.Z,{separator:(0,d.jsx)(u,{}),...x,children:null===n||void 0===n?void 0:n.map(((e,n)=>(0,d.jsx)(c,{link:e,activeLast:p,disabled:e.name===h},n)))})]}),t&&(0,d.jsxs)(l.Z,{sx:{flexShrink:0,textTransform:"capitalize"},children:[" ",t," "]})]}),!!m&&(0,d.jsx)(l.Z,{sx:{mt:2},children:m.map(((e,n)=>(0,d.jsx)(a.Z,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},n)))})]})}function u(){return(0,d.jsx)(l.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},73379:(e,n,t)=>{t.d(n,{Z:()=>l.Z});var l=t(38563)},45220:(e,n,t)=>{t.d(n,{Z:()=>K});var l=t(8007),a=t(61134),i=t(6165),o=t.n(i),s=t(72791),r=t(44695),d=t(57621),c=t(53767),m=t(10266),u=t(12258),p=t(4567),v=t(63515),x=t(16029),h=t(13239),g=t(38072),_=t(19208),y=t(22459),f=t(66664),b=t(99116),j=t(8976),Z=t(93011),w=t(81164),k=t(85563),C=t(32869),S=t(77008),I=t(11041),D=t(73379),T=t(39454),z=t(94721),F=t(82626),P=t(63466),M=t(17003),q=t(93971),E=t(9145),H=t(40268),L=t(80184);function W(e){var n,t,l,i,o;let{appointmentConfigData:s,setAppointTime:r}=e;const{t:d}=(0,w.qM)(),{currentLang:m}=(0,w.nt)(),u="ar"===m.value,v=[{value:"saturday",label:d("Saturday")},{value:"sunday",label:d("Sunday")},{value:"monday",label:d("Monday")},{value:"tuesday",label:d("Tuesday")},{value:"wednesday",label:d("Wednesday")},{value:"thursday",label:d("Thursday")},{value:"friday",label:d("Friday")}],{control:h,watch:_,trigger:y}=(0,a.Gc)(),{handleAddNew:f}=(0,q.A)(),b=_(),{myunitTime:C}=(0,E.lf)(),{user:S}=(0,j.E)(),{workGroupsData:I}=(0,Z.Sue)(null===S||void 0===S||null===(n=S.employee)||void 0===n||null===(t=n.employee_engagements)||void 0===t||null===(l=t[S.employee.selected_engagement])||void 0===l?void 0:l._id),{workShiftsData:D}=(0,Z.mxf)(null===S||void 0===S||null===(i=S.employee)||void 0===i||null===(o=i.employee_engagements[null===S||void 0===S?void 0:S.employee.selected_engagement])||void 0===o?void 0:o.unit_service._id);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(z.Z,{flexItem:!0,sx:{borderStyle:"solid"}}),(0,L.jsxs)(c.Z,{sx:{p:3},children:[(0,L.jsxs)(c.Z,{spacing:2,direction:{xs:"column",sm:"row"},sx:{p:3,width:{xs:"100%",md:"auto"}},children:[(0,L.jsx)(a.Qr,{name:"start_date",control:h,render:e=>{let{field:n,fieldState:{error:t}}=e;return(0,L.jsx)(M.M,{label:"".concat(d("start date")," *"),value:C(b.start_date),onChange:e=>{var t,l,a,i;const o=(0,T.Z)(e,(null===S||void 0===S||null===(t=S.employee)||void 0===t||null===(l=t.employee_engagements[null===S||void 0===S?void 0:S.employee.selected_engagement])||void 0===l||null===(a=l.unit_service)||void 0===a||null===(i=a.country)||void 0===i?void 0:i.time_zone)||Intl.DateTimeFormat().resolvedOptions().timeZone);n.onChange(o)},slotProps:{textField:{fullWidth:!0,error:!!t,helperText:null===t||void 0===t?void 0:t.message}}})}}),(0,L.jsx)(a.Qr,{name:"end_date",control:h,render:e=>{let{field:n,fieldState:{error:t}}=e;return(0,L.jsx)(M.M,{label:d("end date"),value:C(b.end_date),onChange:e=>{var t,l,a,i;const o=(0,T.Z)(e,(null===S||void 0===S||null===(t=S.employee)||void 0===t||null===(l=t.employee_engagements[null===S||void 0===S?void 0:S.employee.selected_engagement])||void 0===l||null===(a=l.unit_service)||void 0===a||null===(i=a.country)||void 0===i?void 0:i.time_zone)||Intl.DateTimeFormat().resolvedOptions().timeZone);n.onChange(o)},slotProps:{textField:{fullWidth:!0,error:!!t,helperText:null===t||void 0===t?void 0:t.message}}})}})]}),(0,L.jsxs)(c.Z,{spacing:2,direction:{xs:"column",sm:"row"},sx:{px:3,pb:3,width:{xs:"100%",md:"auto"}},children:[(0,L.jsxs)(k.Cc,{size:"small",name:"work_shift",label:"".concat(d("work shift")," *"),InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},disabled:Boolean(s),children:[D.map(((e,n)=>(0,L.jsx)(F.Z,{lang:"ar",value:e._id,children:u?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},n))),(0,L.jsx)(z.Z,{}),(0,L.jsxs)(F.Z,{lang:"ar",sx:{display:"flex",justifyContent:"flex-end",gap:1,fontWeight:600},onClick:()=>f(g.H.unitservice.tables.workshifts.new),children:[(0,L.jsx)(p.Z,{variant:"body2",sx:{color:"info.main"},children:d("Add new")}),(0,L.jsx)(H.Z,{icon:"material-symbols:new-window-sharp"})]})]}),(0,L.jsxs)(k.Cc,{size:"small",name:"work_group",label:"".concat(d("work group")," *"),InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},disabled:Boolean(s),children:[I&&(null===I||void 0===I?void 0:I.map(((e,n)=>(0,L.jsx)(F.Z,{lang:"ar",value:e._id,children:u?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},n)))),(0,L.jsx)(z.Z,{}),(0,L.jsxs)(F.Z,{lang:"ar",sx:{display:"flex",justifyContent:"flex-end",gap:1,fontWeight:600},onClick:()=>f(g.H.unitservice.tables.workgroups.new),children:[(0,L.jsx)(p.Z,{variant:"body2",sx:{color:"info.main"},children:d("Add new")}),(0,L.jsx)(H.Z,{icon:"material-symbols:new-window-sharp"})]})]}),(0,L.jsx)(k.au,{fullWidth:!0,step:"5",name:"appointment_time",label:d("appointment duration time"),type:"number",onBlur:e=>{r(e.target.value),y("appointment_time")},size:"small",InputLabelProps:{shrink:!0},InputProps:{endAdornment:(0,L.jsx)(P.Z,{position:"end",children:(0,L.jsx)(x.Z,{sx:{fontSize:"0.8rem"},children:d("min")})})}}),(0,L.jsx)(k.au,{size:"small",InputProps:{startAdornment:(0,L.jsx)(P.Z,{position:"start",children:(0,L.jsx)(x.Z,{sx:{fontSize:"0.8rem"},children:u?"\u0644\u0628\u0639\u062f":"for the next"})}),endAdornment:(0,L.jsx)(P.Z,{position:"end",children:(0,L.jsx)(x.Z,{sx:{fontSize:"0.8rem"},children:u?"\u0623\u064a\u0627\u0645":"days"})})},name:"config_frequency",label:d("configuration frequency"),type:"number",inputProps:{min:0,max:30,textAlign:"center"},InputLabelProps:{shrink:!0}})]}),(0,L.jsxs)(p.Z,{variant:"p",sx:{color:"text.secondary",mb:3,fontWeight:"700",textTransform:"capitalize"},children:[u?"\u0627\u0644\u0639\u0637\u0644 \u0627\u0644\u0623\u0633\u0628\u0648\u0639\u064a\u0629":"Weekly Days Off",":"]}),(0,L.jsx)(c.Z,{spacing:2,direction:{xs:"column",sm:"row"},sx:{p:3},children:(0,L.jsx)(k.s2,{size:"small",name:"weekend",options:v,sx:{display:"grid",gridTemplateColumns:{md:"repeat(7, 1fr)",sm:"repeat(4, 1fr)",xs:"repeat(2, 1fr)"}}})})]})]})}var A=t(13838),N=t(13400);function R(){const{t:e}=(0,w.qM)(),{currentLang:n}=(0,w.nt)(),t="ar"===n.value,{myunitTime:l}=(0,E.lf)(),{user:i}=(0,j.E)(),{control:o,watch:s}=(0,a.Gc)(),{fields:r,append:d,remove:m}=(0,a.Dq)({control:o,name:"holidays"}),u=s();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(z.Z,{flexItem:!0,sx:{borderStyle:"solid"}}),(0,L.jsxs)(x.Z,{sx:{p:3},children:[(0,L.jsxs)(p.Z,{variant:"p",sx:{color:"text.secondary",mb:3,fontWeight:"700",textTransform:"capitalize"},children:[t?"\u0627\u0644\u0639\u0637\u0644":"Holidays",":"]}),(0,L.jsx)(c.Z,{sx:{mt:3},divider:(0,L.jsx)(z.Z,{flexItem:!0,sx:{borderStyle:"dashed"}}),spacing:2,children:r.map(((n,t)=>(0,L.jsx)(c.Z,{alignItems:"flex-start",spacing:1.5,sx:{width:{xs:"100%",md:"auto"}},children:(0,L.jsxs)(c.Z,{direction:{xs:"column",md:"row"},spacing:2,sx:{width:{xs:"100%",md:"auto"}},children:[(0,L.jsx)(k.au,{size:"small",name:"holidays[".concat(t,"].description"),label:e("description")}),(0,L.jsx)(a.Qr,{name:"holidays[".concat(t,"].date"),control:o,render:n=>{let{field:a,fieldState:{error:o}}=n;return(0,L.jsx)(M.M,{label:e("date"),value:l(u.holidays[t].date),onChange:e=>{var n,t,l,o;const s=(0,T.Z)(e,(null===i||void 0===i||null===(n=i.employee)||void 0===n||null===(t=n.employee_engagements[null===i||void 0===i?void 0:i.employee.selected_engagement])||void 0===t||null===(l=t.unit_service)||void 0===l||null===(o=l.country)||void 0===o?void 0:o.time_zone)||Intl.DateTimeFormat().resolvedOptions().timeZone);a.onChange(s)},slotProps:{textField:{size:"small",fullWidth:!0,error:!!o,helperText:null===o||void 0===o?void 0:o.message}}})}}),(0,L.jsx)(N.Z,{sx:{justifySelf:"flex-end",alignSelf:"flex-end",width:35},size:"small",color:"error",onClick:()=>(e=>{m(e)})(t),children:(0,L.jsx)(H.Z,{icon:"solar:trash-bin-trash-bold"})})]})},t)))}),(0,L.jsx)(z.Z,{sx:{mt:3,mb:1,borderStyle:"dashed"}}),(0,L.jsx)(c.Z,{spacing:3,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:(0,L.jsx)(A.Z,{size:"small",color:"primary",startIcon:(0,L.jsx)(H.Z,{icon:"tdesign:plus"}),sx:{padding:1},onClick:()=>{d({date:null,description:""})},children:t?"\u0625\u0636\u0627\u0641\u0629 \u0623\u064a\u0627\u0645 \u0639\u0637\u0644":"add holiday"})})]})]})}var B=t(58406),O=t(13034),G=t(62861),Q=t(68096),X=t(47071),V=t(56125);function Y(e){var n,t,l,i;let{ParentIndex:o,open:s,appointmenttypesData:r,serviceTypesData:d,setAppointmentsNum:m}=e;const{t:u}=(0,w.qM)(),{currentLang:v}=(0,w.nt)(),h="ar"===v.value,{control:g,watch:_}=(0,a.Gc)(),{fields:y,append:f,remove:b}=(0,a.Dq)({control:g,name:"days_details[".concat(o,"].appointments")}),j=_(),Z=e=>{const n=null===d||void 0===d?void 0:d.filter((n=>null===e||void 0===e?void 0:e.includes(n._id)));return null===n||void 0===n?void 0:n.map((e=>h?e.name_arabic:e.name_english)).join(", ")};return(0,L.jsx)(V.Z,{in:s,timeout:"auto",unmountOnExit:!0,sx:{bgcolor:"background.neutral"},children:(0,L.jsxs)(x.Z,{sx:{px:2,pb:0},children:[(null===(n=j.days_details[o])||void 0===n||null===(t=n.appointments)||void 0===t?void 0:t.length)>0&&(0,L.jsxs)(p.Z,{variant:"p",sx:{color:"text.disabled",mb:3,fontSize:14},children:[u("appointments"),":"]}),(0,L.jsx)(c.Z,{sx:{mt:3},divider:(0,L.jsx)(z.Z,{flexItem:!0,sx:{borderStyle:"dashed"}}),spacing:3,alignItems:"flex-end",children:y.map(((e,n)=>(0,L.jsx)(c.Z,{alignItems:"center",flexWrap:"wrap",spacing:1.5,sx:{width:"80%"},children:(0,L.jsxs)(c.Z,{direction:{xs:"column",md:"row"},spacing:2,sx:{width:"100%"},children:[(0,L.jsx)(k.Cc,{size:"small",InputLabelProps:{shrink:!0},name:"days_details[".concat(o,"].appointments[").concat(n,"].appointment_type"),label:"".concat(u("appointment type")," *"),children:null===r||void 0===r?void 0:r.map(((e,n)=>(0,L.jsx)(F.Z,{lang:"ar",value:e._id,children:h?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},n)))}),(0,L.jsx)(k.Cm,{name:"days_details[".concat(o,"].appointments[").concat(n,"].start_time"),label:u("start time"),slotProps:{textField:{size:"small",fullWidth:!0}}}),(0,L.jsx)(a.Qr,{name:"days_details[".concat(o,"].appointments[").concat(n,"].service_types"),control:g,render:e=>{let{field:t,fieldState:{error:l}}=e;return(0,L.jsxs)(Q.Z,{error:!!l,size:"small",sx:{width:"100%",shrink:!0},children:[(0,L.jsxs)(G.Z,{shrink:!0,children:[" ",u("service types")," "]}),(0,L.jsx)(B.Z,{...t,multiple:!0,id:"multiple-days_details[".concat(o,"].appointments[").concat(n,"].service_types"),label:u("service types"),renderValue:Z,children:null===d||void 0===d?void 0:d.map(((e,n)=>{var l;const a=null===t||void 0===t||null===(l=t.value)||void 0===l?void 0:l.includes(e._id);return(0,L.jsxs)(F.Z,{lang:"ar",value:e._id,children:[(0,L.jsx)(O.Z,{size:"small",disableRipple:!0,checked:a}),h?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english]},n)}))}),!!l&&(0,L.jsx)(X.Z,{error:!!l,children:null===l||void 0===l?void 0:l.message})]})}}),(0,L.jsx)(k.jb,{size:"small",InputLabelProps:{shrink:!0},name:"days_details[".concat(o,"].appointments[").concat(n,"].online_available"),label:(0,L.jsx)(p.Z,{sx:{fontSize:12},children:u("online avaliable")})}),(0,L.jsx)(N.Z,{size:"small",color:"error",sx:{justifySelf:{xs:"flex-end"},alignSelf:{xs:"flex-end"},width:35},onClick:()=>(e=>{b(e),m((e=>({...e,[o]:e[o]-1})))})(n),children:(0,L.jsx)(H.Z,{icon:"solar:trash-bin-trash-bold"})})]})},n)))}),(0,L.jsx)(z.Z,{sx:{mt:(null===(l=j.days_details[o])||void 0===l||null===(i=l.appointments)||void 0===i?void 0:i.length)>0?3:0,mb:1,borderStyle:"dashed"}}),(0,L.jsx)(c.Z,{spacing:3,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:(0,L.jsx)(A.Z,{size:"small",color:"primary",startIcon:(0,L.jsx)(H.Z,{icon:"tdesign:plus"}),sx:{padding:1},onClick:()=>{const e=j.days_details[o].appointments?j.days_details[o].appointments[j.days_details[o].appointments.length-1]:null,n=new Date(e?null===e||void 0===e?void 0:e.start_time:j.days_details[o].work_start_time);e&&n.setMinutes(n.getMinutes()+j.appointment_time);const t={appointment_type:null,start_time:null,price:null,online_available:!0,service_types:[],...e,start_time:n};f(t),m((e=>({...e,[o]:e[o]+1})))},children:h?"\u0625\u0636\u0627\u0641\u0629 \u0645\u0648\u0627\u0639\u064a\u062f \u0628\u0627\u0644\u062a\u0641\u0635\u064a\u0644":"Add Detailed Appointment"})})]})})}function J(e){var n,t;let{setErrorMsg:l,appointTime:i}=e;const{t:o}=(0,w.qM)(),{currentLang:r}=(0,w.nt)(),d="ar"===r.value,m=(0,y.k)(),[u,v]=(0,s.useState)(!0),{handleAddNew:h}=(0,q.A)(),{enqueueSnackbar:_}=(0,C.Ds)(),f=[{value:"saturday",label:o("Saturday")},{value:"sunday",label:o("Sunday")},{value:"monday",label:o("Monday")},{value:"tuesday",label:o("Tuesday")},{value:"wednesday",label:o("Wednesday")},{value:"thursday",label:o("Thursday")},{value:"friday",label:o("Friday")}],{control:b,setValue:S,watch:I,clearErrors:D}=(0,a.Gc)(),{fields:T,append:P,remove:M}=(0,a.Dq)({control:b,name:"days_details"}),E=I(),{user:W}=(0,j.E)(),[R,V]=(0,s.useState)({}),[J,U]=(0,s.useState)({}),{appointmenttypesData:K}=(0,Z.o5E)(),{serviceTypesData:$}=(0,Z.UL2)(null===W||void 0===W||null===(n=W.employee)||void 0===n||null===(t=n.employee_engagements[null===W||void 0===W?void 0:W.employee.selected_engagement])||void 0===t?void 0:t.unit_service._id),ee=(0,s.useCallback)((()=>{try{var e;const n=null===(e=f.filter((e=>!E.weekend.includes(e.value)&&!E.days_details.some((n=>n.day===e.value))))[0])||void 0===e?void 0:e.value;if(!n)throw Error(o("No valid date to create"));const t={day:"",work_start_time:null,work_end_time:null,break_start_time:null,break_end_time:null,appointments:[],service_types:[],appointment_type:null,online_available:!0},l=E.days_details?E.days_details[E.days_details.length-1]:[],a={...t,...l,day:n};P(a)}catch(n){console.error(n),_(d&&n.arabic_message||n.message,{variant:"error"})}}),[E]),ne=(0,s.useCallback)((e=>{try{if(V({}),m.onTrue(),D(),!E.appointment_time)return S("days_details[".concat(e,"].appointments"),[]),void m.onFalse();if(!E.days_details[e].work_start_time)return S("days_details[".concat(e,"].appointments"),[]),void m.onFalse();if(!E.days_details[e].work_end_time)return S("days_details[".concat(e,"].appointments"),[]),void m.onFalse();const n=[],t=new Date,l=60*E.appointment_time*1e3,a=E.days_details[e],i=new Date(t.getFullYear(),t.getMonth(),t.getDate(),new Date(a.work_start_time).getHours(),new Date(a.work_start_time).getMinutes()).getTime();let o=new Date(t.getFullYear(),t.getMonth(),t.getDate(),new Date(a.work_end_time).getHours(),new Date(a.work_end_time).getMinutes()).getTime(),s=a.break_start_time?new Date(t.getFullYear(),t.getMonth(),t.getDate(),new Date(a.break_start_time).getHours(),new Date(a.break_start_time).getMinutes()).getTime():null,r=a.break_end_time?new Date(t.getFullYear(),t.getMonth(),t.getDate(),new Date(a.break_end_time).getHours(),new Date(a.break_end_time).getMinutes()).getTime():null;i>=o&&(o+=864e5),s&&i>s&&(s+=864e5),s&&r&&s>r&&(r+=864e5);let d=i;for(;d+l<=o;)!s||!r||d+l<=s||d>=r?(n.push({appointment_type:a.appointment_type,start_time:d,online_available:a.online_available,service_types:a.service_types}),d+=l):d=r;S("days_details[".concat(e,"].appointments"),n),m.onFalse()}catch(n){console.error(n),m.onFalse(),_(n.message,{variant:"error"})}}),[E.appointment_time,E.days_details]),te=(0,s.useCallback)((e=>{const n=null===$||void 0===$?void 0:$.filter((n=>null===e||void 0===e?void 0:e.includes(null===n||void 0===n?void 0:n._id)));return null===n||void 0===n?void 0:n.map((e=>d?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english)).join(", ")}),[$,d]),le=(0,s.useCallback)((e=>{const n=E.days_details[e];if(null!==n&&void 0!==n&&n.appointments.length)return null===n||void 0===n?void 0:n.appointments.length;const t=60*E.appointment_time*1e3,l=new Date(n.work_start_time).getTime();let a=new Date(n.work_end_time).getTime(),i=new Date(n.break_start_time).getTime(),o=new Date(n.break_end_time).getTime();return l>a&&(a+=864e5),l>i&&(i+=864e5),l>o&&(o+=864e5),l<o&&l<=i&&a>=o&&a>i?Math.floor((a-l-(o-i))/t)||0:l<o&&l<=i&&a<=o&&a>i?Math.floor((a-l-(a-i))/t)||0:Math.floor((a-l)/t)||0}),[E.appointment_time,E.days_details]);return(0,s.useEffect)((()=>{if(i)for(let e=0;e<E.days_details.length;e+=1)ne(e)}),[i]),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(z.Z,{flexItem:!0,sx:{borderStyle:"solid"}}),u&&(0,L.jsxs)(x.Z,{sx:{p:3},children:[(0,L.jsxs)(p.Z,{variant:"p",sx:{color:"text.secondary",mb:3,fontWeight:"700",textTransform:"capitalize"},children:[d?"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u064a\u0648\u0645":"Days Details",":"]}),(0,L.jsx)(c.Z,{sx:{mt:3},divider:(0,L.jsx)(z.Z,{flexItem:!0,sx:{borderStyle:"dashed"}}),spacing:3,children:T.map(((e,n)=>{var t,l;return(0,L.jsxs)(c.Z,{spacing:1.5,sx:{width:"100%"},children:[(0,L.jsxs)(c.Z,{direction:{xs:"column",md:"column"},spacing:2,sx:{width:"100%",mt:2},children:[(0,L.jsxs)(c.Z,{direction:{xs:"column",md:"row"},spacing:2,sx:{width:"100%",mt:2},children:[(0,L.jsx)(k.Cc,{disabled:!(null!==E&&void 0!==E&&null!==(t=E.weekend)&&void 0!==t&&t.includes(null===(l=E.days_details[n])||void 0===l?void 0:l.day)),InputLabelProps:{shrink:!0},size:"small",name:"days_details[".concat(n,"].day"),label:o("day"),children:f.filter((e=>!E.weekend.includes(e.value))).map(((e,n)=>(0,L.jsx)(F.Z,{lang:"ar",value:e.value,children:e.label},n)))}),(0,L.jsx)(k.Cc,{size:"small",InputLabelProps:{shrink:!0},name:"days_details[".concat(n,"].appointment_type"),onChange:e=>{S("days_details[".concat(n,"].appointment_type"),e.target.value),ne(n)},label:"".concat(o("appointment type")," *"),children:null===K||void 0===K?void 0:K.map(((e,n)=>(0,L.jsx)(F.Z,{lang:"ar",value:e._id,children:d?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},n)))}),(0,L.jsx)(a.Qr,{name:"days_details[".concat(n,"].service_types"),control:b,render:e=>{let{field:t,fieldState:{error:l}}=e;return(0,L.jsxs)(Q.Z,{error:!!l,size:"small",sx:{width:"100%",shrink:!0},children:[(0,L.jsxs)(G.Z,{shrink:!0,children:[" ",o("service types")," "]}),(0,L.jsxs)(B.Z,{...t,multiple:!0,id:"multiple-days_details[".concat(n,"].service_types"),label:o("service types"),onChange:e=>{S("days_details[".concat(n,"].service_types"),e.target.value),ne(n)},renderValue:te,children:[null===$||void 0===$?void 0:$.map(((e,n)=>{var l;const a=null===t||void 0===t||null===(l=t.value)||void 0===l?void 0:l.includes(e._id);return(0,L.jsxs)(F.Z,{lang:"ar",value:e._id,children:[(0,L.jsx)(O.Z,{size:"small",disableRipple:!0,checked:a}),d?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english]},n)})),(0,L.jsx)(z.Z,{}),(0,L.jsxs)(F.Z,{lang:"ar",sx:{display:"flex",justifyContent:"flex-end",gap:1,fontWeight:600},onClick:()=>h(g.H.unitservice.tables.services.new),children:[(0,L.jsx)(p.Z,{variant:"body2",sx:{color:"info.main"},children:o("Add new")}),(0,L.jsx)(H.Z,{icon:"material-symbols:new-window-sharp"})]})]}),!!l&&(0,L.jsx)(X.Z,{error:!!l,children:null===l||void 0===l?void 0:l.message})]})}}),(0,L.jsx)(k.au,{disabled:!0,size:"small",name:"days_details[".concat(n,"].appointment_number"),label:o("appointments number"),InputLabelProps:{shrink:!0},value:J[n]||le(n)})]}),(0,L.jsxs)(c.Z,{direction:{xs:"column",md:"row"},spacing:2,sx:{width:"100%",mt:2},children:[(0,L.jsx)(k.Cm,{name:"days_details[".concat(n,"].work_start_time"),label:o("work start time"),slotProps:{textField:{size:"small",fullWidth:!0}},onChange:()=>{S("days_details[".concat(n,"].work_end_time"),null),ne(n)}}),(0,L.jsx)(k.Cm,{name:"days_details[".concat(n,"].work_end_time"),label:o("work end time"),slotProps:{textField:{size:"small",fullWidth:!0}},onChange:()=>{ne(n)}}),(0,L.jsx)(k.Cm,{name:"days_details[".concat(n,"].break_start_time"),label:o("break start time"),slotProps:{textField:{size:"small",fullWidth:!0}},onChange:()=>{S("days_details[".concat(n,"].break_end_time"),null),ne(n)}}),(0,L.jsx)(k.Cm,{name:"days_details[".concat(n,"].break_end_time"),label:o("break end time"),slotProps:{textField:{size:"small",fullWidth:!0}},onChange:()=>{ne(n)}})]}),(0,L.jsx)(c.Z,{display:"flex",alignItems:"flex-end",children:(0,L.jsx)(k.jb,{size:"small",InputLabelProps:{shrink:!0},name:"days_details[".concat(n,"].online_available"),onChange:e=>{S("days_details[".concat(n,"].online_available"),!E.days_details[n].online_available),ne(n)},label:(0,L.jsx)(p.Z,{sx:{fontSize:12},children:o("online avaliable")})})}),(0,L.jsxs)(c.Z,{direction:{xs:"column",md:"row"},spacing:.2,sx:{justifySelf:{xs:"flex-end"},alignSelf:{xs:"flex-end"}},children:[(0,L.jsx)(N.Z,{size:"small",color:"error",onClick:()=>(e=>{M(e),v(!1),setTimeout((()=>{v(!0)}),100)})(n),children:(0,L.jsx)(H.Z,{icon:"solar:trash-bin-trash-bold"})}),(0,L.jsx)(N.Z,{size:"small",onClick:()=>ne(n),children:(0,L.jsx)(H.Z,{icon:"zondicons:refresh"})}),(0,L.jsx)(N.Z,{size:"small",onClick:()=>V({[n]:!R[n]}),children:(0,L.jsx)(H.Z,{icon:R[n]?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"})})]})]}),(0,L.jsx)(Y,{setAppointmentsNum:U,serviceTypesData:$,appointmenttypesData:K,open:R[n],ParentIndex:n,unmountOnExit:!0})]},n)}))}),(0,L.jsx)(z.Z,{sx:{mt:3,mb:1,borderStyle:"dashed"}}),(0,L.jsx)(c.Z,{spacing:3,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:(0,L.jsx)(A.Z,{size:"small",color:"primary",startIcon:(0,L.jsx)(H.Z,{icon:"tdesign:plus"}),sx:{padding:1},onClick:ee,children:d?"\u0625\u0636\u0627\u0641\u0629 \u064a\u0648\u0645 \u062c\u062f\u064a\u062f":"add new day"})})]})]})}function U(){const{t:e}=(0,w.qM)(),{currentLang:n}=(0,w.nt)(),t="ar"===n.value,{myunitTime:l}=(0,E.lf)(),{user:i}=(0,j.E)(),{control:o,watch:s,setValue:r}=(0,a.Gc)(),{fields:d,append:m,remove:u}=(0,a.Dq)({control:o,name:"long_holidays"}),v=s();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(z.Z,{flexItem:!0,sx:{borderStyle:"solid"}}),(0,L.jsxs)(x.Z,{sx:{p:3},children:[(0,L.jsxs)(p.Z,{variant:"p",sx:{color:"text.secondary",mb:3,fontWeight:"700",textTransform:"capitalize"},children:[t?"\u0639\u0637\u0644 \u0637\u0648\u064a\u0644\u0629":"Long Holidays",":"]}),(0,L.jsx)(c.Z,{sx:{mt:3},divider:(0,L.jsx)(z.Z,{flexItem:!0,sx:{borderStyle:"dashed"}}),spacing:3,children:d.map(((n,t)=>(0,L.jsx)(c.Z,{alignItems:"flex-start",spacing:1.5,sx:{width:{xs:"100%",md:"auto"}},children:(0,L.jsxs)(c.Z,{direction:{xs:"column",md:"row"},spacing:2,sx:{width:{xs:"100%",md:"auto"}},children:[(0,L.jsx)(k.au,{size:"small",name:"long_holidays[".concat(t,"].description"),label:e("description")}),(0,L.jsx)(a.Qr,{name:"long_holidays[".concat(t,"].start_date"),control:o,render:n=>{let{field:a,fieldState:{error:o}}=n;return(0,L.jsx)(M.M,{label:e("start date"),value:l(v.long_holidays[t].start_date),onChange:e=>{var n,l,o,s;const d=(0,T.Z)(e,(null===i||void 0===i||null===(n=i.employee)||void 0===n||null===(l=n.employee_engagements[null===i||void 0===i?void 0:i.employee.selected_engagement])||void 0===l||null===(o=l.unit_service)||void 0===o||null===(s=o.country)||void 0===s?void 0:s.time_zone)||Intl.DateTimeFormat().resolvedOptions().timeZone);r("long_holidays[".concat(t,"].end_date"),d),a.onChange(d)},slotProps:{textField:{size:"small",fullWidth:!0,error:!!o,helperText:null===o||void 0===o?void 0:o.message}}})}}),(0,L.jsx)(a.Qr,{name:"long_holidays[".concat(t,"].end_date"),control:o,render:n=>{let{field:a,fieldState:{error:o}}=n;return(0,L.jsx)(M.M,{label:e("end date"),value:l(v.long_holidays[t].end_date),onChange:e=>{var n,t,l,o;const s=(0,T.Z)(e,(null===i||void 0===i||null===(n=i.employee)||void 0===n||null===(t=n.employee_engagements[null===i||void 0===i?void 0:i.employee.selected_engagement])||void 0===t||null===(l=t.unit_service)||void 0===l||null===(o=l.country)||void 0===o?void 0:o.time_zone)||Intl.DateTimeFormat().resolvedOptions().timeZone);a.onChange(s)},slotProps:{textField:{size:"small",fullWidth:!0,error:!!o,helperText:null===o||void 0===o?void 0:o.message}}})}}),(0,L.jsx)(N.Z,{size:"small",color:"error",sx:{justifySelf:"flex-end",alignSelf:"flex-end",width:35},onClick:()=>(e=>{u(e)})(t),children:(0,L.jsx)(H.Z,{icon:"solar:trash-bin-trash-bold"})})]})},t)))}),(0,L.jsx)(z.Z,{sx:{mt:3,mb:1,borderStyle:"dashed"}}),(0,L.jsx)(c.Z,{spacing:1,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:(0,L.jsx)(A.Z,{size:"small",color:"primary",startIcon:(0,L.jsx)(H.Z,{icon:"tdesign:plus"}),sx:{padding:1},onClick:()=>{m({start_date:null,end_date:null,description:""})},children:t?"\u0625\u0636\u0627\u0641\u0629 \u0639\u0637\u0644 \u0637\u0648\u064a\u0644\u0629":"add long holiday"})})]})]})}function K(e){var n,t,i;let{appointmentConfigData:T,refetch:z,loading:F}=e;const P=(0,_.tv)(),{t:M}=(0,w.qM)(),{currentLang:q}=(0,w.nt)(),E="ar"===q.value,{user:H}=(0,j.E)(),A=(0,Z.X79)(null===H||void 0===H||null===(n=H.employee)||void 0===n||null===(t=n.employee_engagements)||void 0===t||null===(i=t[H.employee.selected_engagement])||void 0===i?void 0:i._id).data,N=(0,I.P4)({defaultRun:!0,showProgress:!0,steps:[{target:"#currEMNewEditDetails",title:"General information",disableBeacon:!0,content:(0,L.jsxs)(p.Z,{sx:{color:"text.secondary"},children:["In this part you will add a start date and end date where this config should start automatically adding appointments, and work shift",(0,L.jsx)("br",{}),"in addition to work shift and work group you have already created for organisation perposes ",(0,L.jsx)("br",{}),"and appointment duratin time for every day ",(0,L.jsx)("br",{}),(0,L.jsx)("span",{style:{color:"red"},children:"important:"})," remember the configuration frequency refered to when should appointments created (before how many days)"]})},{target:"#currEMNewEditDaysDetails",title:"Step 2",disableBeacon:!0,content:(0,L.jsxs)(p.Z,{sx:{color:"text.secondary"},children:["here you can add a detailed day routine for every week day and this data reflect directly to appointments",(0,L.jsx)("br",{}),(0,L.jsx)("span",{style:{color:"red"},children:"remember:"})," remember to choose am and pm in time pickers"]})},{target:"#currEMNewEditHolidays",title:"Step 3",disableBeacon:!0,content:(0,L.jsx)(p.Z,{sx:{color:"text.secondary"},children:"here you can add holidays for one day only"})},{target:"#currEMNewEditLongHolidays",title:"Step 4",disableBeacon:!0,content:(0,L.jsx)(p.Z,{sx:{color:"text.secondary"},children:"here you can add holidays for more than one day"})}]}),[B,O]=(0,s.useState)(0),[G,Q]=(0,s.useState)([]),[X,V]=(0,s.useState)(),{enqueueSnackbar:Y}=(0,C.Ds)(),K=(0,y.k)(!1),$=(0,y.k)(!1),ee=(0,y.k)(),ne=(0,y.k)(),te=l.Ry().shape({weekend:l.IX(),start_date:l.hT().nullable(),end_date:l.hT().nullable(),appointment_time:l.Rx().required(M("required field")).min(5,"".concat(M("must be at least")," 5")).max(180,"".concat(M("must be at most")," 5")),config_frequency:l.Rx().required(M("required field")).min(1,"".concat(M("must be at least")," 1")).max(360,"".concat(M("must be at most")," 360")),holidays:l.IX(),long_holidays:l.IX().of(l.Ry().shape({start_date:l.hT().nullable(),end_date:l.hT().nullable(),description:l.Z_().nullable()})),work_group:l.Z_().required(M("required field")),work_shift:l.Z_().required(M("required field")),days_details:l.IX().of(l.Ry().shape({day:l.Z_().required(M("required field")),work_start_time:l.hT().nullable().required(M("required field")),work_end_time:l.hT().nullable().required(M("required field")),appointments:l.IX(),service_types:l.IX(),appointment_type:l.Z_().nullable(),online_available:l.O7()}))}),le=(0,s.useMemo)((()=>{var e,n,t,l,a,i,o,s;return{unit_service:(null===T||void 0===T?void 0:T.unit_service._id)||(null===H||void 0===H||null===(e=H.employee)||void 0===e||null===(n=e.employee_engagements[null===H||void 0===H?void 0:H.employee.selected_engagement])||void 0===n?void 0:n.unit_service._id),department:(null===A||void 0===A||null===(t=A.department)||void 0===t?void 0:t._id)||(null===H||void 0===H||null===(l=H.employee)||void 0===l||null===(a=l.employee_engagements[null===H||void 0===H?void 0:H.employee.selected_engagement])||void 0===a||null===(i=a.department)||void 0===i?void 0:i._id),start_date:(null===T||void 0===T?void 0:T.start_date)||null,end_date:(null===T||void 0===T?void 0:T.end_date)||null,weekend:(null===T||void 0===T?void 0:T.weekend)||[],appointment_time:(null===T||void 0===T?void 0:T.appointment_time)||null,config_frequency:(null===T||void 0===T?void 0:T.config_frequency)||null,holidays:(null===T||void 0===T?void 0:T.holidays)||[{description:"",date:null}],long_holidays:(null===T||void 0===T?void 0:T.long_holidays)||[{description:"",start_date:null,end_date:null}],work_group:(null===T||void 0===T||null===(o=T.work_group)||void 0===o?void 0:o._id)||null,work_shift:(null===T||void 0===T||null===(s=T.work_shift)||void 0===s?void 0:s._id)||null,online_available:(null===T||void 0===T?void 0:T.online_available)||!0,days_details:(null===T||void 0===T?void 0:T.days_details)||[{day:"saturday",work_start_time:null,work_end_time:null,break_start_time:null,break_end_time:null,appointments:[],service_types:[],appointment_type:null,online_available:!0}]}}),[T,null===H||void 0===H?void 0:H.employee,null===A||void 0===A?void 0:A.department]),ae=(0,a.cI)({mode:"onTouched",resolver:(0,r.X)(te),defaultValues:le}),{handleSubmit:ie,formState:{isSubmitting:oe,errors:se}}=ae,re=ie((async e=>{ne.onTrue();const n=new Date,t=new Date(n.getTime()+24*e.config_frequency*60*60*1e3);try{var l,a,i;if(T)!e.start_date&&!e.end_date||new Date(e.end_date)>n&&(new Date(e.start_date)<=n||new Date(e.start_date)<t)?(Q(e),ee.onTrue()):(await f.ZP.patch("".concat(f.Hv.appointment_configs.all,"/").concat(null===T||void 0===T?void 0:T._id),e),P.push(g.H.employee.appointmentconfiguration.root));else $.onTrue(),await f.ZP.post(f.Hv.appointment_configs.all,e),b.Z.emit("created",{data:e,user:H,link:g.H.unitservice.employees.appointmentconfig.root(null===H||void 0===H||null===(l=H.employee)||void 0===l||null===(a=l.employee_engagements)||void 0===a||null===(i=a[H.employee.selected_engagement])||void 0===i?void 0:i._id),msg:"created an appointment config <strong>".concat(e.name_english||"","</strong>"),ar_msg:"\u0625\u0646\u0634\u0627\u0621 \u0625\u0639\u062f\u0627\u062f\u062a \u0645\u0648\u0627\u0639\u064a\u062f <strong>".concat(e.name_english||"","</strong>")}),$.onFalse(),P.push(g.H.employee.appointmentconfiguration.root),Y(M("added successfully!"));ne.onFalse(),console.info("DATA",JSON.stringify(e,null,2))}catch(o){console.error(o),$.onFalse(),ne.onFalse(),Y(E&&"".concat(o.arabic_message)||"".concat(o.message),{variant:"error"})}}));return(0,s.useEffect)((()=>{V(),Object.keys(se).length&&Object.keys(se).forEach(((e,n)=>{var t;Y("".concat(e,": ").concat((null===se||void 0===se||null===(t=se[e])||void 0===t?void 0:t.message)||"error"),{variant:"error"})}))}),[se,Y]),(0,s.useEffect)((()=>{var e,n,t,l,a,i,o;T&&ae.reset({unit_service:(null===T||void 0===T?void 0:T.unit_service)||(null===H||void 0===H||null===(e=H.employee)||void 0===e||null===(n=e.employee_engagements[null===H||void 0===H?void 0:H.employee.selected_engagement])||void 0===n?void 0:n.unit_service._id),department:(null===A||void 0===A||null===(t=A.department)||void 0===t?void 0:t._id)||(null===H||void 0===H||null===(l=H.employee.employee_engagements[null===H||void 0===H?void 0:H.employee.selected_engagement])||void 0===l||null===(a=l.department)||void 0===a?void 0:a._id),start_date:(null===T||void 0===T?void 0:T.start_date)||null,end_date:(null===T||void 0===T?void 0:T.end_date)||null,weekend:(null===T||void 0===T?void 0:T.weekend)||[],appointment_time:(null===T||void 0===T?void 0:T.appointment_time)||null,config_frequency:(null===T||void 0===T?void 0:T.config_frequency)||null,holidays:(null===T||void 0===T?void 0:T.holidays)||[{description:"",date:null}],long_holidays:(null===T||void 0===T?void 0:T.long_holidays)||[{description:"",start_date:null,end_date:null}],work_group:(null===(i=T.work_group)||void 0===i?void 0:i._id)||null,work_shift:(null===(o=T.work_shift)||void 0===o?void 0:o._id)||null,days_details:T.days_details||[{day:"",work_start_time:null,work_end_time:null,break_start_time:null,break_end_time:null,appointments:[]}]})}),[T,H,null===A||void 0===A?void 0:A.department]),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(I.ZP,{continuous:!0,showProgress:!0,showSkipButton:!0,disableOverlayClose:!0,steps:N.steps,run:N.run,callback:N.onCallback,getHelpers:N.setHelpers}),(0,L.jsxs)(m.Z,{maxWidth:"lg",children:[(0,L.jsx)(D.Z,{heading:M("appointment configuration"),links:[{name:M("dashboard"),href:g.H.dashboard.root},{name:M("appointment configuration")}],sx:{mb:{xs:3,md:5}}}),(0,L.jsxs)(k.ZP,{methods:ae,children:[!F&&(0,L.jsxs)(d.Z,{children:[!!X&&(0,L.jsx)(v.Z,{sx:{borderRadius:0},severity:"error",children:(0,L.jsx)("div",{dangerouslySetInnerHTML:{__html:X}})}),(0,L.jsx)("div",{id:"currEMNewEditDetails",children:(0,L.jsx)(W,{setAppointTime:O,appointmentConfigData:T})}),(0,L.jsx)("div",{id:"currEMNewEditDaysDetails",children:(0,L.jsx)(J,{setErrorMsg:V,appointTime:B})}),(0,L.jsx)("div",{id:"currEMNewEditHolidays",children:(0,L.jsx)(R,{})}),(0,L.jsx)("div",{id:"currEMNewEditLongHolidays",children:(0,L.jsx)(U,{})})]}),(0,L.jsx)(c.Z,{justifyContent:"flex-end",direction:"row",spacing:2,sx:{mt:3},children:(0,L.jsx)(u.Z,{variant:"contained",loading:oe||K.value||$.value,onClick:re,children:M("save")})})]})]}),(0,L.jsx)(S.Q,{disabled:$.value,open:$.value||ee.value,onClose:ee.onFalse,title:$.value?"Creating appointments...":"Do you want to change your existance appointments?",content:$.value?(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(o(),{options:{strings:["It might take several minutes..","We are getting appointments ready..","We are almost done.."],autoStart:!0,loop:!0,deleteSpeed:5,cursor:"",delay:20}})}):(0,L.jsxs)(L.Fragment,{children:[E?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(p.Z,{variant:"body1",component:"p",sx:{color:"info.dark"},children:[(0,L.jsx)("strong",{children:" \u0645\u0644\u0627\u062d\u0638\u0629: "})," \u0644\u0646 \u064a\u062a\u0645 \u0627\u0644\u062a\u0639\u062f\u064a\u0644 \u0639\u0644\u0649 \u0623\u064a \u0645\u0646 \u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f \u0627\u0644\u0645\u062d\u062c\u0648\u0632\u0629"]}),(0,L.jsxs)(p.Z,{variant:"body2",component:"p",sx:{mt:1,color:"text.disabled"},children:["\u0627\u0636\u063a\u0637 ",(0,L.jsx)("strong",{children:" \u0646\u0639\u0645 "})," \u0644\u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f \u0627\u0644\u0645\u0646\u0634\u0623\u0629"]})]}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(p.Z,{variant:"body1",component:"p",sx:{color:"info.dark"},children:[(0,L.jsx)("strong",{children:" note:"})," booked appointment will not change"]}),(0,L.jsxs)(p.Z,{variant:"body2",component:"p",sx:{mt:1,color:"text.disabled"},children:["press",(0,L.jsx)("strong",{children:" yes"})," to change existance appointments"]})]}),E?(0,L.jsxs)(p.Z,{variant:"body2",component:"p",sx:{color:"text.disabled"},children:["\u0627\u0636\u063a\u0637 ",(0,L.jsx)("strong",{children:" \u0644\u0627 "})," \u0644\u062d\u0641\u0638 \u0627\u0644\u0627\u0639\u062f\u0627\u062f\u0627\u062a \u0644\u0644\u0628\u062f\u0621 \u0645\u0646 \u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f \u0627\u0644\u062a\u064a \u064a\u0631\u0627\u062f \u0625\u0646\u0634\u0627\u0626\u0647\u0627"]}):(0,L.jsxs)(p.Z,{variant:"body2",component:"p",sx:{color:"text.disabled"},children:["press",(0,L.jsx)("strong",{children:" No"})," to start changing when creating new appointments"]})]}),withoutCancel:$.value,action:(0,L.jsxs)(L.Fragment,{children:[$.value&&(0,L.jsx)(x.Z,{height:"40",sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,L.jsx)(h.Z,{size:24,color:"primary"})}),!$.value&&(0,L.jsx)(u.Z,{variant:"contained",loading:$.value,color:"warning",onClick:async()=>{$.onTrue();try{await f.ZP.patch("".concat(f.Hv.appointment_configs.all,"/").concat(null===T||void 0===T?void 0:T._id),{...G,ImmediateEdit:!0}),$.onFalse(),ee.onFalse(),Y(M("updated successfully!")),P.push(g.H.employee.appointmentconfiguration.root)}catch(e){console.error(e),$.onFalse(),ee.onFalse(),Y(E&&"".concat(e.arabic_message)||"".concat(e.message),{variant:"error"})}},children:M("yes")}),!$.value&&(0,L.jsx)(u.Z,{disabled:$.value,loading:K.value,variant:"contained",color:"success",onClick:async()=>{K.onTrue();try{await f.ZP.patch("".concat(f.Hv.appointment_configs.all,"/").concat(null===T||void 0===T?void 0:T._id),{...G,ImmediateEdit:!1}),Y(M("updated successfully!")),K.onFalse(),ee.onFalse(),P.push(g.H.employee.appointmentconfiguration.root)}catch(e){console.error(e),K.onFalse(),ee.onFalse(),Y(E&&"".concat(e.arabic_message)||"".concat(e.message),{variant:"error"})}},children:M("no")})]})})]})}},93517:(e,n,t)=>{t.d(n,{Z:()=>T});var l=t(87462),a=t(63366),i=t(72791),o=(t(57441),t(59278)),s=t(50385),r=t(20838),d=t(66934),c=t(31402),m=t(4567),u=t(54131),p=t(74223),v=t(80184);const x=(0,p.Z)((0,v.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var h=t(95080);const g=["slots","slotProps"],_=(0,d.ZP)(h.Z)((e=>{let{theme:n}=e;return(0,l.Z)({display:"flex",marginLeft:"calc(".concat(n.spacing(1)," * 0.5)"),marginRight:"calc(".concat(n.spacing(1)," * 0.5)")},"light"===n.palette.mode?{backgroundColor:n.palette.grey[100],color:n.palette.grey[700]}:{backgroundColor:n.palette.grey[700],color:n.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,l.Z)({},"light"===n.palette.mode?{backgroundColor:n.palette.grey[200]}:{backgroundColor:n.palette.grey[600]}),"&:active":(0,l.Z)({boxShadow:n.shadows[0]},"light"===n.palette.mode?{backgroundColor:(0,u._4)(n.palette.grey[200],.12)}:{backgroundColor:(0,u._4)(n.palette.grey[600],.12)})})})),y=(0,d.ZP)(x)({width:24,height:16});const f=function(e){const{slots:n={},slotProps:t={}}=e,i=(0,a.Z)(e,g),o=e;return(0,v.jsx)("li",{children:(0,v.jsx)(_,(0,l.Z)({focusRipple:!0},i,{ownerState:o,children:(0,v.jsx)(y,(0,l.Z)({as:n.CollapsedIcon,ownerState:o},t.collapsedIcon))}))})};var b=t(59703),j=t(64657);function Z(e){return(0,j.ZP)("MuiBreadcrumbs",e)}const w=(0,b.Z)("MuiBreadcrumbs",["root","ol","li","separator"]),k=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],C=(0,d.ZP)(m.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,n)=>[{["& .".concat(w.li)]:n.li},n.root]})({}),S=(0,d.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,n)=>n.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),I=(0,d.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,n)=>n.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function D(e,n,t,l){return e.reduce(((a,i,o)=>(o<e.length-1?a=a.concat(i,(0,v.jsx)(I,{"aria-hidden":!0,className:n,ownerState:l,children:t},"separator-".concat(o))):a.push(i),a)),[])}const T=i.forwardRef((function(e,n){const t=(0,c.Z)({props:e,name:"MuiBreadcrumbs"}),{children:d,className:m,component:u="nav",slots:p={},slotProps:x={},expandText:h="Show path",itemsAfterCollapse:g=1,itemsBeforeCollapse:_=1,maxItems:y=8,separator:b="/"}=t,j=(0,a.Z)(t,k),[w,I]=i.useState(!1),T=(0,l.Z)({},t,{component:u,expanded:w,expandText:h,itemsAfterCollapse:g,itemsBeforeCollapse:_,maxItems:y,separator:b}),z=(e=>{const{classes:n}=e;return(0,r.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},Z,n)})(T),F=(0,s.y)({elementType:p.CollapsedIcon,externalSlotProps:x.collapsedIcon,ownerState:T}),P=i.useRef(null),M=i.Children.toArray(d).filter((e=>i.isValidElement(e))).map(((e,n)=>(0,v.jsx)("li",{className:z.li,children:e},"child-".concat(n))));return(0,v.jsx)(C,(0,l.Z)({ref:n,component:u,color:"text.secondary",className:(0,o.Z)(z.root,m),ownerState:T},j,{children:(0,v.jsx)(S,{className:z.ol,ref:P,ownerState:T,children:D(w||y&&M.length<=y?M:(e=>_+g>=e.length?e:[...e.slice(0,_),(0,v.jsx)(f,{"aria-label":h,slots:{CollapsedIcon:p.CollapsedIcon},slotProps:{collapsedIcon:F},onClick:()=>{I(!0);const e=P.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-g,e.length)])(M),z.separator,b,T)})}))}))}}]);
//# sourceMappingURL=5220.1eb658e8.chunk.js.map