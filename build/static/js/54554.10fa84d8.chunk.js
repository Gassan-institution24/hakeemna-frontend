"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[54554],{5371:(e,t,a)=>{a.d(t,{A:()=>j});var r=a(80899),s=a(24858),n=a(65043),l=a(18403),i=a(81e3),o=a(12110),c=a(74600),d=a(22075),m=a(38246),p=a(48407),u=a(67132),h=a(31673),g=a(91562),x=a(75139),v=a(60778),f=a(94857),b=a(59699),A=a(70579);function j(e){let{departmentData:t,currentTable:a}=e;const j=(0,u.rd)(),{t:y}=(0,v.WD)(),{currentLang:_}=(0,v.jc)(),k="ar"===_.value,{user:C}=(0,x.Z)(),{enqueueSnackbar:$}=(0,f.dh)(),w=r.Ik().shape({name_arabic:r.Yj().required(y("required field")),name_english:r.Yj().required(y("required field")),details:r.Yj(),details_arabic:r.Yj()}),S=(0,n.useMemo)((()=>({department:t._id,unit_service:t.unit_service._id,name_english:(null===a||void 0===a?void 0:a.name_english)||"",name_arabic:(null===a||void 0===a?void 0:a.name_arabic)||"",details:(null===a||void 0===a?void 0:a.details)||"",details_arabic:(null===a||void 0===a?void 0:a.details_arabic)||""})),[a,t]),I=(0,s.mN)({mode:"all",resolver:(0,l.t)(w),defaultValues:S}),{reset:R,handleSubmit:B,formState:{isSubmitting:L,errors:M}}=I;(0,n.useEffect)((()=>{Object.keys(M).length&&Object.keys(M).forEach(((e,t)=>{var a;return $(`${e}: ${(null===M||void 0===M||null===(a=M[e])||void 0===a?void 0:a.message)||"error"}`,{variant:"error"})}))}),[M,$]);const T=e=>{/^[\u0600-\u06FF0-9\s!@#$%^&*_\-().]*$/.test(e.target.value)&&I.setValue(e.target.name,e.target.value,{shouldValidate:!0})},z=e=>{/^[a-zA-Z0-9\s,@#$!*_\-&^%.()]*$/.test(e.target.value)&&I.setValue(e.target.name,e.target.value,{shouldValidate:!0})},N=B((async e=>{try{a?(await h.Ay.patch(`${h.vZ.activities.one(a._id)}`,e),g.A.emit("updated",{user:C,link:p.f.unitservice.departments.activities.root(t._id),msg:`editted an activity <strong>[ ${e.name_english} ]</strong> in department <strong>${t.name_english}</strong>`}),j.push(p.f.unitservice.departments.activities.root(t._id))):(await h.Ay.post(`${h.vZ.activities.all}`,e),g.A.emit("created",{user:C,link:p.f.unitservice.departments.activities.root(t._id),msg:`created an activity <strong>[ ${e.name_english} ]</strong> in department <strong>${t.name_english}</strong>`,ar_msg:`\u0625\u0646\u0634\u0627\u0621 \u0646\u0634\u0627\u0637  <strong>[ ${e.name_arabic} ]</strong> \u0641\u064a \u0642\u0633\u0645 <strong>${t.name_arabic}</strong>`})),R(),$(y(a?"update success!":"create success!"))}catch(r){$(k&&`${r.arabic_message}`||`${r.message}`,{variant:"error"}),console.error(r)}}));return(0,n.useEffect)((()=>{R(S)}),[S,R]),(0,A.jsx)(b.Ay,{methods:I,onSubmit:N,children:(0,A.jsx)(d.A,{container:!0,spacing:3,children:(0,A.jsx)(d.A,{xs:12,maxWidth:"md",children:(0,A.jsxs)(o.A,{sx:{p:3},children:[(0,A.jsxs)(i.A,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,A.jsx)(b.o3,{onChange:z,name:"name_english",label:`${y("name english")} *`}),(0,A.jsx)(b.o3,{onChange:T,name:"name_arabic",label:`${y("name arabic")} *`}),(0,A.jsx)(b.o3,{onChange:z,name:"details",label:y("details")}),(0,A.jsx)(b.o3,{onChange:T,name:"details_arabic",label:y("details arabic")})]}),(0,A.jsx)(c.A,{alignItems:"flex-end",sx:{mt:3},children:(0,A.jsx)(m.A,{type:"submit",tabIndex:-1,variant:"contained",loading:L,children:y(a?"save changes":"create")})})]})})})})}},22698:(e,t,a)=>{a.d(t,{A:()=>R});var r=a(58168),s=a(98587),n=a(65043),l=a(58387),i=a(98610),o=a(88092),c=a(34535),d=a(98206),m=a(94496),p=a(67266),u=a(66734),h=a(70579);const g=(0,u.A)((0,h.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var x=a(96030);const v=["slots","slotProps"],f=(0,c.Ay)(x.A)((e=>{let{theme:t}=e;return(0,r.A)({display:"flex",marginLeft:`calc(${t.spacing(1)} * 0.5)`,marginRight:`calc(${t.spacing(1)} * 0.5)`},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,r.A)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,r.A)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,p.tL)(t.palette.grey[200],.12)}:{backgroundColor:(0,p.tL)(t.palette.grey[600],.12)})})})),b=(0,c.Ay)(g)({width:24,height:16});const A=function(e){const{slots:t={},slotProps:a={}}=e,n=(0,s.A)(e,v),l=e;return(0,h.jsx)("li",{children:(0,h.jsx)(f,(0,r.A)({focusRipple:!0},n,{ownerState:l,children:(0,h.jsx)(b,(0,r.A)({as:t.CollapsedIcon,ownerState:l},a.collapsedIcon))}))})};var j=a(92532),y=a(72372);function _(e){return(0,y.Ay)("MuiBreadcrumbs",e)}const k=(0,j.A)("MuiBreadcrumbs",["root","ol","li","separator"]),C=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],$=(0,c.Ay)(m.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{[`& .${k.li}`]:t.li},t.root]})({}),w=(0,c.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),S=(0,c.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function I(e,t,a,r){return e.reduce(((s,n,l)=>(l<e.length-1?s=s.concat(n,(0,h.jsx)(S,{"aria-hidden":!0,className:t,ownerState:r,children:a},`separator-${l}`)):s.push(n),s)),[])}const R=n.forwardRef((function(e,t){const a=(0,d.b)({props:e,name:"MuiBreadcrumbs"}),{children:c,className:m,component:p="nav",slots:u={},slotProps:g={},expandText:x="Show path",itemsAfterCollapse:v=1,itemsBeforeCollapse:f=1,maxItems:b=8,separator:j="/"}=a,y=(0,s.A)(a,C),[k,S]=n.useState(!1),R=(0,r.A)({},a,{component:p,expanded:k,expandText:x,itemsAfterCollapse:v,itemsBeforeCollapse:f,maxItems:b,separator:j}),B=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},_,t)})(R),L=(0,o.A)({elementType:u.CollapsedIcon,externalSlotProps:g.collapsedIcon,ownerState:R}),M=n.useRef(null),T=n.Children.toArray(c).filter((e=>n.isValidElement(e))).map(((e,t)=>(0,h.jsx)("li",{className:B.li,children:e},`child-${t}`)));return(0,h.jsx)($,(0,r.A)({ref:t,component:p,color:"text.secondary",className:(0,l.A)(B.root,m),ownerState:R},y,{children:(0,h.jsx)(w,{className:B.ol,ref:M,ownerState:R,children:I(k||b&&T.length<=b?T:(e=>f+v>=e.length?e:[...e.slice(0,f),(0,h.jsx)(A,{"aria-label":x,slots:{CollapsedIcon:u.CollapsedIcon},slotProps:{collapsedIcon:L},onClick:()=>{S(!0);const e=M.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-v,e.length)])(T),B.separator,j,R)})}))}))},83858:(e,t,a)=>{a.d(t,{A:()=>r.A});var r=a(91720)},91720:(e,t,a)=>{a.d(t,{A:()=>m});var r=a(81e3),s=a(88446),n=a(74600),l=a(94496),i=a(22698),o=a(65381),c=a(70579);function d(e){let{link:t,activeLast:a,disabled:n}=e;const l={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...n&&!a&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},i=(0,c.jsxs)(c.Fragment,{children:[t.icon&&(0,c.jsx)(r.A,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:t.icon}),t.name]});return t.href?(0,c.jsx)(s.A,{component:o.W,href:t.href,sx:l,children:i}):(0,c.jsxs)(r.A,{sx:l,children:[" ",i," "]})}function m(e){let{links:t,action:a,heading:o,moreLink:m,activeLast:u,sx:h,...g}=e;const x=t&&t[t.length-1].name;return(0,c.jsxs)(r.A,{sx:{...h},children:[(0,c.jsxs)(n.A,{direction:"row",alignItems:"center",children:[(0,c.jsxs)(r.A,{sx:{flexGrow:1,display:"flex",gap:{md:3},alignItems:{md:"center"},flexDirection:{xs:"column",md:"row"}},children:[o&&(0,c.jsx)(l.A,{textTransform:"capitalize",variant:"h4",gutterBottom:!0,children:o}),t&&!!t.length&&(0,c.jsx)(i.A,{separator:(0,c.jsx)(p,{}),...g,children:null===t||void 0===t?void 0:t.map(((e,t)=>(0,c.jsx)(d,{link:e,activeLast:u,disabled:e.name===x},t)))})]}),a&&(0,c.jsxs)(r.A,{sx:{flexShrink:0,textTransform:"capitalize"},children:[" ",a," "]})]}),!!m&&(0,c.jsx)(r.A,{sx:{mt:2},children:m.map(((e,t)=>(0,c.jsx)(s.A,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},t)))})]})}function p(){return(0,c.jsx)(r.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}}}]);
//# sourceMappingURL=54554.10fa84d8.chunk.js.map