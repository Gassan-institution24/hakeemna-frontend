"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[16320],{22698:(e,s,t)=>{t.d(s,{A:()=>_});var n=t(58168),l=t(98587),r=t(65043),i=t(58387),o=t(98610),a=t(88092),c=t(34535),d=t(98206),p=t(94496),x=t(67266),m=t(66734),h=t(70579);const u=(0,m.A)((0,h.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var g=t(96030);const j=["slots","slotProps"],A=(0,c.Ay)(g.A)((e=>{let{theme:s}=e;return(0,n.A)({display:"flex",marginLeft:`calc(${s.spacing(1)} * 0.5)`,marginRight:`calc(${s.spacing(1)} * 0.5)`},"light"===s.palette.mode?{backgroundColor:s.palette.grey[100],color:s.palette.grey[700]}:{backgroundColor:s.palette.grey[700],color:s.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,n.A)({},"light"===s.palette.mode?{backgroundColor:s.palette.grey[200]}:{backgroundColor:s.palette.grey[600]}),"&:active":(0,n.A)({boxShadow:s.shadows[0]},"light"===s.palette.mode?{backgroundColor:(0,x.tL)(s.palette.grey[200],.12)}:{backgroundColor:(0,x.tL)(s.palette.grey[600],.12)})})})),f=(0,c.Ay)(u)({width:24,height:16});const y=function(e){const{slots:s={},slotProps:t={}}=e,r=(0,l.A)(e,j),i=e;return(0,h.jsx)("li",{children:(0,h.jsx)(A,(0,n.A)({focusRipple:!0},r,{ownerState:i,children:(0,h.jsx)(f,(0,n.A)({as:s.CollapsedIcon,ownerState:i},t.collapsedIcon))}))})};var b=t(92532),w=t(72372);function v(e){return(0,w.Ay)("MuiBreadcrumbs",e)}const k=(0,b.A)("MuiBreadcrumbs",["root","ol","li","separator"]),C=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],I=(0,c.Ay)(p.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,s)=>[{[`& .${k.li}`]:s.li},s.root]})({}),S=(0,c.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,s)=>s.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),q=(0,c.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,s)=>s.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function z(e,s,t,n){return e.reduce(((l,r,i)=>(i<e.length-1?l=l.concat(r,(0,h.jsx)(q,{"aria-hidden":!0,className:s,ownerState:n,children:t},`separator-${i}`)):l.push(r),l)),[])}const _=r.forwardRef((function(e,s){const t=(0,d.b)({props:e,name:"MuiBreadcrumbs"}),{children:c,className:p,component:x="nav",slots:m={},slotProps:u={},expandText:g="Show path",itemsAfterCollapse:j=1,itemsBeforeCollapse:A=1,maxItems:f=8,separator:b="/"}=t,w=(0,l.A)(t,C),[k,q]=r.useState(!1),_=(0,n.A)({},t,{component:x,expanded:k,expandText:g,itemsAfterCollapse:j,itemsBeforeCollapse:A,maxItems:f,separator:b}),R=(e=>{const{classes:s}=e;return(0,o.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},v,s)})(_),L=(0,a.A)({elementType:m.CollapsedIcon,externalSlotProps:u.collapsedIcon,ownerState:_}),P=r.useRef(null),$=r.Children.toArray(c).filter((e=>r.isValidElement(e))).map(((e,s)=>(0,h.jsx)("li",{className:R.li,children:e},`child-${s}`)));return(0,h.jsx)(I,(0,n.A)({ref:s,component:x,color:"text.secondary",className:(0,i.A)(R.root,p),ownerState:_},w,{children:(0,h.jsx)(S,{className:R.ol,ref:P,ownerState:_,children:z(k||f&&$.length<=f?$:(e=>A+j>=e.length?e:[...e.slice(0,A),(0,h.jsx)(y,{"aria-label":g,slots:{CollapsedIcon:m.CollapsedIcon},slotProps:{collapsedIcon:L},onClick:()=>{q(!0);const e=P.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-j,e.length)])($),R.separator,b,_)})}))}))},40731:(e,s,t)=>{t.d(s,{A:()=>S});var n=t(80899),l=t(46987),r=t(65043),i=t(18403),o=t(24858),a=t(70837),c=t(12110),d=t(74600),p=t(38246),x=t(77224),m=t(94814),h=t(81e3),u=t(94496),g=t(49633),j=t(39336),A=t(14256),f=t(17392),y=t(48407),b=t(67132),w=t(31673),v=t(7625),k=t(35151),C=t(59699),I=t(70579);function S(e){let{currentRow:s}=e;const t=(0,b.rd)(),{enqueueSnackbar:A}=(0,l.dh)(),f=n.Ik().shape({title:n.Yj().nullable().required("title is required"),speciality:n.Yj().nullable(),description:n.Yj(),questions:n.YO().of(n.Ik({question:n.Yj(),answer_way:n.Yj(),category:n.Yj(),options:n.YO().nullable()}))}),{specialtiesData:S}=(0,v.srd)({select:"name_english"}),z=(0,r.useMemo)((()=>({title:(null===s||void 0===s?void 0:s.title)||"",speciality:(null===s||void 0===s?void 0:s.speciality)||null,description:(null===s||void 0===s?void 0:s.description)||"",questions:(null===s||void 0===s?void 0:s.questions)||[{question:"",answer_way:"Text",category:"",options:[""]}]})),[s]),_=(0,o.mN)({resolver:(0,i.t)(f),defaultValues:z}),{reset:R,handleSubmit:L,control:P,watch:$,formState:{isSubmitting:B}}=_,Y=$(),{fields:M,append:N,remove:T,move:O}=(0,o.jz)({control:P,name:"questions"});(0,r.useEffect)((()=>{R(z)}),[z,R]);const E=L((async e=>{try{s?(await w.Ay.patch(w.vZ.checklist.one(s._id),{...e,general:!0}),A("updated successfully")):(await w.Ay.post(w.vZ.checklist.all,{...e,general:!0}),A("created successfully")),R(),t.push(y.f.superadmin.tables.checklist.root)}catch(n){A(n.message,{variant:"error"}),console.error(n)}}));return(0,I.jsx)(x.A,{maxWidth:"xl",children:(0,I.jsxs)(C.Ay,{methods:_,children:[(0,I.jsx)(c.A,{children:(0,I.jsxs)(d.A,{spacing:2,sx:{width:1,p:3},alignItems:"center",children:[(0,I.jsx)(C.o3,{name:"title",label:"title",sx:{width:{md:.6,xs:1}}}),(0,I.jsx)(C.tX,{size:"small",name:"speciality",label:"speciality",sx:{width:{md:.3,xs:1}},children:S.map(((e,s)=>(0,I.jsx)(m.A,{value:e._id,children:e.name_english},s)))}),(0,I.jsx)(C.o3,{size:"small",name:"description",label:"description",sx:{width:{md:.5,xs:1}}})]})}),(0,I.jsxs)(h.A,{sx:{p:3},children:[(0,I.jsx)(u.A,{variant:"h6",sx:{color:"text.disabled",mb:3},children:"questions:"}),(0,I.jsx)(a.JY,{onDragEnd:e=>{e.destination&&O(e.source.index,e.destination.index)},children:(0,I.jsx)(a.gL,{droppableId:"droppable-questions",children:e=>(0,I.jsxs)(d.A,{spacing:4,...e.droppableProps,ref:e.innerRef,children:[M.map(((e,s)=>(0,I.jsx)(a.sx,{draggableId:e.id,index:s,children:e=>(0,I.jsx)(c.A,{sx:{p:3},ref:e.innerRef,...e.draggableProps,...e.dragHandleProps,children:(0,I.jsx)(d.A,{alignItems:"flex-end",spacing:1.5,children:(0,I.jsxs)(d.A,{spacing:2,sx:{width:1},children:[(0,I.jsxs)(d.A,{direction:{xs:"column",md:"row"},justifyContent:"space-between",spacing:2,sx:{width:1},children:[(0,I.jsx)(C.o3,{size:"small",name:`questions[${s}].question`,label:"question",InputLabelProps:{shrink:!0},sx:{width:1}}),(0,I.jsx)(C.tX,{name:`questions[${s}].answer_way`,size:"small",label:"answer_way",InputLabelProps:{shrink:!0},sx:{width:{md:.5,xs:1}},children:["Text","Yes No","Options"].map((e=>(0,I.jsx)(m.A,{value:e,children:e},e)))}),(0,I.jsx)(C.o3,{size:"small",name:`questions[${s}].category`,label:"category",InputLabelProps:{shrink:!0},sx:{width:{md:.5,xs:1}}}),(0,I.jsx)(g.A,{size:"small",color:"error",onClick:()=>(e=>{T(e)})(s),children:(0,I.jsx)(k.A,{icon:"solar:trash-bin-trash-bold"})})]}),"Options"===Y.questions[s].answer_way&&(0,I.jsx)(d.A,{justifyContent:"flex-end",alignItems:"start",spacing:1,sx:{width:.8},children:(0,I.jsx)(q,{index:s})})]})})})},e.id))),e.placeholder]})})}),(0,I.jsx)(j.A,{sx:{my:3,borderStyle:"dashed"}}),(0,I.jsx)(d.A,{spacing:3,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:(0,I.jsx)(g.A,{size:"small",color:"primary",startIcon:(0,I.jsx)(k.A,{icon:"mingcute:add-line"}),onClick:()=>{N({question:"",answer_way:"",options:[""]})},sx:{flexShrink:0},children:"Add Item"})})]}),(0,I.jsx)(d.A,{justifyContent:"flex-end",direction:"row",spacing:2,sx:{mt:1},children:(0,I.jsx)(p.A,{variant:"contained",loading:B,onClick:E,children:s?"Update":"Create"})})]})})}function q(e){let{index:s}=e;const{control:t}=(0,o.xW)(),{fields:n,append:l,remove:r}=(0,o.jz)({control:t,name:`questions[${s}].options`});return(0,I.jsxs)(I.Fragment,{children:[n.map(((e,t)=>(0,I.jsxs)(d.A,{direction:"row",alignItems:"center",children:[(0,I.jsx)(A.A,{disabled:!0}),(0,I.jsx)(C.o3,{size:"small",variant:"standard",name:`questions[${s}].options[${t}]`}),(0,I.jsx)(d.A,{direction:"row",children:(0,I.jsx)(f.A,{size:"small",color:"error",onClick:()=>(e=>{r(e)})(t),children:(0,I.jsx)(k.A,{icon:"ic:round-close"})})})]},e.id))),(0,I.jsxs)(g.A,{color:"primary",size:"small",sx:{fontSize:12},onClick:()=>{l(" ")},children:[(0,I.jsx)(k.A,{icon:"ph:plus-bold"}),"add option"]})]})}},83858:(e,s,t)=>{t.d(s,{A:()=>n.A});var n=t(91720)},91720:(e,s,t)=>{t.d(s,{A:()=>p});var n=t(81e3),l=t(88446),r=t(74600),i=t(94496),o=t(22698),a=t(65381),c=t(70579);function d(e){let{link:s,activeLast:t,disabled:r}=e;const i={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...r&&!t&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},o=(0,c.jsxs)(c.Fragment,{children:[s.icon&&(0,c.jsx)(n.A,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:s.icon}),s.name]});return s.href?(0,c.jsx)(l.A,{component:a.W,href:s.href,sx:i,children:o}):(0,c.jsxs)(n.A,{sx:i,children:[" ",o," "]})}function p(e){let{links:s,action:t,heading:a,moreLink:p,activeLast:m,sx:h,...u}=e;const g=s&&s[s.length-1].name;return(0,c.jsxs)(n.A,{sx:{...h},children:[(0,c.jsxs)(r.A,{direction:"row",alignItems:"center",children:[(0,c.jsxs)(n.A,{sx:{flexGrow:1,display:"flex",gap:{md:3},alignItems:{md:"center"},flexDirection:{xs:"column",md:"row"}},children:[a&&(0,c.jsx)(i.A,{textTransform:"capitalize",variant:"h4",gutterBottom:!0,children:a}),s&&!!s.length&&(0,c.jsx)(o.A,{separator:(0,c.jsx)(x,{}),...u,children:null===s||void 0===s?void 0:s.map(((e,s)=>(0,c.jsx)(d,{link:e,activeLast:m,disabled:e.name===g},s)))})]}),t&&(0,c.jsxs)(n.A,{sx:{flexShrink:0,textTransform:"capitalize"},children:[" ",t," "]})]}),!!p&&(0,c.jsx)(n.A,{sx:{mt:2},children:p.map(((e,s)=>(0,c.jsx)(l.A,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},s)))})]})}function x(){return(0,c.jsx)(n.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}}}]);
//# sourceMappingURL=16320.4eb79a81.chunk.js.map