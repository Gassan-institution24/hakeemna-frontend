"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[2424],{38563:(e,n,a)=>{a.d(n,{Z:()=>m});var t=a(16029),l=a(50533),r=a(53767),o=a(4567),s=a(93517),i=a(4419),c=a(80184);function d(e){let{link:n,activeLast:a,disabled:r}=e;const o={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...r&&!a&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},s=(0,c.jsxs)(c.Fragment,{children:[n.icon&&(0,c.jsx)(t.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:n.icon}),n.name]});return n.href?(0,c.jsx)(l.Z,{component:i.r,href:n.href,sx:o,children:s}):(0,c.jsxs)(t.Z,{sx:o,children:[" ",s," "]})}function m(e){let{links:n,action:a,heading:i,moreLink:m,activeLast:p,sx:g,...h}=e;const v=n&&n[n.length-1].name;return(0,c.jsxs)(t.Z,{sx:{...g},children:[(0,c.jsxs)(r.Z,{direction:"row",alignItems:"center",children:[(0,c.jsxs)(t.Z,{sx:{flexGrow:1,display:"flex",gap:{md:3},alignItems:{md:"center"},flexDirection:{xs:"column",md:"row"}},children:[i&&(0,c.jsx)(o.Z,{textTransform:"capitalize",variant:"h4",gutterBottom:!0,children:i}),n&&!!n.length&&(0,c.jsx)(s.Z,{separator:(0,c.jsx)(u,{}),...h,children:null===n||void 0===n?void 0:n.map(((e,n)=>(0,c.jsx)(d,{link:e,activeLast:p,disabled:e.name===v},n)))})]}),a&&(0,c.jsxs)(t.Z,{sx:{flexShrink:0,textTransform:"capitalize"},children:[" ",a," "]})]}),!!m&&(0,c.jsx)(t.Z,{sx:{mt:2},children:m.map(((e,n)=>(0,c.jsx)(l.Z,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},n)))})]})}function u(){return(0,c.jsx)(t.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},73379:(e,n,a)=>{a.d(n,{Z:()=>t.Z});var t=a(38563)},54575:(e,n,a)=>{a.d(n,{Z:()=>k});var t=a(8007),l=a(61134),r=a(72791),o=a(44695),s=a(16029),i=a(57621),c=a(53767),d=a(24308),m=a(12258),u=a(82626),p=a(94721),g=a(4567),h=a(38072),v=a(93971),x=a(66664),f=a(99116),Z=a(8976),b=a(66630),_=a(81164),y=a(40268),j=a(32869),w=a(59493),C=a(80184);function k(e){var n,a,k,S,I;let{currentTable:P}=e;const{t:R}=(0,_.qM)(),{currentLang:B}=(0,_.nt)(),M="ar"===B.value,{user:T}=(0,Z.E)(),{departmentsData:A}=(0,b.PbZ)(null===T||void 0===T||null===(n=T.employee)||void 0===n||null===(a=n.employee_engagements)||void 0===a||null===(k=a[null===T||void 0===T||null===(I=T.employee)||void 0===I?void 0:I.selected_engagement])||void 0===k||null===(S=k.unit_service)||void 0===S?void 0:S._id),{enqueueSnackbar:q}=(0,j.useSnackbar)(),{handleAddNew:z}=(0,v.A)(),L=t.Ry().shape({name_arabic:t.Z_().required(R("required field")),name_english:t.Z_().required(R("required field")),department:t.Z_().nullable(),general_info:t.Z_()}),N=(0,r.useMemo)((()=>{var e,n,a;return{unit_service:null===T||void 0===T||null===(e=T.employee)||void 0===e||null===(n=e.employee_engagements[null===T||void 0===T?void 0:T.employee.selected_engagement])||void 0===n?void 0:n.unit_service._id,name_arabic:(null===P||void 0===P?void 0:P.name_arabic)||"",name_english:(null===P||void 0===P?void 0:P.name_english)||"",department:(null===P||void 0===P||null===(a=P.department)||void 0===a?void 0:a._id)||null,general_info:(null===P||void 0===P?void 0:P.general_info)||""}}),[P,null===T||void 0===T?void 0:T.employee]),E=(0,l.cI)({mode:"onTouched",resolver:(0,o.X)(L),defaultValues:N}),H=e=>{/^[a-zA-Z0-9\s,@#$!*_\-&^%.()]*$/.test(e.target.value)&&E.setValue(e.target.name,e.target.value,{shouldValidate:!0})},{reset:V,handleSubmit:$,formState:{isSubmitting:F,errors:G}}=E;(0,r.useEffect)((()=>{Object.keys(G).length&&Object.keys(G).forEach(((e,n)=>{var a;return q("".concat(e,": ").concat((null===G||void 0===G||null===(a=G[e])||void 0===a?void 0:a.message)||"error"),{variant:"error"})}))}),[G,q]);const O=$((async e=>{try{P?(await x.ZP.patch(x.Hv.rooms.one(P._id),{...e}),f.Z.emit("updated",{user:T,link:h.H.unitservice.tables.rooms.root,msg:"updated a room <strong>".concat(e.name_english||"","</strong>")})):(await x.ZP.post(x.Hv.rooms.all,{...e}),f.Z.emit("created",{user:T,link:h.H.unitservice.tables.rooms.root,msg:"created a room <strong>".concat(e.name_english||"","</strong>")})),V(),q(R(P?"update success!":"create success!"))}catch(n){q(M&&"".concat(n.arabic_message)||"".concat(n.message),{variant:"error"}),console.error(n)}}));return(0,r.useEffect)((()=>{var e,n,a;V({unit_service:null===T||void 0===T||null===(e=T.employee)||void 0===e||null===(n=e.employee_engagements[null===T||void 0===T?void 0:T.employee.selected_engagement])||void 0===n?void 0:n.unit_service._id,name_arabic:(null===P||void 0===P?void 0:P.name_arabic)||"",name_english:(null===P||void 0===P?void 0:P.name_english)||"",department:(null===P||void 0===P||null===(a=P.department)||void 0===a?void 0:a._id)||null,general_info:(null===P||void 0===P?void 0:P.general_info)||""})}),[P]),(0,C.jsx)(w.ZP,{methods:E,onSubmit:O,children:(0,C.jsx)(d.Z,{container:!0,spacing:3,children:(0,C.jsx)(d.Z,{xs:12,maxWidth:"md",children:(0,C.jsxs)(i.Z,{sx:{p:3},children:[(0,C.jsxs)(s.Z,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,C.jsx)(w.au,{onChange:H,name:"name_english",label:"".concat(R("name english")," *")}),(0,C.jsx)(w.au,{onChange:e=>{/^[\u0600-\u06FF0-9\s!@#$%^&*_\-()]*$/.test(e.target.value)&&E.setValue(e.target.name,e.target.value,{shouldValidate:!0})},name:"name_arabic",label:"".concat(R("name arabic")," *")}),(0,C.jsxs)(w.Cc,{name:"department",label:R("department"),children:[A.map(((e,n)=>(0,C.jsx)(u.Z,{lang:"ar",value:e._id,children:M?e.name_arabic:e.name_english},n))),(0,C.jsx)(p.Z,{}),(0,C.jsxs)(u.Z,{lang:"ar",sx:{display:"flex",justifyContent:"flex-end",gap:1,fontWeight:600},onClick:()=>z(h.H.unitservice.departments.new),children:[(0,C.jsx)(g.Z,{variant:"body2",sx:{color:"info.main"},children:R("Add new")}),(0,C.jsx)(y.Z,{icon:"material-symbols:new-window-sharp"})]})]}),(0,C.jsx)(w.au,{onChange:H,name:"general_info",label:R("general info")})]}),(0,C.jsx)(c.Z,{alignItems:"flex-end",sx:{mt:3},children:(0,C.jsx)(m.Z,{type:"submit",tabIndex:-1,variant:"contained",loading:F,children:R(P?"save changes":"create")})})]})})})})}},93517:(e,n,a)=>{a.d(n,{Z:()=>R});var t=a(87462),l=a(63366),r=a(72791),o=(a(57441),a(59278)),s=a(50385),i=a(20838),c=a(66934),d=a(31402),m=a(4567),u=a(54131),p=a(74223),g=a(80184);const h=(0,p.Z)((0,g.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var v=a(95080);const x=["slots","slotProps"],f=(0,c.ZP)(v.Z)((e=>{let{theme:n}=e;return(0,t.Z)({display:"flex",marginLeft:"calc(".concat(n.spacing(1)," * 0.5)"),marginRight:"calc(".concat(n.spacing(1)," * 0.5)")},"light"===n.palette.mode?{backgroundColor:n.palette.grey[100],color:n.palette.grey[700]}:{backgroundColor:n.palette.grey[700],color:n.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,t.Z)({},"light"===n.palette.mode?{backgroundColor:n.palette.grey[200]}:{backgroundColor:n.palette.grey[600]}),"&:active":(0,t.Z)({boxShadow:n.shadows[0]},"light"===n.palette.mode?{backgroundColor:(0,u._4)(n.palette.grey[200],.12)}:{backgroundColor:(0,u._4)(n.palette.grey[600],.12)})})})),Z=(0,c.ZP)(h)({width:24,height:16});const b=function(e){const{slots:n={},slotProps:a={}}=e,r=(0,l.Z)(e,x),o=e;return(0,g.jsx)("li",{children:(0,g.jsx)(f,(0,t.Z)({focusRipple:!0},r,{ownerState:o,children:(0,g.jsx)(Z,(0,t.Z)({as:n.CollapsedIcon,ownerState:o},a.collapsedIcon))}))})};var _=a(59703),y=a(64657);function j(e){return(0,y.ZP)("MuiBreadcrumbs",e)}const w=(0,_.Z)("MuiBreadcrumbs",["root","ol","li","separator"]),C=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],k=(0,c.ZP)(m.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,n)=>[{["& .".concat(w.li)]:n.li},n.root]})({}),S=(0,c.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,n)=>n.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),I=(0,c.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,n)=>n.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function P(e,n,a,t){return e.reduce(((l,r,o)=>(o<e.length-1?l=l.concat(r,(0,g.jsx)(I,{"aria-hidden":!0,className:n,ownerState:t,children:a},"separator-".concat(o))):l.push(r),l)),[])}const R=r.forwardRef((function(e,n){const a=(0,d.Z)({props:e,name:"MuiBreadcrumbs"}),{children:c,className:m,component:u="nav",slots:p={},slotProps:h={},expandText:v="Show path",itemsAfterCollapse:x=1,itemsBeforeCollapse:f=1,maxItems:Z=8,separator:_="/"}=a,y=(0,l.Z)(a,C),[w,I]=r.useState(!1),R=(0,t.Z)({},a,{component:u,expanded:w,expandText:v,itemsAfterCollapse:x,itemsBeforeCollapse:f,maxItems:Z,separator:_}),B=(e=>{const{classes:n}=e;return(0,i.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},j,n)})(R),M=(0,s.y)({elementType:p.CollapsedIcon,externalSlotProps:h.collapsedIcon,ownerState:R}),T=r.useRef(null),A=r.Children.toArray(c).filter((e=>r.isValidElement(e))).map(((e,n)=>(0,g.jsx)("li",{className:B.li,children:e},"child-".concat(n))));return(0,g.jsx)(k,(0,t.Z)({ref:n,component:u,color:"text.secondary",className:(0,o.Z)(B.root,m),ownerState:R},y,{children:(0,g.jsx)(S,{className:B.ol,ref:T,ownerState:R,children:P(w||Z&&A.length<=Z?A:(e=>f+x>=e.length?e:[...e.slice(0,f),(0,g.jsx)(b,{"aria-label":v,slots:{CollapsedIcon:p.CollapsedIcon},slotProps:{collapsedIcon:M},onClick:()=>{I(!0);const e=T.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-x,e.length)])(A),B.separator,_,R)})}))}))}}]);
//# sourceMappingURL=2424.8aea1c15.chunk.js.map