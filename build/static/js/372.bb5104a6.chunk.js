"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[372],{80372:(e,a,i)=>{i.r(a),i.d(a,{default:()=>C});var n=i(8007),l=i(72791),r=i(61134),s=i(44695),t=i(82337),d=i(63515),o=i(53767),u=i(17003),c=i(13400),m=i(12258),h=i(4567),x=i(82626),v=i(63466),g=i(38072),_=i(19208),b=i(22459),p=i(81164),j=i(8976),y=i(19721),Z=i(41364),f=i(40268),w=i(59493),q=i(80184);function C(){var e;const{countriesData:a}=(0,y.Rpj)(),{register:i}=(0,j.E)(),{t:C}=(0,p.qM)(),k=(0,_.tv)(),[P,A]=(0,l.useState)(""),{user:V}=(0,j.E)(),S=(0,b.k)(),E=n.Ry().shape({name_english:n.Z_().required("english name required"),name_arabic:n.Z_().required("arabic name required"),email:n.Z_().required("Email is required").email("Email must be a valid email address"),password:n.Z_().required("Password is required"),confirmPassword:n.Z_().oneOf([n.iH("password"),null],"Passwords must match").min(8,"Confirm password must be at least 8 characters"),identification_num:n.Z_().required("Identification number is required"),birth_date:n.hT().required("birth_date is required"),gender:n.Z_().required("Gender is required"),country:n.Z_().required("Country is required"),nationality:n.Z_().required("Nationality is required"),city:n.Z_().required("City is required")}),I={name_english:"",name_arabic:"",email:"",nationality:"",family_members:null===V||void 0===V||null===(e=V.patient)||void 0===e?void 0:e._id,password:"",confirmPassword:"",birth_date:"",identification_num:"",gender:"",country:null,city:null},T=(0,r.cI)({mode:"onTouched",resolver:(0,s.X)(E),defaultValues:I}),{reset:D,watch:$,control:F,handleSubmit:z,formState:{isSubmitting:G}}=T,H=$(),{tableData:M}=(0,y.s_U)(H.country),N=z((async e=>{try{await(null===i||void 0===i?void 0:i({userName:"".concat(e.name_english),...e})),k.push(g.H.dashboard.user.exist)}catch(a){console.error(a),D(),A("string"===typeof a?a:a.message)}}));return(0,q.jsx)(w.ZP,{methods:T,onSubmit:N,children:(0,q.jsxs)(t.Z,{sx:{display:"flex",flexDirection:{md:"row",xs:"column"}},children:[(0,q.jsxs)(o.Z,{spacing:2.5,sx:{width:{md:"50%",xs:"80%"},ml:5,mt:5,mr:15},children:[!!P&&(0,q.jsx)(d.Z,{severity:"error",children:P}),(0,q.jsx)(h.Z,{variant:"h3",sx:{textAlign:"center",display:{md:"none",xs:"block"}},children:C("Add Account")}),(0,q.jsxs)(o.Z,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,q.jsx)(w.au,{name:"name_english",label:C("full name english"),onChange:e=>{/^[a-zA-Z0-9\s,@#$!*_\-&^%.()]*$/.test(e.target.value)&&T.setValue(e.target.name,e.target.value,{shouldValidate:!0})}}),(0,q.jsx)(w.au,{name:"name_arabic",label:C("full name arabic"),onChange:e=>{/^[\u0600-\u06FF0-9\s!@#$%^&*_\-()]*$/.test(e.target.value)&&T.setValue(e.target.name,e.target.value,{shouldValidate:!0})}})]}),(0,q.jsx)(w.au,{name:"identification_num",label:C("Identification number")}),(0,q.jsx)(r.Qr,{name:"birth_date",control:F,render:e=>{let{field:a,fieldState:{error:i}}=e;return(0,q.jsx)(u.M,{label:C("birth date"),value:new Date(H.birth_date?H.birth_date:""),onChange:e=>{a.onChange(e)},slotProps:{textField:{fullWidth:!0,error:!!i,helperText:null===i||void 0===i?void 0:i.message}}})}}),(0,q.jsx)(w.Cc,{onChange:e=>{const a=e.target.value;T.setValue("nationality",a,{shouldValidate:!0})},name:"nationality",label:C("nationality"),children:null===a||void 0===a?void 0:a.map(((e,a)=>(0,q.jsx)(x.Z,{lang:"ar",value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name_english},a)))}),(0,q.jsxs)(o.Z,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,q.jsx)(w.Cc,{onChange:e=>{const a=e.target.value;T.setValue("country",a,{shouldValidate:!0})},name:"country",label:C("country"),children:null===a||void 0===a?void 0:a.map(((e,a)=>(0,q.jsx)(x.Z,{lang:"ar",value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name_english},a)))}),(0,q.jsx)(w.Cc,{name:"city",label:C("City"),children:null===M||void 0===M?void 0:M.map(((e,a)=>(0,q.jsx)(x.Z,{lang:"ar",value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name_english},a)))}),(0,q.jsxs)(w.Cc,{name:"gender",label:C("Gender"),children:[(0,q.jsx)(x.Z,{lang:"ar",value:"male",children:C("male")}),(0,q.jsx)(x.Z,{lang:"ar",value:"female",children:C("female")})]})]}),(0,q.jsx)(w.au,{name:"email",label:C("Email address")}),(0,q.jsx)(w.au,{name:"password",label:C("Password"),type:S.value?"text":"password",InputProps:{endAdornment:(0,q.jsx)(v.Z,{position:"end",children:(0,q.jsx)(c.Z,{onClick:S.onToggle,edge:"end",children:(0,q.jsx)(f.Z,{icon:S.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,q.jsx)(w.au,{name:"confirmPassword",label:C("Confirm Password"),type:S.value?"text":"password",InputProps:{endAdornment:(0,q.jsx)(v.Z,{position:"end",children:(0,q.jsx)(c.Z,{onClick:S.onToggle,edge:"end",children:(0,q.jsx)(f.Z,{icon:S.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,q.jsx)(m.Z,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:G,children:C("Create account")})]}),(0,q.jsxs)(o.Z,{sx:{display:{md:"block",xs:"none"},ml:10,mt:5},children:[(0,q.jsx)(h.Z,{variant:"h3",sx:{textAlign:"center"},children:C("Add Account")}),(0,q.jsx)(Z.Z,{src:"https://www.sender.net/wp-content/uploads/2022/07/best-newsletter-software.webp"})]})]})})}}}]);
//# sourceMappingURL=372.bb5104a6.chunk.js.map