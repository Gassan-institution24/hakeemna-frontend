"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[3032],{3032:(e,n,i)=>{i.d(n,{$z:()=>_,DK:()=>T,Hs:()=>z,Gp:()=>I,OQ:()=>E,kk:()=>Y.A,CD:()=>ie,YY:()=>ne,Ei:()=>a.A,C1:()=>F});var a=i(73806),r=i(80899),t=i(46987),s=i(24858),l=i(18403),o=i(38246),d=i(74600),c=i(94692),u=i(94496),m=i(51787),h=i(17392),p=i(48407),g=i(67132),x=i(59229),b=i(31673),j=i(60778),f=i(24036),v=i(35151),y=i(59699),A=i(70579);function _(){const{enqueueSnackbar:e}=(0,t.dh)(),n=(0,g.rd)(),{t:i}=(0,j.WD)(),a=(0,x.C)(),_=r.Ik().shape({email:r.Yj().trim().required(i("required field")).email(i("Email must be a valid email address")),password:r.Yj().required(i("required field")),scanned_identification:r.gl().required(i("required field"))}),w=(0,s.mN)({mode:"all",resolver:(0,l.t)(_),defaultValues:{email:"",password:"",scanned_identification:null}}),{setValue:k,handleSubmit:q,formState:{isSubmitting:S}}=w,C=q((async a=>{try{const r=new FormData;r.append("email",a.email),r.append("password",a.password),r.append("scanned_identification",a.scanned_identification),await b.Ay.patch(b.vZ.auth.changeId,r),e(i("sent successfully!")),n.push(p.f.auth.login)}catch(r){e(i(r.message||r),{variant:"error"})}})),P=(0,A.jsxs)(d.A,{spacing:2,sx:{mb:5},children:[(0,A.jsx)(c.A,{mdUp:!0,children:(0,A.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:(0,A.jsx)(f.A,{})})}),(0,A.jsx)(u.A,{variant:"h4",children:i("Change ID image")})]}),I=(0,A.jsxs)(d.A,{spacing:2.5,children:[(0,A.jsx)(y.o3,{name:"email","data-test":"email-input",label:i("email address")}),(0,A.jsx)(y.o3,{name:"password",label:i("password"),"data-test":"password-input",type:a.value?"text":"password",InputProps:{endAdornment:(0,A.jsx)(m.A,{position:"end",children:(0,A.jsx)(h.A,{onClick:a.onToggle,edge:"end",children:(0,A.jsx)(v.A,{icon:a.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,A.jsxs)(d.A,{gap:1,children:[(0,A.jsx)(u.A,{variant:"subtitle2",children:i("identification scan")}),(0,A.jsx)(y.Y4,{name:"scanned_identification",onDrop:e=>{if(e&&e.length>0){const n=Object.assign(e[0],{preview:URL.createObjectURL(e[0])});k("scanned_identification",n)}},label:i("identification photo")}),(0,A.jsx)(u.A,{variant:"caption",children:i("the scanned image should be clear and able to read")})]}),(0,A.jsx)(o.A,{fullWidth:!0,"data-test":"login-button",color:"inherit",size:"large",type:"submit",variant:"contained",loading:S,children:i("Save")})]});return(0,A.jsx)(y.Ay,{"data-test":"login-form",methods:w,onSubmit:C,children:(0,A.jsxs)(d.A,{"data-test":"login-form",justifyContent:"center",width:1,height:"70vh",children:[P,I]})})}var w=i(65043),k=i(88446),q=i(71861),S=i(65381),C=i(75139),P=i(97742);function I(e){let{onSignin:n,selected:i,refetch:a,onSignUp:_,setPatientId:I}=e;const{login:Y,authenticated:W}=(0,C.Z)(),{enqueueSnackbar:T}=(0,t.dh)(),$=(0,g.rd)(),{t:F}=(0,j.WD)(),{currentLang:D}=(0,j.jc)(),E="ar"===D.value,[z,V]=(0,w.useState)(""),[U,L]=(0,w.useState)(""),O=(0,g.ok)().get("returnTo"),N=(0,x.C)(),R=r.Ik().shape({email:r.Yj().trim().required(F("required field")).email(F("Email must be a valid email address")),password:r.Yj().required(F("required field"))}),Z=(0,s.mN)({mode:"all",resolver:(0,l.t)(R),defaultValues:{email:"",password:""}}),{handleSubmit:M,formState:{isSubmitting:X}}=Z,H=M((async e=>{try{const t=await(null===Y||void 0===Y?void 0:Y(e.email,e.password));var r;if(n)I(t.patient),await b.Ay.patch(b.vZ.appointments.book(i),{patient:null===t||void 0===t||null===(r=t.user)||void 0===r?void 0:r.patient,lang:E}),T("appointment booked successfully"),n(),a(),$.push(p.f.dashboard.user.patientsappointments);else $.push(O||P.zt)}catch(t){V("string"===typeof t?t:t.message),"Your account is inactive!"===t&&L(e.email)}}));(0,w.useEffect)((()=>{W&&$.push(p.f.dashboard.root)}),[W,$]);const G=(0,A.jsxs)(d.A,{spacing:2,sx:{mb:5},children:[(0,A.jsx)(c.A,{mdUp:!0,children:(0,A.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:(0,A.jsx)(f.A,{})})}),(0,A.jsx)(u.A,{variant:"h4",children:F("Login")}),(0,A.jsxs)(d.A,{direction:"row",alignItems:"flex-end",spacing:.5,children:[(0,A.jsx)(u.A,{color:"text.disabled",variant:"subtitle1",children:F("new user?")}),_?(0,A.jsx)(k.A,{sx:{px:.5,fontWeight:400,fontSize:13},component:S.W,onClick:()=>_(),variant:"subtitle2",underline:"always",children:F("create an account")}):(0,A.jsx)(k.A,{sx:{px:.5,fontWeight:400,fontSize:13},component:S.W,href:p.f.auth.register,variant:"subtitle2",underline:"always",children:F("create an account")})]})]}),K=(0,A.jsxs)(d.A,{spacing:2.5,children:[!!z&&(0,A.jsxs)(q.A,{severity:"error",children:[(0,A.jsx)("div",{dangerouslySetInnerHTML:{__html:F(z)}}),U&&(0,A.jsx)(k.A,{component:S.W,href:p.f.auth.verify(U),variant:"subtitle2",children:F("verify your account")})]}),(0,A.jsx)(y.o3,{name:"email","data-test":"email-input",label:F("email address")}),(0,A.jsx)(y.o3,{name:"password",label:F("password"),"data-test":"password-input",type:N.value?"text":"password",InputProps:{endAdornment:(0,A.jsx)(m.A,{position:"end",children:(0,A.jsx)(h.A,{onClick:N.onToggle,edge:"end",children:(0,A.jsx)(v.A,{icon:N.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),!n&&(0,A.jsx)(k.A,{variant:"body2",component:S.W,href:p.f.auth.forgotPassword,color:"inherit",underline:"always",sx:{alignSelf:"flex-end",mt:5},children:F("Forgot password?")}),(0,A.jsx)(o.A,{fullWidth:!0,"data-test":"login-button",color:"inherit",size:"large",type:"submit",variant:"contained",loading:X,children:F("Login")}),!n&&(0,A.jsx)(k.A,{sx:{alignSelf:"center"},component:S.W,href:"/",variant:"subtitle2",underline:"always",children:F("home page")})]});return(0,A.jsx)(y.Ay,{"data-test":"login-form",methods:Z,onSubmit:H,children:(0,A.jsxs)(d.A,{"data-test":"login-form",justifyContent:"center",width:1,height:"70vh",children:[G,K]})})}var Y=i(43963),W=i(16534);function T(){const{token:e}=(0,g.g)(),[n,i]=(0,w.useState)();(0,w.useEffect)((()=>{!async function(){try{await b.Ay.get(b.vZ.auth.activate(e))}catch(n){i(n.message)}}()}),[e]);const a=(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(W.OK,{sx:{height:96}}),(0,A.jsxs)(d.A,{spacing:1,sx:{my:5},children:[!n&&(0,A.jsx)(u.A,{variant:"h3",sx:{color:"success.main"},children:"Your account has activated successfully!"}),n&&(0,A.jsx)(u.A,{variant:"h3",sx:{color:"error.main"},children:n}),!n&&(0,A.jsx)(u.A,{variant:"body2",sx:{color:"text.secondary"},children:"We are absolutely delighted to have you here"}),"invalid token!"===n&&(0,A.jsx)(u.A,{variant:"body2",sx:{color:"text.secondary"},children:"Please enter a valid token!"}),"Token has expired!"===n&&(0,A.jsx)(u.A,{variant:"body2",sx:{color:"text.secondary"},children:"We have sent you a new one, please check your email again!"})]})]});return(0,A.jsx)(A.Fragment,{children:a})}var $=i(94857);function F(){const e=(0,g.rd)(),{t:n}=(0,j.WD)(),{currentLang:i}=(0,j.jc)(),a="ar"===i.value,t=(0,g.ok)(),{token:c}=(0,g.g)(),{enqueueSnackbar:f}=(0,$.dh)(),_=t.get("email"),w=(0,x.C)(),q=r.Ik().shape({email:r.Yj().required(n("required field")).email(n("Email must be a valid email address")),password:r.Yj().min(8,n("Password must be minimum 8+")).required(n("required field")),confirmPassword:r.Yj().required(n("required field")).oneOf([r.KR("password")],n("Passwords must match"))}),C={email:_||"",password:"",confirmPassword:""},P=(0,s.mN)({mode:"all",resolver:(0,l.t)(q),defaultValues:C}),{handleSubmit:I,formState:{isSubmitting:Y}}=P,T=I((async i=>{try{await b.Ay.post(b.vZ.auth.newUser,{email:i.email,token:c,password:i.password,confirmPassword:i.confirmPassword}),e.push(p.f.auth.login),f(n("Account created successfully!"))}catch(r){console.error(r),f(a&&`${r.arabic_message}`||`${r.message}`,{variant:"error"})}})),F=(0,A.jsxs)(d.A,{spacing:3,alignItems:"center",children:[(0,A.jsx)(y.o3,{name:"email",label:n("email"),placeholder:"example@gmail.com",InputLabelProps:{shrink:!0}}),(0,A.jsx)(y.o3,{name:"password",label:n("password"),type:w.value?"text":"password",InputProps:{endAdornment:(0,A.jsx)(m.A,{position:"end",children:(0,A.jsx)(h.A,{onClick:w.onToggle,edge:"end",children:(0,A.jsx)(v.A,{icon:w.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,A.jsx)(y.o3,{name:"confirmPassword",label:n("confirm new password"),type:w.value?"text":"password",InputProps:{endAdornment:(0,A.jsx)(m.A,{position:"end",children:(0,A.jsx)(h.A,{onClick:w.onToggle,edge:"end",children:(0,A.jsx)(v.A,{icon:w.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,A.jsx)(o.A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:Y,children:n("create user")}),(0,A.jsxs)(k.A,{component:S.W,href:p.f.auth.login,color:"inherit",variant:"subtitle2",sx:{alignItems:"center",display:"inline-flex"},children:[(0,A.jsx)(v.A,{icon:"eva:arrow-ios-back-fill",width:16}),n("return to login")]})]}),D=(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(W.m1,{sx:{height:96}}),(0,A.jsx)(d.A,{spacing:1,sx:{my:5},children:(0,A.jsx)(u.A,{variant:"h3",children:n("request sent successfully!")})})]});return(0,A.jsxs)(y.Ay,{methods:P,onSubmit:T,children:[D,F]})}var D=i(77098);function E(){const{newPassword:e,forgotPassword:n}=(0,C.Z)(),i=(0,g.rd)(),{t:a}=(0,j.WD)(),{currentLang:t}=(0,j.jc)(),c="ar"===t.value,b=(0,g.ok)(),{enqueueSnackbar:f}=(0,$.dh)(),_=b.get("email"),q=(0,x.C)(),{countdown:P,counting:I,startCountdown:Y}=(0,D.U)(60),T=r.Ik().shape({code:r.Yj().min(6,`${a("must be at least")} 6`).required(a("required field")),email:r.Yj().required(a("required field")).email(a("Email must be a valid email address")),password:r.Yj().min(8,a("Password must be minimum 8+")).required(a("required field")),confirmPassword:r.Yj().required(a("required field")).oneOf([r.KR("password")],a("Passwords must match"))}),F={code:"",email:_||"",password:"",confirmPassword:""},E=(0,s.mN)({mode:"all",resolver:(0,l.t)(T),defaultValues:F}),{watch:z,handleSubmit:V,formState:{isSubmitting:U}}=E,L=z(),O=V((async n=>{try{await(null===e||void 0===e?void 0:e(n.email,n.code,n.password,n.confirmPassword)),i.push(p.f.auth.login),f(a("Password has changed successfully!"))}catch(r){console.error(r),f(c&&`${r.arabic_message}`||`${r.message}`,{variant:"error"})}})),N=(0,w.useCallback)((async()=>{try{Y(),await(null===n||void 0===n?void 0:n(L.email))}catch(e){console.error(e)}}),[n,Y,L.email]),R=(0,A.jsxs)(d.A,{spacing:3,alignItems:"center",children:[(0,A.jsx)(y.o3,{name:"email",label:a("email"),placeholder:"example@gmail.com",InputLabelProps:{shrink:!0}}),(0,A.jsx)(y.q9,{name:"code"}),(0,A.jsx)(y.o3,{name:"password",label:a("password"),type:q.value?"text":"password",InputProps:{endAdornment:(0,A.jsx)(m.A,{position:"end",children:(0,A.jsx)(h.A,{onClick:q.onToggle,edge:"end",children:(0,A.jsx)(v.A,{icon:q.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,A.jsx)(y.o3,{name:"confirmPassword",label:a("confirm new password"),type:q.value?"text":"password",InputProps:{endAdornment:(0,A.jsx)(m.A,{position:"end",children:(0,A.jsx)(h.A,{onClick:q.onToggle,edge:"end",children:(0,A.jsx)(v.A,{icon:q.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,A.jsx)(o.A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:U,children:a("update password")}),(0,A.jsxs)(u.A,{variant:"body2",children:[a("Don\u2019t have a code?"),(0,A.jsxs)(k.A,{variant:"subtitle2",onClick:N,sx:{px:1,cursor:"pointer",...I&&{color:"text.disabled",pointerEvents:"none"}},children:[a("resend code")," ",I&&`(${P}s)`]})]}),(0,A.jsxs)(k.A,{component:S.W,href:p.f.auth.login,color:"inherit",variant:"subtitle2",sx:{alignItems:"center",display:"inline-flex"},children:[(0,A.jsx)(v.A,{icon:"eva:arrow-ios-back-fill",width:16}),a("return to login")]})]}),Z=(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(W.m1,{sx:{height:96}}),(0,A.jsxs)(d.A,{spacing:1,sx:{my:5},children:[(0,A.jsx)(u.A,{variant:"h3",children:a("request sent successfully!")}),(0,A.jsxs)(u.A,{variant:"body2",sx:{color:"text.secondary"},children:[a("We've sent a 6-digit confirmation email to your email."),(0,A.jsx)("br",{}),a("please enter the code in below box to verify your email.")]})]})]});return(0,A.jsxs)(y.Ay,{methods:E,onSubmit:O,children:[Z,R]})}function z(){const{forgotPassword:e}=(0,C.Z)(),{enqueueSnackbar:n}=(0,$.dh)(),{t:i}=(0,j.WD)(),a=(0,g.rd)(),t=r.Ik().shape({email:r.Yj().required("Email is required").email("Email must be a valid email address")}),c=(0,s.mN)({mode:"all",resolver:(0,l.t)(t),defaultValues:{email:""}}),{handleSubmit:m,formState:{isSubmitting:h}}=c,x=m((async i=>{try{await(null===e||void 0===e?void 0:e(i.email));const n=new URLSearchParams({email:i.email}).toString(),r=`${p.f.auth.newPassword}?${n}`;a.push(r)}catch(r){console.error(r),n("string"===typeof r?r:r.message,{variant:"error"})}})),b=(0,A.jsxs)(d.A,{spacing:3,alignItems:"center",children:[(0,A.jsx)(y.o3,{name:"email",label:i("email address")}),(0,A.jsx)(o.A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:h,children:i("send request")}),(0,A.jsxs)(k.A,{component:S.W,href:p.f.auth.login,color:"inherit",variant:"subtitle2",sx:{alignItems:"center",display:"inline-flex"},children:[(0,A.jsx)(v.A,{icon:"eva:arrow-ios-back-fill",width:16}),i("return to login")]})]}),f=(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(W.BG,{sx:{height:96}}),(0,A.jsxs)(d.A,{spacing:1,sx:{my:5},children:[(0,A.jsx)(u.A,{variant:"h3",children:i("Forgot your password?")}),(0,A.jsx)(u.A,{variant:"body2",sx:{color:"text.secondary"},children:i("Please enter the email address associated with your account and We will email you a link to reset your password.")})]})]});return(0,A.jsxs)(y.Ay,{methods:c,onSubmit:x,children:[f,b]})}var V=i(94113),U=i(25078),L=i(49633),O=i(76839),N=i(12299),R=i(1273),Z=i(94814),M=i(81e3),X=i(83462),H=i(4219),G=i(35316),K=i(29347),B=i(98533),J=i(74086),Q=i(7625),ee=i(88566);function ne(){var e,n,i,a,t,b,f,_;const{t:I}=(0,j.WD)(),{currentLang:Y}=(0,j.jc)(),W="ar"===Y.value,{register:T}=(0,C.Z)(),$=(0,g.rd)(),[F,D]=(0,w.useState)(""),[E,z]=(0,w.useState)(0),{countriesData:ne}=(0,Q.oOq)({select:"name_english name_arabic"}),{unitserviceTypesData:ie}=(0,Q.lPM)(),{specialtiesData:ae}=(0,Q.srd)({select:"name_english name_arabic"}),{employeeTypesData:re}=(0,Q.diI)(),te=(0,g.ok)(),[se,le]=(0,w.useState)(!1),oe=te.get("returnTo"),de=(0,x.C)(),ce=(0,x.C)(!0),ue=(0,x.C)(),me=r.Ik().shape({US_type:r.Yj().required(I("required field")),employees_number:r.Yj().required(I("required field")),us_name_arabic:r.Yj().required(I("required field")),us_name_english:r.Yj().required(I("required field")),us_identification_num:r.Yj().required(I("required field")),us_country:r.Yj().nullable().required(I("required field")),us_city:r.Yj().required(I("required field")),us_sector_type:r.Yj().required(I("required field")),em_name_english:r.Yj().required(I("required field")).test("at-least-three-words",I("must be at least three words"),(e=>{if(!e)return!1;return e.trim().split(/\s+/).length>=3})),em_name_arabic:r.Yj().required(I("required field")).test("at-least-three-words",I("must be at least three words"),(e=>{if(!e)return!1;return e.trim().split(/\s+/).length>=3})),em_nationality:r.Yj().required(I("required field")),em_gender:r.Yj().required(I("required field")),em_identification_num:r.Yj().required(I("required field")).min(8,`${I("must be at least")} 8`).max(15,`${I("must be at most")} 15`),em_profrssion_practice_num:r.Yj(),em_type:r.Yj().required(I("required field")),em_phone:r.Yj().required(I("required field")).test("is-valid-phone",I("Invalid phone number"),(e=>(0,V.l0)(e))),em_speciality:r.Yj().nullable(),visibility_US_page:r.lc(),visibility_online_appointment:r.lc(),email:r.Yj().required(I("required field")).email(I("Email must be a valid email address")),password:r.Yj().min(8,`${I("must be at least")} 8`),confirmPassword:r.Yj().oneOf([r.KR("password"),I("must be exactly as password")],I("Passwords must match")).min(8,`${I("must be at least")} 8`)}),he=(0,w.useMemo)((()=>{var e;return{employees_number:"",us_name_arabic:"",us_name_english:"",us_identification_num:"",us_country:"",us_city:"",US_type:"",us_sector_type:"",em_name_english:"",em_name_arabic:"",em_nationality:"",em_identification_num:"",em_profrssion_practice_num:"",em_type:null===re||void 0===re||null===(e=re[0])||void 0===e?void 0:e._id,em_gender:"",em_phone:"",em_speciality:null,visibility_US_page:!1,visibility_online_appointment:!1,email:"",password:"",confirmPassword:""}}),[re]),pe=(0,s.mN)({mode:"all",resolver:(0,l.t)(me),defaultValues:he}),{handleSubmit:ge,setValue:xe,reset:be,watch:je,formState:{isSubmitting:fe,errors:ve}}=pe,ye=je(),{tableData:Ae}=(0,Q.RmE)(ye.us_country,{select:"name_english name_arabic"}),_e=[W?null===(e=ie.find((e=>e._id===ye.US_type)))||void 0===e?void 0:e.name_arabic:null===(n=ie.find((e=>e._id===ye.US_type)))||void 0===n?void 0:n.name_english,I("manager"),I("account")],we=e=>{/^[\u0600-\u06FF0-9\s!@#$%^&*_\-().]*$/.test(e.target.value)&&pe.setValue(e.target.name,e.target.value,{shouldValidate:!0})},ke=e=>{/^[a-zA-Z0-9\s,@#$!*_\-&^%.()]*$/.test(e.target.value)&&pe.setValue(e.target.name,e.target.value,{shouldValidate:!0})},qe=ge((async e=>{try{await(null===T||void 0===T?void 0:T({role:"admin",userName:e.em_name_english,...e})),$.push(p.f.auth.verify(e.email)||oe||P.EJ)}catch(n){console.error(n),D(W&&n.arabic_message||n.message)}}));(0,w.useEffect)((()=>{be(he)}),[he,be]),(0,w.useEffect)((()=>{D(),Object.keys(ve).length&&D(Object.keys(ve).map(((e,n)=>{var i;return I(`${e}: ${(null===ve||void 0===ve||null===(i=ve[e])||void 0===i?void 0:i.message)||"error"}`)})).join("<br>"))}),[ve,I]);const Se=(0,A.jsxs)(d.A,{spacing:2,sx:{mb:3,position:"relative"},children:[(0,A.jsx)(c.A,{smUp:!0,children:(0,A.jsx)("span",{children:(0,A.jsx)(J.A,{})})}),(0,A.jsx)(u.A,{variant:"h4",children:W?"\u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0643\u0648\u062d\u062f\u0629 \u062e\u062f\u0645\u0629":"Sign up as unit of service"}),(0,A.jsxs)(d.A,{direction:"column",children:[(0,A.jsxs)(d.A,{direction:"row",spacing:.5,children:[(0,A.jsx)(u.A,{sx:{mb:1},variant:"body2",children:I("Already have an account?")}),(0,A.jsx)(k.A,{href:p.f.auth.login,component:S.W,variant:"subtitle2",children:I("login")})]}),(0,A.jsx)(u.A,{variant:"body2",sx:{mb:3},children:(0,A.jsx)(k.A,{href:"/",component:S.W,variant:"subtitle2",children:I("Home page")})})]}),null!==ye.US_type&&(0,A.jsx)(O.A,{activeStep:E,children:_e.map(((e,n)=>(0,A.jsx)(U.A,{children:(0,A.jsx)(N.A,{lang:"ar",children:e})},n)))})]}),Ce=(0,A.jsxs)(u.A,{component:"div",sx:{color:"text.secondary",mt:2,typography:"caption"},children:[(0,A.jsx)(R.A,{checked:se,onChange:e=>le(e.target.checked)}),I("I agree to"),(0,A.jsx)(k.A,{onClick:ue.onTrue,sx:{cursor:"pointer"},underline:"always",color:"text.primary",children:I("Terms of Service")}),I(" and "),(0,A.jsx)(k.A,{onClick:ue.onTrue,sx:{cursor:"pointer"},underline:"always",color:"text.primary",children:I("Privacy Policy")})]}),Pe=(0,A.jsxs)(d.A,{spacing:2,children:[!!F&&(0,A.jsx)(q.A,{severity:"error",children:(0,A.jsx)("div",{dangerouslySetInnerHTML:{__html:F}})}),W&&(0,A.jsx)(y.o3,{onChange:we,name:"us_name_arabic",label:I("Arabic name of unit of service")}),(0,A.jsx)(y.o3,{onChange:ke,name:"us_name_english",label:I("English name of unit of service")}),!W&&(0,A.jsx)(y.o3,{onChange:we,name:"us_name_arabic",label:I("Arabic name of unit of service")}),(0,A.jsx)(y.o3,{name:"us_identification_num",label:I("The national number of the unit of service")}),(0,A.jsx)(y.tX,{onChange:e=>{const n=e.target.value;pe.setValue("us_country",n,{shouldValidate:!0})},name:"us_country",label:I("region ( country )"),children:ne.map(((e,n)=>(0,A.jsx)(Z.A,{lang:"ar",value:e._id,children:W?e.name_arabic:e.name_english},n)))}),(0,A.jsx)(y.tX,{name:"us_city",label:I("region ( city )"),children:Ae.map(((e,n)=>(0,A.jsx)(Z.A,{lang:"ar",value:e._id,children:W?e.name_arabic:e.name_english},n)))}),(0,A.jsxs)(y.tX,{name:"us_sector_type",label:I("sector type"),children:[(0,A.jsx)(Z.A,{lang:"ar",value:"public",children:I("Public")}),(0,A.jsx)(Z.A,{lang:"ar",value:"private",children:I("private")}),(0,A.jsx)(Z.A,{lang:"ar",value:"non profit organization",children:I("non profit organization")})]}),(0,A.jsxs)(o.A,{sx:{mt:4},fullWidth:!0,disabled:!ye.us_name_arabic||!ye.us_name_english||!ye.us_sector_type||!ye.us_city||!ye.us_country||!ye.us_identification_num,color:"inherit",size:"large",variant:"contained",type:"submit",onClick:()=>z((e=>e+1)),children:[I("Next Step")," ",W?(0,A.jsx)(v.A,{width:20,className:"arrow",icon:"eva:arrow-ios-back-fill"}):(0,A.jsx)(v.A,{width:20,className:"arrow",icon:"eva:arrow-ios-forward-fill"})]}),(0,A.jsx)(M.A,{sx:{display:"flex"},children:(0,A.jsx)(L.A,{color:"inherit",disabled:0===E,onClick:()=>z((e=>e-1)),sx:{mt:-1.5},children:I("back")})})]}),Ie=(0,A.jsxs)(d.A,{spacing:2,children:[!!F&&(0,A.jsx)(q.A,{severity:"error",children:(0,A.jsx)("div",{dangerouslySetInnerHTML:{__html:F}})}),(0,A.jsxs)(M.A,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"},children:[W&&(0,A.jsx)(y.o3,{onChange:we,name:"em_name_arabic",label:I("Manager full name in Arabic")}),(0,A.jsx)(y.o3,{onChange:ke,name:"em_name_english",label:I("Manager full name in English"),helperText:I("should include title like : doctor, specialist,...")}),!W&&(0,A.jsx)(y.o3,{onChange:we,name:"em_name_arabic",label:I("Manager full name in Arabic"),helperText:I("should include title like : doctor, specialist,...")}),(0,A.jsx)(y.j2,{name:"em_type",label:I("employee type"),options:re.map((e=>e._id)),getOptionLabel:e=>{var n;return null===(n=re.find((n=>n._id===e)))||void 0===n?void 0:n[W?"name_arabic":"name_english"]},renderOption:(e,n,i)=>{var a;return(0,w.createElement)("li",{lang:"ar",...e,key:i,value:n},null===(a=re.find((e=>e._id===n)))||void 0===a?void 0:a[W?"name_arabic":"name_english"])}}),"doctor"===(null===(i=re.find((e=>e._id===ye.em_type)))||void 0===i||null===(a=i.name_english)||void 0===a?void 0:a.toLowerCase())&&(0,A.jsx)(y.j2,{name:"em_speciality",label:I("speciality"),options:ae.map((e=>e._id)),getOptionLabel:e=>{var n;return null===(n=ae.find((n=>n._id===e)))||void 0===n?void 0:n[W?"name_arabic":"name_english"]},renderOption:(e,n,i)=>{var a;return(0,w.createElement)("li",{lang:"ar",...e,key:i,value:n},null===(a=ae.find((e=>e._id===n)))||void 0===a?void 0:a[W?"name_arabic":"name_english"])}})]}),(0,A.jsxs)(M.A,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"},children:[(0,A.jsx)(y.tX,{name:"em_nationality",label:I("nationality"),children:ne.map(((e,n)=>(0,A.jsx)(Z.A,{lang:"ar",value:e._id,children:W?e.name_arabic:e.name_english},n)))}),(0,A.jsx)(y.tX,{name:"em_gender",label:I("gender"),children:["male","female"].map(((e,n)=>(0,A.jsx)(Z.A,{lang:"ar",value:e,children:I(e)},n)))}),(0,A.jsx)(y.o3,{name:"em_identification_num",label:I("identification number of manager")}),"doctor"===(null===(t=re.find((e=>e._id===ye.em_type)))||void 0===t||null===(b=t.name_english)||void 0===b?void 0:b.toLowerCase())&&(0,A.jsx)(y.o3,{name:"em_profrssion_practice_num",label:I("profession practice number")}),(0,A.jsx)(y.u,{name:"em_phone",label:I("phone number")}),(0,A.jsxs)("div",{children:[(0,A.jsx)(y.SF,{sx:{px:2},name:"visibility_US_page",onChange:()=>xe("visibility_US_page",!ye.visibility_US_page),label:(0,A.jsx)(u.A,{sx:{fontSize:12},children:I("visible on unit of service online page")})}),(0,A.jsx)(y.SF,{sx:{px:2},name:"visibility_online_appointment",onChange:()=>xe("visibility_online_appointment",!ye.visibility_online_appointment),label:(0,A.jsx)(u.A,{sx:{fontSize:12},children:I("visible on online appointments")})})]})]}),(0,A.jsxs)(o.A,{sx:{mt:4},fullWidth:!0,disabled:!ye.em_gender||!ye.em_name_arabic||!ye.em_name_english||!ye.em_identification_num||!ye.em_nationality||!ye.em_type||!ye.em_phone||!(0,V.l0)(ye.em_phone)||(null===(f=ye.em_name_arabic.trim().split(/\s+/))||void 0===f?void 0:f.length)<3||(null===(_=ye.em_name_english.trim().split(/\s+/))||void 0===_?void 0:_.length)<3,color:"inherit",size:"large",variant:"contained",type:"submit",onClick:()=>z((e=>e+1)),children:[I("Next Step")," ",W?(0,A.jsx)(v.A,{width:20,className:"arrow",icon:"eva:arrow-ios-back-fill"}):(0,A.jsx)(v.A,{width:20,className:"arrow",icon:"eva:arrow-ios-forward-fill"})]}),(0,A.jsx)(M.A,{sx:{display:"flex"},children:(0,A.jsx)(L.A,{color:"inherit",disabled:0===E,onClick:()=>z((e=>e-1)),sx:{mt:-1.5},children:I("back")})})]}),Ye=(0,A.jsxs)(d.A,{spacing:2,children:[!!F&&(0,A.jsx)(q.A,{severity:"error",children:(0,A.jsx)("div",{dangerouslySetInnerHTML:{__html:F}})}),(0,A.jsx)(y.o3,{name:"email",label:I("email")}),(0,A.jsx)(y.o3,{name:"password",label:I("password"),type:de.value?"text":"password",InputProps:{endAdornment:(0,A.jsx)(m.A,{position:"end",children:(0,A.jsx)(h.A,{onClick:de.onToggle,edge:"end",children:(0,A.jsx)(v.A,{icon:de.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,A.jsx)(y.o3,{name:"confirmPassword",label:I("confirm password"),type:de.value?"text":"password",InputProps:{endAdornment:(0,A.jsx)(m.A,{position:"end",children:(0,A.jsx)(h.A,{onClick:de.onToggle,edge:"end",children:(0,A.jsx)(v.A,{icon:de.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),Ce,(0,A.jsx)(o.A,{sx:{mt:4},fullWidth:!0,disabled:!ye.email||!ye.password||!ye.confirmPassword||!se,color:"inherit",size:"large",type:"submit",variant:"contained",loading:fe,children:I("create account")}),(0,A.jsx)(M.A,{sx:{display:"flex"},children:(0,A.jsx)(L.A,{color:"inherit",disabled:0===E,onClick:()=>z((e=>e-1)),sx:{mt:-1.5},children:I("back")})})]});return(0,A.jsxs)(A.Fragment,{children:[Se,(0,A.jsxs)(y.Ay,{methods:pe,onSubmit:qe,children:[0===E&&Pe,1===E&&Ie,2===E&&Ye,(0,A.jsxs)(X.A,{open:ce.value,scroll:"paper",children:[(0,A.jsx)(H.A,{sx:{pb:2},children:I("welcome to our community")}),(0,A.jsxs)(G.A,{dividers:!0,children:[(0,A.jsx)("div",{tabIndex:-1,children:(0,A.jsx)(ee.A,{children:W?"\n<br/>\n<br/>\n\n<p>\u062a\u0646\u0642\u0633\u0645 \u0647\u0630\u0629 \u0627\u0644\u0645\u0631\u062d\u0644\u0629 \u0625\u0644\u0649 3 \u062e\u0637\u0648\u0627\u062a </p>\n<br/>\n<ul>\n<li> <strong> \u0627\u0644\u062e\u0637\u0648\u0629 \u0627\u0644\u0623\u0648\u0644\u0649: </strong>  \u062a\u062a\u0637\u0644\u0628 \u0645\u0646 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u064a\u0627\u0646\u0627\u062a \u0648\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0648\u062d\u062f\u0629 \u0627\u0644\u062e\u062f\u0645\u0629 \u0645\u062b\u0644 : \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0648\u0637\u0646\u064a \u0644\u0644\u0645\u0646\u0634\u0623\u0629  </li>\n<li> <strong> \u0627\u0644\u062e\u0637\u0648\u0629 \u0627\u0644\u062b\u0627\u0646\u064a\u0629: </strong> \u062a\u062a\u0637\u0644\u0628 \u0645\u0646 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0645\u062f\u064a\u0631 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u0645\u062b\u0644 : \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0648\u0637\u0646\u064a \u0648 \u0631\u0642\u0645 \u0645\u0645\u0627\u0631\u0633\u0629 \u0627\u0644\u0645\u0647\u0646\u0629 .. </li>\n<li> <strong> \u0627\u0644\u0645\u0631\u062d\u0644\u0629 \u0627\u0644\u062b\u0627\u0644\u062b\u0629: </strong> \u062a\u062a\u0637\u0644\u0628 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062f\u062e\u0648\u0644 \u0644\u0644\u0635\u0641\u062d\u0629 \u0645\u062b\u0644: \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0648 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 </li>\n</ul>\n\n<br/>\n<br/>\n<br/>\n<p>\u0644\u0625\u0646\u0634\u0627\u0621 \u0648\u062d\u062f\u0629 \u062e\u062f\u0645\u0629 \u062c\u062f\u064a\u062f\u0629 \u0633\u0648\u0641 \u062a\u062d\u062a\u0627\u062c :</p>\n\n<br/>\n\n<ul>\n  <li>\n    \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0648\u0637\u0646\u064a \u0644\u0644\u0645\u0646\u0634\u0623\u0629\n  </li>\n  <li>\n    \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0648\u0637\u0646\u064a \u0644\u0645\u062f\u064a\u0631 \u0627\u0644\u0645\u0646\u0634\u0623\u0629\n  </li>\n  <li>\n    \u0631\u0642\u0645 \u0645\u0645\u0627\u0631\u0633\u0629 \u0627\u0644\u0645\u0647\u0646\u0629 \u0644\u0645\u062f\u064a\u0631 \u0627\u0644\u0645\u0646\u0634\u0623\u0629 (\u0627\u0646 \u0643\u0627\u0646 \u0637\u0628\u064a\u0628\u0627)\n  </li>\n</ul>\n":'\n<br/>\n<br/>\n\n<p>You will create a new account for a "unit of service" (institution related to the healthcare sector), this process includes in 3 separate steps:</p>\n<br/>\n<ul>\n<li> <strong> first step: </strong> You should write down required information about the new institution (like: name, and national number of the institution). </li>\n<li> <strong> second step: </strong> You should register your personal information as a supervisor of the "new healthcare institution" in "Hakeemna.com" system, in this step you create a new user account  that has the role of \xa8Admin\xa8and has a full access to all data related with the new institution in this system. Note:You should determine the function/ role of the "admin/ supervisor" in the "Hakeemna.com" system, where it could be manager, secretary, accountant, doctor, nurse,  or any other role.</li>\n<li> <strong> third step: </strong> You should add login information for this Admin/supervisor user (unique email and password).</li>\n</ul>\n\n<br/>\n<br/>\n<br/>\n<p>To create a  "unit of service" account, it is required to have the next information :</p>\n\n<br/>\n\n<ul>\n  <li>\n    The national number of the  new "unit of service"  (healthcare  institution) . \n  </li>\n  <li>\n    The personal identification number of the admin/supervisor of the  new "unit of service" (healthcare  institution) . \n  </li>\n  <li>\n    The profession practice (license) number of the  admin/supervisor (If it is mandatory to obtain this license to could practice the profession)\n  </li>\n</ul>\n'})}),(0,A.jsx)("span",{style:{display:"block",padding:.75,color:"green",fontSize:12},children:I("select your unit of service type")}),(0,A.jsx)(y.tX,{sx:{pb:2},name:I("US_type"),children:ie.map(((e,n)=>(0,A.jsx)(Z.A,{lang:"ar",value:e._id,children:W?e.name_arabic:e.name_english},n)))}),(0,A.jsx)("span",{style:{display:"block",padding:.75,color:"green",fontSize:12},children:I("select the approximate number of your employees")}),(0,A.jsx)(y.b$,{row:!0,name:"employees_number",spacing:3,options:[{value:"3",label:`1-3 ${I("employees")}`},{value:"5",label:`3-10 ${I("employees")}`},{value:"10",label:I("more than 10 employees")}]})]}),(0,A.jsxs)(K.A,{children:[(0,A.jsx)(L.A,{onClick:()=>$.push(p.f.auth.login),children:I("return to login page")}),(0,A.jsx)(L.A,{disabled:!ye.employees_number||!ye.US_type,variant:"contained",onClick:ce.onFalse,children:I("I understand")})]})]})]}),(0,A.jsxs)(X.A,{open:ue.value,onClose:ue.onFalse,scroll:"paper",children:[(0,A.jsx)(H.A,{sx:{pb:2},children:"Subscribe"}),(0,A.jsx)(G.A,{dividers:!0,children:(0,A.jsx)(B.A,{tabIndex:-1,children:[...new Array(50)].map((()=>"Cras mattis consectetur purus sit amet fermentum.\nCras justo odio, dapibus ac facilisis in, egestas eget quam.\nMorbi leo risus, porta ac consectetur ac, vestibulum at eros.\nPraesent commodo cursus magna, vel scelerisque nisl consectetur et.")).join("\n")})}),(0,A.jsxs)(K.A,{children:[(0,A.jsx)(L.A,{onClick:ue.onFalse,children:"Cancel"}),(0,A.jsx)(L.A,{variant:"contained",onClick:ue.onFalse,children:"Subscribe"})]})]})]})}function ie(){const{register:e}=(0,C.Z)(),n=(0,g.rd)(),{t:i}=(0,j.WD)(),{currentLang:a}=(0,j.jc)(),t="ar"===a.value,[c,b]=(0,w.useState)(""),{countriesData:f}=(0,Q.oOq)({select:"name_english name_arabic"}),_=(0,g.ok)().get("returnTo"),I=(0,x.C)(),Y=r.Ik().shape({name_arabic:r.Yj().required("name is required"),name_english:r.Yj().required("name is required"),email:r.Yj().required("Email is required").email("Email must be a valid email address"),password:r.Yj().required("Password is required"),confirmPassword:r.Yj().required("confirm Password is required"),identification_num:r.Yj().required("Identification number is required"),country:r.Yj().required("Country is required"),city:r.Yj().required("City is required")}),W=(0,s.mN)({mode:"all",resolver:(0,l.t)(Y),defaultValues:{name_arabic:"",name_english:"",email:"",password:"",confirmPassword:"",identification_num:"",country:null,city:null}}),{reset:T,watch:$,handleSubmit:F,formState:{isSubmitting:D}}=W,E=$(),{tableData:z}=(0,Q.RmE)(E.country,{select:"name_english name_arabic"}),V=F((async i=>{try{await(null===e||void 0===e?void 0:e({role:"stakeholder",userName:i.name_english,...i})),n.push(p.f.auth.verify(i.email)||_||P.EJ)}catch(a){console.error(a),T(),b("string"===typeof a?a:a.message)}})),U=(0,A.jsxs)(d.A,{spacing:2,sx:{mb:5,position:"relative"},children:[(0,A.jsx)(u.A,{variant:"h4",children:i("Get started absolutely free")}),(0,A.jsxs)(d.A,{direction:"row",spacing:.5,children:[(0,A.jsxs)(u.A,{variant:"body2",children:[" ",i("Already have an account?")," "]}),(0,A.jsx)(k.A,{href:p.f.auth.login,component:S.W,variant:"subtitle2",children:i("login")})]}),(0,A.jsx)(d.A,{direction:"row",spacing:.5,children:(0,A.jsx)(u.A,{variant:"body2",children:(0,A.jsx)(k.A,{href:"/",component:S.W,variant:"subtitle2",children:i("Home page")})})})]}),L=(0,A.jsxs)(u.A,{component:"div",sx:{color:"text.secondary",mt:2.5,typography:"caption",textAlign:"center"},children:[i("By signing up, I agree to "),(0,A.jsx)(k.A,{underline:"always",color:"text.primary",children:i("Terms of Service")}),i("and "),(0,A.jsx)(k.A,{underline:"always",color:"text.primary",children:i("Privacy Policy")}),"."]}),O=(0,A.jsx)(y.Ay,{methods:W,onSubmit:V,children:(0,A.jsxs)(d.A,{spacing:2,children:[!!c&&(0,A.jsx)(q.A,{severity:"error",children:c}),(0,A.jsxs)(d.A,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,A.jsx)(y.o3,{onChange:e=>{/^[a-zA-Z0-9\s,@#$!*_\-&^%.()]*$/.test(e.target.value)&&W.setValue(e.target.name,e.target.value,{shouldValidate:!0})},name:"name_english",label:i("name in english")}),(0,A.jsx)(y.o3,{onChange:e=>{/^[\u0600-\u06FF0-9\s!@#$%^&*_\-().]*$/.test(e.target.value)&&W.setValue(e.target.name,e.target.value,{shouldValidate:!0})},name:"name_arabic",label:i("Name in arabic")})]}),(0,A.jsx)(y.o3,{name:"email",label:i("Email address")}),(0,A.jsx)(y.o3,{name:"identification_num",label:i("Identification number")}),(0,A.jsxs)(d.A,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,A.jsx)(y.tX,{onChange:e=>{const n=e.target.value;W.setValue("country",n,{shouldValidate:!0})},name:"country",label:i("country"),children:f.map(((e,n)=>(0,A.jsx)(Z.A,{lang:"ar",value:e._id,children:t?e.name_arabic:e.name_english},n)))}),(0,A.jsx)(y.tX,{name:"city",label:i("City"),children:z.map(((e,n)=>(0,A.jsx)(Z.A,{lang:"ar",value:e._id,children:t?e.name_arabic:e.name_english},n)))})]}),(0,A.jsx)(y.o3,{name:"password",label:i("Password"),type:I.value?"text":"password",InputProps:{endAdornment:(0,A.jsx)(m.A,{position:"end",children:(0,A.jsx)(h.A,{onClick:I.onToggle,edge:"end",children:(0,A.jsx)(v.A,{icon:I.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,A.jsx)(y.o3,{name:"confirmPassword",label:i("Confirm Password"),type:I.value?"text":"password",InputProps:{endAdornment:(0,A.jsx)(m.A,{position:"end",children:(0,A.jsx)(h.A,{onClick:I.onToggle,edge:"end",children:(0,A.jsx)(v.A,{icon:I.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,A.jsx)(o.A,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:D,children:i("create account")})]})});return(0,A.jsxs)(A.Fragment,{children:[U,O,L]})}},43963:(e,n,i)=>{i.d(n,{A:()=>z});var a=i(80899),r=i(65173),t=i.n(r),s=i(46987),l=i(24858),o=i(65043),d=i(94113),c=i(18403),u=i(88446),m=i(71861),h=i(74600),p=i(17392),g=i(94496),x=i(38246),b=i(51787),j=i(81e3),f=i(49633),v=i(83462),y=i(35316),A=i(98533),_=i(29347),w=i(94814),k=i(48407),q=i(65381),S=i(67132),C=i(59229),P=i(75139),I=i(97742),Y=i(60778),W=i(7625),T=i(35151),$=i(39139),F=i(47050),D=i(59699),E=i(70579);function z(e){var n,i;let{afterSignUp:r,onSignIn:t,setPatientId:z}=e;const{register:V,authenticated:U}=(0,P.Z)(),L=new Date;L.setHours(0,0,0,0);const{enqueueSnackbar:O}=(0,s.dh)(),{t:N}=(0,Y.WD)(),{currentLang:R}=(0,Y.jc)(),Z="ar"===R.value,[M,X]=(0,o.useState)(0),H=(0,S.rd)(),G=(0,C.C)(!1),K=(0,C.C)(!1),[B,J]=(0,o.useState)(""),[Q,ee]=(0,o.useState)(),{countriesData:ne}=(0,W.oOq)({select:"name_english name_arabic"}),ie=(0,S.ok)().get("returnTo"),ae=(0,C.C)(),re=a.Ik().shape({name_english:a.Yj().required(N("required field")).test("at-least-three-words",N("must be at least three words"),(e=>{if(!e)return!1;return e.trim().split(/\s+/).length>=3})),name_arabic:a.Yj().required(N("required field")).test("at-least-three-words",N("must be at least three words"),(e=>{if(!e)return!1;return e.trim().split(/\s+/).length>=3})),email:a.Yj().required(N("required field")).email(N("required field")),password:a.Yj().required(N("required field")),confirmPassword:a.Yj().oneOf([a.KR("password"),N("must be exactly as password")]).min(8,N("must be at least 8")),identification_num:a.Yj().required(N("required field")),scanned_identification:a.gl().required(N("required field")),mobile_num1:a.Yj().required(N("required field")).test("is-valid-phone",N("Invalid phone number"),(e=>(0,d.l0)(e))),gender:a.Yj().required(N("required field")),birth_date:a.gl().required(N("required field")).test("is-adult",N("You must be at least 18 years old"),(e=>{const n=new Date;return e<=new Date(n.getFullYear()-18,n.getMonth(),n.getDate())})),nationality:a.Yj().required(N("required field")),country:a.Yj().required(N("required field")),city:a.Yj().required(N("required field"))}),te={name_english:"",name_arabic:"",email:"",password:"",confirmPassword:"",mobile_num1:"",identification_num:"",scanned_identification:null,gender:"",birth_date:L,country:null,nationality:null,city:null},se=(0,l.mN)({mode:"all",resolver:(0,c.t)(re),defaultValues:te}),{watch:le,setValue:oe,handleSubmit:de,formState:{isSubmitting:ce}}=se,ue=le(),{tableData:me}=(0,W.RmE)(ue.country,{select:"name_english name_arabic"}),he=de((async e=>{try{var n;e.email=null===(n=e.email)||void 0===n?void 0:n.toLowerCase(),e.userName=e.name_english;const a=new FormData;a.append("identification",Q[0]),Object.keys(e).forEach((n=>{"scanned_identification"!==n&&(Array.isArray(e[n])?e[n].forEach(((e,i)=>{a.append(`${n}[${i}]`,e)})):a.append(n,e[n]))}));const t=await(null===V||void 0===V?void 0:V(a));var i;if(r)z(null===t||void 0===t||null===(i=t.patient)||void 0===i?void 0:i._id),O(N("appointment booked successfully")),r();else H.push(k.f.auth.verify(e.email)||ie||I.EJ)}catch(a){console.error(a),J("string"===typeof a?a:a.message)}}));(0,o.useEffect)((()=>{U&&H.push(k.f.dashboard.root)}),[U,H]);const pe=(0,E.jsxs)(h.A,{spacing:2,sx:{mb:5,position:"relative"},children:[(0,E.jsxs)(g.A,{variant:"h4",children:[N("Get started absolutely free")," "]}),(0,E.jsxs)(h.A,{direction:"row",spacing:.5,children:[(0,E.jsxs)(g.A,{variant:"body2",children:[" ",N("Already have an account?")," "]}),t?(0,E.jsx)(u.A,{onClick:()=>t(),component:q.W,variant:"subtitle2",children:N("login")}):(0,E.jsx)(u.A,{href:k.f.auth.login,component:q.W,variant:"subtitle2",children:N("login")})]}),!t&&(0,E.jsx)(h.A,{direction:"row",spacing:.5,children:(0,E.jsx)(g.A,{variant:"body2",children:(0,E.jsx)(u.A,{href:"/",component:q.W,variant:"subtitle2",children:N("Home page")})})})]}),ge=(0,E.jsxs)(E.Fragment,{children:[1===M&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(j.A,{sx:{display:"flex",mt:2},children:(0,E.jsx)(f.A,{color:"inherit",disabled:0===M,onClick:()=>X(0),sx:{mt:-1.5},children:N("back")})}),(0,E.jsxs)(v.A,{open:G.value,children:[(0,E.jsx)(y.A,{dividers:!0,children:(0,E.jsx)(A.A,{tabIndex:-1,children:(0,E.jsx)(F.A,{})})}),(0,E.jsx)(_.A,{children:(0,E.jsx)(f.A,{variant:"contained",onClick:G.onFalse,children:"Ok"})})]}),(0,E.jsxs)(v.A,{open:K.value,children:[(0,E.jsx)(y.A,{dividers:!0,children:(0,E.jsx)(A.A,{tabIndex:-1,children:(0,E.jsx)($.A,{})})}),(0,E.jsx)(_.A,{children:(0,E.jsx)(f.A,{variant:"contained",onClick:K.onFalse,children:"Ok"})})]}),(0,E.jsxs)(g.A,{component:"div",sx:{color:"text.secondary",mt:2.5,typography:"caption",textAlign:"center"},children:[N("By signing up, I agree to "),(0,E.jsx)(u.A,{underline:"always",color:"success.main",onClick:G.onTrue,children:N("Terms of Service ")}),N("and "),(0,E.jsx)(u.A,{underline:"always",color:"success.main",onClick:K.onTrue,children:N("Privacy Policy")}),"."]})]}),0===M&&(0,E.jsxs)(x.A,{sx:{mt:4},fullWidth:!0,disabled:(null===(n=ue.name_english.trim().split(/\s+/))||void 0===n?void 0:n.length)<3||(null===(i=ue.name_arabic.trim().split(/\s+/))||void 0===i?void 0:i.length)<3||!ue.identification_num||!ue.mobile_num1||!ue.nationality||!ue.country||!ue.city||!(0,d.l0)(ue.mobile_num1)||!ue.gender||!ue.birth_date,color:"inherit",size:"large",variant:"contained",onClick:()=>X(1),children:[N("Next Step")," ",Z?(0,E.jsx)(T.A,{width:20,className:"arrow",icon:"eva:arrow-ios-back-fill"}):(0,E.jsx)(T.A,{width:20,className:"arrow",icon:"eva:arrow-ios-forward-fill"})]})]}),xe=(0,E.jsx)(D.Ay,{methods:se,onSubmit:he,children:(0,E.jsxs)(h.A,{spacing:2.5,children:[!!B&&(0,E.jsx)(m.A,{severity:"error",children:B}),0===M&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(h.A,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,E.jsx)(D.o3,{name:"name_english",label:N("name in english"),onChange:e=>{/^[a-zA-Z0-9\s,@#$!*_\-&^%.()]*$/.test(e.target.value)&&oe(e.target.name,e.target.value,{shouldValidate:!0})}}),(0,E.jsx)(D.o3,{name:"name_arabic",label:N("name in arabic"),onChange:e=>{/^[\u0600-\u06FF0-9\s!@#$%^&*_\-().]*$/.test(e.target.value)&&oe(e.target.name,e.target.value,{shouldValidate:!0})}})]}),(0,E.jsx)(D.o3,{name:"identification_num",label:N("Identification number")}),(0,E.jsx)(D.u,{name:"mobile_num1",label:N("mobile number")}),(0,E.jsx)(D.tX,{name:"nationality",label:N("nationality"),children:null===ne||void 0===ne?void 0:ne.map(((e,n)=>(0,E.jsx)(w.A,{lang:"ar",value:null===e||void 0===e?void 0:e._id,children:Z?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},n)))}),(0,E.jsxs)(h.A,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,E.jsx)(D.tX,{onChange:e=>{const n=e.target.value;oe("country",n,{shouldValidate:!0})},name:"country",label:N("Region ( country )"),children:null===ne||void 0===ne?void 0:ne.map(((e,n)=>(0,E.jsx)(w.A,{lang:"ar",value:null===e||void 0===e?void 0:e._id,children:Z?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},n)))}),(0,E.jsx)(D.tX,{name:"city",label:N("Region ( city )"),children:null===me||void 0===me?void 0:me.map(((e,n)=>(0,E.jsx)(w.A,{lang:"ar",value:null===e||void 0===e?void 0:e._id,children:Z?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},n)))})]}),(0,E.jsxs)(h.A,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,E.jsxs)(D.tX,{name:"gender",label:N("Gender"),children:[(0,E.jsx)(w.A,{lang:"ar",value:"male",children:N("male")}),(0,E.jsx)(w.A,{lang:"ar",value:"female",children:N("female")})]}),(0,E.jsx)(D.ZE,{name:"birth_date",label:N("Date of birth")})]})]}),1===M&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(D.o3,{name:"email",label:N("Email address")}),(0,E.jsx)(D.o3,{name:"password",label:N("Password"),type:ae.value?"text":"password",InputProps:{endAdornment:(0,E.jsx)(b.A,{position:"end",children:(0,E.jsx)(p.A,{onClick:ae.onToggle,edge:"end",children:(0,E.jsx)(T.A,{icon:ae.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,E.jsx)(D.o3,{name:"confirmPassword",label:N("Confirm Password"),type:ae.value?"text":"password",InputProps:{endAdornment:(0,E.jsx)(b.A,{position:"end",children:(0,E.jsx)(p.A,{onClick:ae.onToggle,edge:"end",children:(0,E.jsx)(T.A,{icon:ae.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,E.jsxs)(h.A,{gap:1,children:[(0,E.jsx)(g.A,{variant:"subtitle2",children:N("identification scan")}),(0,E.jsx)(D.Y4,{name:"scanned_identification",onDrop:e=>{if(ee(e),e&&e.length>0){const n=Object.assign(e[0],{preview:URL.createObjectURL(e[0])});oe("scanned_identification",n)}},label:N("identification photo")}),(0,E.jsx)(g.A,{variant:"caption",children:N("the scanned image should be clear and able to read")})]}),(0,E.jsx)(x.A,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:ce,children:N("create account")})]})]})});return(0,E.jsxs)(E.Fragment,{children:[pe,xe,ge]})}z.propTypes={afterSignUp:t().func,onSignIn:t().func,setPatientId:t().func}},73806:(e,n,i)=>{i.d(n,{A:()=>A});var a=i(80899),r=i(65043),t=i(24858),s=i(18403),l=i(88446),o=i(74600),d=i(94496),c=i(38246),u=i(48407),m=i(65381),h=i(67132),p=i(77098),g=i(31673),x=i(16534),b=i(60778),j=i(35151),f=i(94857),v=i(59699),y=i(70579);function A(e){let{onVerify:n,patientId:i,selected:A,refetch:_}=e;const w=(0,h.ok)().get("email"),k=(0,h.rd)(),{enqueueSnackbar:q}=(0,f.dh)(),{t:S}=(0,b.WD)(),{currentLang:C}=(0,b.jc)(),P="ar"===C.value,I=a.Ik().shape({code:a.Yj().min(6,`${S("must be at least")} 6`).required(S("required field"))}),{countdown:Y,counting:W,startCountdown:T}=(0,p.U)(60),$=(0,t.mN)({mode:"all",resolver:(0,s.t)(I),defaultValues:{code:""}}),{handleSubmit:F,formState:{isSubmitting:D}}=$,E=F((async e=>{try{await g.Ay.post(g.vZ.auth.activate,{email:w,code:e.code}),n?(await g.Ay.patch(g.vZ.appointments.book(A),{patient:i,lang:P}),n(),_()):k.push(u.f.dashboard.root)}catch(a){console.error(a),q(P&&`${a.arabic_message}`||`${a.message}`,{variant:"error"})}})),z=(0,r.useCallback)((async()=>{try{T(),await g.Ay.post(g.vZ.auth.resendActivation,{email:w})}catch(e){console.error(e),q(P&&`${e.arabic_message}`||`${e.message}`,{variant:"error"})}}),[T,w,q,P]),V=(0,y.jsxs)(o.A,{spacing:3,alignItems:"center",children:[(0,y.jsx)(v.q9,{name:"code"}),(0,y.jsx)(c.A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:D,children:S("verify")}),(0,y.jsxs)(d.A,{variant:"body2",children:[S("Don\u2019t have a code?"),(0,y.jsxs)(l.A,{onClick:z,variant:"subtitle2",sx:{px:1,cursor:"pointer",...W&&{color:"text.disabled",pointerEvents:"none"}},children:[S("resend code")," ",W&&`(${Y}s)`]})]}),!i&&(0,y.jsxs)(l.A,{component:m.W,href:u.f.auth.login,color:"inherit",variant:"subtitle2",sx:{alignItems:"center",display:"inline-flex"},children:[(0,y.jsx)(j.A,{icon:"eva:arrow-ios-back-fill",width:16}),S("return to login")]})]}),U=(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(x.OK,{sx:{height:96}}),(0,y.jsxs)(o.A,{spacing:1,sx:{my:5},children:[(0,y.jsx)(d.A,{variant:"h3",children:S("please check your email!")}),(0,y.jsxs)(d.A,{variant:"body2",sx:{color:"text.secondary"},children:["we have emailed a 6-digit confirmation code to"," ",(0,y.jsx)("span",{style:{color:"green",textTransform:"lowercase"},children:w}),", please enter the code in below box to verify your email."]})]})]});return(0,y.jsxs)(v.Ay,{methods:$,onSubmit:E,children:[U,V]})}},77098:(e,n,i)=>{i.d(n,{U:()=>t,f:()=>r});var a=i(65043);function r(e){const[n,i]=(0,a.useState)({days:0,hours:0,minutes:0,seconds:0});(0,a.useEffect)((()=>{const e=setInterval((()=>r()),1e3);return()=>clearInterval(e)}),[]);const r=()=>{const n=e,a=new Date,r=n.valueOf()-a.valueOf(),t=Math.floor(r/864e5),s=`0${Math.floor(r%864e5/36e5)}`.slice(-2),l=`0${Math.floor(r%36e5/6e4)}`.slice(-2),o=`0${Math.floor(r%6e4/1e3)}`.slice(-2);e&&i({days:t.toString().padStart(2,"0"),hours:s.toString().padStart(2,"0"),minutes:l.toString().padStart(2,"0"),seconds:o.toString().padStart(2,"0")})};return{days:n.days,hours:n.hours,minutes:n.minutes,seconds:n.seconds}}function t(e){const[n,i]=(0,a.useState)(e),r=(0,a.useCallback)((()=>{let a=n;const r=setInterval((()=>{a-=1,0===a?(clearInterval(r),i(e)):i(a)}),1e3)}),[e,n]);return{counting:e>n,countdown:n,setCountdown:i,startCountdown:r}}},88566:(e,n,i)=>{i.d(n,{A:()=>g});var a=i(37709);i(31173);a.A.configure({languages:["javascript","sh","bash","html","scss","css","json"]}),"undefined"!==typeof window&&(window.hljs=a.A);var r=i(17348),t=i(2607),s=i(40495),l=i(96031),o=i(88446),d=i(65381),c=i(54583),u=i(34535),m=i(90310);const h=(0,u.Ay)("div")((e=>{let{theme:n}=e;const i="light"===n.palette.mode;return{h1:{margin:0,...n.typography.h1},h2:{margin:0,...n.typography.h2},h3:{margin:0,...n.typography.h3},h4:{margin:0,...n.typography.h4},h5:{margin:0,...n.typography.h5},h6:{margin:0,...n.typography.h6},p:{margin:0,...n.typography.body1},br:{display:"grid",content:'""',marginTop:"0.75em"},hr:{margin:0,flexShrink:0,borderWidth:0,msFlexNegative:0,WebkitFlexShrink:0,borderStyle:"solid",borderBottomWidth:"thin",borderColor:n.palette.divider},"& ul, & ol":{margin:0,"& li":{lineHeight:2}},"& blockquote":{lineHeight:1.5,fontSize:"1.5em",margin:"40px auto",position:"relative",fontFamily:"Georgia, serif",padding:n.spacing(3,3,3,8),color:n.palette.text.secondary,borderRadius:2*n.shape.borderRadius,backgroundColor:n.palette.background.neutral,[n.breakpoints.up("md")]:{width:"80%"},"& p, & span":{marginBottom:0,fontSize:"inherit",fontFamily:"inherit"},"&:before":{left:16,top:-8,display:"block",fontSize:"3em",content:'"\\201C"',position:"absolute",color:n.palette.text.disabled}},"& pre, & pre > code":{fontSize:16,overflowX:"auto",whiteSpace:"pre",padding:n.spacing(2),color:n.palette.common.white,borderRadius:n.shape.borderRadius,backgroundColor:i?n.palette.grey[900]:(0,m.X4)(n.palette.grey[500],.16)},"& code":{fontSize:14,borderRadius:4,whiteSpace:"pre",padding:n.spacing(.2,.5),color:n.palette.warning[i?"darker":"lighter"],backgroundColor:n.palette.warning[i?"lighter":"darker"],"&.hljs":{padding:0,backgroundColor:"transparent"}},table:{width:"100%",borderCollapse:"collapse",border:`1px solid ${n.palette.divider}`,"th, td":{padding:n.spacing(1),border:`1px solid ${n.palette.divider}`},"tbody tr:nth-of-type(odd)":{backgroundColor:n.palette.background.neutral}},input:{"&[type=checkbox]":{position:"relative",cursor:"pointer","&:before":{content:'""',top:-2,left:-2,width:17,height:17,borderRadius:3,position:"absolute",backgroundColor:n.palette.grey[i?300:700]},"&:checked":{"&:before":{backgroundColor:n.palette.primary.main},"&:after":{content:'""',top:1,left:5,width:4,height:9,position:"absolute",transform:"rotate(45deg)",msTransform:"rotate(45deg)",WebkitTransform:"rotate(45deg)",border:`solid ${n.palette.common.white}`,borderWidth:"0 2px 2px 0"}}}}}}));var p=i(70579);function g(e){let{sx:n,...i}=e;return(0,p.jsx)(h,{sx:n,children:(0,p.jsx)(s.$,{rehypePlugins:[r.A,l.A,[t.A,{singleTilde:!1}]],components:x,...i})})}const x={img:e=>{let{...n}=e;return(0,p.jsx)(c.A,{alt:n.alt,ratio:"16/9",sx:{borderRadius:2},...n})},a:e=>{let{...n}=e;return n.href.includes("http")?(0,p.jsx)(o.A,{target:"_blank",rel:"noopener",...n}):(0,p.jsx)(o.A,{component:d.W,href:n.href,...n,children:n.children})}}}}]);
//# sourceMappingURL=3032.97ea7c2b.chunk.js.map