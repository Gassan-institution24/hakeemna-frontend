{"version":3,"file":"static/js/8414.7b7fad0e.chunk.js","mappings":"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","sources":["sections/unit-service/subscriptions/pricing-card.jsx","sections/unit-service/subscriptions/view/new.jsx","pages/unit-service/subscriptions/new.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\r\nimport { useState, useEffect } from 'react';\r\n\r\nimport Box from '@mui/material/Box';\r\nimport Link from '@mui/material/Link';\r\nimport Stack from '@mui/material/Stack';\r\nimport Button from '@mui/material/Button';\r\nimport Divider from '@mui/material/Divider';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nimport { paths } from 'src/routes/paths';\r\nimport { useRouter } from 'src/routes/hooks';\r\n\r\nimport { useBoolean } from 'src/hooks/use-boolean';\r\n\r\nimport axiosInstance, { endpoints } from 'src/utils/axios';\r\n\r\nimport { useAuthContext } from 'src/auth/hooks';\r\nimport { PlanStarterIcon } from 'src/assets/icons';\r\nimport { useLocales, useTranslate } from 'src/locales';\r\n\r\nimport Iconify from 'src/components/iconify';\r\nimport { ConfirmDialog } from 'src/components/custom-dialog';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function PricingCard({ card, sx, ...other }) {\r\n  const {\r\n    name_english,\r\n    name_arabic,\r\n    period_in_months,\r\n    price_in_usd,\r\n    package_appointment,\r\n    package_accounting,\r\n    package_docotor_report,\r\n    package_final_reporting,\r\n    package_old_files_Management,\r\n    package_TAX_Income_reporting,\r\n    Users_num,\r\n  } = card;\r\n\r\n  const { user, initialize } = useAuthContext();\r\n\r\n  const { t } = useTranslate();\r\n  const { currentLang } = useLocales();\r\n  const curLangAr = currentLang.value === 'ar';\r\n\r\n  const Router = useRouter();\r\n  const confirm = useBoolean();\r\n\r\n  const [lists, setLists] = useState([]);\r\n\r\n  const handleSubscribe = async () => {\r\n    try {\r\n      const today = new Date();\r\n      const Start_date = new Date(today.getFullYear(), today.getMonth(), today.getDate());\r\n\r\n      const End_date = new Date(\r\n        Start_date.getFullYear(),\r\n        Start_date.getMonth() + period_in_months,\r\n        Start_date.getDate()\r\n      );\r\n      await axiosInstance.post(endpoints.license_movements.all, {\r\n        unit_service:\r\n          user?.employee?.employee_engagements?.[user.employee.selected_engagement]?.unit_service\r\n            ?._id,\r\n        subscription: card._id,\r\n        Start_date,\r\n        End_date,\r\n        Users_num,\r\n        price: price_in_usd || 0,\r\n      });\r\n      initialize();\r\n      Router.push(paths.unitservice.subscriptions.root);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLists([]);\r\n    if (package_appointment) {\r\n      setLists((prev) => [...prev, 'appointment package']);\r\n    }\r\n    if (package_accounting) {\r\n      setLists((prev) => [...prev, 'accounting package']);\r\n    }\r\n    if (package_docotor_report) {\r\n      setLists((prev) => [...prev, 'docotor report package']);\r\n    }\r\n    if (package_final_reporting) {\r\n      setLists((prev) => [...prev, 'final reporting package']);\r\n    }\r\n    if (package_old_files_Management) {\r\n      setLists((prev) => [...prev, 'old files Management package']);\r\n    }\r\n    if (package_TAX_Income_reporting) {\r\n      setLists((prev) => [...prev, 'TAX Income reporting package']);\r\n    }\r\n  }, [\r\n    package_appointment,\r\n    package_accounting,\r\n    package_docotor_report,\r\n    package_final_reporting,\r\n    package_old_files_Management,\r\n    package_TAX_Income_reporting,\r\n  ]);\r\n\r\n  const renderIcon = (\r\n    <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\">\r\n      <Box sx={{ width: 48, height: 48 }}>\r\n        <PlanStarterIcon />\r\n      </Box>\r\n\r\n      {/* {starter && <Label color=\"info\">POPULAR</Label>} */}\r\n    </Stack>\r\n  );\r\n\r\n  const renderSubscription = (\r\n    <Stack spacing={1}>\r\n      <Typography variant=\"h4\" sx={{ textTransform: 'capitalize' }}>\r\n        {curLangAr ? name_arabic : name_english}\r\n      </Typography>\r\n      <Typography variant=\"subtitle2\">\r\n        {Users_num} {t('users')}\r\n      </Typography>\r\n    </Stack>\r\n  );\r\n\r\n  const renderPrice = (\r\n    <Stack direction=\"row\">\r\n      <Typography variant=\"h4\">{price_in_usd ? '$' : ''}</Typography>\r\n\r\n      <Typography variant=\"h2\">{price_in_usd || t('FREE')}</Typography>\r\n\r\n      <Typography\r\n        component=\"span\"\r\n        sx={{\r\n          alignSelf: 'center',\r\n          color: 'text.disabled',\r\n          ml: 1,\r\n          typography: 'body2',\r\n        }}\r\n      >\r\n        / {period_in_months} {period_in_months > 1 ? t('months') : t('month')}\r\n      </Typography>\r\n    </Stack>\r\n  );\r\n\r\n  const renderList = (\r\n    <Stack spacing={2}>\r\n      <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\">\r\n        <Box component=\"span\" sx={{ typography: 'overline' }}>\r\n          {t('Backages')}\r\n        </Box>\r\n        <Link variant=\"body2\" color=\"inherit\" underline=\"always\">\r\n          {package_appointment &&\r\n          package_accounting &&\r\n          package_docotor_report &&\r\n          package_final_reporting &&\r\n          package_old_files_Management &&\r\n          package_TAX_Income_reporting\r\n            ? 'All'\r\n            : ''}\r\n        </Link>\r\n      </Stack>\r\n\r\n      {lists.map((item) => (\r\n        <Stack\r\n          key={item}\r\n          spacing={1}\r\n          direction=\"row\"\r\n          alignItems=\"center\"\r\n          sx={{\r\n            typography: 'body2',\r\n          }}\r\n        >\r\n          <Iconify icon=\"eva:checkmark-fill\" width={16} sx={{ mr: 1 }} />\r\n          {t(item)}\r\n        </Stack>\r\n      ))}\r\n    </Stack>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Stack\r\n        spacing={5}\r\n        sx={{\r\n          p: 5,\r\n          borderRadius: 2,\r\n          boxShadow: (theme) => ({\r\n            xs: theme.customShadows.card,\r\n          }),\r\n          ...sx,\r\n        }}\r\n        {...other}\r\n      >\r\n        {renderIcon}\r\n\r\n        {renderSubscription}\r\n\r\n        {renderPrice}\r\n\r\n        <Divider sx={{ borderStyle: 'dashed' }} />\r\n\r\n        {renderList}\r\n\r\n        <Button fullWidth size=\"large\" variant=\"contained\" color=\"primary\" onClick={confirm.onTrue}>\r\n          {t('Select')}\r\n        </Button>\r\n      </Stack>\r\n      <ConfirmDialog\r\n        open={confirm.value}\r\n        onClose={confirm.onFalse}\r\n        title={t('Confirm')}\r\n        content={\r\n          <>\r\n            {t('Do you confirm choosing')}{' '}\r\n            <strong> {curLangAr ? name_arabic : name_english} </strong> {t('subscription ?')}\r\n          </>\r\n        }\r\n        action={\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"success\"\r\n            onClick={() => {\r\n              confirm.onFalse();\r\n              handleSubscribe();\r\n            }}\r\n          >\r\n            {t('confirm')}\r\n          </Button>\r\n        }\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nPricingCard.propTypes = {\r\n  card: PropTypes.object,\r\n  sx: PropTypes.object,\r\n};\r\n","import Box from '@mui/material/Box';\r\nimport Container from '@mui/material/Container';\r\n\r\nimport { useGetUSSubscriptions } from 'src/api';\r\n\r\n// import { _pricingPlans } from 'src/_mock';\r\n\r\nimport { useAuthContext } from 'src/auth/hooks';\r\n\r\nimport PricingCard from '../pricing-card';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function PricingView() {\r\n  const { user } = useAuthContext();\r\n  const { subscriptionsData } = useGetUSSubscriptions(\r\n    user?.employee?.employee_engagements[user?.employee.selected_engagement]?.unit_service?._id\r\n  );\r\n  return (\r\n    <Container>\r\n      <Box\r\n        gap={{ xs: 3, md: 5 }}\r\n        display=\"grid\"\r\n        alignItems={{ md: 'center' }}\r\n        gridTemplateColumns={{ md: 'repeat(3, 1fr)' }}\r\n      >\r\n        {subscriptionsData.map((card, index) => (\r\n          <PricingCard key={card.subscription} card={card} index={index} />\r\n        ))}\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import { Helmet } from 'react-helmet-async';\r\n\r\nimport ACLGuard from 'src/auth/guard/acl-guard';\r\nimport { useAuthContext } from 'src/auth/hooks';\r\n\r\nimport SubscriptionNewView from 'src/sections/unit-service/subscriptions/view/new';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function SubscriptionNewPage() {\r\n  const { user } = useAuthContext();\r\n  const serviceUnitName =\r\n    user?.employee?.employee_engagements?.[user?.employee?.selected_engagement]?.unit_service\r\n      ?.name_english;\r\n  return (\r\n    <ACLGuard category=\"unit_service\" subcategory=\"unit_service_info\" acl=\"create\">\r\n      <Helmet>\r\n        <title>{serviceUnitName || 'unit of service'} : New Subscription</title>\r\n        <meta name=\"description\" content=\"meta\" />\r\n      </Helmet>\r\n\r\n      <SubscriptionNewView />\r\n    </ACLGuard>\r\n  );\r\n}\r\n"],"names":["PricingCard","_ref","card","sx","other","name_english","name_arabic","period_in_months","price_in_usd","package_appointment","package_accounting","package_docotor_report","package_final_reporting","package_old_files_Management","package_TAX_Income_reporting","Users_num","user","initialize","useAuthContext","t","useTranslate","currentLang","useLocales","curLangAr","value","Router","useRouter","confirm","useBoolean","lists","setLists","useState","useEffect","prev","renderIcon","_jsx","Stack","direction","alignItems","justifyContent","children","Box","width","height","PlanStarterIcon","renderSubscription","_jsxs","spacing","Typography","variant","textTransform","renderPrice","component","alignSelf","color","ml","typography","renderList","Link","underline","map","item","Iconify","icon","mr","_Fragment","p","borderRadius","boxShadow","theme","xs","customShadows","Divider","borderStyle","Button","fullWidth","size","onClick","onTrue","ConfirmDialog","open","onClose","onFalse","title","content","action","async","_user$employee","_user$employee$employ","_user$employee$employ2","_user$employee$employ3","today","Date","Start_date","getFullYear","getMonth","getDate","End_date","axiosInstance","post","endpoints","license_movements","all","unit_service","employee","employee_engagements","selected_engagement","_id","subscription","price","push","paths","unitservice","subscriptions","root","error","console","handleSubscribe","PricingView","subscriptionsData","useGetUSSubscriptions","Container","gap","md","display","gridTemplateColumns","index","SubscriptionNewPage","_user$employee2","serviceUnitName","ACLGuard","category","subcategory","acl","Helmet","name","SubscriptionNewView"],"sourceRoot":""}