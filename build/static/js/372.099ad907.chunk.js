"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[372],{80372:(e,t,r)=>{r.r(t),r.d(t,{default:()=>A});var n=r(8007),o=r(72791),a=r(61134),l=r(44695),i=r(82337),s=r(63515),c=r(53767),d=r(17003),u=r(13400),m=r(12258),p=r(4567),h=r(82626),v=r(63466),x=r(38072),g=r(19208),Z=r(22459),j=r(81164),f=r(8976),y=r(66630),b=r(41364),w=r(40268),C=r(24461),_=r(80184);function A(){var e;const{countriesData:t}=(0,y.Rpj)(),{register:r}=(0,f.E)(),{t:A}=(0,j.qM)(),S=(0,g.tv)(),[P,M]=(0,o.useState)(""),{user:k}=(0,f.E)(),q=(0,Z.k)(),z=n.Ry().shape({name_english:n.Z_().required("First name required"),email:n.Z_().required("Email is required").email("Email must be a valid email address"),password:n.Z_().required("Password is required"),confirmPassword:n.Z_().oneOf([n.iH("password"),null],"Passwords must match").min(8,"Confirm password must be at least 8 characters"),identification_num:n.Z_().required("Identification number is required"),birth_date:n.hT().required("birth_date is required"),gender:n.Z_().required("Gender is required"),country:n.Z_().required("Country is required"),city:n.Z_().required("City is required")}),I={name_english:"",email:"",family_members:null===k||void 0===k||null===(e=k.patient)||void 0===e?void 0:e._id,password:"",confirmPassword:"",birth_date:"",identification_num:"",gender:"",country:null,city:null},L=(0,a.cI)({mode:"onTouched",resolver:(0,l.X)(z),defaultValues:I}),{reset:R,watch:T,control:N,handleSubmit:O,formState:{isSubmitting:F}}=L,H=T(),{tableData:E}=(0,y.s_U)(H.country),V=O((async e=>{try{await(null===r||void 0===r?void 0:r({userName:"".concat(e.name_english),...e})),S.push(x.H.auth.verify(e.email))}catch(t){console.error(t),R(),M("string"===typeof t?t:t.message)}}));return(0,_.jsx)(C.ZP,{methods:L,onSubmit:V,children:(0,_.jsxs)(i.Z,{sx:{display:"flex",flexDirection:{md:"row",xs:"column"}},children:[(0,_.jsxs)(c.Z,{spacing:2.5,sx:{width:{md:"50%",xs:"80%"},ml:5,mt:5,mr:15},children:[!!P&&(0,_.jsx)(s.Z,{severity:"error",children:P}),(0,_.jsx)(p.Z,{variant:"h3",sx:{textAlign:"center",display:{md:"none",xs:"block"}},children:"Add Account"}),(0,_.jsx)(c.Z,{direction:{xs:"column",sm:"row"},spacing:2,children:(0,_.jsx)(C.au,{name:"name_english",label:"First name"})}),(0,_.jsx)(C.au,{name:"email",label:"Email address"}),(0,_.jsx)(C.au,{name:"identification_num",label:"Identification number"}),(0,_.jsx)(a.Qr,{name:"birth_date",control:N,render:e=>{let{field:t,fieldState:{error:r}}=e;return(0,_.jsx)(d.M,{label:A("birth date"),value:new Date(H.birth_date?H.birth_date:""),onChange:e=>{t.onChange(e)},slotProps:{textField:{fullWidth:!0,error:!!r,helperText:null===r||void 0===r?void 0:r.message}}})}}),(0,_.jsxs)(c.Z,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,_.jsx)(C.Cc,{onChange:e=>{const t=e.target.value;L.setValue("country",t,{shouldValidate:!0})},name:"country",label:A("country"),children:null===t||void 0===t?void 0:t.map(((e,t)=>(0,_.jsx)(h.Z,{lang:"ar",value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name_english},t)))}),(0,_.jsx)(C.Cc,{name:"city",label:"City",children:null===E||void 0===E?void 0:E.map(((e,t)=>(0,_.jsx)(h.Z,{lang:"ar",value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name_english},t)))}),(0,_.jsxs)(C.Cc,{name:"gender",label:"Gender",children:[(0,_.jsx)(h.Z,{lang:"ar",value:"male",children:"male"}),(0,_.jsx)(h.Z,{lang:"ar",value:"female",children:"female"})]})]}),(0,_.jsx)(C.au,{name:"password",label:"Password",type:q.value?"text":"password",InputProps:{endAdornment:(0,_.jsx)(v.Z,{position:"end",children:(0,_.jsx)(u.Z,{onClick:q.onToggle,edge:"end",children:(0,_.jsx)(w.Z,{icon:q.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,_.jsx)(C.au,{name:"confirmPassword",label:"Confirm Password",type:q.value?"text":"password",InputProps:{endAdornment:(0,_.jsx)(v.Z,{position:"end",children:(0,_.jsx)(u.Z,{onClick:q.onToggle,edge:"end",children:(0,_.jsx)(w.Z,{icon:q.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,_.jsx)(m.Z,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:F,children:"Create account"})]}),(0,_.jsxs)(c.Z,{sx:{display:{md:"block",xs:"none"},ml:10,mt:5},children:[(0,_.jsx)(p.Z,{variant:"h3",sx:{textAlign:"center"},children:"Add Account"}),(0,_.jsx)(b.Z,{src:"https://www.sender.net/wp-content/uploads/2022/07/best-newsletter-software.webp"})]})]})})}},63515:(e,t,r)=>{r.d(t,{Z:()=>k});var n=r(63366),o=r(87462),a=r(72791),l=r(59278),i=r(20838),s=r(54131),c=r(2588),d=r(66934),u=r(18833),m=r(14036),p=r(27938),h=r(46131),v=r(13400),x=r(74223),g=r(80184);const Z=(0,x.Z)((0,g.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),j=(0,x.Z)((0,g.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),f=(0,x.Z)((0,g.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),y=(0,x.Z)((0,g.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");var b=r(8799);const w=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],C=(0,c.U)("MuiAlert"),_=(0,d.ZP)(p.Z,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t["".concat(r.variant).concat((0,m.Z)(r.color||r.severity))]]}})((e=>{let{theme:t}=e;const r="light"===t.palette.mode?s._j:s.$n,n="light"===t.palette.mode?s.$n:s._j;return(0,o.Z)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[o]=e;return{props:{colorSeverity:o,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(o,"Color")]:r(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(o,"StandardBg")]:n(t.palette[o].light,.9),["& .".concat(h.Z.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(o,"IconColor")]}:{color:t.palette[o].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[n]=e;return{props:{colorSeverity:n,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(n,"Color")]:r(t.palette[n].light,.6),border:"1px solid ".concat((t.vars||t).palette[n].light),["& .".concat(h.Z.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(n,"IconColor")]}:{color:t.palette[n].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.dark})).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"filled"},style:(0,o.Z)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(r,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(r,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}}))]})})),A=(0,d.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),S=(0,d.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),P=(0,d.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),M={success:(0,g.jsx)(Z,{fontSize:"inherit"}),warning:(0,g.jsx)(j,{fontSize:"inherit"}),error:(0,g.jsx)(f,{fontSize:"inherit"}),info:(0,g.jsx)(y,{fontSize:"inherit"})},k=a.forwardRef((function(e,t){const r=C({props:e,name:"MuiAlert"}),{action:a,children:s,className:c,closeText:d="Close",color:p,components:x={},componentsProps:Z={},icon:j,iconMapping:f=M,onClose:y,role:k="alert",severity:q="success",slotProps:z={},slots:I={},variant:L="standard"}=r,R=(0,n.Z)(r,w),T=(0,o.Z)({},r,{color:p,severity:q,variant:L,colorSeverity:p||q}),N=(e=>{const{variant:t,color:r,severity:n,classes:o}=e,a={root:["root","color".concat((0,m.Z)(r||n)),"".concat(t).concat((0,m.Z)(r||n)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,i.Z)(a,h.t,o)})(T),O={slots:(0,o.Z)({closeButton:x.CloseButton,closeIcon:x.CloseIcon},I),slotProps:(0,o.Z)({},Z,z)},[F,H]=(0,u.Z)("closeButton",{elementType:v.Z,externalForwardedProps:O,ownerState:T}),[E,V]=(0,u.Z)("closeIcon",{elementType:b.Z,externalForwardedProps:O,ownerState:T});return(0,g.jsxs)(_,(0,o.Z)({role:k,elevation:0,ownerState:T,className:(0,l.Z)(N.root,c),ref:t},R,{children:[!1!==j?(0,g.jsx)(A,{ownerState:T,className:N.icon,children:j||f[q]||M[q]}):null,(0,g.jsx)(S,{ownerState:T,className:N.message,children:s}),null!=a?(0,g.jsx)(P,{ownerState:T,className:N.action,children:a}):null,null==a&&y?(0,g.jsx)(P,{ownerState:T,className:N.action,children:(0,g.jsx)(F,(0,o.Z)({size:"small","aria-label":d,title:d,color:"inherit",onClick:y},H,{children:(0,g.jsx)(E,(0,o.Z)({fontSize:"small"},V))}))}):null]}))}))}}]);
//# sourceMappingURL=372.099ad907.chunk.js.map