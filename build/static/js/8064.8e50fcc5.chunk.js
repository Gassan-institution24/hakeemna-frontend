"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[8064],{38563:(e,n,l)=>{l.d(n,{Z:()=>u});var s=l(16029),t=l(50533),o=l(53767),i=l(4567),r=l(93517),a=l(4419),d=l(80184);function c(e){let{link:n,activeLast:l,disabled:o}=e;const i={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...o&&!l&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},r=(0,d.jsxs)(d.Fragment,{children:[n.icon&&(0,d.jsx)(s.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:n.icon}),n.name]});return n.href?(0,d.jsx)(t.Z,{component:a.r,href:n.href,sx:i,children:r}):(0,d.jsxs)(s.Z,{sx:i,children:[" ",r," "]})}function u(e){let{links:n,action:l,heading:a,moreLink:u,activeLast:m,sx:x,...h}=e;const v=n&&n[n.length-1].name;return(0,d.jsxs)(s.Z,{sx:{...x},children:[(0,d.jsxs)(o.Z,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(s.Z,{sx:{flexGrow:1,display:"flex",gap:{md:3},alignItems:{md:"center"},flexDirection:{xs:"column",md:"row"}},children:[a&&(0,d.jsx)(i.Z,{textTransform:"capitalize",variant:"h4",gutterBottom:!0,children:a}),n&&!!n.length&&(0,d.jsx)(r.Z,{separator:(0,d.jsx)(p,{}),...h,children:null===n||void 0===n?void 0:n.map(((e,n)=>(0,d.jsx)(c,{link:e,activeLast:m,disabled:e.name===v},n)))})]}),l&&(0,d.jsxs)(s.Z,{sx:{flexShrink:0,textTransform:"capitalize"},children:[" ",l," "]})]}),!!u&&(0,d.jsx)(s.Z,{sx:{mt:2},children:u.map(((e,n)=>(0,d.jsx)(t.Z,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},n)))})]})}function p(){return(0,d.jsx)(s.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},73379:(e,n,l)=>{l.d(n,{Z:()=>s.Z});var s=l(38563)},28064:(e,n,l)=>{l.r(n),l.d(n,{default:()=>m});var s=l(6907),t=l(10266),o=l(38072),i=l(19208),r=l(93011),a=l(81164),d=l(73379),c=l(36578),u=l(80184);function p(){const e=(0,i.UO)(),{id:n}=e,{data:l}=(0,r.Qk9)(n),{t:s}=(0,a.qM)();return(0,u.jsxs)(t.Z,{maxWidth:"xl",children:[(0,u.jsx)(d.Z,{heading:s("update checklist"),links:[{name:s("dashboard"),href:o.H.employee.root},{name:s("checklists"),href:o.H.employee.checklist.root},{name:s("update")}],sx:{mb:{xs:3,md:5}}}),l&&(0,u.jsx)(c.Z,{currentRow:l})]})}function m(){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(s.ql,{children:[(0,u.jsx)("title",{children:" Dashboard : Edit checklist"}),(0,u.jsx)("meta",{name:"description",content:"meta"})]}),(0,u.jsx)(p,{})]})}},36578:(e,n,l)=>{l.d(n,{Z:()=>S});var s=l(8007),t=l(84802),o=l(72791),i=l(44695),r=l(61134),a=l(61775),d=l(57621),c=l(53767),u=l(12258),p=l(10266),m=l(4567),x=l(82626),h=l(94721),v=l(16029),g=l(13838),j=l(1503),Z=l(13400),f=l(38072),y=l(19208),b=l(66664),w=l(8976),_=l(81164),k=l(93011),C=l(40268),q=l(85563),I=l(80184);function S(e){var n,l,j,Z;let{currentRow:S}=e;const z=(0,y.tv)(),{enqueueSnackbar:R}=(0,t.Ds)(),{user:M}=(0,w.E)(),{t:B}=(0,_.qM)(),{currentLang:L}=(0,_.nt)(),T="ar"===L.value,D=s.Ry().shape({title:s.Z_().nullable().required("title is required"),description:s.Z_(),unit_service:s.Z_().nullable(),department:s.Z_().nullable(),work_group:s.Z_().nullable(),general:s.Xg(),questions:s.IX().of(s.Ry({question:s.Z_(),answer_way:s.Z_(),category:s.Z_(),options:s.IX().nullable()}))}),{workGroupsData:H}=(0,k.Sue)(null===M||void 0===M||null===(n=M.employee)||void 0===n||null===(l=n.employee_engagements[null===M||void 0===M?void 0:M.employee.selected_engagement])||void 0===l?void 0:l._id),N=(0,o.useMemo)((()=>({title:(null===S||void 0===S?void 0:S.title)||"",unit_service:(null===S||void 0===S?void 0:S.unit_service)||null,department:(null===S||void 0===S?void 0:S.department)||null,work_group:(null===S||void 0===S?void 0:S.work_group)||null,general:(null===S||void 0===S?void 0:S.general)||!1,description:(null===S||void 0===S?void 0:S.description)||"",questions:(null===S||void 0===S?void 0:S.questions)||[{question:"",answer_way:"Text",category:"",options:[""]}]})),[S]),E=(0,r.cI)({resolver:(0,i.X)(D),defaultValues:N}),{reset:A,handleSubmit:O,control:X,watch:F,setValue:G,formState:{isSubmitting:V}}=E,W=F(),{fields:K,append:Q,remove:U,move:Y}=(0,r.Dq)({control:X,name:"questions"});(0,o.useEffect)((()=>{A({title:(null===S||void 0===S?void 0:S.title)||"",unit_service:(null===S||void 0===S?void 0:S.unit_service)||null,department:(null===S||void 0===S?void 0:S.department)||null,work_group:(null===S||void 0===S?void 0:S.work_group)||null,general:(null===S||void 0===S?void 0:S.general)||!1,description:(null===S||void 0===S?void 0:S.description)||"",questions:(null===S||void 0===S?void 0:S.questions)||[{question:"",answer_way:"Text",category:"",options:[""]}]})}),[S,A]);const J=O((async e=>{try{if(S&&S.user_creation===M._id)await b.ZP.patch(b.Hv.checklist.one(S._id),e),R(B("updated successfuly"));else{var n,l;delete e._id;const s={...e,questions:e.questions.map((e=>({question:null===e||void 0===e?void 0:e.question,answer_way:null===e||void 0===e?void 0:e.answer_way,options:null===e||void 0===e?void 0:e.options}))),employee:null===M||void 0===M||null===(n=M.employee)||void 0===n||null===(l=n.employee_engagements[null===M||void 0===M?void 0:M.employee.selected_engagement])||void 0===l?void 0:l._id};await b.ZP.post(b.Hv.checklist.all,s),R(B("created successfuly"))}A(),z.push(f.H.employee.checklist.root)}catch(s){R(s.message,{variant:"error"}),console.error(s)}}));return(0,I.jsx)(p.Z,{maxWidth:"xl",children:(0,I.jsxs)(q.ZP,{methods:E,children:[(0,I.jsx)(d.Z,{children:(0,I.jsxs)(c.Z,{direction:{xs:"column",md:"row"},spacing:2,sx:{width:1,p:3},alignItems:"center",children:[(0,I.jsxs)(c.Z,{spacing:2,sx:{width:1},alignItems:"center",justifyContent:"flex-start",children:[(0,I.jsx)(q.au,{name:"title",label:B("title"),sx:{width:{md:.8,xs:1}}}),(0,I.jsx)(q.au,{size:"small",name:"description",label:B("description"),sx:{width:{md:.7,xs:1}}})]}),(0,I.jsxs)(c.Z,{sx:{width:{md:.5,xs:1},border:"0.5px dotted black",padding:2},justifyContent:"flex-end",children:[(0,I.jsxs)(m.Z,{variant:"caption",mb:2,children:[B("availability and privacy"),":"]}),(0,I.jsx)(q.jb,{name:"general",label:B("available for all hakeemna community"),onChange:()=>G("general",!W.general)}),(0,I.jsx)(q.jb,{name:"unit_service",label:B("available for your unit of service employees"),onChange:()=>{var e,n,l;return G("unit_service",W.unit_service?null:null===M||void 0===M||null===(e=M.employee)||void 0===e||null===(n=e.employee_engagements[null===M||void 0===M?void 0:M.employee.selected_engagement])||void 0===n||null===(l=n.unit_service)||void 0===l?void 0:l._id)}}),(null===M||void 0===M||null===(j=M.employee)||void 0===j||null===(Z=j.employee_engagements[null===M||void 0===M?void 0:M.employee.selected_engagement])||void 0===Z?void 0:Z.department)&&(0,I.jsx)(q.jb,{name:"department",label:B("available for your department employees"),onChange:()=>{var e,n,l;return G("department",W.department?null:null===M||void 0===M||null===(e=M.employee)||void 0===e||null===(n=e.employee_engagements[null===M||void 0===M?void 0:M.employee.selected_engagement])||void 0===n||null===(l=n.department)||void 0===l?void 0:l._id)}}),(0,I.jsxs)(q.Cc,{size:"small",name:"work_group",label:B("available for work group"),sx:{width:{md:1,xs:1},mt:2},children:[(0,I.jsx)(x.Z,{sx:{textTransform:"capitalize"},value:null,children:B("all")}),(0,I.jsx)(h.Z,{}),H.map(((e,n)=>(0,I.jsx)(x.Z,{value:e._id,children:T?e.name_arabic:e.name_english},n)))]})]})]})}),(0,I.jsxs)(v.Z,{sx:{p:3},children:[(0,I.jsxs)(m.Z,{variant:"h6",sx:{color:"text.disabled",mb:3},children:[B("questions"),":"]}),(0,I.jsx)(a.Z5,{onDragEnd:e=>{e.destination&&Y(e.source.index,e.destination.index)},children:(0,I.jsx)(a.bK,{droppableId:"droppable-questions",children:e=>(0,I.jsxs)(c.Z,{spacing:4,...e.droppableProps,ref:e.innerRef,children:[K.map(((e,n)=>(0,I.jsx)(a._l,{draggableId:e.id,index:n,children:e=>(0,I.jsx)(d.Z,{sx:{p:3},ref:e.innerRef,...e.draggableProps,...e.dragHandleProps,children:(0,I.jsx)(c.Z,{alignItems:"flex-end",spacing:1.5,children:(0,I.jsxs)(c.Z,{spacing:2,sx:{width:1},children:[(0,I.jsxs)(c.Z,{direction:{xs:"column",md:"row"},justifyContent:"space-between",spacing:2,sx:{width:1},children:[(0,I.jsx)(q.au,{size:"small",name:"questions[".concat(n,"].question"),label:B("question"),InputLabelProps:{shrink:!0},sx:{width:1}}),(0,I.jsx)(q.Cc,{name:"questions[".concat(n,"].answer_way"),size:"small",label:B("answer way"),InputLabelProps:{shrink:!0},sx:{width:{md:.5,xs:1}},children:["Text","Yes No","Options"].map((e=>(0,I.jsx)(x.Z,{value:e,children:B(e)},e)))}),(0,I.jsx)(q.au,{size:"small",name:"questions[".concat(n,"].category"),label:B("category"),InputLabelProps:{shrink:!0},sx:{width:{md:.5,xs:1}}}),(0,I.jsx)(g.Z,{size:"small",color:"error",onClick:()=>(e=>{U(e)})(n),children:(0,I.jsx)(C.Z,{icon:"solar:trash-bin-trash-bold"})})]}),"Options"===W.questions[n].answer_way&&(0,I.jsx)(c.Z,{justifyContent:"flex-end",alignItems:"start",spacing:1,sx:{width:.8},children:(0,I.jsx)(P,{index:n})})]})})})},e.id))),e.placeholder]})})}),(0,I.jsx)(h.Z,{sx:{my:3,borderStyle:"dashed"}}),(0,I.jsx)(c.Z,{spacing:3,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:(0,I.jsx)(g.Z,{size:"small",color:"primary",startIcon:(0,I.jsx)(C.Z,{icon:"mingcute:add-line"}),onClick:()=>{Q({question:"",answer_way:"",options:[""]})},sx:{flexShrink:0},children:B("add item")})})]}),(0,I.jsx)(c.Z,{justifyContent:"flex-end",direction:"row",spacing:2,sx:{mt:1},children:(0,I.jsx)(u.Z,{variant:"contained",loading:V,onClick:J,children:S&&S.user_creation===M._id?B("update"):B("add")})})]})})}function P(e){let{index:n}=e;const{control:l}=(0,r.Gc)(),{t:s}=(0,_.qM)(),{fields:t,append:o,remove:i}=(0,r.Dq)({control:l,name:"questions[".concat(n,"].options")});return(0,I.jsxs)(I.Fragment,{children:[t.map(((e,l)=>(0,I.jsxs)(c.Z,{direction:"row",alignItems:"center",children:[(0,I.jsx)(j.Z,{disabled:!0}),(0,I.jsx)(q.au,{size:"small",variant:"standard",name:"questions[".concat(n,"].options[").concat(l,"]")}),(0,I.jsx)(c.Z,{direction:"row",children:(0,I.jsx)(Z.Z,{size:"small",color:"error",onClick:()=>(e=>{i(e)})(l),children:(0,I.jsx)(C.Z,{icon:"ic:round-close"})})})]},e.id))),(0,I.jsxs)(g.Z,{color:"primary",size:"small",sx:{fontSize:12},onClick:()=>{o(" ")},children:[(0,I.jsx)(C.Z,{icon:"ph:plus-bold"}),s("add option")]})]})}},93517:(e,n,l)=>{l.d(n,{Z:()=>P});var s=l(87462),t=l(63366),o=l(72791),i=(l(57441),l(59278)),r=l(50385),a=l(20838),d=l(66934),c=l(31402),u=l(4567),p=l(54131),m=l(74223),x=l(80184);const h=(0,m.Z)((0,x.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var v=l(95080);const g=["slots","slotProps"],j=(0,d.ZP)(v.Z)((e=>{let{theme:n}=e;return(0,s.Z)({display:"flex",marginLeft:"calc(".concat(n.spacing(1)," * 0.5)"),marginRight:"calc(".concat(n.spacing(1)," * 0.5)")},"light"===n.palette.mode?{backgroundColor:n.palette.grey[100],color:n.palette.grey[700]}:{backgroundColor:n.palette.grey[700],color:n.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,s.Z)({},"light"===n.palette.mode?{backgroundColor:n.palette.grey[200]}:{backgroundColor:n.palette.grey[600]}),"&:active":(0,s.Z)({boxShadow:n.shadows[0]},"light"===n.palette.mode?{backgroundColor:(0,p._4)(n.palette.grey[200],.12)}:{backgroundColor:(0,p._4)(n.palette.grey[600],.12)})})})),Z=(0,d.ZP)(h)({width:24,height:16});const f=function(e){const{slots:n={},slotProps:l={}}=e,o=(0,t.Z)(e,g),i=e;return(0,x.jsx)("li",{children:(0,x.jsx)(j,(0,s.Z)({focusRipple:!0},o,{ownerState:i,children:(0,x.jsx)(Z,(0,s.Z)({as:n.CollapsedIcon,ownerState:i},l.collapsedIcon))}))})};var y=l(59703),b=l(64657);function w(e){return(0,b.ZP)("MuiBreadcrumbs",e)}const _=(0,y.Z)("MuiBreadcrumbs",["root","ol","li","separator"]),k=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],C=(0,d.ZP)(u.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,n)=>[{["& .".concat(_.li)]:n.li},n.root]})({}),q=(0,d.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,n)=>n.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),I=(0,d.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,n)=>n.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function S(e,n,l,s){return e.reduce(((t,o,i)=>(i<e.length-1?t=t.concat(o,(0,x.jsx)(I,{"aria-hidden":!0,className:n,ownerState:s,children:l},"separator-".concat(i))):t.push(o),t)),[])}const P=o.forwardRef((function(e,n){const l=(0,c.Z)({props:e,name:"MuiBreadcrumbs"}),{children:d,className:u,component:p="nav",slots:m={},slotProps:h={},expandText:v="Show path",itemsAfterCollapse:g=1,itemsBeforeCollapse:j=1,maxItems:Z=8,separator:y="/"}=l,b=(0,t.Z)(l,k),[_,I]=o.useState(!1),P=(0,s.Z)({},l,{component:p,expanded:_,expandText:v,itemsAfterCollapse:g,itemsBeforeCollapse:j,maxItems:Z,separator:y}),z=(e=>{const{classes:n}=e;return(0,a.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},w,n)})(P),R=(0,r.y)({elementType:m.CollapsedIcon,externalSlotProps:h.collapsedIcon,ownerState:P}),M=o.useRef(null),B=o.Children.toArray(d).filter((e=>o.isValidElement(e))).map(((e,n)=>(0,x.jsx)("li",{className:z.li,children:e},"child-".concat(n))));return(0,x.jsx)(C,(0,s.Z)({ref:n,component:p,color:"text.secondary",className:(0,i.Z)(z.root,u),ownerState:P},b,{children:(0,x.jsx)(q,{className:z.ol,ref:M,ownerState:P,children:S(_||Z&&B.length<=Z?B:(e=>j+g>=e.length?e:[...e.slice(0,j),(0,x.jsx)(f,{"aria-label":v,slots:{CollapsedIcon:m.CollapsedIcon},slotProps:{collapsedIcon:R},onClick:()=>{I(!0);const e=M.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-g,e.length)])(B),z.separator,y,P)})}))}))}}]);
//# sourceMappingURL=8064.8e50fcc5.chunk.js.map