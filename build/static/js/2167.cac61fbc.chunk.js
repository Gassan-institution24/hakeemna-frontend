"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[2167],{38563:(e,t,n)=>{n.d(t,{Z:()=>x});var s=n(16029),i=n(50533),o=n(53767),l=n(4567),r=n(93517),a=n(4419),d=n(80184);function c(e){let{link:t,activeLast:n,disabled:o}=e;const l={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...o&&!n&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},r=(0,d.jsxs)(d.Fragment,{children:[t.icon&&(0,d.jsx)(s.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:t.icon}),t.name]});return t.href?(0,d.jsx)(i.Z,{component:a.r,href:t.href,sx:l,children:r}):(0,d.jsxs)(s.Z,{sx:l,children:[" ",r," "]})}function x(e){let{links:t,action:n,heading:a,moreLink:x,activeLast:h,sx:p,...g}=e;const v=t&&t[t.length-1].name;return(0,d.jsxs)(s.Z,{sx:{...p},children:[(0,d.jsxs)(o.Z,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(s.Z,{sx:{flexGrow:1,display:"flex",gap:{md:3},alignItems:{md:"center"},flexDirection:{xs:"column",md:"row"}},children:[a&&(0,d.jsx)(l.Z,{textTransform:"capitalize",variant:"h4",gutterBottom:!0,children:a}),t&&!!t.length&&(0,d.jsx)(r.Z,{separator:(0,d.jsx)(u,{}),...g,children:null===t||void 0===t?void 0:t.map(((e,t)=>(0,d.jsx)(c,{link:e,activeLast:h,disabled:e.name===v},t)))})]}),n&&(0,d.jsxs)(s.Z,{sx:{flexShrink:0,textTransform:"capitalize"},children:[" ",n," "]})]}),!!x&&(0,d.jsx)(s.Z,{sx:{mt:2},children:x.map(((e,t)=>(0,d.jsx)(i.Z,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},t)))})]})}function u(){return(0,d.jsx)(s.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},27356:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(16029),i=n(53767),o=n(12065),l=n(4567),r=n(80184);function a(e){let{title:t,imgUrl:n,action:a,filled:d,description:c,sx:x,...u}=e;return(0,r.jsxs)(i.Z,{flexGrow:1,alignItems:"center",justifyContent:"center",sx:{px:3,height:1,...d&&{borderRadius:2,bgcolor:e=>(0,o.Fq)(e.palette.grey[500],.04),border:e=>"dashed 1px ".concat((0,o.Fq)(e.palette.grey[500],.08))},...x},...u,children:[(0,r.jsx)(s.Z,{component:"img",alt:"empty content",src:n||"/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),t&&(0,r.jsx)(l.Z,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:t}),c&&(0,r.jsx)(l.Z,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:c}),a&&a]})}},31092:(e,t,n)=>{n.d(t,{Z:()=>s.Z});var s=n(27356)},38062:(e,t,n)=>{function s(e,t,n){return e?Math.max(0,(1+e)*t-n):0}function i(e,t,n){return null===e[n]?1:null===t[n]||t[n]<e[n]?-1:t[n]>e[n]?1:0}function o(e,t){return"desc"===e?(e,n)=>i(e,n,t):(e,n)=>-i(e,n,t)}n.d(t,{$W:()=>p,K:()=>b,et:()=>h,S_:()=>I,Z4:()=>w,fQ:()=>s,sQ:()=>o,x6:()=>r});var l=n(72791);function r(e){const[t,n]=(0,l.useState)(!(null===e||void 0===e||!e.defaultDense)),[s,i]=(0,l.useState)((null===e||void 0===e?void 0:e.defaultCurrentPage)||0),[o,r]=(0,l.useState)((null===e||void 0===e?void 0:e.defaultOrderBy)||"code"),[a,d]=(0,l.useState)((null===e||void 0===e?void 0:e.defaultRowsPerPage)||25),[c,x]=(0,l.useState)((null===e||void 0===e?void 0:e.defaultOrder)||"asc"),[u,h]=(0,l.useState)((null===e||void 0===e?void 0:e.defaultSelected)||[]),p=(0,l.useCallback)((e=>{""!==e&&(x(o===e&&"asc"===c?"desc":"asc"),r(e))}),[c,o]),g=(0,l.useCallback)((e=>{const t=u.includes(e)?u.filter((t=>t!==e)):[...u,e];h(t)}),[u]),v=(0,l.useCallback)((e=>{i(0),d(parseInt(e.target.value,10))}),[]),m=(0,l.useCallback)((e=>{n(e.target.checked)}),[]),j=(0,l.useCallback)(((e,t)=>{h(e?t:[])}),[]),Z=(0,l.useCallback)(((e,t)=>{i(t)}),[]),b=(0,l.useCallback)((()=>{i(0)}),[]),y=(0,l.useCallback)((e=>{h([]),s&&e<2&&i(s-1)}),[s]),f=(0,l.useCallback)((e=>{let{totalRows:t,totalRowsInPage:n,totalRowsFiltered:o}=e;const l=u.length;if(h([]),s)if(l===n)i(s-1);else if(l===o)i(0);else if(l>n){const e=Math.ceil((t-l)/a)-1;i(e)}}),[s,a,u.length]);return{dense:t,order:c,page:s,orderBy:o,rowsPerPage:a,selected:u,onSelectRow:g,onSelectAllRows:j,onSort:p,onChangePage:Z,onChangeDense:m,onResetPage:b,onChangeRowsPerPage:v,onUpdatePageDeleteRow:y,onUpdatePageDeleteRows:f,setPage:i,setDense:n,setOrder:x,setOrderBy:r,setSelected:h,setRowsPerPage:d}}var a=n(9195),d=n(68745),c=n(81164),x=n(31092),u=n(80184);function h(e){let{notFound:t,sx:n}=e;const{t:s}=(0,c.qM)();return(0,u.jsx)(a.Z,{children:t?(0,u.jsx)(d.Z,{colSpan:12,children:(0,u.jsx)(x.Z,{filled:!0,title:s("No Data"),sx:{py:10,...n}})}):(0,u.jsx)(d.Z,{colSpan:12,sx:{p:0}})})}function p(e){let{emptyRows:t,height:n}=e;return t?(0,u.jsx)(a.Z,{sx:{...n&&{height:n*t}},children:(0,u.jsx)(d.Z,{colSpan:9})}):null}var g=n(16029),v=n(13034),m=n(56890),j=n(80720);const Z={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function b(e){let{order:t,orderBy:n,rowCount:s=0,headLabel:i,numSelected:o=0,onSort:l,onSelectAllRows:r,sx:c}=e;return(0,u.jsx)(m.Z,{sx:c,children:(0,u.jsxs)(a.Z,{children:[r&&(0,u.jsx)(d.Z,{padding:"checkbox",children:(0,u.jsx)(v.Z,{indeterminate:!!o&&o<s,checked:!!s&&o===s,onChange:e=>r(e.target.checked)})}),i.map(((e,s)=>(0,u.jsx)(d.Z,{align:e.align||"center",sortDirection:n===e.id&&t,sx:{width:e.width,minWidth:e.minWidth},children:l?(0,u.jsxs)(j.Z,{hideSortIcon:!0,active:n===e.id,direction:n===e.id?t:"asc",onClick:()=>l(e.id),sx:{textTransform:"capitalize"},children:[e.label,n===e.id?(0,u.jsx)(g.Z,{sx:{...Z},children:"desc"===t?"sorted descending":"sorted ascending"}):null]}):e.label},s)))]})})}var y=n(53767),f=n(4567);function w(e){let{dense:t,action:n,rowCount:s,numSelected:i,onSelectAllRows:o,sx:l,color:r,...a}=e;const{t:d}=(0,c.qM)();return i?(0,u.jsxs)(y.Z,{direction:"row",alignItems:"center",sx:{pl:1,pr:2,top:0,left:0,width:1,zIndex:9,height:58,position:"absolute",bgcolor:"".concat(r,".lighter"),...t&&{height:38},...l},...a,children:[(0,u.jsx)(v.Z,{indeterminate:!!i&&i<s,checked:!!s&&i===s,onChange:e=>o(e.target.checked)}),(0,u.jsxs)(f.Z,{variant:"subtitle2",sx:{ml:2,flexGrow:1,color:"".concat(r,".main"),...t&&{ml:3}},children:[i," ",d("selected")]}),n&&n]}):null}var k=n(89891),C=n(58406),_=n(82626),P=n(5446),S=n(25801);function I(e){let{dense:t,count:n,page:s,onChangeDense:i,rowsPerPage:o,setPage:l,rowsPerPageOptions:r=[5,10,25,50],sx:a,...d}=e;const{t:x}=(0,c.qM)();return(0,u.jsxs)(g.Z,{sx:{position:"relative",...a},children:[(0,u.jsx)(P.Z,{showFirstButton:!0,showLastButton:!0,rowsPerPageOptions:r,component:"div",count:n,page:s,rowsPerPage:o,...d,sx:{borderTopColor:"transparent"}}),i&&(0,u.jsx)(S.Z,{label:x("dense"),control:(0,u.jsx)(k.Z,{checked:t,onChange:i}),sx:{pl:2,py:1.5,top:0,position:{sm:"absolute"}}}),l&&(0,u.jsx)(S.Z,{label:x("page"),control:(0,u.jsx)(C.Z,{value:s,onChange:e=>l(e.target.value),variant:"filled",sx:{height:0,width:68,mr:1,backgroundColor:"white",".MuiSelect-select":{paddingTop:1,paddingBottom:1,lineHeight:"40px"}},children:Array.from({length:Math.ceil(n/o)},((e,t)=>(0,u.jsx)(_.Z,{value:t,children:t+1},t)))}),sx:{ml:18,my:2,top:5,position:{sm:"absolute"}}})]})}},2167:(e,t,n)=>{n.r(t),n.d(t,{default:()=>q});var s=n(6907),i=(n(18111),n(72791)),o=n(38072),l=n(19208),r=(n(22459),n(93011)),a=(n(81164),n(8976),n(10261)),d=(n(38563),n(38062),n(84954)),c=n(40268),x=n(24845),u=n(80184);var h=n(53767),p=n(10266),g=n(24308),v=n(66664),m=n(65833),j=n(16029),Z=n(57621),b=n(93044),y=n(9585),f=n(4567);function w(e){let{customer:t,note:n,payment:s,shippingAddress:i}=e;return(0,u.jsx)(Z.Z,{children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(y.Z,{title:"stakeholder"}),(0,u.jsxs)(h.Z,{direction:"row",sx:{p:3},children:[(0,u.jsx)(b.Z,{alt:null===t||void 0===t?void 0:t.name_english,src:null===t||void 0===t?void 0:t.company_logo,sx:{width:48,height:48,mr:2}}),(0,u.jsxs)(h.Z,{spacing:.5,alignItems:"flex-start",sx:{typography:"body2"},children:[(0,u.jsx)(f.Z,{variant:"subtitle2",children:null===t||void 0===t?void 0:t.name_english}),(0,u.jsx)(j.Z,{sx:{color:"text.secondary"},children:null===t||void 0===t?void 0:t.email}),(0,u.jsx)(j.Z,{sx:{color:"text.secondary"},children:null===t||void 0===t?void 0:t.phone}),n&&(0,u.jsx)(f.Z,{variant:"subtitle2",sx:{mt:2},children:"note:"}),(0,u.jsx)(j.Z,{sx:{color:"text.secondary"},children:n})]})]})]})})}var k=n(49900),C=n(17070);function _(e){var t;let{items:n,onChangeQuantity:s,taxes:i,shipping:o,discount:l,subTotal:r,totalAmount:d}=e;const c=null===n||void 0===n?void 0:n.reduce(((e,t)=>e+t.price*t.real_delieverd_quantity),0),x=(0,u.jsx)(h.Z,{spacing:2,alignItems:"flex-end",sx:{my:3,textAlign:"right",typography:"body2"},children:(0,u.jsxs)(h.Z,{direction:"row",sx:{typography:"subtitle1"},children:[(0,u.jsx)(j.Z,{children:"Total"}),(0,u.jsx)(j.Z,{sx:{width:160},children:(0,C.e_)(c,null===n||void 0===n||null===(t=n[0].currency)||void 0===t?void 0:t.symbol)||"-"})]})});return(0,u.jsxs)(Z.Z,{children:[(0,u.jsx)(y.Z,{title:"Details"}),(0,u.jsxs)(h.Z,{sx:{px:3},children:[(0,u.jsx)(a.Z,{children:null===n||void 0===n?void 0:n.map((e=>{var t,n,s,i,o,l;return(0,u.jsxs)(h.Z,{direction:"row",alignItems:"center",sx:{py:3,minWidth:640,borderBottom:e=>"dashed 2px ".concat(e.palette.background.neutral)},children:[(0,u.jsx)(b.Z,{src:null===e||void 0===e||null===(t=e.product)||void 0===t||null===(n=t.images)||void 0===n?void 0:n[0],variant:"rounded",sx:{width:48,height:48,mr:2}}),(0,u.jsx)(k.Z,{primary:null===e||void 0===e||null===(s=e.product)||void 0===s?void 0:s.name_english,secondary:null===e||void 0===e||null===(i=e.product)||void 0===i||null===(o=i.category)||void 0===o?void 0:o.name_english,primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{component:"span",color:"text.disabled",mt:.5}}),(0,u.jsxs)(j.Z,{sx:{typography:"body2"},children:["x",e.real_delieverd_quantity]}),(0,u.jsx)(j.Z,{sx:{width:110,textAlign:"right",typography:"subtitle2"},children:(0,C.e_)(e.price,null===(l=e.currency)||void 0===l?void 0:l.symbol)})]},e._id)}))}),x]})]})}var P=n(13838),S=n(82626),I=n(13400),R=n(4419),A=n(9145);function O(e){let{status:t,backLink:n,createdAt:s,orderNumber:i,statusOptions:o,onChangeStatus:l}=e;const r=(0,x.S)();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(h.Z,{spacing:3,direction:{xs:"column",md:"row"},sx:{mb:{xs:3,md:5}},children:[(0,u.jsxs)(h.Z,{spacing:1,direction:"row",alignItems:"flex-start",children:[(0,u.jsx)(I.Z,{component:R.r,href:n,children:(0,u.jsx)(c.Z,{icon:"eva:arrow-ios-back-fill"})}),(0,u.jsxs)(h.Z,{spacing:.5,children:[(0,u.jsxs)(h.Z,{spacing:1,direction:"row",alignItems:"center",children:[(0,u.jsxs)(f.Z,{variant:"h4",children:[" Order ",i," "]}),(0,u.jsx)(d.Z,{variant:"soft",color:("completed"===t?"success":"pending"===t&&"warning")||"processing"===t&&"info"||"cancelled"===t&&"error"||"default",children:t})]}),(0,u.jsx)(f.Z,{variant:"body2",sx:{color:"text.disabled"},children:(0,A.zM)(s)})]})]}),(0,u.jsx)(h.Z,{flexGrow:1,spacing:1.5,direction:"row",alignItems:"center",justifyContent:"flex-end",children:(0,u.jsx)(P.Z,{color:"inherit",variant:"outlined",endIcon:(0,u.jsx)(c.Z,{icon:"eva:arrow-ios-downward-fill"}),onClick:r.onOpen,sx:{textTransform:"capitalize"},children:t})})]}),(0,u.jsx)(x.Z,{open:r.open,onClose:r.onClose,arrow:"top-right",sx:{width:140},children:o.map((e=>(0,u.jsx)(S.Z,{selected:e.value===t,onClick:()=>{r.onClose(),l(e.value)},children:e.label},e.value)))})]})}const D=[{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}];function T(){const{id:e}=(0,l.UO)(),{orderData:t,refetch:n}=(0,r.gzy)(e),s=(0,m.K$)(),a=(0,i.useCallback)((async t=>{await v.ZP.patch(v.Hv.orders.one(e),{status:t}),n()}),[e,n]),d=(0,i.useCallback)((async s=>{await v.ZP.patch(v.Hv.orders.one(e),{products:t.products.map((e=>Object.keys(s).includes(e._id)?{...e,real_delieverd_quantity:s[e._id]}:e))}),n()}),[e,n,t]);return(0,u.jsxs)(p.Z,{maxWidth:!s.themeStretch&&"lg",children:[(0,u.jsx)(O,{backLink:o.H.dashboard.user.orders.root,orderNumber:null===t||void 0===t?void 0:t.sequence_number,createdAt:null===t||void 0===t?void 0:t.created_at,status:null===t||void 0===t?void 0:t.status,onChangeStatus:a,statusOptions:D}),(0,u.jsxs)(g.Z,{container:!0,spacing:3,children:[(0,u.jsx)(g.Z,{xs:12,md:8,children:(0,u.jsx)(h.Z,{spacing:3,direction:{xs:"column-reverse",md:"column"},children:(0,u.jsx)(_,{items:null===t||void 0===t?void 0:t.products,onChangeQuantity:d,taxes:null===t||void 0===t?void 0:t.taxes,shipping:null===t||void 0===t?void 0:t.shipping,discount:null===t||void 0===t?void 0:t.discount,subTotal:null===t||void 0===t?void 0:t.subTotal,totalAmount:null===t||void 0===t?void 0:t.totalAmount})})}),(0,u.jsx)(g.Z,{xs:12,md:4,children:(0,u.jsx)(w,{customer:null===t||void 0===t?void 0:t.stakeholder,note:null===t||void 0===t?void 0:t.note})})]})]})}function q(){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s.ql,{children:(0,u.jsx)("title",{children:" Dashboard: Order details"})}),(0,u.jsx)(T,{})]})}}}]);
//# sourceMappingURL=2167.cac61fbc.chunk.js.map