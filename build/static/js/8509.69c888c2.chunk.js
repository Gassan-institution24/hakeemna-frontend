"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[8509],{38509:(e,a,n)=>{n.r(a),n.d(a,{default:()=>m});var t=n(6907),r=n(19208),s=n(66630),i=n(35456),o=n(10266),c=n(59403),d=n(80184);function l(e){let{departmentData:a}=e;return(0,d.jsx)(o.Z,{maxWidth:"xl",children:(0,d.jsx)(c.Z,{departmentData:a})})}function m(){const e=(0,r.UO)(),{depid:a}=e,{data:n,loading:o}=(0,s.YLE)(a);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(t.ql,{children:[(0,d.jsx)("title",{children:" Add Room "}),(0,d.jsx)("meta",{name:"description",content:"meta"})]}),o&&(0,d.jsx)(i.a,{}),!o&&(0,d.jsx)(l,{departmentData:n})]})}},59403:(e,a,n)=>{n.d(a,{Z:()=>Z});var t=n(8007),r=n(72791),s=n(61134),i=n(44695),o=n(16029),c=n(57621),d=n(53767),l=n(24308),m=n(12258),u=n(38072),g=n(19208),_=n(66664),h=n(99116),p=n(8976),x=n(81164),v=n(32869),b=n(24461),j=n(80184);function Z(e){let{departmentData:a,currentTable:n}=e;const Z=(0,g.tv)(),{id:f}=(0,g.UO)(),{t:k}=(0,x.qM)(),{currentLang:q}=(0,x.nt)(),C="ar"===q.value,{user:S}=(0,p.E)(),{enqueueSnackbar:w}=(0,v.useSnackbar)(),y=t.Ry().shape({name_arabic:t.Z_().required("Name is required"),name_english:t.Z_().required("Name is required"),general_info:t.Z_()}),V=(0,r.useMemo)((()=>({unit_service:f,name_arabic:(null===n||void 0===n?void 0:n.name_arabic)||"",name_english:(null===n||void 0===n?void 0:n.name_english)||"",department:a._id,general_info:(null===n||void 0===n?void 0:n.general_info)||""})),[n,a,f]),D=(0,s.cI)({mode:"onTouched",resolver:(0,i.X)(y),defaultValues:V}),H=e=>{/^[a-zA-Z0-9\s,@#$!*_\-&^%.()]*$/.test(e.target.value)&&D.setValue(e.target.name,e.target.value,{shouldValidate:!0})},{reset:$,handleSubmit:F,formState:{isSubmitting:I}}=D,P=F((async e=>{try{n?await _.ZP.patch(_.Hv.rooms.one(n._id),{department:a._id,...e}):(await _.ZP.post(_.Hv.rooms.all,{department:a._id,...e}),h.Z.emit("created",{data:e,user:S,link:u.H.superadmin.unitservices.departments.rooms.root(f,a._id),msg:"created room <strong>".concat(e.name_english||"","</strong> into <strong>").concat(a.name_english,"</strong> department"),ar_msg:"\u0625\u0646\u0634\u0627\u0621 \u063a\u0631\u0641\u0629 <strong>".concat(e.name_arabic||"","</strong> \u062f\u0627\u062e\u0644 \u0642\u0633\u0645 <strong>").concat(a.name_arabic,"</strong>")})),$(),w(k(n?"update success!":"create success!")),Z.push(u.H.superadmin.unitservices.departments.rooms.root(f,a._id))}catch(t){w(C&&"".concat(t.arabic_message)||"".concat(t.message),{variant:"error"}),console.error(t)}}));return(0,j.jsx)(b.ZP,{methods:D,onSubmit:P,children:(0,j.jsx)(l.Z,{container:!0,spacing:3,children:(0,j.jsx)(l.Z,{xs:12,maxWidth:"md",children:(0,j.jsxs)(c.Z,{sx:{p:3},children:[(0,j.jsxs)(o.Z,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,j.jsx)(b.au,{onChange:H,name:"name_english",label:"".concat(k("name english")," *")}),(0,j.jsx)(b.au,{onChange:e=>{/^[\u0600-\u06FF0-9\s!@#$%^&*_\-()]*$/.test(e.target.value)&&D.setValue(e.target.name,e.target.value,{shouldValidate:!0})},name:"name_arabic",label:"".concat(k("name arabic")," *")}),(0,j.jsx)(b.au,{onChange:H,name:"general_info",label:k("general info")})]}),(0,j.jsx)(d.Z,{alignItems:"flex-end",sx:{mt:3},children:(0,j.jsx)(m.Z,{type:"submit",tabIndex:-1,variant:"contained",loading:I,children:k(n?"save changes":"create")})})]})})})})}}}]);
//# sourceMappingURL=8509.69c888c2.chunk.js.map