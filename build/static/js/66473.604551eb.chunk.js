"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[66473],{22698:(e,n,i)=>{i.d(n,{A:()=>$});var t=i(58168),o=i(98587),a=i(65043),l=i(58387),r=i(98610),s=i(88092),d=i(34535),c=i(98206),u=i(94496),m=i(67266),v=i(66734),p=i(70579);const h=(0,v.A)((0,p.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var x=i(96030);const g=["slots","slotProps"],_=(0,d.Ay)(x.A)((e=>{let{theme:n}=e;return(0,t.A)({display:"flex",marginLeft:`calc(${n.spacing(1)} * 0.5)`,marginRight:`calc(${n.spacing(1)} * 0.5)`},"light"===n.palette.mode?{backgroundColor:n.palette.grey[100],color:n.palette.grey[700]}:{backgroundColor:n.palette.grey[700],color:n.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,t.A)({},"light"===n.palette.mode?{backgroundColor:n.palette.grey[200]}:{backgroundColor:n.palette.grey[600]}),"&:active":(0,t.A)({boxShadow:n.shadows[0]},"light"===n.palette.mode?{backgroundColor:(0,m.tL)(n.palette.grey[200],.12)}:{backgroundColor:(0,m.tL)(n.palette.grey[600],.12)})})})),A=(0,d.Ay)(h)({width:24,height:16});const b=function(e){const{slots:n={},slotProps:i={}}=e,a=(0,o.A)(e,g),l=e;return(0,p.jsx)("li",{children:(0,p.jsx)(_,(0,t.A)({focusRipple:!0},a,{ownerState:l,children:(0,p.jsx)(A,(0,t.A)({as:n.CollapsedIcon,ownerState:l},i.collapsedIcon))}))})};var j=i(92532),y=i(72372);function f(e){return(0,y.Ay)("MuiBreadcrumbs",e)}const w=(0,j.A)("MuiBreadcrumbs",["root","ol","li","separator"]),C=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],k=(0,d.Ay)(u.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,n)=>[{[`& .${w.li}`]:n.li},n.root]})({}),S=(0,d.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,n)=>n.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),P=(0,d.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,n)=>n.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function R(e,n,i,t){return e.reduce(((o,a,l)=>(l<e.length-1?o=o.concat(a,(0,p.jsx)(P,{"aria-hidden":!0,className:n,ownerState:t,children:i},`separator-${l}`)):o.push(a),o)),[])}const $=a.forwardRef((function(e,n){const i=(0,c.b)({props:e,name:"MuiBreadcrumbs"}),{children:d,className:u,component:m="nav",slots:v={},slotProps:h={},expandText:x="Show path",itemsAfterCollapse:g=1,itemsBeforeCollapse:_=1,maxItems:A=8,separator:j="/"}=i,y=(0,o.A)(i,C),[w,P]=a.useState(!1),$=(0,t.A)({},i,{component:m,expanded:w,expandText:x,itemsAfterCollapse:g,itemsBeforeCollapse:_,maxItems:A,separator:j}),D=(e=>{const{classes:n}=e;return(0,r.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},f,n)})($),I=(0,s.A)({elementType:v.CollapsedIcon,externalSlotProps:h.collapsedIcon,ownerState:$}),T=a.useRef(null),W=a.Children.toArray(d).filter((e=>a.isValidElement(e))).map(((e,n)=>(0,p.jsx)("li",{className:D.li,children:e},`child-${n}`)));return(0,p.jsx)(k,(0,t.A)({ref:n,component:m,color:"text.secondary",className:(0,l.A)(D.root,u),ownerState:$},y,{children:(0,p.jsx)(S,{className:D.ol,ref:T,ownerState:$,children:R(w||A&&W.length<=A?W:(e=>_+g>=e.length?e:[...e.slice(0,_),(0,p.jsx)(b,{"aria-label":x,slots:{CollapsedIcon:v.CollapsedIcon},slotProps:{collapsedIcon:I},onClick:()=>{P(!0);const e=T.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-g,e.length)])(W),D.separator,j,$)})}))}))},33546:(e,n,i)=>{i.d(n,{A:()=>s});var t=i(81e3),o=i(74600),a=i(90310),l=i(94496),r=i(70579);function s(e){let{title:n,imgUrl:i,action:s,filled:d,description:c,sx:u,...m}=e;return(0,r.jsxs)(o.A,{flexGrow:1,alignItems:"center",justifyContent:"center",sx:{px:3,height:1,...d&&{borderRadius:2,bgcolor:e=>(0,a.X4)(e.palette.grey[500],.04),border:e=>`dashed 1px ${(0,a.X4)(e.palette.grey[500],.08)}`},...u},...m,children:[(0,r.jsx)(t.A,{component:"img",alt:"empty content",src:i||"/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),n&&(0,r.jsx)(l.A,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:n}),c&&(0,r.jsx)(l.A,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:c}),s&&s]})}},38974:(e,n,i)=>{i.d(n,{d:()=>o});var t=i(65043);function o(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;const[i,o]=(0,t.useState)(e);return(0,t.useEffect)((()=>{const i=setTimeout((()=>{o(e)}),n);return()=>{clearTimeout(i)}}),[e,n]),i}},44847:(e,n,i)=>{i.d(n,{A:()=>t.A});var t=i(33546)},66473:(e,n,i)=>{i.r(n),i.d(n,{default:()=>ve});var t=i(29490),o=i(60778),a=i(46987),l=i(65043),r=i(68640),s=i(26240),d=i(90310),c=i(17392),u=i(49633),m=i(72221),v=i(94814),p=i(83462),h=i(4219),x=i(94496),g=i(35316),_=i(29347),A=i(29013),b=i(40360),j=i(79650),y=i(71806),f=i(84882),w=i(68738),C=i(39652),k=i(73460),S=i(67784),P=i(48407),R=i(67132),$=i(65381),D=i(59229),I=i(57442),T=i(31673),W=i(75139),q=i(68719),E=i(7625),F=i(16236),L=i(35151),B=i(51440),M=i(91720),z=i(12110),N=i(81e3),O=i(70579);function Y(){var e,n,i,t,r,s,d,c,p,h,g;const{t:_}=(0,o.WD)(),{currentLang:A}=(0,o.jc)(),b="ar"===A.value,S=(0,R.rd)(),{user:$}=(0,W.Z)(),{roomsData:D}=(0,E.Kuq)(null===$||void 0===$||null===(e=$.employee)||void 0===e||null===(n=e.employee_engagements)||void 0===n||null===(i=n[null===$||void 0===$||null===(r=$.employee)||void 0===r?void 0:r.selected_engagement])||void 0===i||null===(t=i.unit_service)||void 0===t?void 0:t._id),{employeeRoomsData:q}=(0,E.uA6)($.employee._id),F=D.find((e=>{var n;return"Reception"===(null===e||void 0===e||null===(n=e.activities)||void 0===n?void 0:n.name_english)})),[L,M]=(0,l.useState)(),{data:Y}=(0,E.nIn)(L),{EntranceByActivity:Z}=(0,E.JCi)(null===Y||void 0===Y?void 0:Y.activities,null===$||void 0===$||null===(s=$.employee)||void 0===s||null===(d=s.employee_engagements)||void 0===d||null===(c=d[null===$||void 0===$||null===(h=$.employee)||void 0===h?void 0:h.selected_engagement])||void 0===c||null===(p=c.unit_service)||void 0===p?void 0:p._id);(0,l.useEffect)((()=>{M(null===q||void 0===q?void 0:q._id)}),[q]);return(0,O.jsx)(z.A,{sx:{mt:3},children:(0,O.jsxs)(N.A,{sx:{m:2},children:[(0,O.jsxs)(x.A,{variant:"",sx:{color:"text.secondary",mr:3},children:[_("Select The room you are working in today")," "]}),(0,O.jsxs)(m.A,{sx:{width:150,height:35},value:L||"",displayEmpty:!0,onChange:e=>{const n=e.target.value;M(n),(async e=>{try{var n,i,t,o,l;const{data:s}=await T.Ay.get(`/api/rooms/unitservice/${null===$||void 0===$||null===(n=$.employee)||void 0===n||null===(i=n.employee_engagements)||void 0===i||null===(t=i[null===$||void 0===$||null===(l=$.employee)||void 0===l?void 0:l.selected_engagement])||void 0===t||null===(o=t.unit_service)||void 0===o?void 0:o._id}`),d=s.find((e=>{var n;return null===(n=e.employee)||void 0===n?void 0:n.some((e=>{var n;return e._id===(null===$||void 0===$||null===(n=$.employee)||void 0===n?void 0:n._id)}))}));d&&await T.Ay.patch(`/api/rooms/${null===d||void 0===d?void 0:d._id}`,{employee:d.employee.filter((e=>{var n;return e._id!==(null===$||void 0===$||null===(n=$.employee)||void 0===n?void 0:n._id)}))});const c=s.find((n=>n._id===e)),u=c?c.employee:[];var r;u.some((e=>{var n;return e._id===(null===$||void 0===$||null===(n=$.employee)||void 0===n?void 0:n._id)}))?(0,a.M8)("Employee is already in the selected room",{variant:"info"}):(await T.Ay.patch(`/api/rooms/${e}`,{employee:[...u,null===$||void 0===$||null===(r=$.employee)||void 0===r?void 0:r._id]}),(0,a.M8)("Room updated successfully",{variant:"success"}))}catch(s){console.error("Error updating room:",s.message),(0,a.M8)("Error updating room",{variant:"error"})}})(n)},children:[(0,O.jsx)(v.A,{disabled:!0,value:"",sx:{display:"none"},children:_("Select Room")}),D.map(((e,n)=>{var i,t;const o=b?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english;return(null===e||void 0===e||null===(i=e.activities)||void 0===i?void 0:i.name_english)!==(null===F||void 0===F||null===(t=F.activities)||void 0===t?void 0:t.name_english)&&(0,O.jsx)(v.A,{value:null===e||void 0===e?void 0:e._id,children:o},n)}))]}),(0,O.jsx)(N.A,{children:(0,O.jsx)(j.A,{sx:{mt:3,mb:2},children:(0,O.jsx)(B.A,{children:(0,O.jsxs)(y.A,{sx:{minWidth:400},children:[(0,O.jsx)(f.A,{children:(0,O.jsxs)(w.A,{children:[(null===Z||void 0===Z||null===(g=Z[0])||void 0===g?void 0:g.Last_activity_atended)&&(0,O.jsx)(C.A,{children:_("Last activity")}),(0,O.jsx)(C.A,{children:_("Patient")}),(0,O.jsx)(C.A,{children:_("Arrival Time")}),(0,O.jsx)(C.A,{children:_("Doctor Note")}),(0,O.jsx)(C.A,{children:_("Options")})]})}),(0,O.jsx)(k.A,{children:null===Z||void 0===Z?void 0:Z.map(((e,n)=>{var i,t;let o;var l,r;if(e.patient)o=b?null===e||void 0===e||null===(l=e.patient)||void 0===l?void 0:l.name_arabic:null===e||void 0===e||null===(r=e.patient)||void 0===r?void 0:r.name_english;else if(e.unit_service_patient){var s,d;o=b?null===e||void 0===e||null===(s=e.unit_service_patient)||void 0===s?void 0:s.name_arabic:null===e||void 0===e||null===(d=e.unit_service_patient)||void 0===d?void 0:d.name_english}return(0,O.jsxs)(w.A,{children:[(null===e||void 0===e||null===(i=e.Last_activity_atended)||void 0===i?void 0:i.name_english)&&(0,O.jsx)(C.A,{children:null===e||void 0===e||null===(t=e.Last_activity_atended)||void 0===t?void 0:t.name_english}),(0,O.jsx)(C.A,{children:o}),(0,O.jsx)(C.A,{children:(0,I.qi)(null===e||void 0===e?void 0:e.Arrival_time)}),(0,O.jsx)(C.A,{children:null===e||void 0===e?void 0:e.note}),(0,O.jsx)(C.A,{children:(0,O.jsx)(u.A,{variant:"outlined",sx:{bgcolor:"success.main",color:"white"},onClick:()=>(async e=>{try{var n;await T.Ay.patch(`/api/entrance/${null===e||void 0===e?void 0:e._id}`,{Current_activity:null===e||void 0===e||null===(n=e.Next_activity)||void 0===n?void 0:n._id}),S.push(`${P.f.unitservice.departments.processingPage}/${null===e||void 0===e?void 0:e._id}`)}catch(i){console.error(i.message),(0,a.M8)("Error updating status",{variant:"error"})}})(e),children:_("Proceed")})})]},n)}))})]})})})})]})})}var Z=i(80899),G=i(24858),U=i(18403),H=i(38246),X=i(39336),K=i(77224),V=i(74600),J=i(38974),Q=i(5124),ee=i(74818),ne=i(94857),ie=i(67555),te=i(87410),oe=i(59699),ae=i(77502),le=i(20698),re=i(75950),se=i(70074);function de(e){let{row:n,note:i,setNote:t,selected:a,onEmploymentRow:l,SelectedAppointment:r}=e;const{sequence_number:s,name_english:d,name_arabic:m,nationality:v,birth_date:p,identification_num:h,mobile_num1:g}=n,{t:_}=(0,o.WD)(),{currentLang:A}=(0,o.jc)(),b="ar"===A.value,j=(0,D.C)(),y=(0,O.jsxs)(w.A,{hover:!0,selected:a,children:[(0,O.jsx)(C.A,{align:"center",children:(0,O.jsxs)(N.A,{children:[String(null===v||void 0===v?void 0:v.code).padStart(3,"0"),"-",s]})}),(0,O.jsx)(C.A,{align:"center",children:d}),(0,O.jsx)(C.A,{align:"center",children:m}),(0,O.jsx)(C.A,{align:"center",children:g}),(0,O.jsx)(C.A,{align:"center",children:h}),(0,O.jsx)(C.A,{align:"center",children:(0,I.ts)(p)}),(0,O.jsx)(C.A,{align:"center",sx:{px:1,whiteSpace:"nowrap"},children:(0,O.jsx)(c.A,{onClick:j.onToggle,children:(0,O.jsx)(L.A,{width:"27px",color:"info.main",icon:"mdi:book-add"})})})]});return(0,O.jsxs)(O.Fragment,{children:[y,(0,O.jsx)(se.T,{open:j.value,onClose:j.onFalse,title:_("Patient identity confirmation:"),content:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(x.A,{children:[" ",_("By booking the appointment, you confirm that you have been checked patient data and there are at minimum three data that matches with next patient identity:")]}),(0,O.jsx)(z.A,{sx:{p:2,m:2},children:(0,O.jsxs)(x.A,{children:[_("patient")," : ",b?m:d]})}),(0,O.jsx)(S.A,{multiline:!0,fullWidth:!0,label:_("note"),rows:2,sx:{my:2},onChange:e=>t(e.target.value),value:i})]}),action:(0,O.jsx)(u.A,{variant:"contained",color:"info",onClick:()=>{l(n),j.onFalse()},children:_("confirm")})})]})}function ce(e){let{SelectedAppointment:n,createAppointment:i,oldPatients:t,usPatients:a,reset:r,close:d,refetch:c}=e;const{t:u}=(0,o.WD)(),{currentLang:m}=(0,o.jc)(),v="ar"===m.value,p=[{id:"code",label:u("code")},{id:"name_english",label:u("name in english")},{id:"name_arabic",label:u("name in arabic")},{id:"mobile_num1",label:u("mobile number")},{id:"identification_num",label:u("ID number")},{id:"birth_date",label:u("birth date")},{id:"book",width:88}],{enqueueSnackbar:h}=(0,ne.dh)(),x=(0,re.K2)({defaultRowsPerPage:10}),[g,_]=(0,l.useState)(),A=(0,s.A)(),{dense:b,page:j,order:f,orderBy:w,rowsPerPage:C,onSort:S,onChangeDense:P,onChangePage:R,onChangeRowsPerPage:$}=x;return(0,O.jsxs)(B.A,{children:[(0,O.jsxs)(y.A,{size:b?"small":"medium",sx:{minWidth:960,borderCollapse:"separate",borderSpacing:"0 16px"},children:[(0,O.jsx)(re.er,{order:f,orderBy:w,headLabel:p,onSort:S,sx:{[`& .${ae.A.head}`]:{"&:first-of-type":{borderTopLeftRadius:12,borderBottomLeftRadius:12},"&:last-of-type":{borderTopRightRadius:12,borderBottomRightRadius:12}}}}),(0,O.jsxs)(k.A,{children:[t.slice(j*C,j*C+C).map(((e,t,o)=>(0,O.jsx)(de,{row:e,note:g,setNote:_,SelectedAppointment:n,onEmploymentRow:()=>(async e=>{try{const{data:n}=await i(),t={note:g,lang:v};a?(t.unit_service_patient=e._id,t.patient=null===e||void 0===e?void 0:e.patient):t.patient=e._id,await T.Ay.patch(T.vZ.appointments.book(null===n||void 0===n?void 0:n._id),t),await(0,ee.n)(n),h(u("booked successfully!")),d(),c(),r()}catch(n){h(v&&`${n.arabic_message}`||`${n.message}`,{variant:"error"}),console.error(n)}})(e)},o))),(0,O.jsx)(re.Sm,{notFound:0===t.length,sx:{m:-2,borderRadius:1.5,border:`dashed 1px ${A.palette.divider}`}})]})]}),(0,O.jsx)(re.We,{count:t.length,page:j,rowsPerPage:C,onPageChange:R,onRowsPerPageChange:$,dense:b,onChangeDense:P,sx:{[`& .${le.A.toolbar}`]:{borderTopColor:"transparent"}}})]})}function ue(e){var n,i,t,a,r,s,d;let{open:c,close:u,refetch:m}=e;const{user:h}=(0,W.Z)(),{t:g}=(0,o.WD)(),{currentLang:_}=(0,o.jc)(),A="ar"===_.value,{countriesData:b}=(0,E.oOq)({select:"name_english name_arabic"}),{handleAddNew:j}=(0,Q.I)(),{appointmenttypesData:y}=(0,E.uZ5)(),{workGroupsData:f}=(0,E.hJU)(null===h||void 0===h||null===(n=h.employee)||void 0===n||null===(i=n.employee_engagements)||void 0===i||null===(t=i[null===h||void 0===h?void 0:h.employee.selected_engagement])||void 0===t||null===(a=t.unit_service)||void 0===a?void 0:a._id),{workShiftsData:w}=(0,E.c8d)(null===h||void 0===h||null===(r=h.employee)||void 0===r||null===(s=r.employee_engagements)||void 0===s||null===(d=s[null===h||void 0===h?void 0:h.employee.selected_engagement])||void 0===d?void 0:d.unit_service._id),{enqueueSnackbar:C}=(0,ne.dh)(),k=Z.Ik().shape({sequence_number:Z.Yj(),name_english:Z.Yj(),name_arabic:Z.Yj(),nationality:Z.Yj().required(g("required field")),mobile_num1:Z.Yj().required(g("required field")),mobile_num2:Z.Yj(),note:Z.Yj(),work_shift:Z.Yj().required(g("required field")),work_group:Z.Yj().required(g("required field")),service_types:Z.YO(),appointment_type:Z.Yj().required(g("required field")),start_time:Z.gl().required(g("required field"))}),S=(0,l.useMemo)((()=>{var e,n,i,t,o,a,l,r;return{sequence_number:"",name_english:"",name_arabic:"",nationality:null,mobile_num1:"",mobile_num2:"",note:"",appointment_type:null===y||void 0===y||null===(e=y[0])||void 0===e?void 0:e._id,start_time:new Date,work_group:null===f||void 0===f||null===(n=f[0])||void 0===n?void 0:n._id,unit_service:null===h||void 0===h||null===(i=h.employee)||void 0===i||null===(t=i.employee_engagements)||void 0===t||null===(o=t[null===h||void 0===h?void 0:h.employee.selected_engagement])||void 0===o||null===(a=o.unit_service)||void 0===a?void 0:a._id,work_shift:null===(l=w.filter((e=>{const n=new Date,i=new Date(n);i.setHours(new Date(e.start_time).getHours(),new Date(e.start_time).getMinutes(),0,0);const t=new Date(n);if(t.setHours(new Date(e.end_time).getHours(),new Date(e.end_time).getMinutes(),0,0),i<=t)return n>=i&&n<t;const o=new Date(t.getTime()+864e5);return n>=i||n<o})))||void 0===l||null===(r=l[0])||void 0===r?void 0:r._id,service_types:[]}}),[f,y,w,null===h||void 0===h?void 0:h.employee]),R=(0,G.mN)({mode:"all",resolver:(0,U.t)(k),defaultValues:S}),{reset:$,handleSubmit:D,watch:I,setValue:q,formState:{isSubmitting:F,errors:B}}=R;(0,l.useEffect)((()=>{Object.keys(B).length&&Object.keys(B).forEach(((e,n)=>{var i;return C(`${e}: ${(null===B||void 0===B||null===(i=B[e])||void 0===i?void 0:i.message)||"error"}`,{variant:"error"})}))}),[B,C]);const M=I(),z=async()=>{var e,n,i,t,o,a,l;return await T.Ay.post(T.vZ.appointments.all,{appointment_type:M.appointment_type,start_time:new Date,work_group:M.work_group,work_shift:M.work_shift,service_types:M.service_types,emergency:!0,unit_service:null===h||void 0===h||null===(e=h.employee)||void 0===e||null===(n=e.employee_engagements)||void 0===n||null===(i=n[null===h||void 0===h?void 0:h.employee.selected_engagement])||void 0===i||null===(t=i.unit_service)||void 0===t?void 0:t._id,department:null===(o=f.filter((e=>e._id===M.work_group)))||void 0===o||null===(a=o[0])||void 0===a||null===(l=a.department)||void 0===l?void 0:l._id})},Y=(0,J.d)({sequence_number:M.sequence_number,name_english:M.name_english,name_arabic:M.name_arabic,mobile_num1:M.mobile_num1,mobile_num2:M.mobile_num2,work_group:M.work_group}),{existPatients:ae}=(0,E.C_f)({...Y,select:"code name_english name_arabic mobile_num1 mobile_num2 identification_num nationality birth_date"}),{foundPatients:le}=(0,E.gZT)({...Y,select:"code name_english patient name_arabic mobile_num1 mobile_num2 identification_num nationality birth_date"}),re=D((async e=>{try{delete e.sequence_number;const{data:n}=await z();await T.Ay.patch(T.vZ.appointments.patient.createPatientAndBookAppoint(null===n||void 0===n?void 0:n._id),{...e,lang:A}),await(0,ee.n)(n),C(g("created successfully!")),$(),u()}catch(n){C(A&&`${n.arabic_message}`||`${n.message}`,{variant:"error"}),console.error(n)}})),se=e=>{/^[\u0600-\u06FF0-9\s!@#$%^&*_\-().]*$/.test(e.target.value)&&q(e.target.name,e.target.value)},de=e=>{/^[a-zA-Z0-9\s,@#$!*_\-&^%.()]*$/.test(e.target.value)&&q(e.target.name,e.target.value)},ue=e=>{const{value:n}=e.target,i=n.replace(/\D/g,"");i.length<=3?q(e.target.name,i):i.length>=4&&"-"===i.charAt(3)?q(e.target.name,i.slice(0,3)):i.length>=4&&"-"!==i.charAt(3)?q(e.target.name,`${i.slice(0,3)}-${i.slice(3)}`):q(e.target.name,i)};return(0,l.useEffect)((()=>{$(S)}),[S,$]),M.appointment_type&&M.work_group||!y.length||!f.length?(0,O.jsx)(p.A,{fullWidth:!0,maxWidth:"xl",open:c,onClose:u,children:(0,O.jsxs)(K.A,{maxWidth:"xl",sx:{p:5},children:[(0,O.jsx)(x.A,{variant:"h5",children:g("create & book appointment")}),(0,O.jsxs)(te.A,{methods:R,onSubmit:re,children:[(0,O.jsxs)(V.A,{spacing:2.5,sx:{my:3},children:[(0,O.jsx)(x.A,{variant:"subtitle1",color:"text.disabled",children:g("appointment details")}),(0,O.jsxs)(N.A,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(3, 1fr)"},children:[(0,O.jsx)(oe.tX,{name:"appointment_type",label:g("appointment type"),children:y.map(((e,n,i)=>(0,O.jsx)(v.A,{lang:"ar",value:e._id,children:A?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},i)))}),(0,O.jsxs)(oe.tX,{name:"work_shift",label:g("work shift"),PaperPropsSx:{textTransform:"capitalize"},children:[w&&w.map(((e,n,i)=>(0,O.jsx)(v.A,{lang:"ar",value:e._id,children:A?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},i))),(0,O.jsx)(X.A,{}),(0,O.jsxs)(v.A,{lang:"ar",sx:{display:"flex",justifyContent:"flex-end",gap:1,fontWeight:600},onClick:()=>j(P.f.unitservice.tables.workshifts.new),children:[(0,O.jsx)(x.A,{variant:"body2",sx:{color:"info.main"},children:g("Add new")}),(0,O.jsx)(L.A,{icon:"material-symbols:new-window-sharp"})]})]}),(0,O.jsxs)(oe.tX,{name:"work_group",label:g("work group"),children:[f.map(((e,n,i)=>(0,O.jsx)(v.A,{lang:"ar",value:e._id,children:A?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},i))),(0,O.jsx)(X.A,{}),(0,O.jsxs)(v.A,{lang:"ar",sx:{display:"flex",justifyContent:"flex-end",gap:1,fontWeight:600},onClick:()=>j(P.f.unitservice.tables.workgroups.new),children:[(0,O.jsx)(x.A,{variant:"body2",sx:{color:"info.main"},children:g("Add new")}),(0,O.jsx)(L.A,{icon:"material-symbols:new-window-sharp"})]})]})]})]}),(0,O.jsx)(X.A,{}),(0,O.jsx)("br",{}),(0,O.jsx)(x.A,{lang:"ar",sx:{py:2,fontWeight:700},variant:"caption",color:"text.secondary",textTransform:"uppercase",children:g("patient information")}),(0,O.jsx)("br",{}),(0,O.jsx)("br",{}),(0,O.jsx)(oe.b$,{row:!0,name:"patientExist",options:[{label:g("my patient"),value:"my_patients"},{label:g("new patient"),value:"new"}]}),(0,O.jsx)("br",{}),(0,O.jsx)("br",{}),"my_patients"===M.patientExist&&(0,O.jsxs)(N.A,{sx:{mb:3},rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(3, 1fr)"},children:[(0,O.jsx)(oe.o3,{onChange:de,name:"name_english",label:g("patient name in english")}),(0,O.jsx)(oe.o3,{onChange:se,name:"name_arabic",label:g("patient name in arabic")}),(0,O.jsx)(oe.o3,{type:"email",name:"email",label:g("email address")}),(0,O.jsx)(oe.o3,{onChange:de,name:"identification_num",label:g("ID number")}),(0,O.jsx)(oe.u,{name:"mobile_num1",label:g("mobile number")}),(0,O.jsx)(oe.u,{name:"mobile_num2",label:g("alternative mobile number")})]}),"exist"===M.patientExist&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(oe.o3,{InputLabelProps:{shrink:!0},inputProps:{style:{textAlign:"center"}},sx:{width:"200px",mb:3,textAlign:"center"},size:"small",name:"sequence_number",onChange:ue,placeholder:"001-22",label:g("patient-code")}),(0,O.jsxs)(N.A,{sx:{mb:3},rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(3, 1fr)"},children:[(0,O.jsx)(oe.o3,{onChange:de,name:"name_english",label:g("patient name in english")}),(0,O.jsx)(oe.o3,{onChange:se,name:"name_arabic",label:g("patient name in arabic")}),(0,O.jsx)(oe.o3,{type:"email",name:"email",label:g("email address")}),(0,O.jsx)(oe.o3,{onChange:de,name:"identification_num",label:g("ID number")}),(0,O.jsx)(oe.u,{name:"mobile_num1",label:g("mobile number")}),(0,O.jsx)(oe.u,{name:"mobile_num2",label:g("alternative mobile number")})]})]}),"new"===M.patientExist&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(x.A,{sx:{mb:2},variant:"subtitle2",color:"info.dark",children:g("if the patient did not exist in our system you are required to add name (arabic or english), nationality and mobile number")}),(0,O.jsx)(oe.o3,{InputLabelProps:{shrink:!0},inputProps:{style:{textAlign:"center"}},sx:{width:"200px",mb:3,textAlign:"center"},size:"small",name:"sequence_number",onChange:ue,placeholder:"001-22",label:g("patient-code")}),(0,O.jsxs)(N.A,{sx:{mb:3},rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(3, 1fr)"},children:[(0,O.jsx)(oe.o3,{onChange:de,name:"name_english",label:g("patient name in english")}),(0,O.jsx)(oe.o3,{onChange:se,name:"name_arabic",label:g("patient name in arabic")}),(0,O.jsx)(oe.u,{name:"mobile_num1",label:g("mobile number")}),(0,O.jsx)(oe.u,{name:"mobile_num2",label:g("alternative mobile number")}),(0,O.jsx)(oe.tX,{name:"nationality",label:g("nationality"),children:b.map(((e,n)=>(0,O.jsx)(v.A,{lang:"ar",value:e._id,children:A?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},n)))})]}),(0,O.jsx)(oe.o3,{multiline:!0,rows:2,name:"note",label:g("note")}),(0,O.jsx)(V.A,{alignItems:"flex-end",sx:{mt:3},children:(0,O.jsx)(H.A,{type:"submit",tabIndex:-1,variant:"contained",loading:F,children:g("create new patient and book")})})]}),ae.length>0&&"new"===M.patientExist&&(0,O.jsx)(ce,{createAppointment:z,reset:$,close:u,refetch:m,oldPatients:ae}),le.length>0&&"my_patients"===M.patientExist&&(0,O.jsx)(ce,{createAppointment:z,reset:$,close:u,refetch:m,oldPatients:le,usPatients:!0}),(0,O.jsx)(V.A,{alignItems:"flex-end",sx:{mt:3},children:(0,O.jsx)(H.A,{tabIndex:-1,variant:"contained",onClick:u,children:g("cancel")})})]})]})}):(0,O.jsx)(ie.x,{})}function me(){var e,n,i,t,z,N,Z,G;const U=(0,q.v)(),[H,X]=(0,l.useState)("one"),{user:K}=(0,W.Z)(),{t:V}=(0,o.WD)(),{currentLang:J}=(0,o.jc)(),Q="ar"===J.value,{enqueueSnackbar:ee}=(0,a.dh)(),ne=(0,s.A)(),ie=(0,R.rd)(),[te,oe]=(0,l.useState)(""),[ae,le]=(0,l.useState)(""),[re,se]=(0,l.useState)(""),{fullWidth:de}=(0,l.useState)(!1),{maxWidth:ce}=(0,l.useState)("xs"),me=(0,D.C)(!1),ve=(0,D.C)(!1),[pe,he]=(0,l.useState)(!1),xe=null===K||void 0===K||null===(e=K.employee)||void 0===e||null===(n=e.employee_engagements)||void 0===n||null===(i=n[null===K||void 0===K||null===(z=K.employee)||void 0===z?void 0:z.selected_engagement])||void 0===i||null===(t=i.unit_service)||void 0===t?void 0:t._id,{appointmentsData:ge,refetch:_e}=(0,E.b_l)(xe),{entrance:Ae,refetch2:be}=(0,E.NKb)(xe),{roomsData:je}=(0,E.Kuq)(xe),{finishedAppointmentsData:ye,refetch3:fe}=(0,E.kHH)(xe),we=je.find((e=>{var n;return"Reception"===(null===e||void 0===e||null===(n=e.activities)||void 0===n?void 0:n.name_english)})),Ce=[U({category:"unit_service",subcategory:"entrance",acl:"appointment"})&&{value:"one",label:V("Appointments Today"),color:"info",count:null===ge||void 0===ge?void 0:ge.length,data:ge},U({category:"unit_service",subcategory:"entrance",acl:"rooms"})&&{value:"two",label:V("Rooms"),color:"warning",count:null===Ae||void 0===Ae?void 0:Ae.length,data:Ae},U({category:"unit_service",subcategory:"entrance",acl:"finished"})&&{value:"three",label:V("Finished"),color:"error",count:null===ye||void 0===ye?void 0:ye.length,data:ye}].filter(Boolean),ke=(0,l.useCallback)(((e,n)=>X(n)),[]),Se=Ce.find((e=>e.value===H)),Pe=async e=>{try{var n,i,t,o,a;const l=await T.Ay.post(T.vZ.entranceManagement.all,{patient:null===e||void 0===e||null===(n=e.patient)||void 0===n?void 0:n._id,unit_service_patient:null===e||void 0===e||null===(i=e.unit_service_patient)||void 0===i?void 0:i._id,patient_note:null===e||void 0===e?void 0:e.note,start_time:(new Date).toISOString(),Appointment_date:null===e||void 0===e?void 0:e.start_time,service_unit:null===e||void 0===e||null===(t=e.unit_service)||void 0===t?void 0:t._id,appointmentId:null===e||void 0===e?void 0:e._id,work_group:null===e||void 0===e||null===(o=e.work_group)||void 0===o?void 0:o._id,Last_activity_atended:null===e||void 0===e?void 0:e.Last_activity_atended,Arrival_time:null===e||void 0===e?void 0:e.created_at}),r={started:!0,entrance:null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a._id,arrived:!0};re&&(r.identification_num=re),await T.Ay.patch(`${T.vZ.appointments.one(null===e||void 0===e?void 0:e._id)}`,r),_e(),ee("Appointment started successfully",{variant:"success"})}catch(l){console.error(l.message),ee("Error updating status",{variant:"error"})}},Re=async(e,n,i)=>{try{var t;const o="coming"===i?{coming:n}:{arrived:n};await T.Ay.patch(`${T.vZ.appointments.one(null===e||void 0===e?void 0:e._id)}`,o),_e(),ee(`${null===e||void 0===e||null===(t=e.patient)||void 0===t?void 0:t.name_english} ${i}`,{variant:"success"})}catch(o){console.error(o.message),ee("Error updating status",{variant:"error"})}};(0,l.useEffect)((()=>{X(Ce[0].value)}),[]);const $e=e=>"three"===H?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(c.A,{sx:{p:2},onClick:()=>ie.push(`${P.f.unitservice.departments.viewgPage}/${null===e||void 0===e?void 0:e._id}`),children:[(0,O.jsx)(L.A,{width:20,sx:{cursor:"pointer",mr:1,color:"info.main"},icon:"carbon:view"}),(0,O.jsx)("span",{style:{fontSize:16},children:V("View")})]}),(0,O.jsx)(u.A,{variant:"outlined",onClick:()=>ie.push(`${P.f.unitservice.accounting.economicmovements.add}?appointment=${null===e||void 0===e?void 0:e.appointmentId}&&entrance=${null===e||void 0===e?void 0:e._id}`),children:V("make an invoice")})]}):null!==e&&void 0!==e&&e.arrived?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(m.A,{sx:{width:150,height:35},value:te,displayEmpty:!0,onChange:e=>oe(e.target.value),children:[(0,O.jsx)(v.A,{value:"",disabled:!0,sx:{display:"none"},children:V("Next activity")}),je.map(((n,i)=>{var t,o,a;return(null===n||void 0===n||null===(t=n.activities)||void 0===t?void 0:t.name_english)!==(null===we||void 0===we||null===(o=we.activities)||void 0===o?void 0:o.name_english)?(0,O.jsx)(v.A,{value:null===n||void 0===n||null===(a=n.activities)||void 0===a?void 0:a._id,onClick:()=>{var i;return(async(e,n)=>{try{await T.Ay.patch(`${T.vZ.entranceManagement.one(null===n||void 0===n?void 0:n.entrance)}`,{Next_activity:e}),await T.Ay.patch(`${T.vZ.appointments.one(null===n||void 0===n?void 0:n._id)}`,{activityhappend:!0}),_e(),be(),X("two"),ee("Appointment started",{variant:"success"})}catch(i){console.error(i.message),ee("Error starting appointment",{variant:"error"})}})(null===n||void 0===n||null===(i=n.activities)||void 0===i?void 0:i._id,e)},children:Q?null===n||void 0===n?void 0:n.name_arabic:null===n||void 0===n?void 0:n.name_english},i):null}))]}),(0,O.jsx)(u.A,{onClick:()=>(async e=>{try{var n,i,t;await T.Ay.patch(`/api/entrance/${null===e||void 0===e?void 0:e.entrance}`,{Patient_attended:!0}),await T.Ay.patch(`/api/appointments/${null===e||void 0===e?void 0:e._id}`,{finished_or_not:!0}),await T.Ay.post("/api/feedback",{unit_service:null===e||void 0===e||null===(n=e.unit_service)||void 0===n?void 0:n._id,appointment:null===e||void 0===e?void 0:e._id,patient:null===e||void 0===e||null===(i=e.patient)||void 0===i?void 0:i._id,unit_service_patient:null===e||void 0===e||null===(t=e.unit_service_patient)||void 0===t?void 0:t._id}),ee("appointment finished",{variant:"success"}),_e(),be(),fe(),ie.push(P.f.employee.appointmentsToday)}catch(o){console.error(o.message),ee("something went wrong",{variant:"error"})}})(e),variant:"contained",sx:{bgcolor:"error.main",ml:2},children:V("end appointment")})]}):(0,O.jsx)(c.A,{sx:{p:2},onClick:()=>(async e=>{me.onTrue(),le(e)})(null===e||void 0===e?void 0:e.patient),children:(0,O.jsx)(L.A,{width:20,sx:{cursor:"pointer",mr:1,color:"success.main"},icon:"material-symbols:call"})});return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(p.A,{open:me.value,maxWidth:ce,onClose:me.onTrue,fullWidth:de,children:[(0,O.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",margin:"10px"},children:[(0,O.jsx)(h.A,{children:V("Contact patient")}),(0,O.jsx)(x.A,{sx:{mb:1,fontSize:15},children:V("Thoos are some data the pateint provide to contact")})]}),(0,O.jsxs)(g.A,{children:[(0,O.jsxs)(x.A,{sx:{mb:1,fontSize:15,m:2},children:[" ",(0,O.jsx)(L.A,{width:20,sx:{cursor:"pointer",color:"success.main"},icon:"material-symbols:call"}),null===ae||void 0===ae?void 0:ae.mobile_num1]}),(0,O.jsxs)(x.A,{sx:{mb:1,fontSize:15,m:2},children:[" ",(0,O.jsx)(L.A,{width:20,sx:{cursor:"pointer",color:"success.main"},icon:"material-symbols:call"}),null===ae||void 0===ae?void 0:ae.mobile_num2]})]}),(0,O.jsx)(_.A,{children:(0,O.jsx)(u.A,{size:"small",color:"info",variant:"contained",sx:{bgcolor:"info.dark"},onClick:()=>{me.onFalse(),le("")},children:V("cancel")})})]}),(0,O.jsxs)(r.A,{children:[(0,O.jsx)(M.A,{heading:V("Appointments Today"),links:[{name:Q?null===(N=K.employee)||void 0===N?void 0:N.name_arabic:null===(Z=K.employee)||void 0===Z?void 0:Z.name_english}],action:U({category:"work_group",subcategory:"appointments",acl:"create"})&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(u.A,{sx:{mr:2},component:$.W,href:P.f.employee.appointments.book,variant:"contained",startIcon:(0,O.jsx)(L.A,{icon:"mingcute:add-line"}),children:V("book appointment")}),(0,O.jsx)(u.A,{component:$.W,onClick:()=>he(!0),variant:"contained",color:"primary",startIcon:(0,O.jsx)(L.A,{icon:"mingcute:add-line"}),children:V("create & book appointment")})]}),sx:{mb:{xs:3,md:5}}}),(0,O.jsx)(A.A,{value:H,onChange:ke,sx:{px:2.5,boxShadow:`inset 0 -2px 0 0 ${(0,d.X4)(ne.palette.grey[500],.08)}`},children:Ce.map(((e,n)=>(0,O.jsx)(b.A,{value:e.value,label:e.label,iconPosition:"end",icon:(0,O.jsx)(F.A,{color:e.color,children:e.count})},n)))}),"two"===H?(0,O.jsx)(Y,{}):(0,O.jsx)(j.A,{sx:{mt:3,mb:2},children:(0,O.jsx)(B.A,{children:(0,O.jsxs)(y.A,{sx:{minWidth:400},children:[(0,O.jsx)(f.A,{children:(0,O.jsxs)(w.A,{children:[(0,O.jsx)(C.A,{children:V("Time")}),(0,O.jsx)(C.A,{children:V("patient")}),"three"!==H&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(C.A,{children:V("Coming")}),(0,O.jsx)(C.A,{children:V("Arrived")})]}),(0,O.jsx)(C.A,{children:V("Options")})]})}),(0,O.jsx)(k.A,{children:null===Se||void 0===Se||null===(G=Se.data)||void 0===G?void 0:G.map(((e,n)=>{var i,t,o;let a;var l,r;if(null!==e&&void 0!==e&&null!==(i=e.patient)&&void 0!==i&&i.name_english)a=Q?null===e||void 0===e||null===(l=e.patient)||void 0===l?void 0:l.name_arabic:null===e||void 0===e||null===(r=e.patient)||void 0===r?void 0:r.name_english;else if(e.unit_service_patient){var s,d;a=Q?null===e||void 0===e||null===(s=e.unit_service_patient)||void 0===s?void 0:s.name_arabic:null===e||void 0===e||null===(d=e.unit_service_patient)||void 0===d?void 0:d.name_english}return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(w.A,{sx:{borderBottom:"2px #91edff ridge"},children:[(0,O.jsx)(C.A,{children:(0,I.qi)(null===e||void 0===e?void 0:e.start_time)}),(0,O.jsx)(C.A,{children:a}),"three"!==H&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(C.A,{children:(0,O.jsx)(O.Fragment,{children:void 0!==(null===e||void 0===e?void 0:e.coming)?(0,O.jsx)(L.A,{width:22,sx:{cursor:"pointer",mr:1,color:e.coming?"info.main":"error.main"},icon:e.coming?"dashicons:yes":"dashicons:no"}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(u.A,{sx:{p:2},onClick:()=>Re(e,!0,"coming"),children:V("Yes")}),(0,O.jsx)(u.A,{sx:{p:2},onClick:()=>Re(e,!1,"coming"),children:V("No")})]})})}),(0,O.jsx)(C.A,{children:(0,O.jsx)(O.Fragment,{children:void 0!==(null===e||void 0===e?void 0:e.arrived)?(0,O.jsx)(L.A,{width:22,sx:{cursor:"pointer",mr:1,color:e.arrived?"info.main":"error.main"},icon:e.arrived?"dashicons:yes":"dashicons:no"}):(0,O.jsxs)(O.Fragment,{children:[null!==e&&void 0!==e&&null!==(t=e.unit_service_patient)&&void 0!==t&&t.identification_num||null!==e&&void 0!==e&&null!==(o=e.patient)&&void 0!==o&&o.identification_num?(0,O.jsx)(u.A,{sx:{p:2},onClick:()=>Pe(e),children:V("Yes")}):(0,O.jsx)(u.A,{sx:{p:2},onClick:ve.onTrue,children:V("Yes")}),(0,O.jsx)(u.A,{sx:{p:2},onClick:()=>Re(e,!1,"arrived"),children:V("No")})]})})})]}),(0,O.jsx)(C.A,{children:$e(e)})]},n),(0,O.jsxs)(p.A,{open:ve.value,onClose:ve.onTrue,lang:"ar",fullWidth:!0,maxWidth:"xs",children:[(0,O.jsx)(h.A,{children:V("Proof number")}),(0,O.jsxs)(g.A,{children:[(0,O.jsxs)(x.A,{children:[V("Please enter the patient national number")," ",(0,O.jsx)("span",{style:{color:"red"},children:V("As entered in the proof document")})]}),(0,O.jsx)(S.A,{onChange:e=>se(e.target.value),sx:{width:"100%",mt:2},placeholder:Q?"\u0645\u062b\u0627\u0644: \u0662\u0663\u0664\u0662****":"Ex: 2342****"})]}),(0,O.jsxs)(_.A,{children:[(0,O.jsx)(u.A,{size:"small",variant:"contained",sx:{bgcolor:"info.dark"},onClick:()=>{re?(ve.onFalse(),Pe(e)):ee(V("Please enter the patient national number"),{variant:"error"})},children:V("add")}),(0,O.jsx)(u.A,{size:"small",variant:"outlined",onClick:()=>{ve.onFalse()},children:V("cancel")})]})]})]})}))})]})})})]}),(0,O.jsx)(ue,{refetch:_e,open:pe,close:()=>he(!1)})]})}function ve(){const{t:e}=(0,o.WD)();return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(t.mg,{children:[(0,O.jsx)("title",{children:e("appointmentsToday")}),(0,O.jsx)("meta",{name:"description",content:"meta"})]}),(0,O.jsx)(me,{})]})}},68640:(e,n,i)=>{i.d(n,{A:()=>t});const t=(0,i(31292).A)()},74818:(e,n,i)=>{i.d(n,{n:()=>o});const t=e=>new Date(e).toISOString().replace(/-/g,"").replace(/:/g,"").replace(/\.\d{3}/,"");async function o(e){try{var n,i,o;const l=encodeURIComponent(t(e.start_time)),r=encodeURIComponent(t(e.end_time)),s=encodeURIComponent(`appointment at ${null===(n=e.unit_service)||void 0===n?void 0:n.name_english}`),d=`https://calendar.google.com/calendar/render?action=TEMPLATE&dates=${l}/${r}&text=${s}&location=${encodeURIComponent((null===(i=e.unit_service)||void 0===i?void 0:i.location_gps)||(null===(o=e.unit_service)||void 0===o?void 0:o.address))}`;confirm("Would you like to add this event to your Google Calendar?")&&(a=d,/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?window.location.href=a:window.open(a,"_blank"))}catch(l){console.error(l)}var a}},75950:(e,n,i)=>{function t(e,n,i){return null===e[i]?1:null===n[i]||n[i]<e[i]?-1:n[i]>e[i]?1:0}function o(e,n){return"desc"===e?(e,i)=>t(e,i,n):(e,i)=>-t(e,i,n)}i.d(n,{er:()=>_,Sm:()=>m,We:()=>S,Uv:()=>j,hz:()=>o,K2:()=>l});var a=i(65043);function l(e){const[n,i]=(0,a.useState)(!(null===e||void 0===e||!e.defaultDense)),[t,o]=(0,a.useState)((null===e||void 0===e?void 0:e.defaultCurrentPage)||0),[l,r]=(0,a.useState)((null===e||void 0===e?void 0:e.defaultOrderBy)||"created_at"),[s,d]=(0,a.useState)((null===e||void 0===e?void 0:e.defaultRowsPerPage)||10),[c,u]=(0,a.useState)((null===e||void 0===e?void 0:e.defaultOrder)||"desc"),[m,v]=(0,a.useState)((null===e||void 0===e?void 0:e.defaultSelected)||[]),p=(0,a.useCallback)((e=>{""!==e&&(u(l===e&&"asc"===c?"desc":"asc"),r(e))}),[c,l]),h=(0,a.useCallback)((e=>{const n=m.includes(e)?m.filter((n=>n!==e)):[...m,e];v(n)}),[m]),x=(0,a.useCallback)((e=>{o(0),d(parseInt(e.target.value,10))}),[]),g=(0,a.useCallback)((e=>{i(e.target.checked)}),[]),_=(0,a.useCallback)(((e,n)=>{v(e?n:[])}),[]),A=(0,a.useCallback)(((e,n)=>{o(n)}),[]),b=(0,a.useCallback)((()=>{o(0)}),[]),j=(0,a.useCallback)((e=>{v([]),t&&e<2&&o(t-1)}),[t]),y=(0,a.useCallback)((e=>{let{totalRows:n,totalRowsInPage:i,totalRowsFiltered:a}=e;const l=m.length;if(v([]),t)if(l===i)o(t-1);else if(l===a)o(0);else if(l>i){const e=Math.ceil((n-l)/s)-1;o(e)}}),[t,s,m.length]);return{dense:n,order:c,page:t,orderBy:l,rowsPerPage:s,selected:m,onSelectRow:h,onSelectAllRows:_,onSort:p,onChangePage:A,onChangeDense:g,onResetPage:b,onChangeRowsPerPage:x,onUpdatePageDeleteRow:j,onUpdatePageDeleteRows:y,setPage:o,setDense:i,setOrder:u,setOrderBy:r,setSelected:v,setRowsPerPage:d}}var r=i(68738),s=i(39652),d=i(60778),c=i(44847),u=i(70579);function m(e){let{notFound:n,sx:i}=e;const{t:t}=(0,d.WD)();return(0,u.jsx)(r.A,{children:n?(0,u.jsx)(s.A,{colSpan:12,children:(0,u.jsx)(c.A,{filled:!0,title:t("No Data"),sx:{py:10,...i}})}):(0,u.jsx)(s.A,{colSpan:12,sx:{p:0}})})}var v=i(81e3),p=i(1273),h=i(84882),x=i(58093);const g={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function _(e){let{order:n,orderBy:i,rowCount:t=0,headLabel:o,numSelected:a=0,onSort:l,onSelectAllRows:c,sx:m}=e;const{t:_}=(0,d.WD)();return(0,u.jsx)(h.A,{sx:m,children:(0,u.jsxs)(r.A,{children:[c&&(0,u.jsx)(s.A,{padding:"checkbox",children:(0,u.jsx)(p.A,{indeterminate:!!a&&a<t,checked:!!t&&a===t,onChange:e=>c(e.target.checked)})}),o.map(((e,t)=>(0,u.jsx)(s.A,{align:e.align||"center",sortDirection:i===e.id&&n,sx:{width:e.width,minWidth:e.minWidth},children:l?(0,u.jsxs)(x.A,{hideSortIcon:!0,active:i===e.id,direction:i===e.id?n:"asc",onClick:()=>l(e.id),sx:{textTransform:"capitalize"},children:[_(e.label),i===e.id?(0,u.jsx)(v.A,{sx:{...g},children:"desc"===n?"sorted descending":"sorted ascending"}):null]}):_(e.label)},t)))]})})}var A=i(74600),b=i(94496);function j(e){let{dense:n,action:i,rowCount:t,numSelected:o,onSelectAllRows:a,sx:l,color:r,...s}=e;const{t:c}=(0,d.WD)();return o?(0,u.jsxs)(A.A,{direction:"row",alignItems:"center",sx:{pl:1,pr:2,top:0,left:0,width:1,zIndex:9,height:58,position:"absolute",bgcolor:`${r}.lighter`,...n&&{height:38},...l},...s,children:[(0,u.jsx)(p.A,{indeterminate:!!o&&o<t,checked:!!t&&o===t,onChange:e=>a(e.target.checked)}),(0,u.jsxs)(b.A,{variant:"subtitle2",sx:{ml:2,flexGrow:1,color:`${r}.main`,...n&&{ml:3}},children:[o," ",c("selected")]}),i&&i]}):null}var y=i(19042),f=i(72221),w=i(94814),C=i(79266),k=i(99784);function S(e){let{dense:n,count:i,page:t,onChangeDense:o,rowsPerPage:a,setPage:l,rowsPerPageOptions:r=[5,10,25,50],sx:s,...c}=e;const{t:m}=(0,d.WD)();return(0,u.jsxs)(v.A,{sx:{position:"relative",...s},children:[(0,u.jsx)(C.A,{showFirstButton:!0,showLastButton:!0,rowsPerPageOptions:r,component:"div",count:i,page:t,rowsPerPage:a,...c,sx:{borderTopColor:"transparent"}}),o&&(0,u.jsx)(k.A,{label:m("dense"),control:(0,u.jsx)(y.A,{checked:n,onChange:o}),sx:{pl:2,py:1.5,top:0,position:{sm:"absolute"}}}),l&&(0,u.jsx)(k.A,{label:m("page"),control:(0,u.jsx)(f.A,{value:t,onChange:e=>l(e.target.value),variant:"filled",sx:{height:0,width:68,mr:1,backgroundColor:"white",".MuiSelect-select":{paddingTop:1,paddingBottom:1,lineHeight:"40px"}},children:Array.from({length:Math.ceil(i/a)},((e,n)=>(0,u.jsx)(w.A,{value:n,children:n+1},n)))}),sx:{ml:18,my:2,top:5,position:{sm:"absolute"}}})]})}},79650:(e,n,i)=>{i.d(n,{A:()=>x});var t=i(58168),o=i(98587),a=i(65043),l=i(58387),r=i(98610),s=i(98206),d=i(34535),c=i(92532),u=i(72372);function m(e){return(0,u.Ay)("MuiTableContainer",e)}(0,c.A)("MuiTableContainer",["root"]);var v=i(70579);const p=["className","component"],h=(0,d.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,n)=>n.root})({width:"100%",overflowX:"auto"}),x=a.forwardRef((function(e,n){const i=(0,s.b)({props:e,name:"MuiTableContainer"}),{className:a,component:d="div"}=i,c=(0,o.A)(i,p),u=(0,t.A)({},i,{component:d}),x=(e=>{const{classes:n}=e;return(0,r.A)({root:["root"]},m,n)})(u);return(0,v.jsx)(h,(0,t.A)({ref:n,as:d,className:(0,l.A)(x.root,a),ownerState:u},c))}))},91720:(e,n,i)=>{i.d(n,{A:()=>u});var t=i(81e3),o=i(88446),a=i(74600),l=i(94496),r=i(22698),s=i(65381),d=i(70579);function c(e){let{link:n,activeLast:i,disabled:a}=e;const l={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...a&&!i&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},r=(0,d.jsxs)(d.Fragment,{children:[n.icon&&(0,d.jsx)(t.A,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:n.icon}),n.name]});return n.href?(0,d.jsx)(o.A,{component:s.W,href:n.href,sx:l,children:r}):(0,d.jsxs)(t.A,{sx:l,children:[" ",r," "]})}function u(e){let{links:n,action:i,heading:s,moreLink:u,activeLast:v,sx:p,...h}=e;const x=n&&n[n.length-1].name;return(0,d.jsxs)(t.A,{sx:{...p},children:[(0,d.jsxs)(a.A,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(t.A,{sx:{flexGrow:1,display:"flex",gap:{md:3},alignItems:{md:"center"},flexDirection:{xs:"column",md:"row"}},children:[s&&(0,d.jsx)(l.A,{textTransform:"capitalize",variant:"h4",gutterBottom:!0,children:s}),n&&!!n.length&&(0,d.jsx)(r.A,{separator:(0,d.jsx)(m,{}),...h,children:null===n||void 0===n?void 0:n.map(((e,n)=>(0,d.jsx)(c,{link:e,activeLast:v,disabled:e.name===x},n)))})]}),i&&(0,d.jsxs)(t.A,{sx:{flexShrink:0,textTransform:"capitalize"},children:[" ",i," "]})]}),!!u&&(0,d.jsx)(t.A,{sx:{mt:2},children:u.map(((e,n)=>(0,d.jsx)(o.A,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},n)))})]})}function m(){return(0,d.jsx)(t.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}}}]);
//# sourceMappingURL=66473.604551eb.chunk.js.map