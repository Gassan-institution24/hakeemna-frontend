(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[12261,69059],{12628:(e,i,n)=>{"use strict";n.r(i),n.d(i,{default:()=>F});var l=n(65043),t=n(40360),s=n(29013),o=n(77224),r=n(48407),a=n(60778),d=n(35151),c=n(83858),u=n(69059),h=n(86275),x=n(81e3),v=n(12110),m=n(74600),p=n(39336),g=n(77739),j=n(94496),b=n(17392),y=n(75139),f=n(44022);const A=n.p+"static/media/back4.16d0946a5895b8d5988d.png";var _=n(57442),w=n(70579);const{currentLang:S}=(0,a.jc)(),C="ar"===S.value;h.KQ.register({family:"Roboto",fonts:[{src:"/fonts/Roboto-Regular.ttf"},{src:"/fonts/Roboto-Bold.ttf"}]}),h.KQ.register({family:"IBMPlexSansArabic",fonts:[{src:"/fonts/IBMPlexSansArabic-Regular.ttf"},{src:"/fonts/IBMPlexSansArabic-Regular.ttf"}]});const k=()=>(0,l.useMemo)((()=>h.vv.create({alignCenter:{textAlign:"center"},mb4:{marginBottom:4},mb8:{marginBottom:7},mb40:{marginBottom:35},h1:{fontSize:30,fontWeight:800},h2:{fontSize:20,fontWeight:800,color:"red"},h3:{fontSize:12,fontWeight:800},subtitle1:{fontSize:10,fontWeight:700,flex:1,borderBottom:"1px dashed",textAlign:"center"},page:{fontSize:9,lineHeight:1.6,fontFamily:C?"IBMPlexSansArabic":"Roboto",backgroundColor:"#FFFFFF",textTransform:"capitalize",textAlign:C?"right":"",padding:"24px 40px 40px 24px",direction:C?"rtl":"ltr"},footer:{left:0,right:0,bottom:0,padding:24,margin:"auto",borderTopWidth:1,borderStyle:"solid",position:"absolute",borderColor:"#DFE3E8"},tableRow:{padding:"8px 0",flexDirection:C?"row-reverse":"row",borderBottomWidth:1,borderStyle:"solid",borderColor:"#DFE3E8"}})),[]);function E(e){var i,n;let{Instructions:l}=e;const{t:t}=(0,a.WD)(),s=k();return(0,w.jsx)(h.yo,{children:(0,w.jsxs)(h.YW,{size:"A4",orientation:"landscape",style:s.page,children:[(0,w.jsx)(h.EY,{style:[s.h1,s.mb8,s.alignCenter],children:t("Instructions")}),(0,w.jsxs)(h.Ss,{style:{alignItems:"flex-start",flexDirection:"column"},children:[(0,w.jsxs)(h.EY,{style:[s.h2],children:[null===l||void 0===l||null===(i=l.adjustable_documents)||void 0===i?void 0:i.title," "]}),(0,w.jsxs)(h.EY,{style:[s.h3],children:[null===l||void 0===l||null===(n=l.adjustable_documents)||void 0===n?void 0:n.topic," "]})]}),(0,w.jsx)(h.Ss,{style:[s.footer,s.mb40],children:(0,w.jsx)(h.EY,{style:[s.subtitle1,s.mb8,s.tableRow],children:(0,_.ak)(null===l||void 0===l?void 0:l.created_at)})})]})})}function R(){var e;const{user:i}=(0,y.Z)(),{data:n}=(0,f.U)(null===i||void 0===i||null===(e=i.patient)||void 0===e?void 0:e._id),{currentLang:l}=(0,a.jc)(),t="ar"===l.value;return null===n||void 0===n?void 0:n.map(((e,i)=>{var n,l,s,o,r,a,c;return(0,w.jsx)(x.A,{children:(0,w.jsxs)(v.A,{sx:{backgroundImage:`url(${A})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundColor:"rgba(255, 255, 255, 0.800)",backgroundBlendMode:"lighten",mb:3},children:[(0,w.jsxs)(m.A,{sx:{p:3,pb:2},direction:"row",justifyContent:"space-between",children:[(0,w.jsx)(m.A,{spacing:.5,direction:"row",alignItems:"center",sx:{typography:"caption"},children:t?null===e||void 0===e||null===(n=e.patient)||void 0===n?void 0:n.name_arabic:null===e||void 0===e||null===(l=e.patient)||void 0===l?void 0:l.name_english}),(0,w.jsx)(m.A,{spacing:.5,direction:"row",alignItems:"center",sx:{color:"primary.main",typography:"caption",mt:1},children:(0,w.jsxs)(m.A,{spacing:.5,direction:"row",alignItems:"center",sx:{color:"primary.main",typography:"caption",mt:1},children:[(0,w.jsx)(d.A,{width:16,icon:"emojione-v1:note-page"}),null===e||void 0===e||null===(s=e.adjustable_documents)||void 0===s?void 0:s.title]})}),(0,w.jsx)(h.XP,{document:(0,w.jsx)(E,{Instructions:e}),fileName:"Instructions",style:{textDecoration:"none"},children:(0,w.jsx)(g.A,{title:"Download",children:(0,w.jsx)(b.A,{sx:{color:"info.main"},children:(0,w.jsx)(d.A,{icon:"akar-icons:cloud-download"})})})})]}),(0,w.jsx)(p.A,{sx:{borderStyle:"dashed"}}),(0,w.jsx)(x.A,{rowGap:2,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",sx:{p:3,justifyContent:"space-between"},children:[{label:null===e||void 0===e||null===(o=e.adjustable_documents)||void 0===o?void 0:o.applied,icon:(0,w.jsx)(d.A,{width:16,icon:"icon-park-solid:time",sx:{flexShrink:0}})},{label:null===e||void 0===e||null===(r=e.adjustable_documents)||void 0===r||null===(a=r.employee)||void 0===a?void 0:a.name_english,icon:(0,w.jsx)(d.A,{width:17,icon:"raphael:employee",sx:{flexShrink:0}})},{label:null===e||void 0===e||null===(c=e.adjustable_documents)||void 0===c?void 0:c.topic,icon:(0,w.jsx)(d.A,{width:18,icon:"ic:round-topic",sx:{flexShrink:0}})}].map(((e,i)=>(0,w.jsxs)(m.A,{spacing:.5,flexShrink:0,direction:"row",alignItems:"center",sx:{color:"text.disabled",minWidth:0},children:[null===e||void 0===e?void 0:e.icon,(0,w.jsx)(j.A,{variant:"caption",noWrap:!0,children:null===e||void 0===e?void 0:e.label})]},i)))})]},i)},i)}))}var Y=n(17815),D=n(31383);function T(){const{t:e}=(0,a.WD)();return(0,w.jsx)(Y.m.div,{variants:(0,D.Sk)().inRight,children:(0,w.jsxs)(j.A,{variant:"h5",children:[" ",e("my mental health")," - ",e("Coming Soon!")," "]})})}function F(){const{t:e}=(0,a.WD)(),{currentLang:i}=(0,a.jc)(),n="ar"===i.value,[h,x]=(0,l.useState)("bmi"),v=(0,l.useCallback)(((e,i)=>{x(i)}),[]),m=[{value:"bmi",label:""+(n?"\u0645\u0624\u0634\u0631 \u0643\u062a\u0644\u0629 \u0627\u0644\u062c\u0633\u0645":"BMI"),icon:(0,w.jsx)(d.A,{icon:"fluent:calculator-24-filled",width:24})},{value:"instructions",label:""+(n?"\u0627\u0631\u0634\u0627\u062f\u0627\u062a":"instructions"),icon:(0,w.jsx)(d.A,{icon:"fontisto:prescription",width:23})},{value:"mymentalhealth",label:""+(n?"\u0635\u062d\u062a\u064a \u0627\u0644\u0646\u0641\u0633\u064a\u0629":"my mental health"),icon:(0,w.jsx)(d.A,{icon:"ri:mental-health-fill",width:24})}];return(0,w.jsxs)(o.A,{children:[(0,w.jsx)(c.A,{heading:e("my health"),links:[{name:e("dashboard"),href:r.f.dashboard.root},{name:e("user"),href:r.f.dashboard.user.root},{name:e("my health")}],sx:{mb:{xs:3,md:5}}}),(0,w.jsx)(s.A,{value:h,onChange:v,sx:{mb:{xs:3,md:5}},children:m.map(((e,i)=>(0,w.jsx)(t.A,{label:e.label,icon:e.icon,value:e.value},i)))}),"bmi"===h&&(0,w.jsx)(u.default,{}),"mymentalhealth"===h&&(0,w.jsx)(T,{}),"instructions"===h&&(0,w.jsx)(R,{})]})}},33546:(e,i,n)=>{"use strict";n.d(i,{A:()=>a});var l=n(81e3),t=n(74600),s=n(90310),o=n(94496),r=n(70579);function a(e){let{title:i,imgUrl:n,action:a,filled:d,description:c,sx:u,...h}=e;return(0,r.jsxs)(t.A,{flexGrow:1,alignItems:"center",justifyContent:"center",sx:{px:3,height:1,...d&&{borderRadius:2,bgcolor:e=>(0,s.X4)(e.palette.grey[500],.04),border:e=>`dashed 1px ${(0,s.X4)(e.palette.grey[500],.08)}`},...u},...h,children:[(0,r.jsx)(l.A,{component:"img",alt:"empty content",src:n||"/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),i&&(0,r.jsx)(o.A,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:i}),c&&(0,r.jsx)(o.A,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:c}),a&&a]})}},37694:(e,i,n)=>{"use strict";n.d(i,{A:()=>E});var l=n(77224),t=n(48407),s=n(60778),o=n(83858),r=n(46987),a=n(65043),d=n(71806),c=n(68640),u=n(68738),h=n(84882),x=n(39652),v=n(79650),m=n(12110),p=n(79958),g=n(73460),j=n(17392),b=n(67132),y=n(31673),f=n(57442),A=n(75139),_=n(41211),w=n(35151),S=n(51440),C=n(70579);function k(){var e,i,n;const{t:l}=(0,s.WD)(),{user:o}=(0,A.Z)(),k=(0,b.rd)(),{enqueueSnackbar:E}=(0,r.dh)(),{currentLang:R}=(0,s.jc)(),Y="ar"===R.value,[D,T]=(0,a.useState)([]),[F,W]=(0,a.useState)(0),[I,P]=(0,a.useState)(!0),{historyDataForPatient:z,refetch:B}=(0,_.Tk)(null===o||void 0===o||null===(e=o.patient)||void 0===e?void 0:e._id);(0,a.useEffect)((()=>{if((null===z||void 0===z?void 0:z.length)>0){const e=z.slice(0,10);T(e),W(10),z.length<=10&&P(!1)}}),[z]);return(0,C.jsx)(c.A,{sx:{backgroundImage:"linear-gradient(to bottom, #2788EF, white)",p:2},children:(0,C.jsxs)(m.A,{sx:{borderRadius:0},children:[Y?(0,C.jsx)(p.A,{sx:{mb:4},title:`\u0633\u062c\u0644 ${null===o||void 0===o||null===(i=o.patient)||void 0===i?void 0:i.name_arabic}`}):(0,C.jsx)(p.A,{sx:{mb:4},title:`${null===o||void 0===o||null===(n=o.patient)||void 0===n?void 0:n.name_english} ${l("History")}`}),(0,C.jsx)(v.A,{onScroll:e=>{const{scrollHeight:i,scrollTop:n,clientHeight:l}=e.target;i-n===l&&I&&(()=>{const e=z.slice(F,F+5);T((i=>[...i,...e])),W((i=>i+e.length)),F+5>=z.length&&P(!1)})()},sx:{mt:3,mb:2,maxHeight:500},children:(0,C.jsx)(S.A,{children:(0,C.jsxs)(d.A,{sx:{minWidth:400},children:[(0,C.jsx)(h.A,{children:(0,C.jsxs)(u.A,{children:[(0,C.jsx)(x.A,{children:l("Date")}),(0,C.jsx)(x.A,{children:l("Subject")}),(0,C.jsx)(x.A,{children:l("Info")}),(0,C.jsx)(x.A,{children:Y?(0,C.jsx)(w.A,{sx:{color:"#2788EF"},icon:"icon-park-outline:left"}):(0,C.jsx)(w.A,{sx:{color:"#2788EF"},icon:"mingcute:right-fill"})}),(0,C.jsx)(x.A,{align:"center",children:l("Actions")})]})}),(0,C.jsx)(g.A,{children:D.map(((e,i)=>(0,C.jsxs)(u.A,{children:[(0,C.jsx)(x.A,{children:(0,f.zx)(null===e||void 0===e?void 0:e.created_at)}),(0,C.jsx)(x.A,{children:Y?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english}),(0,C.jsx)(x.A,{children:Y?null===e||void 0===e?void 0:e.sub_arabic:null===e||void 0===e?void 0:e.sub_english}),(0,C.jsx)(x.A,{children:Y?(0,C.jsx)(w.A,{sx:{color:"#2788EF"},icon:"icon-park-outline:left"}):(0,C.jsx)(w.A,{sx:{color:"#2788EF"},icon:"mingcute:right-fill"})}),(0,C.jsxs)(x.A,{align:"center",children:[(0,C.jsx)(j.A,{onClick:()=>(async e=>{k.push(t.f.dashboard.user.historyinfo(e))})(null===e||void 0===e?void 0:e._id),children:(0,C.jsx)(w.A,{sx:{cursor:"pointer",color:"#2788EF"},icon:"carbon:view"})}),(0,C.jsx)(j.A,{onClick:()=>(async e=>{try{await y.Ay.patch(`/api/history/${e}`),B(),E("Deleted successfully",{variant:"success"})}catch(i){console.error(i.message),E(Y&&`${i.arabic_message}`||`${i.message}`,{variant:"error"})}})(null===e||void 0===e?void 0:e._id),children:(0,C.jsx)(w.A,{sx:{cursor:"pointer",color:"error.main"},icon:"solar:trash-bin-trash-bold"})})]})]},i)))})]})})})]})})}function E(){const{t:e}=(0,s.WD)();return(0,C.jsxs)(l.A,{maxWidth:"xl",children:[(0,C.jsx)(o.A,{heading:e("history"),links:[{name:e("dashboard"),href:t.f.dashboard.root},{name:e("user"),href:t.f.dashboard.user.root},{name:e("history")}],sx:{mb:{xs:3,md:5}}}),(0,C.jsx)(k,{})]})}},44022:(e,i,n)=>{"use strict";n.d(i,{U:()=>a,Z:()=>r});var l=n(65043),t=n(40799),s=n(39556),o=n(31673);function r(e){const i=[o.vZ.Instructions.all,{params:e}],{data:n,isLoading:r,error:a,isValidating:d}=(0,t.Ay)(i,o.GO);return{...(0,l.useMemo)((()=>({data:n,loading:r,error:a,validating:d,empty:!r&&!(null!==n&&void 0!==n&&n.length)})),[n,a,r,d]),refetch:async()=>{await(0,s.j)(i)}}}function a(e){const i=o.vZ.Instructions.patient(e),{data:n,isLoading:r,error:a,isValidating:d}=(0,t.Ay)(i,o.GO);return{...(0,l.useMemo)((()=>({data:n,loading:r,error:a,validating:d,empty:!r&&!(null!==n&&void 0!==n&&n.length)})),[n,a,r,d]),refetch:async()=>{await(0,s.j)(i)}}}},44847:(e,i,n)=>{"use strict";n.d(i,{A:()=>l.A});var l=n(33546)},50233:(e,i,n)=>{"use strict";n.d(i,{A:()=>F});var l=n(65043),t=n(81e3),s=n(94496),o=n(67784),r=n(49633),a=n(48407),d=n(67132),c=n(75139),u=n(60778),h=n(7625),x=n(51807),v=n(80899),m=n(24858),p=n(18403),g=n(14256),j=n(83462),b=n(37684),y=n(43360),f=n(17642),A=n(53193),_=n(4219),w=n(29347),S=n(35316),C=n(59229),k=n(31673),E=n(54583),R=n(94857),Y=n(87410),D=n(70579);function T(){var e,i,n,o,a,d;const{enqueueSnackbar:x}=(0,R.dh)(),{t:T}=(0,u.WD)(),{currentLang:F}=(0,u.jc)(),W="ar"===F.value,I=v.Ik().shape({Rate:v.ai(),Body:v.Yj(),Selection:v.Yj().nullable()}),[P,z]=(0,l.useState)(),[B,M]=(0,l.useState)(),[$,L]=(0,l.useState)(null),{user:q}=(0,c.Z)(),{feedbackData:N,refetch:O}=(0,h.nq0)(null===q||void 0===q||null===(e=q.patient)||void 0===e?void 0:e._id),Z={Body:"",Selection:$,Rate:P},U=(0,m.mN)({mode:"all",resolver:(0,p.t)(I),defaultValues:Z}),{handleSubmit:K,formState:{isSubmitting:V}}=U,H=(0,C.C)(!0),G=["Negligence in treatment","Staff behavior","Cleanliness","Price","None of the above"];return(0,D.jsx)(j.A,{open:H.value,onClose:H.onTrue,PaperProps:{sx:{width:"500px",maxWidth:"500px"}},children:(0,D.jsxs)(Y.A,{methods:U,onSubmit:K((async e=>{try{await k.Ay.patch(`api/feedback/${null===N||void 0===N?void 0:N._id}`,{Selection:$,Rate:P,Body:B}),H.onFalse(),x(T("Thanks for your cooperation"),{variant:"success"}),O()}catch(i){console.error(i.message),x(W&&`${i.arabic_message}`||`${i.message}`,{variant:"error"})}})),children:[(0,D.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",margin:"20px",gap:"10px"},children:[(0,D.jsx)(_.A,{children:T("Rate your appointment")}),(0,D.jsxs)(S.A,{children:[T("How was your experience with ")," ",W?`${null===N||void 0===N||null===(i=N.unit_service)||void 0===i?void 0:i.name_arabic}`:`${null===N||void 0===N||null===(n=N.unit_service)||void 0===n?void 0:n.name_english}`,(0,D.jsx)("br",{}),(0,D.jsx)("span",{style:{textAlign:"center"},children:W?`${null===N||void 0===N||null===(o=N.employee)||void 0===o?void 0:o.name_arabic}`:`${null===N||void 0===N||null===(a=N.employee)||void 0===a?void 0:a.name_english}`})]}),(0,D.jsx)(E.A,{src:null===N||void 0===N||null===(d=N.unit_service)||void 0===d?void 0:d.company_logo,sx:{width:"60px",height:"60px",border:1,borderRadius:"50px"}}),(0,D.jsx)(b.A,{size:"large",precision:1,max:5,name:"Rate",value:P,onChange:e=>{z(parseFloat(e.target.value))}})]}),P<4?(0,D.jsx)(S.A,{children:(0,D.jsxs)(t.A,{component:"form",noValidate:!0,children:[(0,D.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr"},children:null===G||void 0===G?void 0:G.map(((e,i)=>(0,D.jsx)("div",{children:(0,D.jsxs)(t.A,{sx:{fontSize:{md:"15px",xs:"9px"},fontWeight:{md:"400",xs:"bolder"}},children:[(0,D.jsx)(g.A,{checked:$===e,onChange:()=>{return i=e,void L((e=>e===i?null:i));var i},name:"Selection"}),T(e)]})},i)))}),(0,D.jsxs)(A.A,{sx:{my:5,minWidth:"100%"},children:[(0,D.jsx)(f.A,{htmlFor:"max-width",children:T("Other")}),(0,D.jsx)(y.A,{id:"max-width",name:"Body",onChange:e=>M(e.target.value)})]})]})}):(0,D.jsxs)(S.A,{children:[(0,D.jsx)(s.A,{sx:{ml:2,mb:1,fontSize:15},children:T("We hope that everything was to your satisfaction")}),(0,D.jsx)(t.A,{component:"form",noValidate:!0,children:(0,D.jsxs)(A.A,{sx:{my:3,minWidth:"100%"},children:[(0,D.jsx)(f.A,{htmlFor:"max-width",children:T("Leave a comment")}),(0,D.jsx)(y.A,{id:"max-width",name:"Body",onChange:e=>M(e.target.value)})]})})]}),(0,D.jsxs)(w.A,{children:[(0,D.jsx)(r.A,{onClick:async()=>{try{await k.Ay.patch(`api/feedback/${null===N||void 0===N?void 0:N._id}`,{skip:!0}),H.onFalse()}catch(e){console.error(e.message)}},loading:V,variant:"outlined",color:"inherit",type:"submit",children:T("Skip")}),(0,D.jsx)(r.A,{type:"submit",variant:"contained",children:T("Submit")})]})]})})}function F(){var e;const i=(0,d.rd)(),{t:n}=(0,u.WD)(),{currentLang:v}=(0,u.jc)(),m="ar"===v.value,{specialtiesData:p}=(0,h.srd)(),{user:g}=(0,c.Z)(),[j,b]=(0,l.useState)(),y=function(e){var i;let{inputData:n,filterforspecialties:l}=e;if(!l)return n;const t=W(l.toLowerCase());return n=null===(i=n)||void 0===i?void 0:i.filter((e=>{const i=W(null===e||void 0===e?void 0:e.name_english.toLowerCase()),n=W(null===e||void 0===e?void 0:e.name_arabic.toLowerCase());return i.includes(t)||n.includes(t)||(null===e||void 0===e?void 0:e._id)===l||JSON.stringify(e.code)===l})),n}({inputData:p,filterforspecialties:j}),{feedbackData:f}=(0,h.nq0)(null===g||void 0===g||null===(e=g.patient)||void 0===e?void 0:e._id);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(s.A,{variant:"h3",mb:10,sx:{ml:{xs:0,sm:6,md:14},width:{xs:400,sm:700,md:700}},children:n("What medical specialty are you looking for?")}),(0,D.jsx)(o.A,{onChange:e=>b(e.target.value),sx:{mb:5,ml:{md:14,xs:11.5},width:{md:"20%",xs:"50%"},border:.7,borderRadius:1},placeholder:"Search..."}),f?(0,D.jsx)(T,{}):"",(0,D.jsx)(t.A,{gap:{xs:0,sm:3,md:3},display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 3fr)",md:"repeat(2, 1fr)",lg:"repeat(2, 1fr)",xl:"repeat(3, 1fr)"},sx:{ml:{xs:6.5,sm:7,md:2,lg:6,xl:8}},children:y.map(((e,n)=>(0,D.jsxs)(r.A,{sx:{display:"block",bgcolor:"inherit",color:"black",width:"40vh",mb:{xs:2,sm:0,md:0}},variant:"outlined",onClick:()=>{return n=null===e||void 0===e?void 0:e._id,void i.push(a.f.dashboard.user.bookappointment(n));var n},children:[(0,D.jsx)(x.A,{src:null===e||void 0===e?void 0:e.speciality_image,sx:{width:70,height:70,mb:2}}),(0,D.jsx)(s.A,{sx:{fontWeight:600},children:m?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english})]},n)))})]})}function W(e){return e.replace(/\u0623/g,"\u0627")}},50477:()=>{},62100:(e,i,n)=>{"use strict";n.r(i),n.d(i,{default:()=>p});var l=n(12110),t=n(96992),s=n(12604),o=n(94496),r=n(49633),a=n(48407),d=n(67132),c=n(57442),u=n(7625),h=n(60778),x=n(54583),v=n(98250),m=n(70579);function p(){var e,i,n;const p=(0,d.rd)(),{t:g}=(0,h.WD)(),{currentLang:j}=(0,h.jc)(),b="ar"===j.value,y=(0,d.g)(),{id:f}=y,{oldmedicalreports:A}=(0,u.$oL)(f);return(0,m.jsxs)(t.A,{component:l.A,spacing:3,sx:{p:3,display:"grid",gridTemplateColumns:{md:"1fr 1fr",xs:"1fr"}},children:[(0,m.jsxs)(s.A,{children:[(0,m.jsxs)(o.A,{sx:{fontWeight:600,p:2},children:[g("File Name"),":\xa0 \xa0",(0,m.jsx)("span",{style:{color:"gray",fontWeight:400},children:null===A||void 0===A?void 0:A.name})," "]}),(0,m.jsxs)(o.A,{sx:{fontWeight:600,p:2},children:[g("Specialty"),": \xa0 \xa0",(0,m.jsx)("span",{style:{color:"gray",fontWeight:400},children:b?null===A||void 0===A||null===(e=A.specialty)||void 0===e?void 0:e.name_arabic:null===A||void 0===A||null===(i=A.specialty)||void 0===i?void 0:i.name_english})]}),(0,m.jsxs)(o.A,{sx:{fontWeight:600,p:2},children:[g("Date"),":\xa0 \xa0",(0,m.jsx)("span",{style:{color:"gray",fontWeight:400},children:(0,c.tN)(null===A||void 0===A?void 0:A.date)})]}),(null===A||void 0===A?void 0:A.note)&&(0,m.jsxs)(o.A,{sx:{fontWeight:600,p:2},children:[g("Note"),":\xa0 \xa0",(0,m.jsx)("span",{style:{color:"gray",fontWeight:400},children:null===A||void 0===A?void 0:A.note})]}),(0,m.jsxs)(r.A,{onClick:()=>{p.push(a.f.dashboard.user.medicalreports)},variant:"outlined",sx:{mt:2},children:[(0,m.jsx)(v.A,{icon:"icon-park:back"}),"\xa0 ",g("Back")]})]}),(0,m.jsx)(s.A,{sx:{display:"grid",gridTemplateColumns:{md:"1fr 1fr",xs:"1fr"}},children:null===A||void 0===A||null===(n=A.file)||void 0===n?void 0:n.map((e=>(0,m.jsx)(x.A,{src:e,sx:{m:1}})))})]})}},69059:(e,i,n)=>{"use strict";n.r(i),n.d(i,{default:()=>h});var l=n(17815),t=n(65043),s=n(49633),o=n(74600),r=n(67784),a=n(94496),d=n(60778),c=n(31383),u=n(70579);function h(){const[e,i]=(0,t.useState)(null),[n,h]=(0,t.useState)(null),[x,v]=(0,t.useState)(null),{t:m}=(0,d.WD)(),p=(0,t.useCallback)((e=>{i(e.target.value)}),[]),g=(0,t.useCallback)((e=>{h(e.target.value)}),[]),j=(0,t.useCallback)((()=>{v(n/(e/100)**2)}),[e,n]);return(0,u.jsxs)(o.A,{component:c.bz,spacing:3,sx:{bgcolor:"background.paper",boxShadow:7,borderRadius:2,p:5,width:{xs:340,md:400}},children:[(0,u.jsx)(l.m.div,{variants:(0,c.Sk)().inUp,children:(0,u.jsxs)(a.A,{variant:"h5",children:[" ",m("Calculate Your BMI")," "]})}),(0,u.jsxs)(o.A,{spacing:3,children:[(0,u.jsx)(l.m.div,{variants:(0,c.Sk)().inUp,children:(0,u.jsx)(r.A,{fullWidth:!0,label:(0,u.jsxs)("span",{children:[m("Height"),(0,u.jsx)("span",{style:{color:"green",fontWeight:600},children:"/"})," ",m("cm")]}),type:"Number",value:e,onChange:p})}),(0,u.jsx)(l.m.div,{variants:(0,c.Sk)().inUp,children:(0,u.jsx)(r.A,{fullWidth:!0,label:(0,u.jsxs)("span",{children:[m("Weight"),(0,u.jsx)("span",{style:{color:"green",fontWeight:600},children:"/"})," ",m("kg")]}),type:"Number",value:n,onChange:g})})]}),(0,u.jsx)(l.m.div,{variants:(0,c.Sk)().inUp,children:(0,u.jsx)(s.A,{size:"large",type:"submit",variant:"contained",onClick:j,children:m("Calculate")})}),null!==x&&(0,u.jsxs)(l.m.div,{children:[x.toFixed(2)>=18.5&&x.toFixed(2)<24.9&&(0,u.jsxs)(a.A,{variant:"body1",style:{color:"green"},children:[x.toFixed(2)," ",m("Normal weight")]}),x.toFixed(2)>=24.9&&x.toFixed(2)<29.9&&(0,u.jsxs)(a.A,{variant:"body1",style:{color:"orange"},children:[x.toFixed(2)," ",m("Overweight")]}),x.toFixed(2)>=29.9&&(0,u.jsxs)(a.A,{variant:"body1",style:{color:"red"},children:[x.toFixed(2)," ",m("Obese")]}),x.toFixed(2)<18.5&&(0,u.jsxs)(a.A,{variant:"body1",style:{color:"red"},children:[x.toFixed(2)," ",m("Underweight")]})]})]})}},70111:(e,i,n)=>{"use strict";n.d(i,{A:()=>h});var l=n(65043),t=n(86275),s=n(57442),o=n(94289),r=n(60778),a=n(70579);const{currentLang:d}=(0,r.jc)(),c="ar"===d.value;t.KQ.register({family:"Roboto",fonts:[{src:"/fonts/Roboto-Regular.ttf"},{src:"/fonts/Roboto-Bold.ttf"}]}),t.KQ.register({family:"IBMPlexSansArabic",fonts:[{src:"/fonts/IBMPlexSansArabic-Regular.ttf"},{src:"/fonts/IBMPlexSansArabic-Regular.ttf"}]});const u=()=>(0,l.useMemo)((()=>t.vv.create({col4:{width:"25%"},col8:{width:"75%"},col6:{width:"50%"},mb4:{marginBottom:4},mb8:{marginBottom:8},mb40:{marginBottom:40},h3:{fontSize:16,fontWeight:700},h4:{fontSize:13,fontWeight:700},body1:{fontSize:10},body2:{fontSize:9},subtitle1:{fontSize:10,fontWeight:700},subtitle2:{fontSize:9,fontWeight:700},alignRight:{textAlign:c?"left":"right"},page:{fontSize:9,lineHeight:1.6,fontFamily:c?"IBMPlexSansArabic":"Roboto",backgroundColor:"#FFFFFF",textTransform:"capitalize",textAlign:c?"right":"",padding:"40px 24px 120px 24px",direction:c?"rtl":"ltr"},footer:{left:0,right:0,bottom:0,padding:24,margin:"auto",borderTopWidth:1,borderStyle:"solid",position:"absolute",borderColor:"#DFE3E8"},gridContainer:{justifyContent:"space-between",flexDirection:c?"row-reverse":"row"},table:{display:"flex",width:"auto"},tableRow:{padding:"8px 0",flexDirection:c?"row-reverse":"row",borderBottomWidth:1,borderStyle:"solid",borderColor:"#DFE3E8"},noBorder:{paddingTop:8,paddingBottom:0,borderBottomWidth:0},tableCell_1:{width:"5%"},tableCell_2:{width:"50%",paddingRight:16},tableCell_3:{width:"15%"}})),[]);function h(e){let{invoice:i,currentStatus:n}=e;const{Provided_services:l,provided_products:d,Total_tax_Amount:h,dueDate:x,Total_discount_amount:v,Total_deduction_amount:m,stakeholder:p,patient:g,created_at:j,Total_Amount:b,unit_service:y,sequence_number:f,Subtotal_Amount:A}=i,{t:_}=(0,r.WD)(),w=u();return(0,a.jsx)(t.yo,{children:(0,a.jsxs)(t.YW,{size:"A4",style:w.page,children:[(0,a.jsxs)(t.Ss,{style:[w.gridContainer,w.mb40],children:[(0,a.jsx)(t._V,{source:null!==p&&void 0!==p&&p.company_logo?null===p||void 0===p?void 0:p.company_logo:"/logo/doc.svg",style:{width:48,height:48}}),(0,a.jsxs)(t.Ss,{style:{alignItems:"flex-end",flexDirection:"column"},children:[(0,a.jsx)(t.EY,{style:w.h3,children:_(n)}),(0,a.jsxs)(t.EY,{children:[" ",f," "]})]})]}),(0,a.jsxs)(t.Ss,{style:[w.gridContainer,w.mb40],children:[(0,a.jsxs)(t.Ss,{style:w.col6,children:[(0,a.jsx)(t.EY,{style:[w.subtitle2,w.mb4],children:_("from")}),(0,a.jsx)(t.EY,{style:w.body2,children:c?p.name_arabic:p.name_english}),(0,a.jsx)(t.EY,{style:w.body2,children:p.address}),(0,a.jsx)(t.EY,{style:w.body2,children:p.phone})]}),y&&(0,a.jsxs)(t.Ss,{style:w.col6,children:[(0,a.jsx)(t.EY,{style:[w.subtitle2,w.mb4],children:_("to")}),(0,a.jsx)(t.EY,{style:w.body2,children:c?y.name_arabic:y.name_english}),(0,a.jsx)(t.EY,{style:w.body2,children:y.address}),(0,a.jsx)(t.EY,{style:w.body2,children:y.phone})]}),g&&(0,a.jsxs)(t.Ss,{style:w.col6,children:[(0,a.jsx)(t.EY,{style:[w.subtitle2,w.mb4],children:_("to")}),(0,a.jsx)(t.EY,{style:w.body2,children:c?g.name_arabic:g.name_english}),(0,a.jsx)(t.EY,{style:w.body2,children:g.address}),(0,a.jsx)(t.EY,{style:w.body2,children:g.mobile_num1})]})]}),(0,a.jsxs)(t.Ss,{style:[w.gridContainer,w.mb40],children:[(0,a.jsxs)(t.Ss,{style:w.col6,children:[(0,a.jsx)(t.EY,{style:[w.subtitle2,w.mb4],children:_("date")}),(0,a.jsx)(t.EY,{style:w.body2,children:(0,s.ts)(j)})]}),x&&(0,a.jsxs)(t.Ss,{style:w.col6,children:[(0,a.jsx)(t.EY,{style:[w.subtitle2,w.mb4],children:_("due date")}),(0,a.jsx)(t.EY,{style:w.body2,children:(0,s.ts)(x)})]})]}),(0,a.jsx)(t.EY,{style:[w.subtitle1,w.mb8],children:_("details")}),(0,a.jsxs)(t.Ss,{style:w.table,children:[(0,a.jsx)(t.Ss,{children:(0,a.jsxs)(t.Ss,{style:w.tableRow,children:[(0,a.jsx)(t.Ss,{style:w.tableCell_1,children:(0,a.jsx)(t.EY,{style:w.subtitle2,children:"#"})}),(0,a.jsx)(t.Ss,{style:w.tableCell_2,children:(0,a.jsx)(t.EY,{style:w.subtitle2,children:_("items")})}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{style:w.subtitle2,children:_("quantity")})}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{style:w.subtitle2,children:_("price per unit")})}),(0,a.jsx)(t.Ss,{style:[w.tableCell_3,w.alignRight],children:(0,a.jsx)(t.EY,{style:w.subtitle2,children:_("total")})})]})}),(0,a.jsxs)(t.Ss,{children:[null===l||void 0===l?void 0:l.map(((e,i)=>{var n,l;return(0,a.jsxs)(t.Ss,{style:w.tableRow,children:[(0,a.jsx)(t.Ss,{style:w.tableCell_1,children:(0,a.jsx)(t.EY,{children:i+1})}),(0,a.jsxs)(t.Ss,{style:w.tableCell_2,children:[(0,a.jsx)(t.EY,{style:w.subtitle2,children:e.title}),(0,a.jsx)(t.EY,{children:c?null===(n=e.service_type)||void 0===n?void 0:n.name_arabic:null===(l=e.service_type)||void 0===l?void 0:l.name_english})]}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{children:e.quantity})}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{children:e.price_per_unit})}),(0,a.jsx)(t.Ss,{style:[w.tableCell_3,w.alignRight],children:(0,a.jsx)(t.EY,{children:(0,o.KZ)(e.income_amount)})})]},e.id)})),null===d||void 0===d?void 0:d.map(((e,i)=>{var n,l;return(0,a.jsxs)(t.Ss,{style:w.tableRow,children:[(0,a.jsx)(t.Ss,{style:w.tableCell_1,children:(0,a.jsx)(t.EY,{children:i+1})}),(0,a.jsxs)(t.Ss,{style:w.tableCell_2,children:[(0,a.jsx)(t.EY,{style:w.subtitle2,children:e.title}),(0,a.jsx)(t.EY,{children:c?null===(n=e.product)||void 0===n?void 0:n.name_arabic:null===(l=e.product)||void 0===l?void 0:l.name_english})]}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{children:e.quantity})}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{children:e.price_per_unit})}),(0,a.jsx)(t.Ss,{style:[w.tableCell_3,w.alignRight],children:(0,a.jsx)(t.EY,{children:(0,o.KZ)(e.income_amount)})})]},e.id)})),(0,a.jsxs)(t.Ss,{style:[w.tableRow,w.noBorder],children:[(0,a.jsx)(t.Ss,{style:w.tableCell_1}),(0,a.jsx)(t.Ss,{style:w.tableCell_2}),(0,a.jsx)(t.Ss,{style:w.tableCell_3}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{children:_("subtotal")})}),(0,a.jsx)(t.Ss,{style:[w.tableCell_3,w.alignRight],children:(0,a.jsx)(t.EY,{children:(0,o.KZ)(A)})})]}),(0,a.jsxs)(t.Ss,{style:[w.tableRow,w.noBorder],children:[(0,a.jsx)(t.Ss,{style:w.tableCell_1}),(0,a.jsx)(t.Ss,{style:w.tableCell_2}),(0,a.jsx)(t.Ss,{style:w.tableCell_3}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{children:_("discount")})}),(0,a.jsx)(t.Ss,{style:[w.tableCell_3,w.alignRight],children:(0,a.jsx)(t.EY,{children:(0,o.KZ)(-v)})})]}),(0,a.jsxs)(t.Ss,{style:[w.tableRow,w.noBorder],children:[(0,a.jsx)(t.Ss,{style:w.tableCell_1}),(0,a.jsx)(t.Ss,{style:w.tableCell_2}),(0,a.jsx)(t.Ss,{style:w.tableCell_3}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{children:_("deductions")})}),(0,a.jsx)(t.Ss,{style:[w.tableCell_3,w.alignRight],children:(0,a.jsx)(t.EY,{children:(0,o.KZ)(m)})})]}),(0,a.jsxs)(t.Ss,{style:[w.tableRow,w.noBorder],children:[(0,a.jsx)(t.Ss,{style:w.tableCell_1}),(0,a.jsx)(t.Ss,{style:w.tableCell_2}),(0,a.jsx)(t.Ss,{style:w.tableCell_3}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{children:_("taxes")})}),(0,a.jsx)(t.Ss,{style:[w.tableCell_3,w.alignRight],children:(0,a.jsx)(t.EY,{children:(0,o.KZ)(h)})})]}),(0,a.jsxs)(t.Ss,{style:[w.tableRow,w.noBorder],children:[(0,a.jsx)(t.Ss,{style:w.tableCell_1}),(0,a.jsx)(t.Ss,{style:w.tableCell_2}),(0,a.jsx)(t.Ss,{style:w.tableCell_3}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{style:w.h4,children:_("total")})}),(0,a.jsx)(t.Ss,{style:[w.tableCell_3,w.alignRight],children:(0,a.jsx)(t.EY,{style:w.h4,children:(0,o.KZ)(b)})})]})]})]})]})})}},75950:(e,i,n)=>{"use strict";function l(e,i,n){return null===e[n]?1:null===i[n]||i[n]<e[n]?-1:i[n]>e[n]?1:0}function t(e,i){return"desc"===e?(e,n)=>l(e,n,i):(e,n)=>-l(e,n,i)}n.d(i,{er:()=>j,Sm:()=>h,We:()=>k,Uv:()=>f,hz:()=>t,K2:()=>o});var s=n(65043);function o(e){const[i,n]=(0,s.useState)(!(null===e||void 0===e||!e.defaultDense)),[l,t]=(0,s.useState)((null===e||void 0===e?void 0:e.defaultCurrentPage)||0),[o,r]=(0,s.useState)((null===e||void 0===e?void 0:e.defaultOrderBy)||"created_at"),[a,d]=(0,s.useState)((null===e||void 0===e?void 0:e.defaultRowsPerPage)||10),[c,u]=(0,s.useState)((null===e||void 0===e?void 0:e.defaultOrder)||"desc"),[h,x]=(0,s.useState)((null===e||void 0===e?void 0:e.defaultSelected)||[]),v=(0,s.useCallback)((e=>{""!==e&&(u(o===e&&"asc"===c?"desc":"asc"),r(e))}),[c,o]),m=(0,s.useCallback)((e=>{const i=h.includes(e)?h.filter((i=>i!==e)):[...h,e];x(i)}),[h]),p=(0,s.useCallback)((e=>{t(0),d(parseInt(e.target.value,10))}),[]),g=(0,s.useCallback)((e=>{n(e.target.checked)}),[]),j=(0,s.useCallback)(((e,i)=>{x(e?i:[])}),[]),b=(0,s.useCallback)(((e,i)=>{t(i)}),[]),y=(0,s.useCallback)((()=>{t(0)}),[]),f=(0,s.useCallback)((e=>{x([]),l&&e<2&&t(l-1)}),[l]),A=(0,s.useCallback)((e=>{let{totalRows:i,totalRowsInPage:n,totalRowsFiltered:s}=e;const o=h.length;if(x([]),l)if(o===n)t(l-1);else if(o===s)t(0);else if(o>n){const e=Math.ceil((i-o)/a)-1;t(e)}}),[l,a,h.length]);return{dense:i,order:c,page:l,orderBy:o,rowsPerPage:a,selected:h,onSelectRow:m,onSelectAllRows:j,onSort:v,onChangePage:b,onChangeDense:g,onResetPage:y,onChangeRowsPerPage:p,onUpdatePageDeleteRow:f,onUpdatePageDeleteRows:A,setPage:t,setDense:n,setOrder:u,setOrderBy:r,setSelected:x,setRowsPerPage:d}}var r=n(68738),a=n(39652),d=n(60778),c=n(44847),u=n(70579);function h(e){let{notFound:i,sx:n}=e;const{t:l}=(0,d.WD)();return(0,u.jsx)(r.A,{children:i?(0,u.jsx)(a.A,{colSpan:12,children:(0,u.jsx)(c.A,{filled:!0,title:l("No Data"),sx:{py:10,...n}})}):(0,u.jsx)(a.A,{colSpan:12,sx:{p:0}})})}var x=n(81e3),v=n(1273),m=n(84882),p=n(58093);const g={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function j(e){let{order:i,orderBy:n,rowCount:l=0,headLabel:t,numSelected:s=0,onSort:o,onSelectAllRows:c,sx:h}=e;const{t:j}=(0,d.WD)();return(0,u.jsx)(m.A,{sx:h,children:(0,u.jsxs)(r.A,{children:[c&&(0,u.jsx)(a.A,{padding:"checkbox",children:(0,u.jsx)(v.A,{indeterminate:!!s&&s<l,checked:!!l&&s===l,onChange:e=>c(e.target.checked)})}),t.map(((e,l)=>(0,u.jsx)(a.A,{align:e.align||"center",sortDirection:n===e.id&&i,sx:{width:e.width,minWidth:e.minWidth},children:o?(0,u.jsxs)(p.A,{hideSortIcon:!0,active:n===e.id,direction:n===e.id?i:"asc",onClick:()=>o(e.id),sx:{textTransform:"capitalize"},children:[j(e.label),n===e.id?(0,u.jsx)(x.A,{sx:{...g},children:"desc"===i?"sorted descending":"sorted ascending"}):null]}):j(e.label)},l)))]})})}var b=n(74600),y=n(94496);function f(e){let{dense:i,action:n,rowCount:l,numSelected:t,onSelectAllRows:s,sx:o,color:r,...a}=e;const{t:c}=(0,d.WD)();return t?(0,u.jsxs)(b.A,{direction:"row",alignItems:"center",sx:{pl:1,pr:2,top:0,left:0,width:1,zIndex:9,height:58,position:"absolute",bgcolor:`${r}.lighter`,...i&&{height:38},...o},...a,children:[(0,u.jsx)(v.A,{indeterminate:!!t&&t<l,checked:!!l&&t===l,onChange:e=>s(e.target.checked)}),(0,u.jsxs)(y.A,{variant:"subtitle2",sx:{ml:2,flexGrow:1,color:`${r}.main`,...i&&{ml:3}},children:[t," ",c("selected")]}),n&&n]}):null}var A=n(19042),_=n(72221),w=n(94814),S=n(79266),C=n(99784);function k(e){let{dense:i,count:n,page:l,onChangeDense:t,rowsPerPage:s,setPage:o,rowsPerPageOptions:r=[5,10,25,50],sx:a,...c}=e;const{t:h}=(0,d.WD)();return(0,u.jsxs)(x.A,{sx:{position:"relative",...a},children:[(0,u.jsx)(S.A,{showFirstButton:!0,showLastButton:!0,rowsPerPageOptions:r,component:"div",count:n,page:l,rowsPerPage:s,...c,sx:{borderTopColor:"transparent"}}),t&&(0,u.jsx)(C.A,{label:h("dense"),control:(0,u.jsx)(A.A,{checked:i,onChange:t}),sx:{pl:2,py:1.5,top:0,position:{sm:"absolute"}}}),o&&(0,u.jsx)(C.A,{label:h("page"),control:(0,u.jsx)(_.A,{value:l,onChange:e=>o(e.target.value),variant:"filled",sx:{height:0,width:68,mr:1,backgroundColor:"white",".MuiSelect-select":{paddingTop:1,paddingBottom:1,lineHeight:"40px"}},children:Array.from({length:Math.ceil(n/s)},((e,i)=>(0,u.jsx)(w.A,{value:i,children:i+1},i)))}),sx:{ml:18,my:2,top:5,position:{sm:"absolute"}}})]})}},78223:(e,i,n)=>{"use strict";n.d(i,{A:()=>h});var l=n(65043),t=n(86275),s=n(57442),o=n(94289),r=n(60778),a=n(70579);const{currentLang:d}=(0,r.jc)(),c="ar"===d.value;t.KQ.register({family:"Roboto",fonts:[{src:"/fonts/Roboto-Regular.ttf"},{src:"/fonts/Roboto-Bold.ttf"}]}),t.KQ.register({family:"IBMPlexSansArabic",fonts:[{src:"/fonts/IBMPlexSansArabic-Regular.ttf"},{src:"/fonts/IBMPlexSansArabic-Regular.ttf"}]});const u=()=>(0,l.useMemo)((()=>t.vv.create({col4:{width:"25%"},col8:{width:"75%"},col6:{width:"50%"},mb4:{marginBottom:4},mb8:{marginBottom:8},mb40:{marginBottom:40},h3:{fontSize:16,fontWeight:700},h4:{fontSize:13,fontWeight:700},body1:{fontSize:10},body2:{fontSize:9},subtitle1:{fontSize:10,fontWeight:700},subtitle2:{fontSize:9,fontWeight:700},alignRight:{textAlign:c?"left":"right"},page:{fontSize:9,lineHeight:1.6,fontFamily:c?"IBMPlexSansArabic":"Roboto",backgroundColor:"#FFFFFF",textTransform:"capitalize",textAlign:c?"right":"",padding:"40px 24px 120px 24px",direction:c?"rtl":"ltr"},footer:{left:0,right:0,bottom:0,padding:24,margin:"auto",borderTopWidth:1,borderStyle:"solid",position:"absolute",borderColor:"#DFE3E8"},gridContainer:{justifyContent:"space-between",flexDirection:c?"row-reverse":"row"},table:{display:"flex",width:"auto"},tableRow:{padding:"8px 0",flexDirection:c?"row-reverse":"row",borderBottomWidth:1,borderStyle:"solid",borderColor:"#DFE3E8"},noBorder:{paddingTop:8,paddingBottom:0,borderBottomWidth:0},tableCell_1:{width:"5%"},tableCell_2:{width:"50%",paddingRight:16},tableCell_3:{width:"15%"}})),[]);function h(e){let{invoice:i,currentStatus:n}=e;const{provided_products:l,Provided_services:d,Total_tax_Amount:h,Total_deduction_amount:x,dueDate:v,Total_discount_amount:m,stakeholder:p,patient:g,created_at:j,Total_Amount:b,unit_service:y,sequence_number:f,Subtotal_Amount:A}=i,{t:_}=(0,r.WD)(),w=u();return(0,a.jsx)(t.yo,{children:(0,a.jsxs)(t.YW,{size:"A4",style:w.page,children:[(0,a.jsxs)(t.Ss,{style:[w.gridContainer,w.mb40],children:[(0,a.jsx)(t._V,{source:null!==y&&void 0!==y&&y.company_logo?null===y||void 0===y?void 0:y.company_logo:"/logo/doc.svg",style:{width:54,height:54}}),(0,a.jsxs)(t.Ss,{style:{alignItems:"flex-end",flexDirection:"column"},children:[(0,a.jsx)(t.EY,{style:w.h3,children:_(n)}),(0,a.jsxs)(t.EY,{children:[" ",f," "]})]})]}),p&&(0,a.jsxs)(t.Ss,{style:w.col6,children:[(0,a.jsx)(t.EY,{style:[w.subtitle2,w.mb4],children:_("from")}),(0,a.jsx)(t.EY,{style:w.body2,children:c?p.name_arabic:p.name_english}),(0,a.jsx)(t.EY,{style:w.body2,children:p.address}),(0,a.jsx)(t.EY,{style:w.body2,children:p.phone})]}),(0,a.jsxs)(t.Ss,{style:[w.gridContainer,w.mb40],children:[(0,a.jsxs)(t.Ss,{style:w.col6,children:[(0,a.jsx)(t.EY,{style:[w.subtitle2,w.mb4],children:_(p?"to":"from")}),(0,a.jsx)(t.EY,{style:w.body2,children:c?y.name_arabic:y.name_english}),(0,a.jsx)(t.EY,{style:w.body2,children:y.address}),(0,a.jsx)(t.EY,{style:w.body2,children:y.phone})]}),g&&(0,a.jsxs)(t.Ss,{style:w.col6,children:[(0,a.jsx)(t.EY,{style:[w.subtitle2,w.mb4],children:_("to")}),(0,a.jsx)(t.EY,{style:w.body2,children:c?g.name_arabic:g.name_english}),(0,a.jsx)(t.EY,{style:w.body2,children:g.address}),(0,a.jsx)(t.EY,{style:w.body2,children:g.mobile_num1})]})]}),(0,a.jsxs)(t.Ss,{style:[w.gridContainer,w.mb40],children:[(0,a.jsxs)(t.Ss,{style:w.col6,children:[(0,a.jsx)(t.EY,{style:[w.subtitle2,w.mb4],children:_("date")}),(0,a.jsx)(t.EY,{style:w.body2,children:(0,s.ts)(j)})]}),v&&(0,a.jsxs)(t.Ss,{style:w.col6,children:[(0,a.jsx)(t.EY,{style:[w.subtitle2,w.mb4],children:_("due date")}),(0,a.jsx)(t.EY,{style:w.body2,children:(0,s.ts)(v)})]})]}),(0,a.jsx)(t.EY,{style:[w.subtitle1,w.mb8],children:_("details")}),(0,a.jsxs)(t.Ss,{style:w.table,children:[(0,a.jsx)(t.Ss,{children:(0,a.jsxs)(t.Ss,{style:w.tableRow,children:[(0,a.jsx)(t.Ss,{style:w.tableCell_1,children:(0,a.jsx)(t.EY,{style:w.subtitle2,children:"#"})}),(0,a.jsx)(t.Ss,{style:w.tableCell_2,children:(0,a.jsx)(t.EY,{style:w.subtitle2,children:_("items")})}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{style:w.subtitle2,children:_("quantity")})}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{style:w.subtitle2,children:_("price per unit")})}),(0,a.jsx)(t.Ss,{style:[w.tableCell_3,w.alignRight],children:(0,a.jsx)(t.EY,{style:w.subtitle2,children:_("total")})})]})}),(0,a.jsxs)(t.Ss,{children:[null===d||void 0===d?void 0:d.map(((e,i)=>{var n,l;return(0,a.jsxs)(t.Ss,{style:w.tableRow,children:[(0,a.jsx)(t.Ss,{style:w.tableCell_1,children:(0,a.jsx)(t.EY,{children:i+1})}),(0,a.jsxs)(t.Ss,{style:w.tableCell_2,children:[(0,a.jsx)(t.EY,{style:w.subtitle2,children:e.title}),(0,a.jsx)(t.EY,{children:c?null===(n=e.service_type)||void 0===n?void 0:n.name_arabic:null===(l=e.service_type)||void 0===l?void 0:l.name_english})]}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{children:e.quantity})}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{children:e.price_per_unit})}),(0,a.jsx)(t.Ss,{style:[w.tableCell_3,w.alignRight],children:(0,a.jsx)(t.EY,{children:(0,o.KZ)(e.income_amount)})})]},e.id)})),null===l||void 0===l?void 0:l.map(((e,i)=>{var n,l;return(0,a.jsxs)(t.Ss,{style:w.tableRow,children:[(0,a.jsx)(t.Ss,{style:w.tableCell_1,children:(0,a.jsx)(t.EY,{children:i+1})}),(0,a.jsxs)(t.Ss,{style:w.tableCell_2,children:[(0,a.jsx)(t.EY,{style:w.subtitle2,children:e.title}),(0,a.jsx)(t.EY,{children:c?null===(n=e.product)||void 0===n?void 0:n.name_arabic:null===(l=e.product)||void 0===l?void 0:l.name_english})]}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{children:e.quantity})}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{children:e.price_per_unit})}),(0,a.jsx)(t.Ss,{style:[w.tableCell_3,w.alignRight],children:(0,a.jsx)(t.EY,{children:(0,o.KZ)(e.income_amount)})})]},e.id)})),(0,a.jsxs)(t.Ss,{style:[w.tableRow,w.noBorder],children:[(0,a.jsx)(t.Ss,{style:w.tableCell_1}),(0,a.jsx)(t.Ss,{style:w.tableCell_2}),(0,a.jsx)(t.Ss,{style:w.tableCell_3}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{children:_("subtotal")})}),(0,a.jsx)(t.Ss,{style:[w.tableCell_3,w.alignRight],children:(0,a.jsx)(t.EY,{children:(0,o.KZ)(A)})})]}),(0,a.jsxs)(t.Ss,{style:[w.tableRow,w.noBorder],children:[(0,a.jsx)(t.Ss,{style:w.tableCell_1}),(0,a.jsx)(t.Ss,{style:w.tableCell_2}),(0,a.jsx)(t.Ss,{style:w.tableCell_3}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{children:_("discount")})}),(0,a.jsx)(t.Ss,{style:[w.tableCell_3,w.alignRight],children:(0,a.jsx)(t.EY,{children:(0,o.KZ)(-m)})})]}),(0,a.jsxs)(t.Ss,{style:[w.tableRow,w.noBorder],children:[(0,a.jsx)(t.Ss,{style:w.tableCell_1}),(0,a.jsx)(t.Ss,{style:w.tableCell_2}),(0,a.jsx)(t.Ss,{style:w.tableCell_3}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{children:_("taxes")})}),(0,a.jsx)(t.Ss,{style:[w.tableCell_3,w.alignRight],children:(0,a.jsx)(t.EY,{children:(0,o.KZ)(h)})})]}),(0,a.jsxs)(t.Ss,{style:[w.tableRow,w.noBorder],children:[(0,a.jsx)(t.Ss,{style:w.tableCell_1}),(0,a.jsx)(t.Ss,{style:w.tableCell_2}),(0,a.jsx)(t.Ss,{style:w.tableCell_3}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{children:_("deductions")})}),(0,a.jsx)(t.Ss,{style:[w.tableCell_3,w.alignRight],children:(0,a.jsx)(t.EY,{children:(0,o.KZ)(x)})})]}),(0,a.jsxs)(t.Ss,{style:[w.tableRow,w.noBorder],children:[(0,a.jsx)(t.Ss,{style:w.tableCell_1}),(0,a.jsx)(t.Ss,{style:w.tableCell_2}),(0,a.jsx)(t.Ss,{style:w.tableCell_3}),(0,a.jsx)(t.Ss,{style:w.tableCell_3,children:(0,a.jsx)(t.EY,{style:w.h4,children:_("total")})}),(0,a.jsx)(t.Ss,{style:[w.tableCell_3,w.alignRight],children:(0,a.jsx)(t.EY,{style:w.h4,children:(0,o.KZ)(b)})})]})]})]})]})})}},79343:(e,i,n)=>{"use strict";e.exports=n.p+"static/media/doc.58aa402319522861da5d.png"},79368:(e,i,n)=>{"use strict";n.d(i,{f5:()=>J,E0:()=>Ae,Hx:()=>me,bi:()=>Bi,hL:()=>$,l$:()=>oi,SY:()=>p,R8:()=>Ci,l3:()=>Ee,zw:()=>be,vu:()=>Be,CZ:()=>Ye});n(37694);var l=n(77224),t=n(48407),s=n(60778),o=n(83858),r=n(65043),a=n(81e3),d=n(94496),c=n(35151),u=n(51807),h=n(94857);const x=n.p+"static/media/Qr.969f507ffcee528515d0.png";var v=n(70579);function m(){const[e,i]=(0,r.useState)("\u0644\u0642\u062f \u0623\u0639\u062c\u0628\u0646\u064a \u062a\u0637\u0628\u064a\u0642 hakeemna.com \u0648\u0623\u0631\u064a\u062f \u0645\u0634\u0627\u0631\u0643\u062a\u0647 \u0645\u0639\u0643 https://hakeemna.com"),{currentLang:n}=(0,s.jc)(),t="ar"===n.value,{enqueueSnackbar:o}=(0,h.dh)();return(0,v.jsx)(l.A,{sx:{position:"relative",py:{xs:0,md:2},maxWidth:"100%"},children:(0,v.jsxs)(a.A,{sx:{position:"relative"},children:[(0,v.jsx)("div",{style:{position:"relative",paddingBottom:"56%",width:"100%"},children:(0,v.jsx)(u.A,{src:x,sx:{position:"absolute",top:0,left:0,width:"100%",height:"80%",borderRadius:"10px",border:"1px solid #bba9bb4d"}})}),(0,v.jsx)(d.A,{variant:"h6",sx:{textAlign:"center"},children:t?"\u0642\u0645 \u0628\u0645\u0634\u0627\u0631\u0643\u0629 \u0627\u0644\u0631\u0627\u0628\u0637":"Or copy this link"}),(0,v.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,v.jsx)("input",{disabled:!0,type:"text",value:e,onChange:e=>i(e.target.value),style:{width:"100%",marginTop:"10px",padding:"10px",boxSizing:"border-box",borderRadius:10,backgroundColor:"#eaeaea40",border:"2px solid #bba9bb4d",paddingRight:"40px",transition:"background-color 0.3s ease-in-out","&:hover":{backgroundColor:"#d9d9d9"}}}),(0,v.jsx)(c.A,{icon:"clarity:copy-line",onClick:()=>{navigator.clipboard.writeText(e).then((()=>{o(""+(t?"\u062a\u0645 \u0627\u0644\u0646\u0633\u062e \u0628\u0646\u062c\u0627\u062d":"Link copied successfully"),{variant:"success"})})).catch((e=>{o(""+(t?"\u062d\u062f\u062b \u062e\u0637\u0623 \u0645\u0627, \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0641\u0627":"Something went wrong, please try again later"),{variant:"error"})}))},sx:{position:"absolute",top:"20px",right:"10px",transition:"transform 0.3s ease-in-out","&:hover":{color:"green",transform:"scale(1.2)"}}})]})]})})}function p(){const{t:e}=(0,s.WD)();return(0,v.jsxs)(l.A,{maxWidth:"xl",children:[(0,v.jsx)(o.A,{heading:e("share"),links:[{name:e("dashboard"),href:t.f.dashboard.root},{name:e("user"),href:t.f.dashboard.user.root},{name:e("share")}],sx:{mb:{xs:3,md:5}}}),(0,v.jsx)(m,{})]})}var g=n(80899),j=n(24858),b=n(18403),y=n(88446),f=n(83462),A=n(1273),_=n(84284),w=n(4219),S=n(35316),C=n(29347),k=n(49633),E=n(94814),R=n(74600),Y=n(59229),D=n(31673),T=n(75139),F=n(7625),W=n(59699),I=n(46987),P=n(12110),z=n(57442),B=n(87410);function M(e){var i,n;let{patientId:l}=e;const[t,o]=(0,r.useState)(),{patientInsuranseData:h,refetch:x}=(0,F.n63)(l),{oneInsuranseData:m}=(0,F.srR)(t),{t:p}=(0,s.WD)(),{currentLang:y}=(0,s.jc)(),{insuranseCosData:A}=(0,F.DPx)(),{insuranseTypesData:R}=(0,F.zrw)(),T="ar"===y.value,M=(0,Y.C)(!1),{enqueueSnackbar:$}=(0,I.dh)(),L=g.Ik().shape({type:g.Yj().required("Type is required"),patient:g.Yj().required("Patient is required"),insurance:g.Yj().required("Insurance is required"),insurance_client_num:g.Yj().required("Card number is required"),insurance_expiry_time:g.gl().required("Date is required")}),q={type:(null===m||void 0===m||null===(i=m.type)||void 0===i?void 0:i._id)||"",patient:l||"",insurance:(null===m||void 0===m||null===(n=m.insurance)||void 0===n?void 0:n._id)||"",insurance_client_num:(null===m||void 0===m?void 0:m.insurance_client_num)||"",insurance_expiry_time:null},N=(0,j.mN)({mode:"all",resolver:(0,b.t)(L),defaultValues:q}),{control:O,handleSubmit:Z,formState:{isSubmitting:U},reset:K}=N;return(0,r.useEffect)((()=>{var e,i;m&&K({type:(null===m||void 0===m||null===(e=m.type)||void 0===e?void 0:e._id)||"",patient:l||"",insurance:(null===m||void 0===m||null===(i=m.insurance)||void 0===i?void 0:i._id)||"",insurance_client_num:(null===m||void 0===m?void 0:m.insurance_client_num)||"",insurance_expiry_time:null})}),[m,K,l]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(a.A,{sx:{display:"grid",gridTemplateColumns:{md:"1fr 1fr",xs:"1fr"}},children:null===h||void 0===h?void 0:h.map(((e,i)=>{var n,l,t,s,r,h;return(0,v.jsxs)(P.A,{sx:{borderRadius:1,width:"60%",mb:5,bgcolor:"#64a3aa"},children:[(0,v.jsxs)(a.A,{sx:{bgcolor:"#ddf0ee",borderRadius:1,width:"100%",padding:.7,margin:1.5,position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center"},children:[(0,v.jsx)(c.A,{sx:{color:"#64a3aa"},icon:"akar-icons:health"})," \xa0\xa0",(0,v.jsx)(d.A,{sx:{color:"#64a3aa",fontWeight:600,fontSize:16},children:p("Insurance Card")})]}),(0,v.jsxs)(a.A,{sx:{display:{md:"grid",xs:"block"},gridTemplateColumns:"1fr 1fr 1fr",margin:1,gap:2},children:[(0,v.jsx)(u.A,{src:null===e||void 0===e||null===(n=e.patient)||void 0===n?void 0:n.profile_picture,sx:{width:"100px",height:"135px",mb:1}}),(0,v.jsx)(a.A,{children:(0,v.jsxs)(a.A,{sx:{mb:1},children:[(0,v.jsx)(d.A,{sx:{color:"#e1eeed"},children:T?null===e||void 0===e||null===(l=e.insurance)||void 0===l?void 0:l.name_arabic:null===e||void 0===e||null===(t=e.insurance)||void 0===t?void 0:t.name_english}),(0,v.jsxs)(d.A,{sx:{color:"#e1eeed"},children:[null===e||void 0===e||null===(s=e.patient)||void 0===s?void 0:s.name_english," ",null===e||void 0===e||null===(r=e.patient)||void 0===r?void 0:r.last_name]}),(0,v.jsx)(d.A,{sx:{color:"#e1eeed"},children:null===e||void 0===e||null===(h=e.type)||void 0===h?void 0:h.Coverage_name}),(0,v.jsx)(d.A,{sx:{color:"#e1eeed"},children:null===e||void 0===e?void 0:e.insurance_client_num}),(0,v.jsxs)(d.A,{sx:{color:"#e1eeed"},children:[" ",p("Expiry date")," ",(0,z.zx)(null===e||void 0===e?void 0:e.insurance_expiry_time)]})]})}),(0,v.jsx)(c.A,{icon:"mi:options-vertical",sx:{color:"white",ml:10},width:25,onClick:()=>{return i=null===e||void 0===e?void 0:e._id,M.onTrue(),void o(i);var i}})]})]},i)}))}),(0,v.jsx)(f.A,{open:M.value,onClose:M.onFalse,children:(0,v.jsxs)(B.A,{methods:N,onSubmit:Z((async e=>{try{await D.Ay.patch(`/api/insurance/data/${t}`,e),$("Insurance updated successfully",{variant:"success"}),M.onFalse(),x()}catch(i){console.error("Error during API call:",i),$(T&&`${i.arabic_message}`||`${i.message}`,{variant:"error"})}})),children:[(0,v.jsx)(w.A,{sx:{position:"relative",top:"10px"},children:p("Add your insurance cards here")}),(0,v.jsxs)(S.A,{children:[(0,v.jsx)(d.A,{sx:{color:"red",mb:5,fontSize:14},children:p("The attached card must be present and valid")}),(0,v.jsx)(j.xI,{name:"insurance_expiry_time",control:O,render:e=>{let{field:{onChange:i,onBlur:n,value:l},fieldState:{error:t}}=e;return(0,v.jsx)(_.l,{value:l||null,onChange:i,onBlur:n,sx:{mb:3},slotProps:{textField:{fullWidth:!0,error:!!t,helperText:null===t||void 0===t?void 0:t.message,label:`${p("Expiry date*")}`}}})}}),(0,v.jsxs)(W.tX,{name:"insurance",label:`${p("Insurance company*")}`,placeholder:"Insurance",sx:{mb:2},children:[(0,v.jsx)(E.A,{value:"",disabled:!0,sx:{display:"none"}}),null===A||void 0===A?void 0:A.map(((e,i)=>(0,v.jsx)(E.A,{sx:{mx:1,borderRadius:.75,typography:"body2"},value:e._id,children:T?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},i)))]}),(0,v.jsx)(W.o3,{name:"insurance_client_num",label:p("Insurance card number"),placeholder:p("Insurance card number"),sx:{mb:2}}),(0,v.jsxs)(W.tX,{name:"type",label:`${p("Insurance type*")}`,placeholder:"Insurance type",sx:{mb:2},children:[(0,v.jsx)(E.A,{value:"",disabled:!0,sx:{display:"none"}}),null===R||void 0===R?void 0:R.map(((e,i)=>(0,v.jsx)(E.A,{sx:{mx:1,borderRadius:.75,typography:"body2"},value:e._id,children:T?null===e||void 0===e?void 0:e.Coverage_name_ar:null===e||void 0===e?void 0:e.Coverage_name},i)))]})]}),(0,v.jsxs)(C.A,{children:[(0,v.jsx)(k.A,{color:"inherit",onClick:M.onFalse,children:p("Cancel")}),(0,v.jsx)(k.A,{type:"submit",loading:U,variant:"contained",children:p("Upload")})]})]})})]})}function $(){var e,i;const{t:n}=(0,s.WD)(),a=(0,Y.C)(!1),{currentLang:u}=(0,s.jc)(),{insuranseCosData:x}=(0,F.DPx)(),{insuranseTypesData:m}=(0,F.zrw)(),p="ar"===u.value,[I,P]=(0,r.useState)(!1),{enqueueSnackbar:z}=(0,h.dh)(),{user:B}=(0,T.Z)(),$=g.Ik().shape({type:g.Yj(),patient:g.Yj(),insurance:g.Yj().required(),insurance_client_num:g.Yj(),agree:g.zM().required(),insurance_expiry_time:g.gl().required("Date is required")}),L={type:"",patient:null===B||void 0===B||null===(e=B.patient)||void 0===e?void 0:e._id,insurance:"",insurance_client_num:"",insurance_expiry_time:"",agree:!I},q=(0,j.mN)({mode:"all",resolver:(0,b.t)($),defaultValues:L}),{control:N,handleSubmit:O,formState:{isSubmitting:Z}}=q;return(0,v.jsxs)(l.A,{maxWidth:"xl",children:[(0,v.jsx)(o.A,{heading:n("My insurance cards"),links:[{name:n("dashboard"),href:t.f.dashboard.root},{name:n("user"),href:t.f.dashboard.user.root},{name:n("My insurance cards")}],action:(0,v.jsx)(k.A,{onClick:a.onTrue,variant:"contained",startIcon:(0,v.jsx)(c.A,{icon:"mingcute:add-line"}),children:n("Add New insurance cards")}),sx:{mb:{xs:3,md:5}}}),(0,v.jsx)(f.A,{open:a.value,onClose:a.onFalse,children:(0,v.jsxs)(W.Ay,{methods:q,onSubmit:O((async e=>{try{await D.Ay.post("/api/insurance/data",e),z("medical report uploaded successfully",{variant:"success"}),a.onFalse(),P(!I),setTimeout((()=>{window.location.reload()}),1e3)}catch(i){console.error(i.message),z(p&&`${i.arabic_message}`||`${i.message}`,{variant:"error"})}})),children:[(0,v.jsx)(w.A,{sx:{position:"relative",top:"10px"},children:n("Add your insurance cards here")}),(0,v.jsxs)(S.A,{children:[(0,v.jsx)(d.A,{sx:{color:"red",mb:5,fontSize:14},children:n("The attached card must be present and valid")}),(0,v.jsx)(j.xI,{name:"insurance_expiry_time",control:N,render:e=>{let{field:i,fieldState:{error:l}}=e;return(0,v.jsx)(_.l,{...i,sx:{mb:3},slotProps:{textField:{fullWidth:!0,error:!!l,helperText:null===l||void 0===l?void 0:l.message,label:`${n("Expiry date*")}`}}})}}),(0,v.jsx)(W.o3,{name:"insurance_client_num",label:n("Card number*"),sx:{mb:3}}),(0,v.jsx)(W.tX,{label:n("insurance*"),fullWidth:!0,name:"insurance",PaperPropsSx:{textTransform:"capitalize"},sx:{mb:3},children:x.map(((e,i)=>(0,v.jsx)(E.A,{lang:"ar",value:null===e||void 0===e?void 0:e._id,sx:{mb:1},children:p?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},i)))}),(0,v.jsx)(W.tX,{label:n("Type*"),fullWidth:!0,name:"type",PaperPropsSx:{textTransform:"capitalize"},sx:{mb:3},children:m.map(((e,i)=>(0,v.jsx)(E.A,{lang:"ar",value:null===e||void 0===e?void 0:e._id,sx:{mb:1},children:null===e||void 0===e?void 0:e.Coverage_name},i)))})]}),(0,v.jsxs)(R.A,{direction:"row",gap:1,alignItems:"center",sx:{mx:4},children:[(0,v.jsx)(A.A,{size:"small",name:"agree",color:"success",onChange:()=>{P(!I)}}),(0,v.jsxs)(d.A,{sx:{color:"text.secondary",typography:"caption",textAlign:"center",fontSize:{md:12,xs:10}},children:[n("I reed the "),(0,v.jsx)(y.A,{underline:"always",color:"text.primary",children:n(" Privacy Policy ")}),n("And agree to "),(0,v.jsx)(y.A,{underline:"always",color:"text.primary",children:n(" Terms of Service ")}),"."]})]}),(0,v.jsxs)(C.A,{children:[(0,v.jsx)(k.A,{onClick:a.onFalse,variant:"outlined",color:"inherit",children:n("Cancel")}),!1===I?(0,v.jsx)(k.A,{type:"submit",loading:Z,variant:"contained",disabled:!0,children:n("Upload")}):(0,v.jsx)(k.A,{type:"submit",loading:Z,variant:"contained",children:n("Upload")})]})]})})," ",(0,v.jsx)(M,{patientId:null===B||void 0===B||null===(i=B.patient)||void 0===i?void 0:i._id})]})}var L=n(89302),q=n(18099),N=n(58390),O=n(79958),Z=n(81045),U=n(72221),K=n(39336),V=n(68903),H=n(67132),G=n(54583),X=n(44847);function Q(){var e,i,n,l,o,u,x,m,p,g,j,b,A,_,W,I,M,$,Q,J,ee,ie,ne,le,te,se,oe,re,ae,de,ce,ue,he,xe,ve,me,pe,ge,je,be,ye,fe,Ae,_e;const we=(0,H.g)(),Se=(0,H.rd)(),{t:Ce}=(0,s.WD)(),{currentLang:ke}=(0,s.jc)(),Ee="ar"===ke.value,{appointmenttypesData:Re}=(0,F.uZ5)(),{id:Ye}=we,{user:De}=(0,T.Z)(),[Te,Fe]=(0,r.useState)(),We=(0,Y.C)(!1),{enqueueSnackbar:Ie}=(0,h.dh)(),{data:Pe}=(0,F.tH$)(Ye),ze=(0,F.VK$)(Te,{populate:"all"}).data,{feedbackData:Be}=(0,F.TGw)(null===Pe||void 0===Pe||null===(e=Pe.employee)||void 0===e?void 0:e._id),[Me,$e]=(0,r.useState)(),[Le,qe]=(0,r.useState)(),Ne=null===De||void 0===De||null===(i=De.patient)||void 0===i?void 0:i._id,Oe=null===De||void 0===De?void 0:De.patient,Ze=null===De||void 0===De?void 0:De.email,[Ue,Ke]=(0,r.useState)(""),{appointmentsData:Ve,appointmentTypes:He,refetch:Ge}=(0,F.pHg)({id:Ye,startDate:Me,appointmentType:Ue}),{roomsData:Xe}=(0,F.Kuq)(null===Pe||void 0===Pe||null===(n=Pe.unit_service)||void 0===n?void 0:n._id),Qe=Xe.find((e=>{var i;return"Reception"===(null===e||void 0===e||null===(i=e.activities)||void 0===i?void 0:i.name_english)})),[Je,ei]=(0,r.useState)(0),[ii,ni]=(0,r.useState)(null),li=new Set(Be.map((e=>{var i;return null===e||void 0===e||null===(i=e.patient)||void 0===i?void 0:i._id}))).size,ti=function(e){return Array.isArray(e)&&0!==e.length?(e.reduce(((e,i)=>"number"===typeof i.Rate?e+i.Rate:e),0)/e.length).toFixed(1):0}(Be),si={patient:Ne,title:`An appointment has been booked for ${null===Oe||void 0===Oe?void 0:Oe.name_english}`,title_arabic:`\u062a\u0645 \u062d\u062c\u0632 \u0645\u0648\u0639\u062f \u0644${null===Oe||void 0===Oe?void 0:Oe.name_arabic}`,photo_URL:"https://static.vecteezy.com/system/resources/thumbnails/017/060/777/small/3d-calendar-with-clock-checkmark-icons-marked-date-notification-bell-isolated-schedule-appointment-concept-3d-render-illustration-png.png",category:"patientbooking",type:"patientbooking"};(0,r.useEffect)((()=>{const e=setInterval((()=>{ei((e=>(e+1)%Be.length))}),3e3);return()=>clearInterval(e)}),[Be.length]);const oi=Be[Je];console.log(Pe);const ri=(0,v.jsx)(O.A,{disableTypography:!0,avatar:(0,v.jsx)(Z.A,{src:null===Pe||void 0===Pe||null===(l=Pe.employee)||void 0===l?void 0:l.picture,alt:"data"}),title:(0,v.jsx)(y.A,{color:"inherit",variant:"subtitle1",children:Ee?null===Pe||void 0===Pe||null===(o=Pe.employee)||void 0===o?void 0:o.name_arabic:null===Pe||void 0===Pe||null===(u=Pe.employee)||void 0===u?void 0:u.name_english}),subheader:(0,v.jsx)(a.A,{sx:{color:"text.disabled",typography:"caption",mt:.5},children:Ee?null===Pe||void 0===Pe||null===(x=Pe.employee)||void 0===x||null===(m=x.speciality)||void 0===m?void 0:m.name_arabic:null===Pe||void 0===Pe||null===(p=Pe.employee)||void 0===p||null===(g=p.speciality)||void 0===g?void 0:g.name_english})}),ai=(0,v.jsxs)(P.A,{sx:{py:3,textAlign:"center"},children:[Ee?(0,v.jsxs)(d.A,{typography:"h6",children:["( ",ti," ",(0,v.jsx)(c.A,{icon:"emojione:star",width:22,sx:{position:"relative",top:3}}),")",li>0?` \u0645\u0646 ${li} \u0632\u0627\u0626\u0631`:"\u0644\u0627 \u064a\u0648\u062c\u062f \u062a\u0642\u064a\u064a\u0645 \u0628\u0639\u062f"]}):(0,v.jsxs)(d.A,{typography:"h6",children:["( ",ti," ",(0,v.jsx)(c.A,{icon:"emojione:star",width:22,sx:{position:"relative",top:3}}),")",li>0?` From ${li} visitors`:" No rate yet"]}),oi&&(0,v.jsxs)(a.A,{sx:{justifyContent:"center",alignItems:"center",m:2,display:"flex",bgcolor:"#F9FAFB",borderRadius:2},children:[(0,v.jsx)(G.A,{sx:{width:40,height:40,borderRadius:20,m:1},src:null===De||void 0===De||null===(j=De.patient)||void 0===j?void 0:j.profile_picture}),(0,v.jsxs)(a.A,{sx:{m:1},children:[(0,v.jsx)(d.A,{sx:{float:"left"},children:Ee?null===oi||void 0===oi||null===(b=oi.patient)||void 0===b?void 0:b.name_arabic:null===oi||void 0===oi||null===(A=oi.patient)||void 0===A?void 0:A.name_english}),(0,v.jsx)("br",{}),(0,v.jsxs)(d.A,{sx:{float:"left"},children:[null===oi||void 0===oi?void 0:oi.Body," \xa0",Array.from({length:null===oi||void 0===oi?void 0:oi.Rate}).map(((e,i)=>(0,v.jsx)(c.A,{icon:"emojione:star",width:18,sx:{position:"relative",top:2}},i)))]})]})]},Je)]}),di=(0,v.jsxs)(P.A,{children:[(0,v.jsx)(O.A,{title:Ce("about")}),(0,v.jsxs)(R.A,{spacing:3,sx:{p:3},children:[null!==Pe&&void 0!==Pe&&null!==(_=Pe.employee)&&void 0!==_&&_.description?(0,v.jsx)(a.A,{children:null===Pe||void 0===Pe||null===(W=Pe.employee)||void 0===W?void 0:W.description}):"",null!==Pe&&void 0!==Pe&&null!==(I=Pe.unit_service)&&void 0!==I&&I.name_english?(0,v.jsxs)(R.A,{direction:"row",spacing:2,children:[(0,v.jsx)(c.A,{icon:"ic:round-business-center",width:24}),(0,v.jsxs)(a.A,{children:[Ce("Work at: "),(0,v.jsx)(y.A,{variant:"subtitle2",color:"inherit",children:Ee?null===Pe||void 0===Pe||null===(M=Pe.unit_service)||void 0===M?void 0:M.name_arabic:null===Pe||void 0===Pe||null===($=Pe.unit_service)||void 0===$?void 0:$.name_english})]})]}):"",(0,v.jsxs)(R.A,{direction:"row",spacing:2,children:[(0,v.jsx)(c.A,{icon:"mdi:location",width:24}),(0,v.jsxs)(a.A,{children:[Ce("Location: "),(0,v.jsxs)(y.A,{variant:"subtitle2",color:"inherit",children:[Ee?null===Pe||void 0===Pe||null===(Q=Pe.unit_service)||void 0===Q||null===(J=Q.city)||void 0===J?void 0:J.name_arabic:null===Pe||void 0===Pe||null===(ee=Pe.unit_service)||void 0===ee||null===(ie=ee.city)||void 0===ie?void 0:ie.name_english," - ",Ee?null===Pe||void 0===Pe||null===(ne=Pe.unit_service)||void 0===ne||null===(le=ne.country)||void 0===le?void 0:le.name_arabic:null===Pe||void 0===Pe||null===(te=Pe.unit_service)||void 0===te||null===(se=te.country)||void 0===se?void 0:se.name_english]})]})]}),(0,v.jsxs)(R.A,{direction:"row",spacing:2,children:[(0,v.jsx)(c.A,{icon:"typcn:phone",width:24}),(0,v.jsxs)(a.A,{children:[Ce("For booking: "),(0,v.jsx)(y.A,{dir:"ltr",variant:"subtitle2",color:"inherit",children:null===Pe||void 0===Pe||null===(oe=Pe.unit_service)||void 0===oe?void 0:oe.phone})]})]}),(null===Pe||void 0===Pe?void 0:Pe.fees)&&(0,v.jsxs)(R.A,{direction:"row",spacing:2,children:[(0,v.jsx)(c.A,{icon:"mdi:cash",width:24,sx:{color:"success.main"}}),(0,v.jsxs)(a.A,{children:[Ce("fees: "),(0,v.jsx)(y.A,{variant:"subtitle2",color:"inherit",children:null===Pe||void 0===Pe?void 0:Pe.fees})]})]}),(null===Pe||void 0===Pe||null===(re=Pe.employee)||void 0===re?void 0:re.certifications)&&(0,v.jsxs)(R.A,{direction:"row",spacing:2,children:[(0,v.jsx)(c.A,{icon:"carbon:user-certification",width:24}),(0,v.jsxs)(a.A,{children:[Ce("certifications: "),null===Pe||void 0===Pe||null===(ae=Pe.employee)||void 0===ae||null===(de=ae.certifications)||void 0===de?void 0:de.map(((e,i)=>(0,v.jsx)(y.A,{variant:"subtitle2",color:"inherit",children:(0,v.jsx)("ul",{children:(0,v.jsxs)("li",{children:[" ",null===e||void 0===e?void 0:e.name," ",(0,v.jsxs)("span",{style:{color:"lightgray"},children:[" (",(0,z.tN)(null===e||void 0===e?void 0:e.year),") "]})]})})})))]})]})]})]}),ci=(0,v.jsxs)(P.A,{sx:{p:3},children:[(0,v.jsx)(f.A,{open:We.value,onClose:We.onTrue,PaperProps:{sx:{width:"300px",maxWidth:"300px"}},children:(0,v.jsxs)(B.A,{children:[(0,v.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",margin:"20px",gap:"10px"},children:[(0,v.jsx)(w.A,{children:Ce("Are you sure")}),(0,v.jsx)(G.A,{src:null===ze||void 0===ze||null===(ce=ze.unit_service)||void 0===ce?void 0:ce.company_logo,sx:{width:"60px",height:"60px",border:"1px solid lightgreen",borderRadius:"50px"}}),(0,v.jsx)(d.A,{sx:{color:"black"},children:null===ze||void 0===ze||null===(ue=ze.unit_service)||void 0===ue?void 0:ue.name_english})]}),(0,v.jsx)(S.A,{children:(0,v.jsx)(d.A,{sx:{ml:2,mb:1,fontSize:15},children:Ce("please confirm your appointment")})}),(0,v.jsxs)(C.A,{children:[(0,v.jsx)(k.A,{onClick:We.onFalse,variant:"outlined",color:"inherit",children:Ce("Cancel")}),(0,v.jsx)(k.A,{variant:"contained",onClick:()=>(async e=>{try{var i,n,l;await D.Ay.patch(`${D.vZ.appointments.one(e)}/bookappointment`,{patient:Ne,email:Ze,pInfo:Oe,appointmentinfo:ze,note:Le,info:si,lang:Ee,Last_activity_atended:null===Qe||void 0===Qe||null===(i=Qe.activities)||void 0===i?void 0:i._id}),await D.Ay.post(D.vZ.history.all,{patient:Ne,name_english:"an appointment has been created",name_arabic:"\u062a\u0645 \u062d\u062c\u0632 \u0645\u0648\u0639\u062f",sub_english:`appointment in ${null===ze||void 0===ze||null===(n=ze.unit_service)||void 0===n?void 0:n.name_english}`,sub_arabic:`\u0645\u0648\u0639\u062f \u0641\u064a  ${null===ze||void 0===ze||null===(l=ze.unit_service)||void 0===l?void 0:l.name_arabic}`,title:"appointment",actual_date:new Date}),Ge(),We.onFalse(),Ie(Ce("Appointment booked successfully"),{variant:"success"}),setTimeout((()=>{Se.push(t.f.dashboard.user.patientsappointments)}),1e3)}catch(s){console.error(s.message),Ie(Ee&&`${s.arabic_message}`||`${s.message}`,{variant:"error"})}})(Te),children:Ce("book")})]})]})}),(0,v.jsx)(N.$,{dateAdapter:L.R,children:(0,v.jsx)(q.$,{disablePast:!0,componentsProps:{actionBar:{actions:[""]}},value:Ue,onChange:e=>{Fe(),ni(),$e(new Date(new Date(e).getFullYear(),new Date(e).getMonth(),new Date(e).getDate(),12,0,0))}})}),(0,v.jsxs)(a.A,{sx:{ml:2.9},children:[(0,v.jsxs)(d.A,{variant:"",sx:{color:"text.secondary",fontWeight:"bold",mr:5},children:[Ce("SELECT APPOINTMENT TYPE")," ",(0,v.jsx)(c.A,{icon:"teenyicons:appointments-outline",sx:{ml:1,position:"relative",top:1,color:"#00A76F"}})]}),(0,v.jsxs)(U.A,{value:Ue,onChange:e=>{Ke(e.target.value)},sx:{width:150,height:35},children:[(0,v.jsx)(E.A,{value:"",children:Ce("All")}),Re.filter((e=>He.includes(e._id))).map(((e,i)=>(0,v.jsx)(E.A,{value:e._id,children:Ee?e.name_englis:e.name_english},i)))]})]})]}),ui=(0,v.jsx)(P.A,{sx:{p:3},children:Ve.length>0?(0,v.jsxs)(a.A,{children:[(0,v.jsx)(d.A,{variant:"caption",sx:{color:"text.secondary",fontWeight:"bold"},children:Ce("SELECT TIME")}),(0,v.jsxs)(a.A,{sx:{display:{md:"flex",xs:"block"},mt:2},children:[(0,v.jsxs)(a.A,{sx:{width:"50%",height:"50%",display:"grid",gridTemplateColumns:"1fr",mr:2,mb:{md:0,xs:5}},children:[(0,v.jsx)(a.A,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr"},children:null===Ve||void 0===Ve?void 0:Ve.map(((e,i)=>(0,v.jsxs)(k.A,{onClick:()=>{return i=null===e||void 0===e?void 0:e._id,Fe(i),void ni(i);var i},sx:{border:(null===e||void 0===e?void 0:e._id)===ii?"1px solid lightgreen":"1px solid gray",mb:1,ml:.5},children:[(0,z.qi)(null===e||void 0===e?void 0:e.start_time)," "]},i)))}),(0,v.jsx)(a.A,{sx:{visibility:{md:"visible",xs:"hidden"}},children:void 0!==Te?(0,v.jsx)(k.A,{variant:"contained",sx:{bgcolor:"success.main"},onClick:We.onTrue,children:Ce("book")}):(0,v.jsx)(k.A,{disabled:!0,variant:"contained",onClick:We.onFalse,children:Ce("book")})})]}),(0,v.jsx)(K.A,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed",display:{md:"block",xs:"none"}}}),(0,v.jsxs)(a.A,{sx:{ml:2,mb:2},children:[(null===ze||void 0===ze||null===(he=ze.work_group)||void 0===he?void 0:he.employees)&&ze.work_group.employees.map(((e,i)=>{var n,l,t,s,o;return(0,v.jsxs)(d.A,{children:[" ",!0===(null===e||void 0===e||null===(n=e.employee)||void 0===n?void 0:n.visibility_online_appointment)?(0,v.jsxs)("span",{style:{color:"inherit"},children:[(0,v.jsx)(c.A,{width:18,icon:"noto:health-worker"}),"\xa0"," ",Ee?null===e||void 0===e||null===(l=e.employee)||void 0===l||null===(t=l.employee)||void 0===t?void 0:t.name_arabic:null===e||void 0===e||null===(s=e.employee)||void 0===s||null===(o=s.employee)||void 0===o?void 0:o.name_english]}):null]},i)})),(null===ze||void 0===ze||null===(xe=ze.appointment_type)||void 0===xe?void 0:xe.name_english)&&(0,v.jsxs)(d.A,{children:[" ",(0,v.jsx)(c.A,{width:18,sx:{color:"rgb(20, 161, 255)"},icon:"streamline:online-medical-service-monitor"}),"\xa0 ",null===ze||void 0===ze||null===(ve=ze.appointment_type)||void 0===ve?void 0:ve.name_english," "]}),(null===ze||void 0===ze||null===(me=ze.department)||void 0===me?void 0:me.name_english)&&(0,v.jsxs)(d.A,{children:[" ",(0,v.jsx)(c.A,{width:18,icon:"fxemoji:departmentstore"})," \xa0Department:",null===ze||void 0===ze||null===(pe=ze.department)||void 0===pe?void 0:pe.name_english," "]}),void 0!==(null===ze||void 0===ze?void 0:ze.price)&&(0,v.jsxs)(d.A,{children:[" ",(0,v.jsx)(c.A,{width:18,sx:{color:"success.main"},icon:"mdi:cash-multiple"}),"\xa0 ",null===ze||void 0===ze?void 0:ze.price," "]}),(null===ze||void 0===ze?void 0:ze.start_time)&&(0,v.jsxs)(d.A,{children:[" ",(0,v.jsx)(c.A,{width:18,sx:{color:"palevioletred"},icon:"lets-icons:date-range-fill"}),"\xa0 ",(0,z.tN)(null===ze||void 0===ze?void 0:ze.start_time)," "]}),(null===ze||void 0===ze?void 0:ze.start_time)&&(0,v.jsxs)(d.A,{children:[" ",(0,v.jsx)(c.A,{width:18,sx:{color:"warning.main"},icon:"mingcute:time-line"}),"\xa0 ",(0,z.qi)(null===ze||void 0===ze?void 0:ze.start_time)," "]}),ze&&(0,v.jsxs)(a.A,{sx:{mt:1},children:[(0,v.jsx)(d.A,{sx:{mb:1},children:Ce("Let us know if you have any notes to follow for your appointment")}),(0,v.jsx)("textarea",{placeholder:"Ex: I have...",style:{borderRadius:4,border:"2px solid lightgray",padding:10,overflow:"hidden"},onChange:e=>{var i;return qe(null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.value)}})]})]}),(0,v.jsx)(a.A,{sx:{visibility:{md:"hidden",xs:"visible"},ml:2},children:void 0!==Te?(0,v.jsx)(k.A,{variant:"contained",onClick:We.onTrue,children:Ce("book")}):(0,v.jsx)(k.A,{disabled:!0,variant:"contained",onClick:We.onFalse,children:Ce("book")})})]})]}):(0,v.jsx)(X.A,{filled:!0,title:"No Available Appointments",sx:{py:10}})}),hi=(0,v.jsxs)(P.A,{children:[(0,v.jsx)(O.A,{title:"Social"}),(0,v.jsx)(R.A,{spacing:2,sx:{p:3},children:(0,v.jsx)(y.A,{href:null===Pe||void 0===Pe?void 0:Pe.web_page,target:"_blank",rel:"noopener noreferrer",children:null===Pe||void 0===Pe?void 0:Pe.web_page})})]});return(0,v.jsxs)(V.Ay,{container:!0,spacing:3,sx:{gap:2},children:[(0,v.jsx)(V.Ay,{xs:12,md:4,children:(0,v.jsxs)(R.A,{spacing:3,children:[ri,ai,null!==Pe&&void 0!==Pe&&null!==(ge=Pe.unit_service)&&void 0!==ge&&null!==(je=ge.country)&&void 0!==je&&je.name_english||null!==Pe&&void 0!==Pe&&null!==(be=Pe.unit_service)&&void 0!==be&&null!==(ye=be.city)&&void 0!==ye&&ye.name_english||null!==Pe&&void 0!==Pe&&null!==(fe=Pe.unit_service)&&void 0!==fe&&fe.name_english||null!==Pe&&void 0!==Pe&&null!==(Ae=Pe.employee)&&void 0!==Ae&&Ae.description?di:"",(null===Pe||void 0===Pe||null===(_e=Pe.web_page)||void 0===_e?void 0:_e.length)>1?hi:""]})}),(0,v.jsxs)(V.Ay,{xs:12,md:7,children:[(0,v.jsx)(R.A,{spacing:3,mb:1,children:ci}),(0,v.jsx)(R.A,{children:ui})]})]})}function J(){const{t:e}=(0,s.WD)();return(0,v.jsxs)(l.A,{maxWidth:"xl",children:[(0,v.jsx)(o.A,{heading:e("Doctorpage"),links:[{name:e("dashboard"),href:t.f.dashboard.root},{name:e("user"),href:t.f.dashboard.user.root},{name:e("doctor page")}],sx:{mb:{xs:3,md:5}}}),(0,v.jsx)(Q,{})]})}var ee=n(879),ie=n.n(ee);n(84189);ie().accessToken="pk.eyJ1IjoiZG8xYS04MTEiLCJhIjoiY2xyYXp5NXd1MGdxMjJpbXdnZmtvcWVzbSJ9.BgX2_RdiJZ5SESKin6RSvw",ie().setRTLTextPlugin("https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js",null,!0);var ne=n(12604),le=n(17392),te=n(65381),se=n(38246),oe=n(68640),re=n(96992),ae=n(26353),de=n(67784),ce=n(51787),ue=n(97742),he=n(70074),xe=n(34624);function ve(){var e,i;const{user:n,login:l}=(0,T.Z)(),{Data:t,refetch:o}=(0,F.r12)(null===n||void 0===n||null===(e=n.patient)||void 0===e?void 0:e._id),a=(0,xe.f)(),d=(0,Y.C)(),u=(0,Y.C)(),x=(0,Y.C)(),m=(0,H.rd)(),p=new Date,g=new Date(null===n||void 0===n||null===(i=n.patient)||void 0===i?void 0:i.birth_date),j=p.getFullYear()-g.getFullYear(),{enqueueSnackbar:b}=(0,h.dh)(),{t:y}=(0,s.WD)(),{currentLang:f}=(0,s.jc)(),A="ar"===f.value,[_,w]=(0,r.useState)(),[S,C]=(0,r.useState)(),[k,R]=(0,r.useState)(),W=async()=>{try{const e=localStorage.getItem("accessToken");localStorage.setItem("parentToken",e),await(null===l||void 0===l?void 0:l(S,_)),m.push(ue.zt),x.onFalse()}catch(e){console.error(e),x.onFalse(),b("string"===typeof e?e:e.message,{variant:"error"}),a.onClose()}};return(0,v.jsx)(oe.A,{sx:{display:"flex",flexDirection:{md:"row",xs:"column"},gap:5},children:null===t||void 0===t?void 0:t.map(((e,i)=>{var l,t,s,r,h;return(0,v.jsxs)(P.A,{sx:{width:{md:"350px",xs:"300px"},mb:5},children:[j>18?(0,v.jsx)(le.A,{onClick:i=>{a.onOpen(i),C(null===e||void 0===e?void 0:e.email)},sx:{position:"absolute",top:8,right:8},children:(0,v.jsx)(c.A,{icon:"flat-color-icons:info"})}):"",(0,v.jsxs)(re.A,{sx:{p:3,pb:2},children:[(0,v.jsx)(Z.A,{alt:null===e||void 0===e?void 0:e.name_english,src:null===e||void 0===e?void 0:e.profile_picture,variant:"rounded",sx:{width:48,height:48,mb:2}}),(0,v.jsx)(ae.A,{primary:(0,v.jsxs)("span",{style:{color:"inherit"},children:[A?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english," "]}),secondary:(0,v.jsxs)("span",{style:{color:"inherit"},children:[" ",null===e||void 0===e?void 0:e.email]}),primaryTypographyProps:{variant:"subtitle1"},secondaryTypographyProps:{mt:1,component:"span",variant:"caption",color:"text.disabled"}}),(0,v.jsxs)(re.A,{spacing:.5,direction:"row",alignItems:"center",sx:{typography:"caption"},children:[y("Relative Relation:")," ",A?null===e||void 0===e||null===(l=e.family_members[1])||void 0===l||null===(t=l.RelativeRelation)||void 0===t?void 0:t.name_arabic:null===e||void 0===e||null===(s=e.family_members[1])||void 0===s||null===(r=s.RelativeRelation)||void 0===r?void 0:r.name_english]}),(0,v.jsxs)(re.A,{spacing:.5,direction:"row",alignItems:"center",sx:{typography:"caption"},children:[y("IDno"),": ",null===e||void 0===e?void 0:e.identification_num]}),(0,v.jsx)(re.A,{spacing:.5,direction:"row",alignItems:"center",sx:{typography:"caption",mt:1},children:y(null===e||void 0===e?void 0:e.gender)})]}),(0,v.jsxs)(xe.A,{open:a.open,onClose:a.onClose,arrow:"right-bottom",sx:{boxShadow:"none",width:"auto"},children:[null===e||void 0===e||null===(h=e.family_members)||void 0===h?void 0:h.map(((e,i)=>"no"===(null===e||void 0===e?void 0:e.isendit)?(0,v.jsxs)(E.A,{lang:"ar",onClick:()=>{a.onClose(),d.onTrue()},onClose:a.onClose,children:[(0,v.jsx)(c.A,{icon:"mdi:account-switch-outline"}),y("Switch account")]},i):null)),(0,v.jsxs)(E.A,{lang:"ar",onClick:()=>{var i;return(async(e,i)=>{try{await D.Ay.patch(D.vZ.patients.deleteFamilyMember(e)),await D.Ay.patch(D.vZ.patients.deleteFamilyMember(i)),b(y("Family member deleted successfully"),{variant:"success"}),o()}catch(n){console.error(n),b("string"===typeof n?n:n.message,{variant:"error"})}})(null===n||void 0===n||null===(i=n.patient)||void 0===i?void 0:i._id,null===e||void 0===e?void 0:e._id)},onClose:a.onClose,children:[(0,v.jsx)(c.A,{icon:"material-symbols:group-remove"}),y("Remove")]})]}),(0,v.jsx)(he.T,{open:d.value||x.value,onClose:d.onFalse,title:y("confirm password"),content:(0,v.jsxs)(v.Fragment,{children:[A?"\u0627\u062f\u062e\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0643 \u0644\u062a\u0628\u062f\u064a\u0644 \u0627\u0644\u062d\u0633\u0627\u0628 ":"Enter your password to switch to different account",(0,v.jsx)(de.A,{name:"password",type:u.value?"text":"password",sx:{width:"100%",pt:4},error:k,InputProps:{endAdornment:(0,v.jsx)(ce.A,{position:"end",children:(0,v.jsx)(le.A,{onClick:u.onToggle,edge:"end",children:(0,v.jsx)(c.A,{icon:u.value?"solar:eye-bold":"solar:eye-closed-bold"})})})},onChange:e=>w(e.target.value)})]}),action:(0,v.jsx)(se.A,{variant:"contained",color:"warning",loading:x.value,onClick:async()=>{x.onTrue(),await(async()=>{try{await D.Ay.post(D.vZ.auth.checkPassword,{id:null===n||void 0===n?void 0:n._id,password:_}),a.onClose(),W()}catch(e){console.error(e),R(e),b(A&&`${e.arabic_message}`||`${e.message}`,{variant:"error"}),x.onFalse()}})()},children:A?"\u062a\u0628\u062f\u064a\u0644":"Switch"})})]},i)}))})}function me(){const e=(0,Y.C)(!1),{t:i}=(0,s.WD)();return(0,v.jsxs)(l.A,{maxWidth:"xl",children:[(0,v.jsx)(o.A,{heading:i("my family"),links:[{name:i("dashboard"),href:t.f.dashboard.root},{name:i("user"),href:t.f.dashboard.user.root},{name:i("my family")}],action:(0,v.jsx)(k.A,{component:te.W,onClick:e.onTrue,variant:"contained",startIcon:(0,v.jsx)(c.A,{icon:"mingcute:add-line"}),children:i("Add new")}),sx:{mb:{xs:3,md:5}}}),(0,v.jsxs)(f.A,{open:e.value,onClose:e.onTrue,children:[(0,v.jsx)(le.A,{onClick:e.onFalse,sx:{ml:"auto",mt:2},children:(0,v.jsx)(c.A,{width:25,icon:"iconoir:cancel"})}),(0,v.jsx)(S.A,{children:(0,v.jsx)("ul",{children:(0,v.jsx)("li",{style:{opacity:"50%"},children:i("Search or add a user on the Hakimna platform to become a family member")})})}),(0,v.jsx)(w.A,{children:(0,v.jsx)(d.A,{variant:"h4",children:i("Does the user have an account?")})}),(0,v.jsxs)(C.A,{children:[(0,v.jsx)(k.A,{href:t.f.dashboard.user.exist,variant:"outlined",color:"success",type:"submit",children:i("Yes")}),(0,v.jsx)(k.A,{type:"submit",variant:"contained",color:"inherit",href:t.f.dashboard.user.create,children:i("No")})]})]}),(0,v.jsx)(ne.A,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:3},children:(0,v.jsx)(ve,{})})]})}n(30885),n(50233);var pe=n(17815),ge=n(31383);function je(){const{enqueueSnackbar:e}=(0,h.dh)(),{t:i}=(0,s.WD)(),{currentLang:n}=(0,s.jc)(),{user:l}=(0,T.Z)(),t="ar"===n.value,o=g.Ik().shape({title:g.Yj().required("Title is required"),Body:g.Yj().required("Message is required")}),r=(0,j.mN)({mode:"all",resolver:(0,b.t)(o),defaultValues:{title:"",Body:""}}),{handleSubmit:a}=r,c=a((async i=>{try{await D.Ay.post("/api/contactus",{info:i,user:l})?(e(""+(t?"\u062a\u0645 \u0627\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0628\u0646\u062c\u0627\u062d":"Your message sent successfully"),{variant:"success"}),setTimeout((()=>{window.location.reload()}),2e3)):e(""+(t?"\u062d\u062f\u062b \u062e\u0637\u0623 \u0645\u0627, \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u0627":"Somthing went wront, please try again later"),{variant:"error"})}catch(n){e(n.message,{variant:"error"})}}));return(0,v.jsx)(W.Ay,{onSubmit:c,children:(0,v.jsxs)(R.A,{component:ge.bz,spacing:3,sx:{bgcolor:"background.paper",boxShadow:7,borderRadius:2,p:3,minWidth:300},children:[(0,v.jsx)(pe.m.div,{variants:(0,ge.Sk)().inUp,children:(0,v.jsxs)(d.A,{variant:"h5",children:[i("Any proplem!")," ",(0,v.jsx)("br",{}),i("Feel free to contact us.")]})}),(0,v.jsxs)(R.A,{spacing:3,children:[(0,v.jsx)(pe.m.div,{variants:(0,ge.Sk)().inUp,children:(0,v.jsx)(de.A,{fullWidth:!0,label:t?"\u0627\u0644\u0645\u0648\u0636\u0648\u0639":"Subject*",...r.register("title")})}),(0,v.jsx)(pe.m.div,{variants:(0,ge.Sk)().inUp,children:(0,v.jsx)(de.A,{fullWidth:!0,label:t?"\u0627\u062e\u0628\u0631\u0646\u0627 \u0645\u0627 \u0627\u0644\u062e\u0637\u0628":"Enter your message here*",multiline:!0,rows:5,...r.register("Body")})})]}),(0,v.jsx)(pe.m.div,{variants:(0,ge.Sk)().inUp,children:(0,v.jsx)(k.A,{size:"large",type:"submit",variant:"contained",methods:r,children:i("Submit")})})]})})}function be(){const{t:e}=(0,s.WD)();return(0,v.jsxs)(l.A,{maxWidth:"xl",children:[(0,v.jsx)(o.A,{heading:e("contact us"),links:[{name:e("dashboard"),href:t.f.dashboard.root},{name:e("user"),href:t.f.dashboard.user.root},{name:e("How can we help")}],sx:{mb:{xs:3,md:5}}}),(0,v.jsx)(je,{})]})}n(12628);var ye=n(79343);function fe(){const{currentLang:e}=(0,s.jc)(),i="ar"===e.value;return(0,v.jsxs)(l.A,{sx:{py:{xs:0,md:2},maxWidth:"100%"},children:[(0,v.jsx)(a.A,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:(0,v.jsx)(d.A,{sx:{mb:{md:4,xl:10,xs:6},mt:{md:0,xs:2},fontSize:{md:20,xs:14}},children:i?"\u064a\u0645\u0643\u0646\u0646\u0627 \u0645\u0646 \u062e\u0644\u0627\u0644 \u0637\u0628\u064a\u0628\u0646\u0627 \u062a\u0642\u062f\u064a\u0645 \u0627\u0644\u0627\u0633\u062a\u0634\u0627\u0631\u0629 \u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a\u0627 \u0645\u0646 \u062e\u0644\u0627\u0644 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0643 \u0644\u062a\u063a\u0637\u064a\u0629 \u0627\u0633\u062a\u0634\u0627\u0631\u062a\u0643 \u0641\u064a \u0645\u062c\u0627\u0644 \u0627\u0644\u0637\u0628 \u0627\u0644\u0639\u0627\u0645 \u0648\u0627\u0644\u0623\u0637\u0641\u0627\u0644.":"Through our doctor, we can provide advice electronically by contacting you to cover you consultation in the field of general medicine and children."})}),(0,v.jsx)(d.A,{variant:"h3",sx:{position:"relative",top:"-20px"},children:i?"\u0627\u062d\u062c\u0632 \u0645\u0648\u0639\u062f \u0637\u0627\u0631\u0626":"The types of emergency we provide"}),(0,v.jsxs)(a.A,{sx:{position:"absolute",height:"60%",width:"60%",display:"grid",borderRadius:2,gridTemplateColumns:"1fr 1fr"},children:[(0,v.jsxs)(a.A,{sx:{width:"110%",borderRight:"10px #4E6892 solid",borderRadius:"2% 50%  50% 2%",bgcolor:"#FBFEFB",zIndex:1,display:{md:"flex",xs:"none"}},children:[(0,v.jsx)(u.A,{src:ye,sx:{width:"70%",height:"70%",mt:"16%",ml:"15%",display:{md:"flex",xs:"none"}}}),(0,v.jsx)(a.A,{style:{border:"3px solid #4E6892",borderRadius:"100%",width:"7%",height:"13%",backgroundColor:"white",position:"absolute",left:i?"51%":"42%",top:"5%",textAlign:"center"},children:(0,v.jsx)(c.A,{width:"65%",sx:{mt:"15%",color:"#4E6892"},icon:"carbon:person"})}),(0,v.jsx)(a.A,{sx:{border:"3px solid #4E6892",borderRadius:"100%",width:"7%",height:"13%",backgroundColor:"white",position:"absolute",left:"51%",top:"40%",textAlign:"center"},children:(0,v.jsx)(c.A,{width:"65%",sx:{mt:"15%",color:"#4E6892"},icon:"guidance:card"})}),(0,v.jsx)(a.A,{style:{border:"3px solid #4E6892",borderRadius:"100%",width:"7%",height:"13%",backgroundColor:"white",position:"absolute",left:i?"50.5%":"42%",top:"80%",textAlign:"center"},children:(0,v.jsx)(c.A,{width:"65%",sx:{mt:"15%",color:"#4E6892"},icon:"fluent:location-28-regular"})})]}),(0,v.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",bgcolor:{md:"#128CA9",xs:"none"},width:{xl:"143%",lg:"143%",md:"170%",xs:"143%"},position:"relative",left:"-43%",borderRight:"#128CA9",borderRadius:"0% 2%  2% 0%"},children:[(0,v.jsxs)(k.A,{sx:{border:"3px solid #4E6892",bgcolor:"white",color:"#4E6892",position:"absolute",width:{xl:"40%",lg:"60%",md:"55%",xs:"200%"},top:{xl:"8%",lg:"7%",md:"6%",xs:"0%"},left:{xl:"30%",lg:"30%",md:"27%",xs:"28%"},"&:hover":{border:"3px solid green",bgcolor:"rgba(255, 255, 255, 0.829)",color:"green"}},children:[(0,v.jsx)(c.A,{width:"8%",sx:{color:"#4E6892",display:{md:"none",xs:"flex"},position:"relative",left:"-3%"},icon:"carbon:person"}),i?"\u0627\u0633\u062a\u0634\u0627\u0631\u0629 \u0645\u062f\u0641\u0648\u0639\u0629 \u0645\u0646 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":"Private consultation covered by patient"]}),(0,v.jsxs)(k.A,{sx:{border:"3px solid #4E6892",bgcolor:"white",color:"#4E6892",position:"absolute",width:{xl:"40%",lg:"52%",md:"55%",xs:"200%"},top:{xl:"43%",lg:"43%",md:"41%",xs:"20%"},left:{xl:"43%",lg:"43%",md:"37.5%",xs:"28%"},"&:hover":{border:"3px solid green",bgcolor:"rgba(255, 255, 255, 0.829)",color:"green"}},children:[(0,v.jsx)(c.A,{width:"8%",sx:{color:"#4E6892",display:{md:"none",xs:"flex"},position:"relative",left:"-8%"},icon:"guidance:card"})," ",i?"\u0627\u0633\u062a\u0634\u0627\u0631\u0629 \u0645\u062f\u0641\u0648\u0639\u0629 \u0645\u0646 \u0634\u0631\u0643\u0629 \u062a\u0623\u0645\u064a\u0646":"Consultation covered by insurance"]}),(0,v.jsxs)(k.A,{sx:{border:"3px solid #4E6892",bgcolor:"white",color:"#4E6892",position:"absolute",width:{xl:"40%",lg:"60%",md:"55%",xs:"200%"},top:{xl:"84%",lg:"83%",md:"81%",xs:"40%"},left:{xl:"30%",lg:"30%",md:"27%",xs:"28%"},"&:hover":{border:"3px solid green",bgcolor:"rgba(255, 255, 255, 0.829)",color:"green"}},children:[(0,v.jsx)(c.A,{width:"8%",sx:{color:"#4E6892",display:{md:"none",xs:"flex"},position:"relative",left:"-15%"},icon:"fluent:location-28-regular"})," ",i?"\u0639\u064a\u0627\u062f\u0627\u062a \u0628\u0627\u0644\u0642\u0631\u0628 \u0645\u0646\u064a":"Medical emergency near me"]})]})]})]})}function Ae(){const{t:e}=(0,s.WD)();return(0,v.jsxs)(l.A,{maxWidth:"xl",children:[(0,v.jsx)(o.A,{heading:e("Emergency"),links:[{name:e("dashboard"),href:t.f.dashboard.root},{name:e("user"),href:t.f.dashboard.user.root},{name:e("emergency")}],sx:{mb:{xs:3,md:5}}}),(0,v.jsx)(fe,{})]})}var _e=n(29013),we=n(40360);function Se(e){var i;let{pendingAppointments:n,refetch:l}=e;const{t:t}=(0,s.WD)(),{enqueueSnackbar:o}=(0,h.dh)(),[u,x]=(0,r.useState)(),{currentLang:m}=(0,s.jc)(),p="ar"===m.value,{user:g}=(0,T.Z)(),j=(0,Y.C)(!1),{fullWidth:b}=(0,r.useState)(!1),{maxWidth:y}=(0,r.useState)("xs"),A={patient:null===g||void 0===g||null===(i=g.patient)||void 0===i?void 0:i._id,title:"Appointment canceled successfully",title_arabic:"\u062a\u0645 \u0627\u0644\u063a\u0627\u0621 \u0627\u0644\u0645\u0648\u0639\u062f \u0628\u0646\u062c\u0627\u062d",photo_URL:"https://cdn-icons-png.freepik.com/512/391/391247.png",category:"appointmentcancel",type:"appointmentcancel"};return null===n||void 0===n?void 0:n.map(((e,i)=>{var n,s,r;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(f.A,{open:j.value,maxWidth:y,onClose:j.onTrue,fullWidth:b,children:[(0,v.jsx)(w.A,{children:t("Are you sure you want to cancel")}),(0,v.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",margin:"20px",gap:"10px"},children:(0,v.jsx)(G.A,{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTQmAZv0f5Hmss7QXQNK_utfkNQT24-uvV-kQ&usqp=CAU",sx:{width:"60px",height:"60px",border:"1px solid lightgreen",borderRadius:"50px"}})}),(0,v.jsxs)(C.A,{children:[(0,v.jsx)(k.A,{onClick:j.onFalse,variant:"outlined",color:"inherit",children:t("No")}),(0,v.jsx)(k.A,{variant:"contained",onClick:()=>(async()=>{try{await D.Ay.patch(`${D.vZ.appointments.one(u)}/cancel`,{info:A}),l(),o("Your appointment canceled successfully",{variant:"success"}),j.onFalse()}catch(e){console.error(e.message),o(p&&`${e.arabic_message}`||`${e.message}`,{variant:"error"})}})(),children:t("yes")})]})]}),(0,v.jsx)(a.A,{children:(0,v.jsxs)(P.A,{children:[(0,v.jsx)(le.A,{onClick:()=>(async e=>{x(e),j.onTrue()})(null===e||void 0===e?void 0:e._id),sx:{position:"absolute",top:8,right:8,"&:hover":{color:"red"}},title:t("cancel"),children:(0,v.jsx)(c.A,{icon:"mdi:cancel-bold"})}),(0,v.jsxs)(R.A,{sx:{p:3,pb:2},children:[(0,v.jsx)(Z.A,{alt:null===e||void 0===e?void 0:e.name_english,src:null===e||void 0===e||null===(n=e.unit_service)||void 0===n?void 0:n.company_logo,variant:"rounded",sx:{width:48,height:48,mb:2}}),null===e||void 0===e||null===(s=e.work_group)||void 0===s||null===(r=s.employees)||void 0===r?void 0:r.map(((i,n)=>{var l,s,o,r,a,d,c,u,h,x,m,g,j,b;return(0,v.jsx)(ae.A,{primary:!0===(null===i||void 0===i||null===(l=i.employee)||void 0===l?void 0:l.visibility_online_appointment)?(0,v.jsxs)("span",{style:{color:"inherit"},children:[" ",t("Dr.")," ",p?null===i||void 0===i||null===(s=i.employee)||void 0===s||null===(o=s.employee)||void 0===o?void 0:o.name_arabic:null===i||void 0===i||null===(r=i.employee)||void 0===r||null===(a=r.employee)||void 0===a?void 0:a.name_english]}):null,secondary:!0===(null===i||void 0===i||null===(d=i.employee)||void 0===d?void 0:d.visibility_online_appointment)?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("span",{style:{color:"inherit"},children:[" ",p?null===i||void 0===i||null===(c=i.employee)||void 0===c||null===(u=c.employee)||void 0===u||null===(h=u.speciality)||void 0===h?void 0:h.name_arabic:null===i||void 0===i||null===(x=i.employee)||void 0===x||null===(m=x.employee)||void 0===m||null===(g=m.speciality)||void 0===g?void 0:g.name_english]}),(0,v.jsx)("br",{}),(0,v.jsxs)("span",{style:{color:"inherit"},children:[" ",p?null===e||void 0===e||null===(j=e.unit_service)||void 0===j?void 0:j.name_arabic:null===e||void 0===e||null===(b=e.unit_service)||void 0===b?void 0:b.name_english]})]}):null,primaryTypographyProps:{typography:"subtitle1"},secondaryTypographyProps:{mt:1,component:"span",typography:"caption",color:"text.disabled"}},n)})),(0,v.jsx)(R.A,{spacing:.5,direction:"row",alignItems:"center",sx:{typography:"caption"},children:(0,z.tN)(null===e||void 0===e?void 0:e.start_time)}),(null===e||void 0===e?void 0:e.not)&&(0,v.jsxs)(R.A,{spacing:.5,direction:"row",alignItems:"center",sx:{color:"primary.main",typography:"caption",mt:1},children:[(0,v.jsx)(c.A,{width:16,icon:"emojione-v1:note-page"}),e.note]})]}),(0,v.jsx)(K.A,{sx:{borderStyle:"dashed"}}),(0,v.jsx)(a.A,{rowGap:2,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",sx:{p:3,justifyContent:"space-between"},children:[{label:`${(0,z.qi)(e.start_time)}`,icon:(0,v.jsx)(c.A,{width:16,icon:"icon-park-solid:time",sx:{flexShrink:0}})},{label:t(null===e||void 0===e?void 0:e.status),icon:(0,v.jsx)(c.A,{width:16,icon:"fa-solid:file-medical-alt",sx:{flexShrink:0}})}].map(((e,i)=>(0,v.jsxs)(R.A,{spacing:.5,flexShrink:0,direction:"row",alignItems:"center",sx:{color:"text.disabled",minWidth:0},children:[null===e||void 0===e?void 0:e.icon,(0,v.jsx)(d.A,{variant:"caption",noWrap:!0,children:null===e||void 0===e?void 0:e.label})]},i)))})]},i)})]})}))}function Ce(e){let{finishedAppointments:i}=e;const n=(0,H.rd)(),{t:l}=(0,s.WD)(),{currentLang:o}=(0,s.jc)(),r="ar"===o.value;return null===i||void 0===i?void 0:i.map(((e,i)=>{var s,o,u,h,x;return(0,v.jsx)(a.A,{children:(0,v.jsxs)(P.A,{children:[null===e||void 0===e||null===(s=e.work_group)||void 0===s||null===(o=s.employees)||void 0===o?void 0:o.map(((e,i)=>(0,v.jsx)(le.A,{onClick:()=>{var i,l,s,o;return o=null===e||void 0===e||null===(i=e.employee)||void 0===i||null===(l=i.employee)||void 0===l||null===(s=l.speciality)||void 0===s?void 0:s._id,void n.push(t.f.dashboard.user.bookappointment(o))},sx:{position:"absolute",top:8,right:8,"&:hover":{color:"info.main"}},children:(0,v.jsx)(c.A,{icon:"fa:repeat"})},i))),(0,v.jsxs)(R.A,{sx:{p:3,pb:2},children:[(0,v.jsx)(Z.A,{alt:null===e||void 0===e?void 0:e.name_english,src:null===e||void 0===e||null===(u=e.unit_service)||void 0===u?void 0:u.company_logo,variant:"rounded",sx:{width:48,height:48,mb:2}}),null===e||void 0===e||null===(h=e.work_group)||void 0===h||null===(x=h.employees)||void 0===x?void 0:x.map(((i,n)=>{var t,s,o,a,d,c,u,h,x,m,p,g,j,b;return(0,v.jsx)(ae.A,{primary:!0===(null===i||void 0===i||null===(t=i.employee)||void 0===t?void 0:t.visibility_online_appointment)?(0,v.jsxs)("span",{style:{color:"inherit"},children:[" ",l("Dr.")," ",r?null===i||void 0===i||null===(s=i.employee)||void 0===s||null===(o=s.employee)||void 0===o?void 0:o.name_arabic:null===i||void 0===i||null===(a=i.employee)||void 0===a||null===(d=a.employee)||void 0===d?void 0:d.name_english]}):null,secondary:!0===(null===i||void 0===i||null===(c=i.employee)||void 0===c?void 0:c.visibility_online_appointment)?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("span",{style:{color:"inherit"},children:[" ",r?null===i||void 0===i||null===(u=i.employee)||void 0===u||null===(h=u.employee)||void 0===h||null===(x=h.speciality)||void 0===x?void 0:x.name_arabic:null===i||void 0===i||null===(m=i.employee)||void 0===m||null===(p=m.employee)||void 0===p||null===(g=p.speciality)||void 0===g?void 0:g.name_english]}),(0,v.jsx)("br",{}),(0,v.jsxs)("span",{style:{color:"inherit"},children:[" ",(0,v.jsxs)("span",{style:{color:"inherit"},children:[" ",r?null===e||void 0===e||null===(j=e.unit_service)||void 0===j?void 0:j.name_arabic:null===e||void 0===e||null===(b=e.unit_service)||void 0===b?void 0:b.name_english]})]})]}):null,primaryTypographyProps:{typography:"subtitle1"},secondaryTypographyProps:{mt:1,component:"span",typography:"caption",color:"text.disabled"}},n)})),(0,v.jsx)(R.A,{spacing:.5,direction:"row",alignItems:"center",sx:{typography:"caption"},children:(0,z.tN)(null===e||void 0===e?void 0:e.start_time)}),(0,v.jsx)(R.A,{spacing:.5,direction:"row",alignItems:"center",sx:{color:"primary.main",typography:"caption",mt:1},children:(null===e||void 0===e?void 0:e.not)&&(0,v.jsxs)(R.A,{spacing:.5,direction:"row",alignItems:"center",sx:{color:"primary.main",typography:"caption",mt:1},children:[(0,v.jsx)(c.A,{width:16,icon:"emojione-v1:note-page"}),e.note]})})]}),(0,v.jsx)(K.A,{sx:{borderStyle:"dashed"}}),(0,v.jsx)(a.A,{rowGap:2,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",sx:{p:3,justifyContent:"space-between"},children:[{label:`${(0,z.qi)(e.start_time)}`,icon:(0,v.jsx)(c.A,{width:16,icon:"icon-park-solid:time",sx:{flexShrink:0}})},{label:l(null===e||void 0===e?void 0:e.status),icon:(0,v.jsx)(c.A,{width:16,icon:"fa-solid:file-medical-alt",sx:{flexShrink:0}})},{label:(0,v.jsx)(d.A,{sx:{color:"success.main",fontSize:12,ml:.1},children:null===e||void 0===e?void 0:e.final_price}),icon:(0,v.jsx)(c.A,{width:16,icon:"streamline:payment-10-solid",sx:{flexShrink:0}})}].map(((e,i)=>(0,v.jsxs)(R.A,{spacing:.5,flexShrink:0,direction:"row",alignItems:"center",sx:{color:"text.disabled",minWidth:0},children:[null===e||void 0===e?void 0:e.icon,(0,v.jsx)(d.A,{variant:"caption",noWrap:!0,children:null===e||void 0===e?void 0:e.label})]},i)))})]},i)})}))}function ke(){var e,i;const{user:n}=(0,T.Z)(),{appointmentsData:l,refetch:t}=(0,F.MJR)(null===n||void 0===n||null===(e=n.patient)||void 0===e?void 0:e._id),{finishedappointmentsData:o}=(0,F.$JN)(null===n||void 0===n||null===(i=n.patient)||void 0===i?void 0:i._id),{t:a}=(0,s.WD)(),[d,u]=(0,r.useState)("upcoming"),h=(0,r.useCallback)(((e,i)=>{u(i)}),[]),x=l.filter((e=>!1===(null===e||void 0===e?void 0:e.finished_or_not))),m=null===o||void 0===o?void 0:o.filter((e=>"finished"===e.status&&!1===(null===e||void 0===e?void 0:e.started)||!0===(null===e||void 0===e?void 0:e.finished_or_not))),p=[{value:"upcoming",label:a("Upcoming Appointments"),icon:(0,v.jsx)(c.A,{icon:"mingcute:time-line",width:24})},{value:"Finished",label:a("Finished appointment"),icon:(0,v.jsx)(c.A,{icon:"ep:finished",width:24})}];return(0,v.jsxs)(oe.A,{maxWidth:"xl",children:[(0,v.jsx)(_e.A,{value:d,onChange:h,sx:{mb:{xs:3,md:5}},children:p.map(((e,i)=>(0,v.jsx)(we.A,{label:e.label,icon:e.icon,value:e.value},i)))}),"upcoming"===d&&(0,v.jsx)(ne.A,{sx:{display:"grid",gridTemplateColumns:{md:"1fr 1fr 1fr",xs:"1fr"},gap:5,mb:2},children:(0,v.jsx)(Se,{pendingAppointments:x,refetch:t})}),"Finished"===d&&(0,v.jsx)(ne.A,{sx:{display:"grid",gridTemplateColumns:{md:"1fr 1fr 1fr",xs:"1fr"},gap:5,mb:2},children:(0,v.jsx)(Ce,{finishedAppointments:m})})]})}function Ee(){const{t:e}=(0,s.WD)();return(0,v.jsxs)(l.A,{children:[(0,v.jsx)(o.A,{heading:e("Appointments"),links:[{name:e("dashboard"),href:t.f.dashboard.root},{name:e("user"),href:t.f.dashboard.user.root},{name:e("My appointments")}],sx:{mb:{xs:3,md:5}}}),(0,v.jsx)(ke,{})]})}var Re=n(88582);function Ye(){var e,i;const{t:n}=(0,s.WD)(),{currentLang:r}=(0,s.jc)(),a="ar"===r.value,{user:d}=(0,T.Z)();return(0,v.jsxs)(l.A,{maxWidth:"xl",children:[(0,v.jsx)(o.A,{heading:n("profile"),links:[{name:n("dashboard"),href:t.f.dashboard.root},{name:n("user"),href:t.f.dashboard.root},{name:a?null===d||void 0===d||null===(e=d.patient)||void 0===e?void 0:e.name_arabic:null===d||void 0===d||null===(i=d.patient)||void 0===i?void 0:i.name_english}],sx:{mb:{xs:3,md:5}}}),(0,v.jsx)(Re.A,{})]})}var De=n(86275),Te=n(77739),Fe=n(33546);const We=n.p+"static/media/back3.809dff45792df32dedec.png";De.KQ.register({family:"ArabicFont",src:"/fonts/IBMPlexSansArabic-Regular.ttf"});const Ie=De.vv.create({page:{padding:20,backgroundColor:"#fff"},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},headerImage:{width:80,height:80},headerText:{textAlign:"center",fontSize:10,marginBottom:4},footer:{position:"absolute",bottom:10,left:20,right:20,fontSize:8,color:"#777",textAlign:"center"},content:{marginTop:20,paddingHorizontal:20},text:{fontSize:13,marginBottom:6},largeText:{fontSize:15,marginBottom:7,fontWeight:"bold"},arabicText:{fontFamily:"ArabicFont",fontSize:13,marginBottom:6},image:{marginTop:20,display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},watermark:{position:"absolute",top:"30%",left:"25%",width:"50%",opacity:.2,zIndex:-1},table:{border:"2px solid gray",margin:2},insideTable:{margin:2}}),Pe=e=>{var i,n,l,t,s,o;let{report:r}=e;return(0,v.jsx)(De.yo,{children:(0,v.jsxs)(De.YW,{size:{width:595.28,height:841.89},style:Ie.page,children:[(0,v.jsx)(De.Ss,{style:Ie.header,children:(0,v.jsxs)(De.Ss,{children:[(0,v.jsx)(De.EY,{style:Ie.headerText,children:"Drug Report"}),(0,v.jsx)(De.EY,{style:Ie.headerText,children:null===r||void 0===r||null===(i=r.unit_service)||void 0===i?void 0:i.name_english}),(0,v.jsx)(De.EY,{style:Ie.headerText,children:null===r||void 0===r||null===(n=r.unit_service)||void 0===n?void 0:n.address}),(0,v.jsx)(De.EY,{style:Ie.headerText,children:null===r||void 0===r||null===(l=r.unit_service)||void 0===l?void 0:l.phone})]})}),(0,v.jsx)(De._V,{src:ye,style:Ie.watermark}),(0,v.jsxs)(De.Ss,{style:Ie.content,children:[(0,v.jsx)(De.EY,{style:Ie.largeText,children:"Patient Information"}),(0,v.jsxs)(De.EY,{style:Ie.text,children:["Name: ",null===r||void 0===r||null===(t=r.patient)||void 0===t?void 0:t.name_english]}),(0,v.jsxs)(De.EY,{style:Ie.text,children:["Age: ",(0,z.ak)(null===r||void 0===r||null===(s=r.patient)||void 0===s?void 0:s.birth_date)]}),(0,v.jsx)(De.EY,{style:Ie.largeText,children:"Report Details"}),null===r||void 0===r||null===(o=r.medicines)||void 0===o?void 0:o.map(((e,i)=>{var n;return(0,v.jsxs)(De.Ss,{style:Ie.table,children:[(0,v.jsx)(De.Ss,{style:Ie.insideTable,children:(null===e||void 0===e||null===(n=e.medicines)||void 0===n?void 0:n.trade_name)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(De.EY,{children:"Medicines"}),(0,v.jsx)(De.EY,{style:Ie.largeText,children:e.medicines.trade_name}),(0,v.jsx)(De.EY,{style:{borderBottom:"1px solid gray"}})]})}),(0,v.jsx)(De.Ss,{style:Ie.insideTable,children:(null===e||void 0===e?void 0:e.Start_time)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(De.EY,{children:"Start Time"}),(0,v.jsx)(De.EY,{style:Ie.largeText,children:(0,z.ak)(e.Start_time)}),(0,v.jsx)(De.EY,{style:{borderBottom:"1px solid gray"}})]})}),(0,v.jsx)(De.Ss,{style:Ie.insideTable,children:(null===e||void 0===e?void 0:e.End_time)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(De.EY,{children:"End Time"}),(0,v.jsx)(De.EY,{style:Ie.largeText,children:(0,z.ak)(e.End_time)}),(0,v.jsx)(De.EY,{style:{borderBottom:"1px solid gray"}})]})}),(0,v.jsx)(De.Ss,{style:Ie.insideTable,children:(null===e||void 0===e?void 0:e.Num_days)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(De.EY,{children:"Num Days"}),(0,v.jsx)(De.EY,{style:Ie.largeText,children:e.Num_days}),(0,v.jsx)(De.EY,{style:{borderBottom:"1px solid gray"}})]})}),(0,v.jsx)(De.Ss,{style:Ie.insideTable,children:(null===e||void 0===e?void 0:e.Frequency_per_day)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(De.EY,{children:"Frequency/Day"}),(0,v.jsx)(De.EY,{style:Ie.largeText,children:e.Frequency_per_day}),(0,v.jsx)(De.EY,{style:{borderBottom:"1px solid gray"}})]})}),(0,v.jsx)(De.Ss,{style:Ie.insideTable,children:(null===e||void 0===e?void 0:e.Doctor_Comments)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(De.EY,{children:"Doctor Comments"}),(0,v.jsx)(De.EY,{style:Ie.arabicText,children:e.Doctor_Comments})]})})]},i)}))]}),(0,v.jsx)(De.EY,{style:Ie.footer,children:"Made by hakeemna"})]})})};function ze(){var e;const{t:i}=(0,s.WD)(),{currentLang:n}=(0,s.jc)(),l="ar"===n.value,{user:o}=(0,T.Z)(),[u,h]=r.useState(null),x=(0,H.rd)(),m=()=>{h(null)},{drugs:p}=(0,F.dZZ)(null===o||void 0===o||null===(e=o.patient)||void 0===e?void 0:e._id);return(null===p||void 0===p?void 0:p.length)>0?null===p||void 0===p?void 0:p.map(((e,i)=>{var n,s,r,p,g,j,b,y,f;return(0,v.jsxs)(P.A,{sx:{backgroundImage:`url(${We})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundColor:"rgba(255, 255, 255, 0.800)",backgroundBlendMode:"lighten"},children:[(0,v.jsxs)(R.A,{sx:{p:2,pb:1,height:110},children:[(0,v.jsx)(Z.A,{alt:null===e||void 0===e?void 0:e.name_english,src:null===o||void 0===o||null===(n=o.patient)||void 0===n?void 0:n.profile_picture,variant:"rounded",sx:{width:48,height:48,mb:2}}),(0,v.jsx)(R.A,{spacing:.5,direction:"row",alignItems:"center",sx:{typography:"caption"},children:(0,z.tN)(null===e||void 0===e?void 0:e.created_at)}),null===e||void 0===e||null===(s=e.medicines)||void 0===s?void 0:s.map(((e,i)=>{var n;return(0,v.jsxs)(d.A,{sx:{pt:1},children:["- ",null===e||void 0===e||null===(n=e.medicines)||void 0===n?void 0:n.trade_name]},i)}))]}),(0,v.jsxs)(R.A,{sx:{display:"inline",m:2,position:"absolute",right:0,top:0},children:[(0,v.jsx)(De.XP,{document:(0,v.jsx)(Pe,{report:e}),fileName:`${null===o||void 0===o||null===(r=o.patient)||void 0===r?void 0:r.name_english} MedicalReport.pdf`,children:(0,v.jsx)(Te.A,{title:"Download",children:(0,v.jsx)(c.A,{icon:"akar-icons:cloud-download",width:23,sx:{color:"info.main",mr:2}})})}),(0,v.jsx)(c.A,{icon:u===(null===e||void 0===e?void 0:e._id)?"emojione:eye":"tabler:eye-closed",onMouseOver:()=>{return i=null===e||void 0===e?void 0:e._id,void h(i);var i},onMouseOut:m,onClick:()=>{return i=null===e||void 0===e?void 0:e._id,void x.push(t.f.dashboard.user.prescriptionview(i));var i},width:25})]}),(0,v.jsx)(K.A,{sx:{borderStyle:"dashed",borderColor:"rgba(128, 128, 128, 0.512)",mt:10}}),(0,v.jsx)(a.A,{rowGap:1.5,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",sx:{p:3,justifyContent:"space-between"},children:[{label:l?null===o||void 0===o||null===(p=o.patient)||void 0===p?void 0:p.name_arabic:null===o||void 0===o||null===(g=o.patient)||void 0===g?void 0:g.name_english,icon:(0,v.jsx)(c.A,{width:16,icon:"fa:user",sx:{flexShrink:0}})},{label:l?null===e||void 0===e||null===(j=e.employee)||void 0===j?void 0:j.name_arabic:null===e||void 0===e||null===(b=e.employee)||void 0===b?void 0:b.name_english,icon:(0,v.jsx)(c.A,{width:16,icon:"mdi:doctor",sx:{flexShrink:0}})},{label:l?null===e||void 0===e||null===(y=e.unit_service)||void 0===y?void 0:y.name_arabic:null===e||void 0===e||null===(f=e.unit_service)||void 0===f?void 0:f.name_english,icon:(0,v.jsx)(c.A,{width:16,icon:"teenyicons:hospital-solid",sx:{flexShrink:0}})}].map(((e,i)=>(0,v.jsxs)(R.A,{spacing:.5,flexShrink:0,direction:"row",alignItems:"center",sx:{color:"black",minWidth:0},children:[null===e||void 0===e?void 0:e.icon,(0,v.jsx)(d.A,{variant:"caption",noWrap:!0,children:null===e||void 0===e?void 0:e.label})]},i)))})]},i)})):(0,v.jsx)(Fe.A,{filled:!0,title:i("No Data"),sx:{py:10}})}function Be(){const{t:e}=(0,s.WD)(),{user:i}=(0,T.Z)(),[n,d]=(0,r.useState)("Prescriptions"),u=[{value:"Prescriptions",label:e("Prescriptions"),icon:(0,v.jsx)(c.A,{icon:"material-symbols-light:prescriptions-outline",width:24})}],h=(0,r.useCallback)(((e,i)=>{d(i)}),[]);return(0,v.jsxs)(l.A,{children:[(0,v.jsx)(o.A,{heading:e("My Prescriptions"),links:[{name:e("dashboard"),href:t.f.dashboard.root},{name:e("user"),href:t.f.dashboard.user.root},{name:e("My Prescriptions")}],sx:{mb:{xs:3,md:5}}}),(0,v.jsx)(_e.A,{value:n,onChange:h,sx:{mb:{xs:3,md:5}},children:u.map(((e,i)=>(0,v.jsx)(we.A,{label:e.label,icon:e.icon,value:e.value},i)))}),"Prescriptions"===n&&(0,v.jsx)(a.A,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(1, 1fr)"},sx:{width:"100%"},children:(0,v.jsx)(ze,{user:null===i||void 0===i?void 0:i.patient._id})})]})}var Me=n(87977),$e=n(10714),Le=n(61718);const qe=n.p+"static/media/back2.8c7f81d1a6db3901a0c1.png",Ne=De.vv.create({page:{padding:20,backgroundColor:"#fff"},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},headerImage:{width:80,height:80},headerText:{textAlign:"center",fontSize:10,marginBottom:4},footer:{position:"absolute",bottom:10,left:20,right:20,fontSize:8,color:"#777",textAlign:"center"},content:{marginTop:20,paddingHorizontal:20},text:{fontSize:13,marginBottom:6},largeText:{fontSize:15,marginBottom:7,fontWeight:"bold"},image:{marginTop:20,display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},insideImage:{width:"100%",height:"auto"},watermark:{position:"absolute",top:"30%",left:"25%",width:"50%",opacity:.2,zIndex:-1}}),Oe=e=>{var i,n,l,t,s,o,r;let{report:a}=e;const d=Me.A.sanitize((null===a||void 0===a?void 0:a.description)||""),c=(0,$e.C6)(d,{wordwrap:130}),u=(0,$e.C6)(c);return(0,v.jsx)(De.yo,{children:(0,v.jsxs)(De.YW,{size:{width:595.28,height:841.89},style:Ne.page,children:[(0,v.jsxs)(De.Ss,{style:Ne.header,children:[(0,v.jsx)(De._V,{src:null===a||void 0===a||null===(i=a.unit_service)||void 0===i?void 0:i.company_logo,style:Ne.headerImage}),(0,v.jsxs)(De.Ss,{children:[(0,v.jsx)(De.EY,{style:Ne.headerText,children:"Medical Report"}),(0,v.jsx)(De.EY,{style:Ne.headerText,children:null===a||void 0===a||null===(n=a.unit_service)||void 0===n?void 0:n.name_english}),(0,v.jsx)(De.EY,{style:Ne.headerText,children:null===a||void 0===a||null===(l=a.unit_service)||void 0===l?void 0:l.address}),(0,v.jsx)(De.EY,{style:Ne.headerText,children:null===a||void 0===a||null===(t=a.unit_service)||void 0===t?void 0:t.phone})]})]}),(0,v.jsx)(De._V,{src:ye,style:Ne.watermark}),(0,v.jsxs)(De.Ss,{style:Ne.content,children:[(0,v.jsx)(De.EY,{style:Ne.largeText,children:"Patient Information"}),(0,v.jsxs)(De.EY,{style:Ne.text,children:["Name: ",null===a||void 0===a||null===(s=a.patient)||void 0===s?void 0:s.name_english]}),(0,v.jsxs)(De.EY,{style:Ne.text,children:["Age: ",(0,z.ak)(null===a||void 0===a||null===(o=a.patient)||void 0===o?void 0:o.birth_date)]}),(0,v.jsx)(De.EY,{style:Ne.largeText,children:"Report Details"}),(0,v.jsx)(De.EY,{style:Ne.text,children:u})]}),(0,v.jsx)(De.Ss,{style:Ne.image,children:null===a||void 0===a||null===(r=a.file)||void 0===r?void 0:r.map(((e,i)=>(0,v.jsx)(De._V,{src:e,style:Ne.insideImage},i)))}),(0,v.jsx)(De.EY,{style:Ne.footer,children:"Made by hakeemna"})]})})};function Ze(){var e;const{t:i}=(0,s.WD)(),{user:n}=(0,T.Z)(),[l,o]=r.useState(null),u=(0,H.rd)(),{currentLang:h}=(0,s.jc)(),x="ar"===h.value,m=()=>{o(null)},{medicalreportsdata:p}=(0,Le.sz)(null===n||void 0===n||null===(e=n.patient)||void 0===e?void 0:e._id),g=function(e,i){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;if(!e)return"";const l=[];for(let s=0;s<e.length;s+=100)l.push(e.slice(s,s+100));let t=l.join("<br />");return e.length>n&&(t=`${e.slice(0,n)}... <a href="/dashboard/user/medicalreportsview/${i}" style="color:blue;">Read more</a>`),t};return(null===p||void 0===p?void 0:p.length)>0?null===p||void 0===p?void 0:p.map(((e,s)=>{var r,h,p,j,b,y,f,A,_;return(0,v.jsxs)(P.A,{sx:{backgroundImage:`url(${qe})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundColor:"rgba(255, 255, 255, 0.800)",backgroundBlendMode:"lighten"},children:[(0,v.jsxs)(R.A,{sx:{p:2,pb:1,height:150},children:[(0,v.jsx)(Z.A,{alt:null===e||void 0===e?void 0:e.name_english,src:null===n||void 0===n||null===(r=n.patient)||void 0===r?void 0:r.profile_picture,variant:"rounded",sx:{width:48,height:48,mb:2}}),(0,v.jsx)(R.A,{spacing:.5,direction:"row",alignItems:"center",sx:{typography:"caption"},children:(0,z.tN)(null===e||void 0===e?void 0:e.created_at)}),(0,v.jsx)(d.A,{dangerouslySetInnerHTML:{__html:g(null===e||void 0===e?void 0:e.description,null===e||void 0===e?void 0:e._id)},sx:{fontSize:13}})]}),(0,v.jsxs)(R.A,{sx:{display:"inline",m:2,position:"absolute",right:0,top:0},children:[(0,v.jsx)(De.XP,{style:Ne.pdf,document:(0,v.jsx)(Oe,{report:e}),fileName:`${null===n||void 0===n||null===(h=n.patient)||void 0===h?void 0:h.name_english} MedicalReport.pdf`,children:(0,v.jsx)(Te.A,{title:i("Download"),children:(0,v.jsx)(c.A,{icon:"akar-icons:cloud-download",width:23,sx:{color:"info.main",mr:2}})})}),(0,v.jsx)(c.A,{icon:l===(null===e||void 0===e?void 0:e._id)?"emojione:eye":"tabler:eye-closed",onMouseOver:()=>{return i=null===e||void 0===e?void 0:e._id,void o(i);var i},onMouseOut:m,onClick:()=>{return i=null===e||void 0===e?void 0:e._id,void u.push(t.f.dashboard.user.medicalreportsview(i));var i},width:25})]}),(0,v.jsx)(K.A,{sx:{borderStyle:"dashed",borderColor:"rgba(128, 128, 128, 0.512)",mt:5}}),(0,v.jsx)(a.A,{rowGap:1.5,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",sx:{p:3,justifyContent:"space-between"},children:[{label:x?null===n||void 0===n||null===(p=n.patient)||void 0===p?void 0:p.name_arabic:null===n||void 0===n||null===(j=n.patient)||void 0===j?void 0:j.name_english,icon:(0,v.jsx)(c.A,{width:16,icon:"fa:user",sx:{flexShrink:0}})},{label:x?null===e||void 0===e||null===(b=e.employee)||void 0===b?void 0:b.name_arabic:null===e||void 0===e||null===(y=e.employee)||void 0===y?void 0:y.name_english,icon:(0,v.jsx)(c.A,{width:18,icon:"mdi:doctor",sx:{flexShrink:0}})},{label:x?null===e||void 0===e||null===(f=e.unit_service)||void 0===f?void 0:f.name_arabic:null===e||void 0===e||null===(A=e.unit_service)||void 0===A?void 0:A.name_english,icon:(0,v.jsx)(c.A,{width:16,icon:"teenyicons:hospital-solid",sx:{flexShrink:0}})},(null===e||void 0===e||null===(_=e.file)||void 0===_?void 0:_.length)>0&&{label:x?(0,v.jsx)("span",{style:{color:"#22C55E",fontWeight:600},children:"\u064a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0645\u0644\u0641"}):(0,v.jsx)("span",{style:{color:"#22C55E",fontWeight:600},children:"File inside"}),icon:(0,v.jsx)(c.A,{width:20,icon:"material-symbols:image-sharp",sx:{flexShrink:0}})}].map(((e,i)=>(0,v.jsxs)(R.A,{spacing:.5,flexShrink:0,direction:"row",alignItems:"center",sx:{color:"black",minWidth:0},children:[null===e||void 0===e?void 0:e.icon,(0,v.jsx)(d.A,{variant:"caption",noWrap:!0,children:null===e||void 0===e?void 0:e.label})]},i)))})]},s)})):(0,v.jsx)(Fe.A,{filled:!0,title:i("No Data"),sx:{py:10}})}var Ue=n(37762),Ke=n(45479),Ve=n(86328),He=n(71861),Ge=n(90310),Xe=n(79650),Qe=n(8555),Je=n(71806),ei=n(84882),ii=n(68738),ni=n(39652),li=n(73460),ti=n(98250);function si(){var e,i;const n=new Date,l=(0,Ke.A)(n,0),o=(0,Y.C)(),{t:a}=(0,s.WD)(),{currentLang:c}=(0,s.jc)(),u="ar"===c.value,[x,m]=(0,r.useState)([]),[p,I]=(0,r.useState)([]),[P,B]=(0,r.useState)(!1),[M,$]=(0,r.useState)(!1),[L,q]=(0,r.useState)(null),N=(0,H.rd)(),{enqueueSnackbar:O}=(0,h.dh)(),{user:Z}=(0,T.Z)(),{specialtiesData:U}=(0,F.srd)({select:"name_english name_arabic"}),{oldmedicalreportsdata:K,refetch:V}=(0,F.T9L)(null===Z||void 0===Z||null===(e=Z.patient)||void 0===e?void 0:e._id),[G,X]=(0,r.useState)(),[Q,J]=(0,r.useState)(),ee=function(e){let{inputData:i,filtersbyname:n}=e;if(!n)return i;var l;n&&(i=null===(l=i)||void 0===l?void 0:l.filter((e=>(null===e||void 0===e?void 0:e.name)&&-1!==(null===e||void 0===e?void 0:e.name.toLowerCase().indexOf(null===n||void 0===n?void 0:n.toLowerCase()))||(null===e||void 0===e?void 0:e._id)===n||JSON.stringify(e.code)===n)));return i}({inputData:K,filtersbyname:Q}),ie=()=>{q(null)},ne=g.Ik().shape({date:g.gl().required("Date is required"),file:g.YO().required(),name:g.Yj().required("File name is required"),note:g.Yj().nullable(),agree:g.zM().required(),specialty:g.Yj().required()}),le={date:"",file:[],name:"",note:"",patient:null===Z||void 0===Z||null===(i=Z.patient)||void 0===i?void 0:i._id,agree:!P,specialty:""},te=(0,j.mN)({mode:"all",resolver:(0,b.t)(ne),defaultValues:le}),{setValue:se,control:oe,reset:re,watch:ae,handleSubmit:ce,formState:{isSubmitting:ue}}=te,he=ae(),xe=()=>{$(!1),o.onTrue()},ve=async(e,i)=>{const n=i.map((e=>(async e=>{const i=await fetch(`http://localhost:3000/uploaded-files/patients/old_medical_reports/${e}`),n=await i.blob();return new Promise(((e,i)=>{const l=new FileReader;l.onloadend=()=>e(l.result),l.onerror=i,l.readAsDataURL(n)}))})(e)));return(await Promise.all(n)).forEach(((n,l)=>{e.addImage(n,"JPEG",10,10*l+60,180,200),l<i.length-1&&e.addPage()})),e};return(0,v.jsxs)(v.Fragment,{children:[M&&(0,v.jsx)(Ve.A,{in:M,timeout:600,children:(0,v.jsxs)(He.A,{severity:"info",variant:"filled",sx:{width:"50%",mb:2},action:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k.A,{color:"inherit",size:"small",variant:"outlined",sx:{mr:1,border:e=>`1px solid ${(0,Ge.X4)(e.palette.common.white,.48)}`},onClick:()=>{$(!1)},children:a("Cancel")}),(0,v.jsx)(k.A,{size:"small",color:"info",variant:"contained",sx:{bgcolor:"info.dark"},onClick:()=>{$(!1),(async()=>{try{await D.Ay.patch(`/api/oldmedicalreports/${null===p||void 0===p?void 0:p._id}`,{Activation:"Inactive"}),O(u?"\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u062a\u0642\u0631\u064a\u0631 \u0628\u0646\u062c\u0627\u062d":"Medical report deleted successfully",{variant:"success"}),V()}catch(e){O(u?"\u062d\u062f\u062b \u062e\u0637\u0623 \u0645\u0627, \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0647 \u0644\u0627\u062d\u0642\u0627":"Unable to delete",{variant:"error"})}})()},children:a("Confirm")})]}),children:[a("Please confirm the delettion of "),null===p||void 0===p?void 0:p.name]})}),(0,v.jsxs)(k.A,{variant:"outlined",color:"success",onClick:xe,sx:{gap:1,mb:5,display:{md:"inline-flex",xs:"none"}},children:[a("Upload Your old medical report"),(0,v.jsx)(ti.A,{icon:"mingcute:add-line"})]}),(0,v.jsxs)(k.A,{variant:"outlined",color:"success",onClick:xe,sx:{gap:1,mb:5,m:1,display:{md:"none",xs:"inline-flex"}},children:[a("new"),(0,v.jsx)(ti.A,{icon:"mingcute:add-line"})]}),(0,v.jsx)(de.A,{onChange:e=>J(e.target.value),name:"name",onClick:()=>$(!1),sx:{mb:5,float:{md:"right",xs:"left"}},placeholder:"Search..."}),(0,v.jsx)(f.A,{open:o.value,onClose:o.onFalse,children:(0,v.jsxs)(W.Ay,{methods:te,onSubmit:ce((async e=>{const i=new FormData;Object.keys(e).forEach((n=>{i.append(n,e[n])})),x&&x.forEach((e=>i.append("medicalreports[]",e)));try{var n;await D.Ay.post("/api/oldmedicalreports",i),await D.Ay.post(D.vZ.history.all,{patient:null===Z||void 0===Z||null===(n=Z.patient)||void 0===n?void 0:n._id,name_english:"a medical report has been created",name_arabic:"\u062a\u0645 \u0627\u0646\u0634\u0627\u0621 \u062a\u0642\u0631\u064a\u0631 \u0637\u0628\u064a",sub_english:`${G} medical report`,sub_arabic:` \u062a\u0642\u0631\u064a\u0631 \u0637\u0628\u064a \u0644\u062a\u062e\u0635\u0635 \u0627\u0644 ${G}`,actual_date:null===e||void 0===e?void 0:e.date}),O("medical report uploaded successfully",{variant:"success"}),o.onFalse(),re(),B(!P),V()}catch(l){console.error(l.message),O(u&&`${l.arabic_message}`||`${l.message}`,{variant:"error"})}})),children:[(0,v.jsx)(w.A,{sx:{color:"red",position:"relative",top:"10px"},children:a("IMPORTANT")}),(0,v.jsxs)(S.A,{children:[(0,v.jsx)(d.A,{sx:{mb:5,fontSize:14},children:u?"\u0644\u0627 \u064a\u0646\u0628\u063a\u064a \u0623\u0646 \u064a\u062a\u0645 \u062a\u0641\u0633\u064a\u0631 \u0627\u0644\u0646\u062a\u0627\u0626\u062c \u0648\u062a\u0642\u064a\u064a\u0645\u0647\u0627 \u0628\u0634\u0643\u0644 \u0641\u0631\u062f\u064a\u060c \u0628\u0644 \u0628\u062d\u0636\u0648\u0631 \u0627\u0644\u0637\u0628\u064a\u0628 \u0627\u0644\u0630\u064a \u064a\u062a\u0645 \u0627\u0633\u062a\u0634\u0627\u0631\u062a\u0647 \u0628\u0634\u0623\u0646 \u062a\u0644\u0643 \u0627\u0644\u0646\u062a\u0627\u0626\u062c \u0645\u0639 \u0645\u0631\u0627\u0639\u0627\u0629 \u0627\u0644\u0633\u064a\u0627\u0642 \u0627\u0644\u0637\u0628\u064a \u0627\u0644\u0643\u0627\u0645\u0644 \u0644\u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u0631\u064a\u0636":"The interpretation and evaluation of the results should not be done individually, but rather in the presence of a physician who is consulted on those results and taking into account the full medical context of the patient\u2019s condition."}),(0,v.jsx)(W.o3,{name:"name",label:a("File name*"),sx:{mb:2}}),(0,v.jsx)(W.tX,{label:a("Specialty*"),fullWidth:!0,name:"specialty",PaperPropsSx:{textTransform:"capitalize"},sx:{mb:2},children:U.map(((e,i)=>(0,v.jsx)(E.A,{lang:"ar",value:null===e||void 0===e?void 0:e._id,sx:{mb:1},onClick:()=>X(null===e||void 0===e?void 0:e.name_english),children:u?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},i)))}),(0,v.jsx)(j.xI,{name:"date",control:oe,render:e=>{let{field:i,fieldState:{error:n}}=e;return(0,v.jsx)(_.l,{...i,label:a("Date of making the medical report*"),maxDate:l,sx:{mb:2},slotProps:{textField:{fullWidth:!0,error:!!n,helperText:null===n||void 0===n?void 0:n.message}}})}}),(0,v.jsx)(W.Y4,{autoFocus:!0,fullWidth:!0,name:"file",margin:"dense",sx:{mb:2},variant:"outlined",onDrop:e=>{const i=(()=>{const e=[".jpeg",".png",".jpg",".gif"];return{validateFile:i=>{const n=i.slice(i.lastIndexOf(".")).toLowerCase();return e.includes(n)},validateSize:e=>e<=3145728}})(e.reduce(((e,i)=>e+i.size),0));if(e.every((e=>i.validateFile(e.name)&&i.validateSize(e.size)))){const i=e;console.log("newFiles",i),m((e=>[...e,...i])),se("file",[...he.file,...i])}else O(a("Invalid file type or size"),{variant:"error"})},multiple:!0}),(0,v.jsx)(W.o3,{name:"note",label:a("More information")})]}),(0,v.jsxs)(R.A,{direction:"row",gap:1,alignItems:"center",sx:{mx:4},children:[(0,v.jsx)(A.A,{size:"small",name:"agree",color:"success",onChange:()=>{B(!P)}}),(0,v.jsxs)(d.A,{sx:{color:"text.secondary",typography:"caption",textAlign:"center",fontSize:{md:12,xs:10}},children:[a("I have read and agreed to these "),"\xa0",(0,v.jsxs)(y.A,{underline:"always",color:"text.primary",children:[a("Terms of Service "),"\xa0"]}),a("And the "),"\xa0",(0,v.jsx)(y.A,{underline:"always",color:"text.primary",children:a("Privacy Policy")}),"."]})]}),(0,v.jsxs)(C.A,{children:[(0,v.jsx)(k.A,{onClick:()=>{$(!1),o.onFalse()},variant:"outlined",color:"inherit",children:a("Cancel")}),!1===P?(0,v.jsx)(k.A,{type:"submit",loading:ue,variant:"contained",disabled:!0,children:a("Upload")}):(0,v.jsx)(k.A,{type:"submit",loading:ue,variant:"contained",children:a("Upload")})]})]})}),null===ee||void 0===ee?void 0:ee.map(((e,i)=>{var n,l;return(0,v.jsx)(Xe.A,{component:Qe.A,sx:{border:"1px solid lightgray",borderRadius:"6px",mb:2},children:(0,v.jsxs)(Je.A,{sx:{mb:1},children:[(0,v.jsx)(ei.A,{children:(0,v.jsxs)(ii.A,{children:[(0,v.jsxs)(ni.A,{children:[" ",a("File Name")]}),(0,v.jsxs)(ni.A,{children:[" ",a("Specialty")]}),(0,v.jsxs)(ni.A,{children:[" ",a("Date")]}),null!==e&&void 0!==e&&e.note?(0,v.jsxs)(ni.A,{children:[" ",a("Note")]}):"",(0,v.jsxs)(ni.A,{children:[" ",a("Options")]})]})}),(0,v.jsx)(li.A,{children:(0,v.jsxs)(ii.A,{children:[(0,v.jsx)(ni.A,{children:null!==e&&void 0!==e&&e.name&&e.name.length>10?`${e.name.substring(0,10)}...`:null===e||void 0===e?void 0:e.name}),u?(0,v.jsx)(ni.A,{children:(null===e||void 0===e||null===(n=e.specialty)||void 0===n?void 0:n.name_arabic.substring(0,12))||""}):(0,v.jsx)(ni.A,{children:(null===e||void 0===e||null===(l=e.specialty)||void 0===l?void 0:l.name_english.substring(0,12))||""}),(0,v.jsx)(ni.A,{children:(0,z.tN)(null===e||void 0===e?void 0:e.date)}),(null===e||void 0===e?void 0:e.note)&&(0,v.jsx)(ni.A,{children:e.note.length>7?`${e.note.substring(0,7)}...`:e.note}),(0,v.jsxs)(ni.A,{children:[(0,v.jsxs)(k.A,{onClick:()=>(e=>{$(!1);const i=new Ue.Ay;if(i.addFont("/fonts/IBMPlexSansArabic-Regular.ttf","ArabicFont","normal"),i.setFont("ArabicFont"),i.text(`File Name: ${e.name}`,10,10),i.text(`Specialty: ${e.specialty.name_english}`,10,20),i.text(`Date: ${(0,z.tN)(e.date)}`,10,30),i.text("Note: ",10,40),e.note){const n=50;let l=40,t=e.note;for(;t.length>0;){const e=t.substring(0,n);i.text(`${e}`,25,l),l+=10,t=t.substring(n)}}ve(i,e.file).then((i=>{i.save(`${e.name}.pdf`)}))})(e),variant:"outlined",sx:{mr:1},children:[a("Download")," \xa0 ",(0,v.jsx)(ti.A,{icon:"flat-color-icons:download"})]}),(0,v.jsxs)(k.A,{sx:{mr:1},onMouseOver:()=>{return i=null===e||void 0===e?void 0:e._id,void q(i);var i},onMouseOut:ie,onClick:()=>{return i=null===e||void 0===e?void 0:e._id,void N.push(t.f.dashboard.user.oldmedicalreportsview(i));var i},children:[a("View")," \xa0"," ",(0,v.jsx)(ti.A,{icon:L===(null===e||void 0===e?void 0:e._id)?"emojione:eye":"tabler:eye-closed"})]}),(0,v.jsxs)(k.A,{onClick:()=>{I(e),$(!0)},children:[a("Delete")," \xa0 ",(0,v.jsx)(ti.A,{icon:"flat-color-icons:delete-database"})]})]})]})})]})},i)}))]})}function oi(){const{user:e}=(0,T.Z)(),{t:i}=(0,s.WD)(),[n,d]=(0,r.useState)("Medicalreports"),u=(0,r.useCallback)(((e,i)=>{d(i)}),[]),h=[{value:"Medicalreports",label:i("Medical Reports"),icon:(0,v.jsx)(c.A,{icon:"solar:user-id-bold",width:24})},{value:"oldmedicaloeports",label:i("Old Medical Reports"),icon:(0,v.jsx)(c.A,{icon:"solar:bell-bing-bold",width:24})}];return(0,v.jsxs)(l.A,{children:[(0,v.jsx)(o.A,{heading:i("Medical Reports"),links:[{name:i("dashboard"),href:t.f.dashboard.root},{name:i("user"),href:t.f.dashboard.user.root},{name:i("Medical Reports")}],sx:{mb:{xs:3,md:5}}}),(0,v.jsx)(_e.A,{value:n,onChange:u,sx:{mb:{xs:3,md:5}},children:h.map(((e,i)=>(0,v.jsx)(we.A,{label:e.label,icon:e.icon,value:e.value},i)))}),"Medicalreports"===n&&(0,v.jsx)(a.A,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(1, 1fr)"},sx:{width:"100%"},children:(0,v.jsx)(Ze,{user:null===e||void 0===e?void 0:e.patient._id})}),"oldmedicaloeports"===n&&(0,v.jsx)(si,{user:null===e||void 0===e?void 0:e.patient._id})]})}var ri=n(19853),ai=n.n(ri),di=n(9944),ci=n.n(di),ui=n(67555);function hi(e){var i,n,l,o,r,h,x,m,p,g,j,b,y,f,A,_,w,S,C,E,R,Y,D,T,W;let{info:I}=e;const{nearstappointment:P}=(0,F.iPS)(null===I||void 0===I?void 0:I._id),B=(0,H.rd)(),{t:M}=(0,s.WD)(),{currentLang:$}=(0,s.jc)(),L="ar"===$.value,q=e=>{B.push(t.f.dashboard.user.doctorpage(e))};return(0,v.jsxs)(a.A,{sx:{margin:5,padding:2,borderRadius:2,display:"flex",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)",gap:1},children:[(0,v.jsx)(a.A,{children:(0,v.jsx)(u.A,{src:null===I||void 0===I||null===(i=I.employee)||void 0===i?void 0:i.picture,sx:{width:"100px",height:"100%",borderRight:"2px lightgray dashed",display:{md:"block",xs:"none"}}})}),(0,v.jsxs)(a.A,{sx:{mr:4},children:[(0,v.jsxs)(a.A,{sx:{display:"inline-flex"},children:[(0,v.jsx)(d.A,{sx:{fontSize:13},children:M("Dr.")}),"\xa0",(0,v.jsx)(d.A,{sx:{fontSize:13},children:L?null===I||void 0===I||null===(n=I.employee)||void 0===n?void 0:n.name_arabic:null===I||void 0===I||null===(l=I.employee)||void 0===l?void 0:l.name_english}),"\xa0"]}),null===I||void 0===I||null===(o=I.employee)||void 0===o||null===(r=o.languages)||void 0===r?void 0:r.map(((e,i)=>(0,v.jsxs)(d.A,{sx:{fontSize:13,display:"inline"},children:[e,"\xa0"]},i))),(0,v.jsxs)(d.A,{sx:{fontSize:11,color:"grey"},children:[L?null===I||void 0===I||null===(h=I.employee)||void 0===h||null===(x=h.speciality)||void 0===x?void 0:x.name_arabic:null===I||void 0===I||null===(m=I.employee)||void 0===m||null===(p=m.speciality)||void 0===p?void 0:p.name_english," ","/"," ",L?null===I||void 0===I||null===(g=I.employee)||void 0===g||null===(j=g.sub_speciality)||void 0===j?void 0:j.name_arabic:null===I||void 0===I||null===(b=I.employee)||void 0===b||null===(y=b.sub_speciality)||void 0===y?void 0:y.name_english]}),(0,v.jsxs)(a.A,{sx:{position:"relative",left:"-0.1%",mt:1},children:[(0,v.jsxs)(d.A,{sx:{fontSize:13},children:[(0,v.jsx)(c.A,{width:18,icon:"openmoji:hospital"})," ",(0,v.jsx)("span",{style:{position:"relative",top:-3},children:L?null===I||void 0===I||null===(f=I.unit_service)||void 0===f?void 0:f.name_arabic:null===I||void 0===I||null===(A=I.unit_service)||void 0===A?void 0:A.name_english})]}),(0,v.jsxs)(d.A,{sx:{fontSize:13},children:[(0,v.jsx)(c.A,{width:18,sx:{color:"info.main"},icon:"mdi:location"})," ",(0,v.jsxs)("span",{style:{position:"relative",top:-3},children:[L?null===I||void 0===I||null===(_=I.unit_service)||void 0===_||null===(w=_.city)||void 0===w?void 0:w.name_arabic:null===I||void 0===I||null===(S=I.unit_service)||void 0===S||null===(C=S.city)||void 0===C?void 0:C.name_english," ","-"," ",L?null===I||void 0===I||null===(E=I.unit_service)||void 0===E||null===(R=E.country)||void 0===R?void 0:R.name_arabic:null===I||void 0===I||null===(Y=I.unit_service)||void 0===Y||null===(D=Y.country)||void 0===D?void 0:D.name_english]})]}),(0,v.jsxs)(d.A,{sx:{fontSize:13},children:[(0,v.jsx)(c.A,{width:18,icon:"flat-color-icons:cell-phone"})," ",(0,v.jsx)("span",{dir:"ltr",style:{position:"relative",top:-3},children:null===I||void 0===I||null===(T=I.unit_service)||void 0===T?void 0:T.phone})]})]})]}),!0===(null===I||void 0===I?void 0:I.visibility_online_appointment)?(0,v.jsxs)(a.A,{children:[(0,v.jsxs)(d.A,{sx:{fontSize:14,mb:1},children:[M("Nearst appointments:")," "]}),P?(0,v.jsx)(k.A,{sx:{bgcolor:"rgb(231, 231, 231)",borderRadius:0},onClick:()=>q(null===I||void 0===I?void 0:I._id),children:(0,v.jsx)(d.A,{sx:{fontSize:14},children:`${(0,z.Qq)(null===P||void 0===P?void 0:P.start_time)} - ${(0,z.qi)(null===P||void 0===P?void 0:P.start_time)}`})}):(0,v.jsx)(k.A,{disabled:!0,sx:{fontSize:13},children:"-- / --"}),(0,v.jsx)(k.A,{sx:{mt:3,display:"block"},variant:"contained",color:"success",onClick:()=>q(null===I||void 0===I?void 0:I._id),children:M("View all")})]}):(0,v.jsxs)(a.A,{children:[(0,v.jsxs)(d.A,{sx:{fontSize:14,mb:1},children:[M("Not available to book")," ",(0,v.jsx)("br",{})," ",M("an appointment online")]}),(0,v.jsx)(k.A,{sx:{mt:3,display:"block"},variant:"contained",color:"success",dir:"ltr",children:null===I||void 0===I||null===(W=I.unit_service)||void 0===W?void 0:W.phone})]})]})}function xi(e){let{doc:i}=e;const n=(0,H.g)(),{id:l}=n,{loading:t}=(0,F.Ibe)(l);return t?(0,v.jsx)(ui.x,{}):(0,v.jsx)(a.A,{sx:{display:"grid",gridTemplateColumns:{xs:"column",md:"1fr 1fr"}},children:null===i||void 0===i?void 0:i.map(((e,i)=>(0,v.jsx)(hi,{info:e},i)))})}function vi(e){let{filters:i,onSearch:n,onPrint:l,onDownload:t,canReset:o,onResetFilters:a}=e;const{t:d}=(0,s.WD)(),u=(0,r.useCallback)((e=>{n(e.target.value)}),[n]);return(0,v.jsx)(R.A,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:(0,v.jsx)(R.A,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:(0,v.jsx)(de.A,{fullWidth:!0,onChange:u,placeholder:d("Search name or number..."),InputProps:{startAdornment:(0,v.jsx)(ce.A,{position:"start",children:(0,v.jsx)(c.A,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})})})}var mi=n(29694),pi=n(58846),gi=n(53193),ji=n(51440);function bi(e){let{open:i,onOpen:n,onClose:l,filters:t,onFilters:o,canReset:a,onResetFilters:u,dataFiltered:h,insuranseCosData:x,countriesOptions:m,dateError:p}=e;const{t:g}=(0,s.WD)(),{currentLang:j}=(0,s.jc)(),b="ar"===j.value,y=(0,r.useCallback)((e=>{o("countries",e.target.value)}),[o]),f=(0,r.useCallback)((e=>{o("insurance",e.target.value)}),[o]),A=(0,v.jsxs)(R.A,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2,pr:1,pl:2.5},children:[(0,v.jsx)(d.A,{variant:"h6",sx:{flexGrow:1},children:g("Filters")}),(0,v.jsx)(Te.A,{title:"Reset",children:(0,v.jsx)(le.A,{onClick:u,children:(0,v.jsx)(mi.A,{color:"error",variant:"dot",invisible:!a,children:(0,v.jsx)(c.A,{icon:"solar:restart-bold"})})})}),(0,v.jsx)(le.A,{onClick:l,children:(0,v.jsx)(c.A,{icon:"mingcute:close-line"})})]}),_=(0,v.jsxs)(gi.A,{children:[(0,v.jsx)(d.A,{variant:"subtitle2",sx:{mb:1},children:g("Countries")}),(0,v.jsx)(U.A,{onChange:y,name:"country",children:null===m||void 0===m?void 0:m.map(((e,i)=>(0,v.jsx)(E.A,{lang:"ar",value:e._id,children:b?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},i)))})]}),w=(0,v.jsxs)(gi.A,{children:[(0,v.jsx)(d.A,{variant:"subtitle2",sx:{mb:1},children:g("Insurance")}),(0,v.jsx)(U.A,{onChange:f,name:"insurance",children:null===x||void 0===x?void 0:x.map(((e,i)=>(0,v.jsx)(E.A,{lang:"ar",value:e._id,children:b?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},i)))})]});return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k.A,{disableRipple:!0,color:"inherit",endIcon:(0,v.jsx)(mi.A,{color:"error",variant:"dot",invisible:!a,children:(0,v.jsx)(c.A,{icon:"ic:round-filter-list"})}),onClick:n,children:g("Filters")}),(0,v.jsxs)(pi.Ay,{anchor:"right",open:i,onClose:l,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:280}},children:[A,(0,v.jsx)(K.A,{}),(0,v.jsx)(ji.A,{sx:{px:2.5,py:3},children:(0,v.jsxs)(R.A,{spacing:3,children:[_,w]})})]})]})}var yi=n(26487),fi=n(91264);function Ai(e){let{filters:i,onFilters:n,canReset:l,onResetFilters:t,results:s,paymentMethodsOptions:o,countriesOptions:r,citiesOptions:d,unitServicesOptions:u,appointmentTypeOptions:h,...x}=e;const m=(0,fi.fT)(i.start_date,i.end_date);return(0,v.jsxs)(R.A,{spacing:1.5,...x,children:[(0,v.jsxs)(a.A,{sx:{typography:"body2"},children:[(0,v.jsx)("strong",{children:s}),(0,v.jsx)(a.A,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,v.jsxs)(R.A,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[i.start_date&&i.end_date&&(0,v.jsx)(_i,{label:"Time:",children:(0,v.jsx)(yi.A,{size:"small",label:m,onDelete:()=>{n("start_date",null),n("end_date",null)}})}),"all"!==i.countries&&(0,v.jsx)(_i,{label:"Countries:",children:(0,v.jsx)(yi.A,{size:"small",label:r.filter((e=>e._id===i.countries))[0].name_english,onDelete:()=>{n("countries","all")}})}),l&&(0,v.jsx)(k.A,{color:"error",onClick:t,startIcon:(0,v.jsx)(c.A,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}function _i(e){let{label:i,children:n,sx:l,...t}=e;return(0,v.jsxs)(R.A,{component:Qe.A,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...l},...t,children:[(0,v.jsx)(a.A,{component:"span",sx:{typography:"subtitle2"},children:i}),(0,v.jsx)(R.A,{spacing:1,direction:"row",flexWrap:"wrap",children:n})]})}const wi={unitServices:"all",countries:"all",insurance:"all",start_date:null,end_date:null,rate:"all",appointtypes:"all",payment_methods:"all",name:""};function Si(){const{id:e}=(0,H.g)(),i=(0,Y.C)(),[n,s]=(0,r.useState)(),{data:o}=(0,F.Ibe)(e),{countriesData:a}=(0,F.oOq)(),{insuranseCosData:d}=(0,F.zEM)(),[c,u]=(0,r.useState)(wi),h=!(!c.Offer_start_date||!c.Offer_end_date)&&c.Offer_start_date.getTime()>c.Offer_end_date.getTime(),x=function(e){let{inputData:i,search:n,filters:l,sortBy:t}=e;const{insurance:s}=l,{countries:o}=l;"rateing"===t&&(i=ci()(i,["employee.rate"],["desc"]));"all"!==s&&(i=i.filter((e=>{var i,n,l;return(null===e||void 0===e||null===(i=e.unit_service)||void 0===i?void 0:i.insurance)&&(null===e||void 0===e||null===(n=e.unit_service)||void 0===n||null===(l=n.insurance)||void 0===l?void 0:l.some((e=>e._id===s)))})));"all"!==o&&(i=i.filter((e=>{var i,n;return(null===e||void 0===e?void 0:e.unit_service)&&(null===e||void 0===e||null===(i=e.unit_service)||void 0===i||null===(n=i.country)||void 0===n?void 0:n._id)===o})));n&&(i=i.filter((e=>{var i,l,t,s,o,r;return(null===e||void 0===e?void 0:e.employee)&&-1!==(null===e||void 0===e||null===(i=e.employee)||void 0===i||null===(l=i.name_english.toLowerCase())||void 0===l?void 0:l.indexOf(n.toLowerCase()))||(null===e||void 0===e?void 0:e.unit_service)&&-1!==(null===e||void 0===e||null===(t=e.unit_service)||void 0===t||null===(s=t.name_arabic)||void 0===s?void 0:s.indexOf(n.toLowerCase()))||(null===e||void 0===e?void 0:e.unit_service)&&-1!==(null===e||void 0===e||null===(o=e.unit_service)||void 0===o||null===(r=o.name_english.toLowerCase())||void 0===r?void 0:r.indexOf(n.toLowerCase()))||(null===e||void 0===e?void 0:e._id)===n||JSON.stringify(e.code)===n})));return i}({inputData:o,filters:c,search:n,dateError:h}),m=!ai()(wi,c),p=(0,r.useCallback)(((e,i)=>{u((n=>({...n,[e]:i})))}),[]),g=(0,r.useCallback)((()=>{u(wi)}),[]),j=(0,v.jsxs)(R.A,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[(0,v.jsx)(vi,{onSearch:s,hrefItem:e=>t.f.dashboard.job.details(e)}),(0,v.jsx)(R.A,{direction:"row",spacing:1,flexShrink:0,children:(0,v.jsx)(bi,{open:i.value,onOpen:i.onTrue,onClose:i.onFalse,filters:c,onFilters:p,canReset:m,onResetFilters:g,countriesOptions:a,insuranseCosData:d,dataFiltered:x,dateError:h})})]}),b=(0,v.jsx)(Ai,{countriesOptions:a,data:o,filters:c,onResetFilters:g,canReset:m,onFilters:p,results:null===x||void 0===x?void 0:x.length});return(0,v.jsxs)(l.A,{maxWidth:"xl",children:[(0,v.jsxs)(R.A,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[j,m&&b]}),(0,v.jsx)(l.A,{children:(0,v.jsx)(xi,{doc:x})})]})}function Ci(){const{t:e}=(0,s.WD)();return(0,v.jsxs)(l.A,{maxWidth:"xl",children:[(0,v.jsx)(o.A,{heading:e("Book appointment"),links:[{name:e("dashboard"),href:t.f.dashboard.root},{name:e("user"),href:t.f.dashboard.user.root},{name:e("book appointment")}],sx:{mb:{xs:3,md:5}}}),(0,v.jsx)(Si,{})]})}n(62100);var ki=n(26240),Ei=n(16236),Ri=n(10202),Yi=n(75950),Di=n(94289),Ti=n(70111),Fi=n(78223);function Wi(e){let{row:i,selected:n,onSelectRow:l,onViewRow:t,onEditRow:o,onDeleteRow:r}=e;const{sequence_number:a,stakeholder:d,unit_service:u,Balance:h,Currency:x,status:m,created_at:p}=i,{t:g}=(0,s.WD)(),{currentLang:j}=(0,s.jc)(),b="ar"===j.value;return(0,v.jsxs)(ii.A,{hover:!0,selected:n,children:[(0,v.jsx)(ni.A,{align:"center",sx:{cursor:"pointer",color:"#3F54EB"},onClick:t,children:a}),(0,v.jsx)(ni.A,{align:"center",sx:{cursor:"pointer",color:"#3F54EB"},onClick:t,children:(0,z.ts)(p)}),(0,v.jsx)(ni.A,{align:"center",children:b?null===u||void 0===u?void 0:u.name_arabic:null===u||void 0===u?void 0:u.name_english}),(0,v.jsx)(ni.A,{align:"center",children:b?null===d||void 0===d?void 0:d.name_arabic:null===d||void 0===d?void 0:d.name_english}),(0,v.jsx)(ni.A,{align:"center",sx:{cursor:"pointer",color:"#3F54EB"},onClick:t,children:(0,Di.KZ)(h,null===x||void 0===x?void 0:x.symbol)}),(0,v.jsx)(ni.A,{align:"center",children:(0,v.jsx)(Ei.A,{variant:"soft",color:("paid"===m?"success":"installment"===m&&"warning")||"insurance"===m&&"info"||"default",children:g(m)})}),(0,v.jsxs)(ni.A,{align:"right",children:[(0,v.jsx)(De.XP,{document:d?(0,v.jsx)(Ti.A,{invoice:i,currentStatus:m}):(0,v.jsx)(Fi.A,{invoice:i,currentStatus:m}),fileName:`${(0,z.ts)(new Date(i.created_at),"yyyy")} - ${i.sequence_number}`,style:{textDecoration:"none"},children:e=>{let{loading:i}=e;return(0,v.jsx)(Te.A,{title:g("download"),children:(0,v.jsx)(le.A,{children:(0,v.jsx)(c.A,{icon:"eva:cloud-download-fill"})})})}}),(0,v.jsx)(Te.A,{title:g("print"),children:(0,v.jsx)(le.A,{onClick:async()=>{const e=await(0,De.x8)(d?(0,v.jsx)(Ti.A,{invoice:i,currentStatus:m}):(0,v.jsx)(Fi.A,{invoice:i,currentStatus:m})).toBlob(),n=URL.createObjectURL(e),l=document.createElement("iframe");l.style.display="none",l.src=n,document.body.appendChild(l),l.onload=()=>{l.contentWindow.print()}},children:(0,v.jsx)(c.A,{icon:"solar:printer-minimalistic-bold"})})})]})]})}const Ii=[{id:"sequence_number",label:"sequence"},{id:"created_at",label:"date"},{id:"unit_service",label:"unit of service"},{id:"stakeholder",label:"stakeholder"},{id:"Balance",label:"total amount"},{id:"status",label:"status"},{id:"",width:120}],Pi={status:"all"};function zi(){const e=(0,ki.A)(),i=(0,Ri.Mp)(),n=(0,H.rd)(),o=(0,Yi.K2)({defaultOrderBy:"created_at"}),{user:a}=(0,T.Z)(),{t:d}=(0,s.WD)(),[c,u]=(0,r.useState)(Pi),{economecMovementsData:h,lengths:x}=(0,F.Lh_)({patient:null===a||void 0===a?void 0:a.patient._id,page:o.page||0,sortBy:o.orderBy||"created_at",rowsPerPage:o.rowsPerPage||10,order:o.order||"desc",populate:[{path:"stakeholder",select:"name_english name_arabic company_logo address phone "},{path:"unit_service",select:"name_english name_arabic company_logo address phone "},{path:"patient",select:"name_english name_arabic address mobile_num1"},{path:"Provided_services",populate:"service_type"},{path:"provided_products",populate:"product"}],...c}),m=!!c.startDate||!!c.endDate,p=!h.length&&m||!h.length,g=[{value:"all",label:"All",color:"default",count:x.allLength||0},{value:"paid",label:"paid",color:"success",count:x.paidLength||0},{value:"installment",label:"installment",color:"warning",count:x.installmentLength||0},{value:"insurance",label:"insurance",color:"info",count:x.insuranceLength||0}],j=(0,r.useCallback)(((e,i)=>{o.onResetPage(),u((n=>({...n,[e]:i})))}),[o]),b=(0,r.useCallback)((e=>{n.push(t.f.dashboard.user.financilmovmentInfo(e))}),[n]),y=(0,r.useCallback)(((e,i)=>{j("status",i)}),[j]);return(0,v.jsx)(l.A,{maxWidth:!i.themeStretch&&"xl",children:(0,v.jsxs)(P.A,{children:[(0,v.jsx)(_e.A,{value:c.status,onChange:y,sx:{px:2.5,boxShadow:`inset 0 -2px 0 0 ${(0,Ge.X4)(e.palette.grey[500],.08)}`},children:g.map((e=>(0,v.jsx)(we.A,{value:e.value,label:d(e.label),iconPosition:"end",icon:(0,v.jsx)(Ei.A,{variant:"all"===e.value||e.value===c.status?"filled":"soft",color:e.color,children:e.count})},e.value)))}),(0,v.jsx)(Xe.A,{sx:{position:"relative",overflow:"unset"},children:(0,v.jsx)(ji.A,{children:(0,v.jsxs)(Je.A,{size:o.dense?"small":"medium",sx:{minWidth:800},children:[(0,v.jsx)(Yi.er,{order:o.order,orderBy:o.orderBy,headLabel:Ii,rowCount:h.length,numSelected:o.selected.length,onSort:o.onSort}),(0,v.jsxs)(li.A,{children:[h.map((e=>(0,v.jsx)(Wi,{row:e,selected:o.selected.includes(e._id),onSelectRow:()=>o.onSelectRow(e._id),onViewRow:()=>b(e._id)},e.id))),(0,v.jsx)(Yi.Sm,{notFound:p})]})]})})}),(0,v.jsx)(Yi.We,{count:x.length,page:o.page,rowsPerPage:o.rowsPerPage,onPageChange:o.onChangePage,onRowsPerPageChange:o.onChangeRowsPerPage,dense:o.dense,onChangeDense:o.onChangeDense})]})})}function Bi(){const{t:e}=(0,s.WD)();return(0,v.jsxs)(l.A,{maxWidth:"xl",children:[(0,v.jsx)(o.A,{heading:e("financil movment"),links:[{name:e("dashboard"),href:t.f.dashboard.root},{name:e("financil movment")}],sx:{mb:{xs:3,md:5}}}),(0,v.jsx)(zi,{})]})}},83858:(e,i,n)=>{"use strict";n.d(i,{A:()=>l.A});var l=n(91720)},91264:(e,i,n)=>{"use strict";n.d(i,{fT:()=>r});var l=n(41210),t=n(407),s=n(2431),o=n(57442);function r(e,i){const n=(new Date).getFullYear(),r=e?(0,l.A)(e):null,a=i?(0,l.A)(i):null,d=n===r&&n===a,c=!(!e||!i)&&(0,t.A)(new Date(e),new Date(i)),u=!(!e||!i)&&(0,s.A)(new Date(e),new Date(i));return d?u?c?(0,o.ts)(i,"dd MMM yy"):`${(0,o.ts)(e,"dd")} - ${(0,o.ts)(i,"dd MMM yy")}`:`${(0,o.ts)(e,"dd MMM")} - ${(0,o.ts)(i,"dd MMM yy")}`:`${(0,o.ts)(e,"dd MMM yy")} - ${(0,o.ts)(i,"dd MMM yy")}`}n(70579);n(65043)},91720:(e,i,n)=>{"use strict";n.d(i,{A:()=>u});var l=n(81e3),t=n(88446),s=n(74600),o=n(94496),r=n(22698),a=n(65381),d=n(70579);function c(e){let{link:i,activeLast:n,disabled:s}=e;const o={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...s&&!n&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},r=(0,d.jsxs)(d.Fragment,{children:[i.icon&&(0,d.jsx)(l.A,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:i.icon}),i.name]});return i.href?(0,d.jsx)(t.A,{component:a.W,href:i.href,sx:o,children:r}):(0,d.jsxs)(l.A,{sx:o,children:[" ",r," "]})}function u(e){let{links:i,action:n,heading:a,moreLink:u,activeLast:x,sx:v,...m}=e;const p=i&&i[i.length-1].name;return(0,d.jsxs)(l.A,{sx:{...v},children:[(0,d.jsxs)(s.A,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(l.A,{sx:{flexGrow:1,display:"flex",gap:{md:3},alignItems:{md:"center"},flexDirection:{xs:"column",md:"row"}},children:[a&&(0,d.jsx)(o.A,{textTransform:"capitalize",variant:"h4",gutterBottom:!0,children:a}),i&&!!i.length&&(0,d.jsx)(r.A,{separator:(0,d.jsx)(h,{}),...m,children:null===i||void 0===i?void 0:i.map(((e,i)=>(0,d.jsx)(c,{link:e,activeLast:x,disabled:e.name===p},i)))})]}),n&&(0,d.jsxs)(l.A,{sx:{flexShrink:0,textTransform:"capitalize"},children:[" ",n," "]})]}),!!u&&(0,d.jsx)(l.A,{sx:{mt:2},children:u.map(((e,i)=>(0,d.jsx)(t.A,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},i)))})]})}function h(){return(0,d.jsx)(l.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}}}]);
//# sourceMappingURL=12261.dbf294b2.chunk.js.map