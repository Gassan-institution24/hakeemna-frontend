"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[9601],{4080:(e,o,t)=>{t.d(o,{VL:()=>c,Wc:()=>p,nI:()=>d,rS:()=>l,wz:()=>i});var n=t(65043),r=t(40799),a=t(39556),s=t(31673);function i(e){const o=[s.vZ.products.all,{params:e}],{data:t,isLoading:a,error:i,isValidating:d}=(0,r.Ay)(o,s.GO);return(0,n.useMemo)((()=>({products:t||[],productsLoading:a,productsError:i,productsValidating:d,productsEmpty:!a&&!(null!==t&&void 0!==t&&t.length)})),[t,i,a,d])}function d(){const e=s.vZ.productcategories.all,{data:o,isLoading:t,error:a,isValidating:i}=(0,r.Ay)(e,s.GO);return(0,n.useMemo)((()=>({productCat:o||[],productCatLoading:t,productCatError:a,productCatValidating:i,productCatEmpty:!t&&!(null!==o&&void 0!==o&&o.length)})),[o,a,t,i])}function l(e){const o=s.vZ.productcategories.one(e),{data:t,isLoading:a,error:i,isValidating:d}=(0,r.Ay)(o,s.GO);return(0,n.useMemo)((()=>({data:t,productCatLoading:a,productCatError:i,productCatValidating:d,productCatEmpty:!a&&!(null!==t&&void 0!==t&&t.length)})),[t,i,a,d])}function c(e){const o=s.vZ.products.one(e),{data:t,isLoading:a,error:i,isValidating:d}=(0,r.Ay)(o,s.GO);return(0,n.useMemo)((()=>({product:t,productLoading:a,productError:i,productValidating:d})),[t,i,a,d])}function p(e,o){const t=e?[s.vZ.products.stakeholder(e),{params:o}]:"",{data:i,isLoading:d,error:l,isValidating:c}=(0,r.Ay)(t,s.GO);return{...(0,n.useMemo)((()=>({productsData:(null===i||void 0===i?void 0:i.products)||[],length:(null===i||void 0===i?void 0:i.length)||0,loading:d,error:l,isValidating:c})),[i,l,d,c]),refetch:async()=>{await(0,a.j)(t)}}}},9601:(e,o,t)=>{t.r(o),t.d(o,{default:()=>V});var n=t(29490),r=t(11238),a=t(72450),s=t(93141),i=t(65043),d=t(12110),l=t(71806),c=t(49633),p=t(77224),u=t(73460),g=t(79650),h=t(48407),x=t(65381),m=t(67132),y=t(35151),f=t(51440),j=t(67555),A=t(83858),v=t(75950),b=t(4080),C=t(81e3),_=t(26353),w=t(94814),P=t(68738),M=t(39652),k=t(17392),L=t(57442),W=t(34624),E=t(70579);function S(e){let{row:o,selected:t,onEditRow:n,onSelectRow:r,onInactivate:a,onActivate:s}=e;const{code:i,name_english:d,name_arabic:l,created_at:c,user_creation:p,ip_address_user_creation:u,updated_at:g,user_modification:h,ip_address_user_modification:x,modifications_nums:m}=o,f=(0,W.f)(),j=(0,W.f)(),A=(0,E.jsxs)(P.A,{hover:!0,selected:t,children:[(0,E.jsx)(M.A,{align:"center",children:(0,E.jsx)(C.A,{children:i})}),(0,E.jsx)(M.A,{align:"center",children:d}),(0,E.jsx)(M.A,{align:"center",children:l}),(0,E.jsx)(M.A,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,E.jsx)(k.A,{color:j.open?"inherit":"default",onClick:j.onOpen,children:(0,E.jsx)(y.A,{icon:"eva:more-vertical-fill"})})})]});return(0,E.jsxs)(E.Fragment,{children:[A,(0,E.jsxs)(W.A,{open:j.open,onClose:j.onClose,arrow:"right-top",sx:{width:140},children:[(0,E.jsxs)(w.A,{lang:"ar",onClick:()=>{n(),j.onClose()},children:[(0,E.jsx)(y.A,{icon:"fluent:edit-32-filled"}),"Edit"]}),(0,E.jsxs)(w.A,{lang:"ar",onClick:f.onOpen,children:[(0,E.jsx)(y.A,{icon:"carbon:data-quality-definition"}),"DDL"]})]}),(0,E.jsxs)(W.A,{open:f.open,onClose:f.onClose,arrow:"right-top",sx:{padding:2,fontSize:"14px"},children:[(0,E.jsx)(C.A,{sx:{fontWeight:600},children:"Creation Time:"}),(0,E.jsx)(C.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,E.jsx)(_.A,{primary:(0,L.ts)(c,"dd MMMMMMMM yyyy"),secondary:(0,L.ts)(c,"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{component:"span",typography:"caption"}})}),(0,E.jsx)(C.A,{sx:{pt:1,fontWeight:600},children:"created by:"}),(0,E.jsx)(C.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===p||void 0===p?void 0:p.email}),(0,E.jsx)(C.A,{sx:{pt:1,fontWeight:600},children:"created by IP:"}),(0,E.jsx)(C.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:u}),(0,E.jsx)(C.A,{sx:{pt:1,fontWeight:600},children:"Editing Time:"}),(0,E.jsx)(C.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,E.jsx)(_.A,{primary:(0,L.ts)(g,"dd MMMMMMMM yyyy"),secondary:(0,L.ts)(g,"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{component:"span",typography:"caption"}})}),(0,E.jsx)(C.A,{sx:{pt:1,fontWeight:600},children:"Editor:"}),(0,E.jsx)(C.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===h||void 0===h?void 0:h.email}),(0,E.jsx)(C.A,{sx:{pt:1,fontWeight:600},children:"Editor IP:"}),(0,E.jsx)(C.A,{sx:{pb:1,borderBottom:"1px solid gray",fontWeight:"400"},children:x}),(0,E.jsxs)(C.A,{sx:{pt:1,fontWeight:600},children:["Modifications No: ",m]})]})]})}var D=t(87396),R=t(15596);const T=[{id:"code",label:"Code"},{id:"name_english",label:"name"},{id:"name_arabic",label:"arabic name"},{id:"",width:88}],B={name:""};function O(){const e=(0,v.K2)({defaultOrderBy:"code"}),o=(0,i.useRef)(),t=(0,m.rd)(),{productCat:n,productCatLoading:C}=(0,b.nI)(),[_,w]=(0,i.useState)(B),P=(0,m.ok)().get("upload_record");(0,i.useEffect)((()=>{P&&w((e=>({...e,name:P})))}),[P]);const M=!(!_.startDate||!_.endDate)&&_.startDate.getTime()>_.endDate.getTime(),k=function(e){let{inputData:o,comparator:t,filters:n,dateError:r}=e;const{status:a,name:s}=n,i=o.map(((e,o,t)=>[e,o]));i.sort(((e,o)=>{const n=t(e[0],o[0]);return 0!==n?n:e[1]-o[1]})),o=i.map(((e,o)=>e[0])),s&&(o=o.filter((e=>{var o,t;return-1!==(null===e||void 0===e||null===(o=e.name_english)||void 0===o?void 0:o.toLowerCase().indexOf(s.toLowerCase()))||(null===e||void 0===e?void 0:e.name_arabic)&&-1!==(null===e||void 0===e||null===(t=e.name_arabic)||void 0===t?void 0:t.toLowerCase().indexOf(s.toLowerCase()))||(null===e||void 0===e?void 0:e._id)===s||(null===e||void 0===e?void 0:e.upload_record)===s||JSON.stringify(e.code)===s})));"all"!==a&&(o=o.filter((e=>e.status===a)));return o}({inputData:n,comparator:(0,v.hz)(e.order,e.orderBy),filters:_,dateError:M}),L=!(null===_||void 0===_||!_.name),W=!k.length&&L||!k.length,O=(0,s.useReactToPrint)({content:()=>o.current}),V=(0,i.useCallback)(((o,t)=>{e.onResetPage(),w((e=>({...e,[o]:t})))}),[e]),F=(0,i.useCallback)((()=>{w(B)}),[]),I=(0,i.useCallback)((e=>{t.push(h.f.superadmin.tables.productCat.edit(e))}),[t]);return C?(0,E.jsx)(j.x,{}):(0,E.jsxs)(p.A,{maxWidth:"xl",children:[(0,E.jsx)(A.A,{heading:"product categories",links:[{name:"dashboard",href:h.f.superadmin.root},{name:"Tables",href:h.f.superadmin.tables.list},{name:"product categories"}],action:(0,E.jsx)(c.A,{component:x.W,href:h.f.superadmin.tables.productCat.new,variant:"contained",startIcon:(0,E.jsx)(y.A,{icon:"mingcute:add-line"}),children:"New product category"}),sx:{mb:{xs:3,md:5}}}),(0,E.jsxs)(d.A,{children:[(0,E.jsx)(D.A,{onPrint:O,filters:_,onFilters:V,onDownload:()=>{const e=k.reduce(((e,o)=>{var t;return e.push({code:o.code,name:o.name_english,country:null===(t=o.country)||void 0===t?void 0:t.name_english,status:o.status}),e}),[]),o=r.Wp.book_new(),t=r.Wp.json_to_sheet(e);r.Wp.book_append_sheet(o,t,"Sheet 1");const n=r.M9(o,{bookType:"xlsx",type:"array"}),s=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,a.saveAs)(s,"countriesTable.xlsx")},canReset:L,onResetFilters:F}),L&&(0,E.jsx)(R.A,{filters:_,onFilters:V,onResetFilters:F,results:k.length,sx:{p:2.5,pt:0}}),(0,E.jsxs)(g.A,{children:[(0,E.jsx)(v.Uv,{numSelected:e.selected.length,rowCount:k.length}),(0,E.jsx)(f.A,{children:(0,E.jsxs)(l.A,{ref:o,size:e.dense?"small":"medium",children:[(0,E.jsx)(v.er,{order:e.order,orderBy:e.orderBy,headLabel:T,rowCount:k.length,numSelected:e.selected.length,onSort:e.onSort}),(0,E.jsxs)(u.A,{children:[k.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map(((o,t)=>(0,E.jsx)(S,{row:o,selected:e.selected.includes(o._id),onSelectRow:()=>e.onSelectRow(o._id),onEditRow:()=>I(o._id)},t))),(0,E.jsx)(v.Sm,{notFound:W})]})]})})]}),(0,E.jsx)(v.We,{count:k.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]})}function V(){return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(n.mg,{children:[(0,E.jsx)("title",{children:" Dashboard: product category Table"}),(0,E.jsx)("meta",{name:"description",content:"meta"})]}),(0,E.jsx)(O,{})]})}}}]);
//# sourceMappingURL=9601.ccfca9b5.chunk.js.map