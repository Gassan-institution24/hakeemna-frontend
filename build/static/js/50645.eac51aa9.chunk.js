"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[50645],{44022:(e,n,i)=>{i.d(n,{U:()=>s,Z:()=>r});var l=i(65043),t=i(40799),a=i(39556),o=i(31673);function r(e){const n=[o.vZ.Instructions.all,{params:e}],{data:i,isLoading:r,error:s,isValidating:d}=(0,t.Ay)(n,o.GO);return{...(0,l.useMemo)((()=>({data:i,loading:r,error:s,validating:d,empty:!r&&!(null!==i&&void 0!==i&&i.length)})),[i,s,r,d]),refetch:async()=>{await(0,a.j)(n)}}}function s(e){const n=o.vZ.Instructions.patient(e),{data:i,isLoading:r,error:s,isValidating:d}=(0,t.Ay)(n,o.GO);return{...(0,l.useMemo)((()=>({data:i,loading:r,error:s,validating:d,empty:!r&&!(null!==i&&void 0!==i&&i.length)})),[i,s,r,d]),refetch:async()=>{await(0,a.j)(n)}}}},50645:(e,n,i)=>{i.r(n),i.d(n,{default:()=>qe});var l=i(29490),t=i(60778),a=i(65043),o=i(73216),r=i(77224),s=i(74600),d=i(81e3),c=i(17392),u=i(94496),v=i(49633),p=i(67132),m=i(57442),h=i(7625),x=i(35151),g=i(94193),j=i(22403),b=i(83134),f=i(75139),_=i(80899),y=i(46987),A=i(24858),w=i(18403),C=i(12110),k=i(88446),P=i(31673),D=i(59699),S=i(70579);function W(e){var n;let{one:i,refetch:l}=e;const{t:o}=(0,t.WD)(),{currentLang:r}=(0,t.jc)(),d="ar"===r.value,{enqueueSnackbar:p}=(0,y.dh)(),[h,g]=(0,a.useState)(!1),j=_.Ik().shape({file:_.gl(),description:_.Yj().required()}),b={file:(null===i||void 0===i?void 0:i.file)||[],description:(null===i||void 0===i?void 0:i.description)||null},f=(0,A.mN)({mode:"all",resolver:(0,w.t)(j),defaultValues:b}),{handleSubmit:W,setValue:M,watch:I}=f,Y=(0,a.useCallback)((e=>{const n=I("file").filter((n=>n!==e));M("file",n)}),[M,I]),T=W((async e=>{try{const n=new FormData;Object.keys(e).forEach((i=>{Array.isArray(e[i])&&e[i].forEach(((e,l)=>{n.append(`${i}[${l}]`,e)})),n.append(i,e[i])})),await P.Ay.patch(P.vZ.doctorreport.one(null===i||void 0===i?void 0:i._id),n),g(!1),l(),p(`${o("patient file")} ${o("added successfully")}`)}catch(n){p(d&&n.arabic_message||n.message,{variant:"error"})}}));return(0,S.jsx)(C.A,{sx:{py:3,px:5,mb:2},children:h?(0,S.jsxs)(D.Ay,{methods:f,children:[(0,S.jsx)(s.A,{direction:"row",justifyContent:"flex-end",alignItems:"center",gap:2,children:(0,S.jsx)(c.A,{onClick:()=>g(!1),children:(0,S.jsx)(x.A,{icon:"mingcute:close-fill"})})}),(0,S.jsxs)(s.A,{gap:2,children:[(0,S.jsx)(u.A,{variant:"subtitle1",children:o("patient record")}),(0,S.jsx)(D.CX,{lang:"en",name:"description",label:o("description"),sx:{mb:2,mt:2,textTransform:"lowercase"}}),(0,S.jsx)(D.Y4,{multiple:!0,fullWidth:!0,name:"file",margin:"dense",sx:{mb:2},variant:"outlined",onDrop:e=>(e=>{const n=I("file");M("file",[...n,...e])})(e),onRemove:Y}),(0,S.jsx)(s.A,{direction:"row",justifyContent:"flex-end",children:(0,S.jsx)(v.A,{variant:"contained",onClick:T,children:o("save")})})]})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(s.A,{direction:"row",justifyContent:"flex-end",alignItems:"center",gap:2,children:[(0,S.jsx)(u.A,{variant:"subtitle2",children:(0,m.ts)(i.created_at)}),(0,S.jsx)(c.A,{onClick:()=>g(!0),children:(0,S.jsx)(x.A,{icon:"lets-icons:edit-fill"})})]}),(0,S.jsxs)(s.A,{gap:1,mt:1,ml:1,children:[(0,S.jsx)(u.A,{textTransform:"none",variant:"body2",dangerouslySetInnerHTML:{__html:i.description}}),(0,S.jsx)(s.A,{direction:"row",gap:1,children:null===(n=i.file)||void 0===n?void 0:n.map((e=>(0,S.jsx)(k.A,{href:e,target:"_blank",sx:{fontSize:14},children:e.name||o("file")})))})]})]})})}var M=i(87410);function I(e){var n,i;let{patient:l,refetch:a}=e;const{t:o}=(0,t.WD)(),{user:r}=(0,f.Z)(),{currentLang:d}=(0,t.jc)(),c="ar"===d.value,{enqueueSnackbar:p}=(0,y.dh)(),m=null===r||void 0===r||null===(n=r.employee)||void 0===n||null===(i=n.employee_engagements)||void 0===i?void 0:i[r.employee.selected_engagement],h=_.Ik().shape({patient_record_file:_.gl().nullable(),patient_record_description:_.Yj().required(o("required field"))}),x=(0,A.mN)({defaultValues:{patient_record_file:null,patient_record_description:""},mode:"all",resolver:(0,w.t)(h)}),g=x.handleSubmit((async e=>{try{var n,i,t,s;const c=new FormData;var d;if(null!==l&&void 0!==l&&null!==(n=l.patient)&&void 0!==n&&n._id)c.append("patient",null===l||void 0===l||null===(d=l.patient)||void 0===d?void 0:d._id);null!==l&&void 0!==l&&l._id&&c.append("unit_service_patient",null===l||void 0===l?void 0:l._id),c.append("unit_service",null===m||void 0===m||null===(i=m.unit_service)||void 0===i?void 0:i._id),c.append("employee",null===r||void 0===r||null===(t=r.employee)||void 0===t?void 0:t._id),c.append("description",e.patient_record_description),null===(s=e.patient_record_file)||void 0===s||s.forEach(((e,n)=>{c.append(`file[${n}]`,e)})),await P.Ay.post(P.vZ.doctorreport.all,c),x.reset(),a(),p(o("patient record added successfully"))}catch(u){p(c&&u.arabic_message||u.message,{variant:"error"})}}));return(0,S.jsx)(M.A,{methods:x,children:(0,S.jsxs)(C.A,{sx:{p:2,mb:2},children:[(0,S.jsx)(u.A,{variant:"subtitle1",children:o("patient record")}),(0,S.jsx)(D.CX,{lang:"en",name:"patient_record_description",label:o("description"),sx:{mb:2,mt:2,textTransform:"lowercase"}}),(0,S.jsx)(D.Y4,{multiple:!0,fullWidth:!0,name:"patient_record_file",margin:"dense",sx:{mb:2},variant:"outlined",onDrop:e=>((e,n)=>{const i=e;x.setValue(n,i)})(e,"patient_record_file")}),(0,S.jsx)(s.A,{direction:"row",justifyContent:"flex-end",children:(0,S.jsx)(v.A,{variant:"contained",onClick:()=>g("patient_record"),children:o("save")})})]})})}function Y(e){var n,i,l,o,d;let{patient:c}=e;const{t:u}=(0,t.WD)(),{user:p}=(0,f.Z)(),{data:m,refetch:x}=(0,h.gmm)({unit_service:null===p||void 0===p||null===(n=p.employee)||void 0===n||null===(i=n.employee_engagements)||void 0===i||null===(l=i[p.employee.selected_engagement])||void 0===l||null===(o=l.unit_service)||void 0===o?void 0:o._id,patient:null===c||void 0===c||null===(d=c.patient)||void 0===d?void 0:d._id,unit_service_patient:null===c||void 0===c?void 0:c._id}),[g,j]=a.useState(!1);return(0,S.jsxs)(r.A,{sx:{py:3,backgroundColor:"background.neutral"},maxWidth:"xl",children:[(0,S.jsx)(s.A,{sx:{mb:2},direction:"row",justifyContent:"flex-end",children:(0,S.jsx)(v.A,{variant:"contained",color:"primary",onClick:()=>j(!g),children:u(g?"X":"new information")})}),g&&(0,S.jsx)(I,{patient:c,refetch:()=>{j(!1),x()}}),null===m||void 0===m?void 0:m.map(((e,n)=>(0,S.jsx)(W,{one:e,refetch:x},n)))]})}var T=i(94113),L=i(94814),q=i(84284),F=i(38246),R=i(94857);function $(e){var n,i,l;let{patient:o}=e;const{enqueueSnackbar:r}=(0,R.dh)(),{countriesData:c}=(0,h.oOq)({select:"name_english name_arabic"}),{t:u}=(0,t.WD)(),[v,p]=(0,a.useState)(o.mobile_num1),[m,x]=(0,a.useState)(o.mobile_num2),g=_.Ik().shape({name_english:_.Yj(),name_arabic:_.Yj(),email:_.Yj(),height:_.Yj(),weight:_.Yj(),mobile_num1:_.Yj(),mobile_num2:_.Yj(),nationality:_.Yj().nullable(),country:_.Yj().nullable(),gender:_.Yj().nullable(),birth_date:_.gl().nullable(),city:_.Yj().nullable(),address:_.Yj(),sport_exercises:_.Yj(),smoking:_.Yj()}),j={name_english:(null===o||void 0===o?void 0:o.name_english)||"",name_arabic:(null===o||void 0===o?void 0:o.name_arabic)||"",email:(null===o||void 0===o?void 0:o.email)||"",gender:(null===o||void 0===o?void 0:o.gender)||"",birth_date:null!==o&&void 0!==o&&o.birth_date?new Date(o.birth_date):null,height:(null===o||void 0===o?void 0:o.height)||"",weight:(null===o||void 0===o?void 0:o.weight)||"",mobile_num1:(null===o||void 0===o?void 0:o.mobile_num1)||"",mobile_num2:(null===o||void 0===o?void 0:o.mobile_num2)||"",nationality:(null===o||void 0===o||null===(n=o.nationality)||void 0===n?void 0:n._id)||(null===o||void 0===o?void 0:o.nationality)||null,country:(null===o||void 0===o||null===(i=o.country)||void 0===i?void 0:i._id)||(null===o||void 0===o?void 0:o.country)||null,city:(null===o||void 0===o||null===(l=o.city)||void 0===l?void 0:l._id)||(null===o||void 0===o?void 0:o.city)||null,address:(null===o||void 0===o?void 0:o.address)||"",sport_exercises:(null===o||void 0===o?void 0:o.sport_exercises)||"",smoking:(null===o||void 0===o?void 0:o.smoking)||"",other_medication_notes:(null===o||void 0===o?void 0:o.other_medication_notes)||""},b=(0,A.mN)({mode:"all",resolver:(0,w.t)(g),defaultValues:j}),{handleSubmit:f,control:y,watch:k,formState:{isSubmitting:W}}=b,{tableData:M}=(0,h.RmE)(k().country,{select:"name_english name_arabic"});return(0,S.jsx)(D.Ay,{methods:b,onSubmit:f((async e=>{try{await P.Ay.patch(`${P.vZ.usPatients.one(null===o||void 0===o?void 0:o._id)}`,e),r(`${u("Profile updated successfully")}`,{variant:"success"})}catch(n){r("string"===typeof n?n:n.message,{variant:"error"})}})),children:(0,S.jsxs)(C.A,{sx:{p:3,mx:{md:15}},children:[(0,S.jsxs)(d.A,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,S.jsx)(D.o3,{name:"name_english",label:u("name in english"),onChange:e=>{/^[a-zA-Z0-9\s,@#$!*_\-&^%.()]*$/.test(e.target.value)&&b.setValue(e.target.name,e.target.value,{shouldValidate:!0})}}),(0,S.jsx)(D.o3,{name:"name_arabic",label:u("Name in arabic"),onChange:e=>{/^[\u0600-\u06FF0-9\s!@#$%^&*_\-().]*$/.test(e.target.value)&&b.setValue(e.target.name,e.target.value,{shouldValidate:!0})}}),(0,S.jsx)(T.fD,{label:u("Mobile Number"),forceCallingCode:!0,defaultCountry:"JO",value:v,onChange:e=>{(0,T.l0)(e),p(e),b.setValue("mobile_num1",e)}}),(0,S.jsx)(T.fD,{label:u("Alternative Mobile Number"),forceCallingCode:!0,defaultCountry:"JO",value:m,onChange:e=>{(0,T.l0)(e),x(e),b.setValue("mobile_num2",e)}}),(0,S.jsx)(D.o3,{name:"email",label:u("Email Address"),disabled:!0}),(0,S.jsx)(D.tX,{label:u("nationality"),fullWidth:!0,name:"nationality",InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},children:c.map(((e,n)=>(0,S.jsx)(L.A,{lang:"ar",value:e._id,children:e.name_english},n)))}),(0,S.jsx)(D.tX,{label:u("residence country"),fullWidth:!0,name:"country",InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},children:c.map(((e,n)=>(0,S.jsx)(L.A,{lang:"ar",value:e._id,children:e.name_english},n)))}),(0,S.jsx)(D.tX,{label:u("city"),fullWidth:!0,name:"city",InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},children:M.map(((e,n)=>(0,S.jsx)(L.A,{lang:"ar",value:e._id,children:e.name_english},n)))}),(0,S.jsx)(D.o3,{name:"address",label:u("Address")}),(0,S.jsx)(D.tX,{label:u("gender"),fullWidth:!0,name:"gender",InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},children:["male","female"].map(((e,n)=>(0,S.jsx)(L.A,{lang:"ar",value:e,children:e},n)))}),(0,S.jsx)(A.xI,{name:"birth_date",control:y,render:e=>{let{field:n,fieldState:{error:i}}=e;return(0,S.jsx)(q.l,{...n,label:u("birth date"),sx:{mb:2},slotProps:{textField:{fullWidth:!0,error:!!i,helperText:null===i||void 0===i?void 0:i.message}}})}}),(0,S.jsx)(D.o3,{name:"height",label:(0,S.jsxs)("span",{children:[u("Height"),(0,S.jsx)("span",{style:{color:"green",fontWeight:600},children:"/"})," ",u("cm")]})}),(0,S.jsx)(D.o3,{name:"weight",label:(0,S.jsxs)("span",{children:[u("Weight"),(0,S.jsx)("span",{style:{color:"green",fontWeight:600},children:"/"})," ",u("kg")]})}),(0,S.jsx)(D.tX,{label:u("Sport Exercises"),fullWidth:!0,name:"sport_exercises",InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},children:["0","once a week","twice a week","3-4 times a week","often"].map(((e,n)=>(0,S.jsx)(L.A,{lang:"ar",value:e,children:u(e)},n)))}),(0,S.jsx)(D.tX,{label:u("Smoking"),fullWidth:!0,name:"smoking",InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},children:["not smoker","light smoker","heavy smoker"].map(((e,n)=>(0,S.jsx)(L.A,{lang:"ar",value:e,children:u(e)},n)))}),(0,S.jsx)(D.o3,{name:"other_medication_notes",label:u("More information")})]}),(0,S.jsx)(s.A,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:(0,S.jsx)(F.A,{type:"submit",tabIndex:-1,variant:"contained",loading:W,children:u("Save Changes")})})]})})}function Z(e){var n,i,l,a;let{patient:o}=e;const{t:c}=(0,t.WD)(),{currentLang:v}=(0,t.jc)(),p="ar"===v.value,m=o.patient?o.patient:o;return(0,S.jsx)(r.A,{maxWidth:"xl",children:(0,S.jsx)(C.A,{sx:{px:4,py:4},children:(0,S.jsxs)(d.A,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,S.jsxs)(s.A,{children:[(0,S.jsx)(u.A,{variant:"subtitle2",children:c("drug allergies")}),(0,S.jsx)("ul",{children:null===m||void 0===m||null===(n=m.drug_allergies)||void 0===n?void 0:n.map(((e,n)=>(0,S.jsx)("li",{children:p?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},n)))})]}),(0,S.jsxs)(s.A,{children:[(0,S.jsx)(u.A,{variant:"subtitle2",children:c("diseases")}),(0,S.jsx)("ul",{children:null===m||void 0===m||null===(i=m.diseases)||void 0===i?void 0:i.map(((e,n)=>(0,S.jsx)("li",{children:p?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},n)))})]}),(0,S.jsxs)(s.A,{children:[(0,S.jsx)(u.A,{variant:"subtitle2",children:c("surgeries")}),(0,S.jsx)("ul",{children:null===m||void 0===m||null===(l=m.surgeries)||void 0===l?void 0:l.map(((e,n)=>(0,S.jsx)("li",{children:p?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},n)))})]}),(0,S.jsxs)(s.A,{children:[(0,S.jsx)(u.A,{variant:"subtitle2",children:c("medicines")}),(0,S.jsx)("ul",{children:null===m||void 0===m||null===(a=m.medicines)||void 0===a?void 0:a.map(((e,n)=>{var i,l;return(0,S.jsx)("li",{children:p?null===e||void 0===e||null===(i=e.medicine)||void 0===i?void 0:i.name_arabic:null===e||void 0===e||null===(l=e.medicine)||void 0===l?void 0:l.name_english},n)}))})]})]})})})}var O=i(68342),V=i(67784),B=i(69413),X=i(99784),E=i(1273),N=i(78492),z=i(14256);function G(e){var n,i,l,o,r,s;let{patient:c}=e;const{t:p}=(0,t.WD)(),[m,x]=(0,a.useState)(null),{user:g}=(0,f.Z)(),{CheckListData:j}=(0,h.dFm)(null===g||void 0===g||null===(n=g.employee)||void 0===n||null===(i=n.employee_engagements)||void 0===i||null===(l=i[null===g||void 0===g?void 0:g.employee.selected_engagement])||void 0===l?void 0:l._id),{data:b}=(0,h.Oe9)(m),{answer:k,refetch:D}=(0,h.Rl8)(null===c||void 0===c?void 0:c._id);console.log("answer",k);const W=_.Ik().shape({question:_.Yj(),employee:_.Yj(),entrance:_.Yj(),patient:_.Yj(),answer:_.gl()});console.log("patient",null===c||void 0===c?void 0:c._id);const I={patient:(null===c||void 0===c||null===(o=c.patient)||void 0===o?void 0:o._id)||(null===c||void 0===c?void 0:c._id),unit_service_patient:null===c||void 0===c?void 0:c._id,employee:null===g||void 0===g||null===(r=g.employee)||void 0===r?void 0:r._id},Y=(0,A.mN)({mode:"all",resolver:(0,w.t)(W),defaultValues:I}),{reset:T,handleSubmit:L,control:q,formState:{isSubmitting:F}}=Y;return(0,a.useEffect)((()=>{var e,n;T({patient:(null===c||void 0===c||null===(e=c.patient)||void 0===e?void 0:e._id)||(null===c||void 0===c?void 0:c._id),unit_service_patient:null===c||void 0===c?void 0:c._id,employee:null===g||void 0===g||null===(n=g.employee)||void 0===n?void 0:n._id})}),[g,c,T]),(0,S.jsx)(C.A,{sx:{mt:3},children:(0,S.jsxs)(d.A,{sx:{display:"flex"},children:[(0,S.jsx)(d.A,{sx:{width:"70%",p:2},children:(0,S.jsxs)(d.A,{sx:{height:"400px",overflowY:"auto"},children:[(0,S.jsx)(d.A,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr"},children:null===j||void 0===j?void 0:j.map(((e,n)=>(0,S.jsxs)(v.A,{sx:{mt:2,ml:2,bgcolor:"#EDEFF2"},onClick:()=>x(null===e||void 0===e?void 0:e._id),children:[null===e||void 0===e?void 0:e.title," "]},n)))}),(0,S.jsxs)(M.A,{methods:Y,onSubmit:L((async e=>{try{await P.Ay.post("/api/answersandquestiones",e),(0,y.M8)("New question created successfully",{variant:"success"}),T(),D()}catch(n){console.error(n.message)}})),children:[(0,S.jsxs)(d.A,{sx:{m:3},children:[(0,S.jsxs)(d.A,{sx:{display:"flex",flexWrap:"wrap",borderBottom:.5,mt:2,mb:2},children:[(0,S.jsx)(u.A,{children:null===b||void 0===b?void 0:b.title}),b&&(0,S.jsx)(u.A,{sx:{p:1,bgcolor:"#EDEFF2",width:"100%",mt:2},children:null===b||void 0===b?void 0:b.description})]}),null===b||void 0===b||null===(s=b.questions)||void 0===s?void 0:s.map(((e,n)=>(0,S.jsxs)(d.A,{sx:{display:"block"},children:["Text"===(null===e||void 0===e?void 0:e.answer_way)&&(0,S.jsx)(A.xI,{name:`answer_${null===e||void 0===e?void 0:e._id}`,control:q,render:n=>{let{field:i}=n;return(0,S.jsx)(V.A,{...i,sx:{m:2,width:"80%"},fullWidth:!0,label:null===e||void 0===e?void 0:e.question})}}),"Options"===(null===e||void 0===e?void 0:e.answer_way)&&(0,S.jsxs)(d.A,{sx:{m:2},children:[(0,S.jsx)(u.A,{children:null===e||void 0===e?void 0:e.question}),(0,S.jsx)(A.xI,{name:`answer_${null===e||void 0===e?void 0:e._id}`,control:q,render:n=>{var i;let{field:l}=n;return(0,S.jsx)(B.A,{children:null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.map(((e,n)=>{var i;return(0,S.jsx)(X.A,{control:(0,S.jsx)(E.A,{checked:(null===(i=l.value)||void 0===i?void 0:i.includes(e))||!1,onChange:n=>{const i=l.value||[];n.target.checked?l.onChange([...i,e]):l.onChange(i.filter((n=>n!==e)))}}),label:e},n)}))})}})]}),"Yes No"===(null===e||void 0===e?void 0:e.answer_way)&&(0,S.jsxs)(d.A,{sx:{m:2,border:1,p:2},children:[(0,S.jsx)(u.A,{sx:{m:2},children:null===e||void 0===e?void 0:e.question}),(0,S.jsx)(A.xI,{name:`answer_${null===e||void 0===e?void 0:e._id}`,control:q,render:e=>{let{field:n}=e;return(0,S.jsxs)(N.A,{...n,children:[(0,S.jsx)(X.A,{value:"Yes",control:(0,S.jsx)(z.A,{}),label:"Yes"}),(0,S.jsx)(X.A,{value:"No",control:(0,S.jsx)(z.A,{}),label:"No"})]})}})]})]},n)))]}),b&&(0,S.jsx)(v.A,{type:"submit",disabled:F,variant:"contained",sx:{m:3},children:p("save")})]})]})}),(0,S.jsxs)(d.A,{sx:{width:"30%",p:2,borderLeft:1,borderColor:"divider"},children:[(0,S.jsx)(u.A,{sx:{textAlign:"center",mb:2},variant:"h4",children:p("Answers")}),null===k||void 0===k?void 0:k.map(((e,n)=>{var i;return(0,S.jsxs)(u.A,{children:[null===e||void 0===e||null===(i=e.question)||void 0===i?void 0:i.question,":"," ",(0,S.jsx)("span",{style:{fontSize:13},children:null===e||void 0===e?void 0:e.answer})]},n)}))]})]})})}var U=i(40360),H=i(29013),J=i(71806),K=i(77739),Q=i(73460),ee=i(26240),ne=i(90310),ie=i(79650),le=i(48407),te=i(65381),ae=i(59229),oe=i(59331),re=i(16236),se=i(51440),de=i(70074),ce=i(75950),ue=i(45837),ve=i(69525),pe=i(68738),me=i(39652),he=i(26353),xe=i(34624),ge=i(83462),je=i(4219),be=i(29347),fe=i(35316);function _e(e){var n,i,l,a,o,r;let{open:s,onClose:c,refetch:u,analysisData:p}=e;const{user:m}=(0,f.Z)(),{t:h}=(0,t.WD)(),{currentLang:x}=(0,t.jc)(),g="ar"===x.value,{enqueueSnackbar:j}=(0,R.dh)(),b=_.Ik().shape({file:_.gl(),name:_.Yj().required("File name is required"),note:_.Yj().nullable(),analysis:_.YO(),appointment:_.Yj().nullable()}),y={file:null,name:"",note:"",patient:null===p||void 0===p?void 0:p.patient,appointment:null===p||void 0===p?void 0:p.appointment,unit_service:null===m||void 0===m||null===(n=m.employee)||void 0===n||null===(i=n.employee_engagements)||void 0===i||null===(l=i[m.employee.selected_engagement])||void 0===l?void 0:l.unit_service._id,employee:null===m||void 0===m||null===(a=m.employee)||void 0===a||null===(o=a.employee_engagements)||void 0===o||null===(r=o[m.employee.selected_engagement])||void 0===r?void 0:r._id,analysis:[]},C=(0,A.mN)({mode:"all",resolver:(0,w.t)(b),defaultValues:y}),{setValue:k,reset:W,handleSubmit:M,formState:{isSubmitting:I}}=C;return(0,S.jsx)(ge.A,{open:s,onClose:c,children:(0,S.jsxs)(D.Ay,{methods:C,onSubmit:M((async e=>{const n={...e,type:"analysis",description:e.note},i=new FormData;Object.keys(n).forEach((e=>{Array.isArray(n[e])?n[e].forEach((n=>{i.append(e,n)})):i.append(e,n[e])}));try{await P.Ay.post(P.vZ.medicalreports.all,i),j("uploaded sucessfully"),c(),W(),u()}catch(l){j(g&&`${l.arabic_message}`||`${l.message}`,{variant:"error"})}})),children:[(0,S.jsx)(je.A,{sx:{mb:2},children:h("upload medical analysis")}),(0,S.jsx)(fe.A,{children:(0,S.jsxs)(d.A,{sx:{p:2},children:[(0,S.jsx)(D.o3,{name:"name",label:h("File name"),sx:{mb:2}}),(0,S.jsx)(D.Y4,{multiple:!0,fullWidth:!0,name:"file",sx:{mb:2},variant:"outlined",onDrop:e=>{k("file",e)}}),(0,S.jsx)(D.o3,{name:"note",label:h("More information")})]})}),(0,S.jsxs)(be.A,{children:[(0,S.jsx)(v.A,{onClick:c,variant:"outlined",color:"inherit",children:h("Cancel")}),(0,S.jsx)(v.A,{type:"submit",loading:I,variant:"contained",children:h("Upload")})]})]})})}function ye(e){let{row:n,selected:i,refetch:l,onSelectRow:a,onViewRow:o,onCancelRow:r,onDeleteRow:s}=e;const{_id:u,sequence_number:v,appointment_type:p,work_group:h,patient:g,note:j,start_time:b,medicalAnalysis:f,status:_,created_at:y,user_creation:A,ip_address_user_creation:w,updated_at:C,user_modification:k,ip_address_user_modification:P,modifications_nums:D}=n,{t:W}=(0,t.WD)(),{currentLang:M}=(0,t.jc)(),I="ar"===M.value,{isMedLab:Y}=(0,oe.A)(),T=(0,xe.f)(),q=(0,xe.f)(),F=(0,ae.C)();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(pe.A,{hover:!0,selected:i,children:[(0,S.jsx)(me.A,{align:"center",children:(0,S.jsx)(he.A,{primary:(0,ue.A)(new Date(b))&&(0,ve.A)(new Date(b),"dd MMMMMMMM yyyy"),secondary:(0,ue.A)(new Date(b))&&(0,ve.A)(new Date(b),"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,S.jsx)(me.A,{align:"center",children:v}),(0,S.jsx)(me.A,{align:"center",children:I?null===p||void 0===p?void 0:p.name_arabic:null===p||void 0===p?void 0:p.name_english}),(0,S.jsx)(me.A,{align:"center",children:I?null===h||void 0===h?void 0:h.name_arabic:null===h||void 0===h?void 0:h.name_english}),(0,S.jsx)(me.A,{align:"center",children:j}),Y&&(0,S.jsx)(me.A,{align:"center",children:(0,S.jsx)(x.A,{icon:f?"eva:checkmark-fill":"mingcute:close-line",width:16})}),(0,S.jsx)(me.A,{align:"center",children:(0,S.jsx)(re.A,{variant:"soft",color:("processing"===_?"info":"arrived"===_&&"success")||"late"===_&&"warning"||"booked"===_&&"info"||"finished"===_&&"success"||"not arrived"===_&&"error"||"canceled"===_&&"warning"||"available"===_&&"secondary"||"not booked"===_&&"secondary"||"default",children:W(_)})}),(0,S.jsxs)(me.A,{align:"right",sx:{px:1},children:[Y&&!f&&(0,S.jsx)(c.A,{lang:"ar",onClick:F.onTrue,children:(0,S.jsx)(x.A,{icon:"octicon:upload-16"})}),(0,S.jsx)(c.A,{color:T.open?"inherit":"default",onClick:T.onOpen,children:(0,S.jsx)(x.A,{icon:"eva:more-vertical-fill"})})]})]}),(0,S.jsxs)(xe.A,{open:T.open,onClose:T.onClose,arrow:"right-top",children:["available"===_&&(0,S.jsxs)(L.A,{lang:"ar",onClick:()=>{r(),T.onClose()},sx:{color:"error.main"},children:[(0,S.jsx)(x.A,{icon:"mdi:bell-cancel"}),W("cancel")]}),(0,S.jsxs)(L.A,{lang:"ar",onClick:q.onOpen,children:[(0,S.jsx)(x.A,{icon:"carbon:data-quality-definition"}),W("DDL")]}),Y&&!f&&(0,S.jsxs)(L.A,{lang:"ar",onClick:F.onTrue,children:[(0,S.jsx)(x.A,{icon:"octicon:upload-16"}),W("upload analysis")]})]}),(0,S.jsxs)(xe.A,{open:q.open,onClose:q.onClose,arrow:"right-top",sx:{padding:2,fontSize:"14px"},children:[(0,S.jsxs)(d.A,{sx:{fontWeight:600},children:[W("creation time"),":"]}),(0,S.jsx)(d.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,S.jsx)(he.A,{primary:(0,m.ts)(y,"dd MMMMMMMM yyyy"),secondary:(0,m.ts)(y,"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{component:"span",typography:"caption"}})}),(0,S.jsxs)(d.A,{sx:{pt:1,fontWeight:600},children:[W("created by"),":"]}),(0,S.jsx)(d.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===A||void 0===A?void 0:A.email}),(0,S.jsxs)(d.A,{sx:{pt:1,fontWeight:600},children:[W("created by IP"),":"]}),(0,S.jsx)(d.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:w}),(0,S.jsxs)(d.A,{sx:{pt:1,fontWeight:600},children:[W("editing time"),":"]}),(0,S.jsx)(d.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,S.jsx)(he.A,{primary:(0,m.ts)(C,"dd MMMMMMMM yyyy"),secondary:(0,m.ts)(C,"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{component:"span",typography:"caption"}})}),(0,S.jsxs)(d.A,{sx:{pt:1,fontWeight:600},children:[W("editor"),":"]}),(0,S.jsx)(d.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===k||void 0===k?void 0:k.email}),(0,S.jsxs)(d.A,{sx:{pt:1,fontWeight:600},children:[W("editor IP"),":"]}),(0,S.jsx)(d.A,{sx:{pb:1,borderBottom:"1px solid gray",fontWeight:"400"},children:P}),(0,S.jsxs)(d.A,{sx:{pt:1,fontWeight:600},children:[W("modifications no"),": ",D]})]}),(0,S.jsx)(_e,{open:F.value,onClose:F.onFalse,analysisData:{patient:(null===g||void 0===g?void 0:g._id)||g,appointment:u},refetch:l})]})}var Ae=i(59486);const we={name:"",status:"pending",startDate:null,endDate:null};function Ce(e){var n,i,l,o,d;let{patient:u}=e;const g=(0,ee.A)(),{t:j}=(0,t.WD)(),{isMedLab:b}=(0,oe.A)(),_=[{id:"start_time",label:j("start time")},{id:"sequence_number",label:j("sequence")},{id:"appointment_type",label:j("appointment type")},{id:"work_group",label:j("work group")},{id:"note",label:j("note")},b&&{id:"medicalAnalysis",label:j("medical analysis")},{id:"status",label:j("status")},{id:""}].filter(Boolean),y=(0,p.rd)(),{user:A}=(0,f.Z)(),w=(0,ce.K2)({defaultOrderBy:"code"}),k=(0,ae.C)(),D=(0,ae.C)(),{appointmentsData:W,refetch:M}=(0,h.XaR)(null===A||void 0===A||null===(n=A.employee)||void 0===n||null===(i=n.employee_engagements)||void 0===i||null===(l=i[A.employee.selected_engagement])||void 0===l||null===(o=l.unit_service)||void 0===o?void 0:o._id,null===u||void 0===u||null===(d=u.patient)||void 0===d?void 0:d._id,null===u||void 0===u?void 0:u._id),[I,Y]=(0,a.useState)(we),T=!(!I.startDate||!I.endDate)&&I.startDate.getTime()>I.endDate.getTime(),L=function(e){let{inputData:n,comparator:i,filters:l,dateError:t}=e;const{name:a,status:o,startDate:r,endDate:s}=l,d=n.map(((e,n,i)=>[e,n]));d.sort(((e,n)=>{const l=i(e[0],n[0]);return 0!==l?l:e[1]-n[1]})),n=d.map(((e,n)=>e[0])),a&&(n=n.filter((e=>{var n,i,l,t;return(null===e||void 0===e||null===(n=e.unit_service)||void 0===n?void 0:n.name_english)&&-1!==(null===e||void 0===e||null===(i=e.unit_service)||void 0===i?void 0:i.name_english.toLowerCase().indexOf(a.toLowerCase()))||(null===e||void 0===e||null===(l=e.unit_service)||void 0===l?void 0:l.name_arabic)&&-1!==(null===e||void 0===e||null===(t=e.unit_service)||void 0===t?void 0:t.name_arabic.toLowerCase().indexOf(a.toLowerCase()))||(null===e||void 0===e?void 0:e.name_english)&&-1!==(null===e||void 0===e?void 0:e.name_english.toLowerCase().indexOf(a.toLowerCase()))||(null===e||void 0===e?void 0:e.name_arabic)&&-1!==(null===e||void 0===e?void 0:e.name_arabic.toLowerCase().indexOf(a.toLowerCase()))||(null===e||void 0===e?void 0:e._id)===a||JSON.stringify(e.code)===a})));"all"!==o&&(n=n.filter((e=>e.status===o)));t||r&&s&&(n=n.filter((e=>(0,m.P6)(e.date)>=(0,m.P6)(r)&&(0,m.P6)(e.date)<=(0,m.P6)(s))));return n}({inputData:W,comparator:(0,ce.hz)(w.order,w.orderBy),filters:I,dateError:T}),q=L.slice(w.page*w.rowsPerPage,w.page*w.rowsPerPage+w.rowsPerPage),F=!!I.name||"pending"!==I.status||!!I.startDate&&!!I.endDate,R=!L.length&&F||!L.length,$=e=>W.filter((n=>n.status===e)).length,Z=b?[{value:"pending",label:j("pending"),color:"secondary",count:$("pending")},{value:"finished",label:j("finished"),color:"success",count:$("finished")},{value:"canceled",label:j("canceled"),color:"error",count:$("canceled")}]:[{value:"pending",label:j("pending"),color:"secondary",count:$("pending")},{value:"processing",label:j("processing"),color:"info",count:$("processing")},{value:"finished",label:j("finished"),color:"success",count:$("finished")},{value:"canceled",label:j("canceled"),color:"error",count:$("canceled")}],O=(0,a.useCallback)(((e,n)=>{w.onResetPage(),Y((i=>({...i,[e]:n})))}),[w]),V=(0,a.useCallback)((async e=>{await P.Ay.patch(`${P.vZ.appointments.one(e)}/cancel`),M(),w.onUpdatePageDeleteRow(q.length)}),[q.length,w,M]),B=(0,a.useCallback)((async()=>{await P.Ay.patch(`${P.vZ.appointments.all}/cancel`,{ids:w.selected}),await P.Ay.patch(`${P.vZ.appointments.all}/cancel`,{ids:w.selected}),M(),w.onUpdatePageDeleteRows({totalRows:W.length,totalRowsInPage:q.length,totalRowsFiltered:L.length})}),[M,L.length,q.length,W.length,w]),X=(0,a.useCallback)((e=>{y.push(le.f.dashboard.invoice.details(e))}),[y]),E=(0,a.useCallback)(((e,n)=>{O("status",n)}),[O]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(r.A,{maxWidth:"xl",children:(0,S.jsxs)(C.A,{children:[(0,S.jsx)(s.A,{direction:"row",justifyContent:"flex-end",margin:2,children:(0,S.jsx)(v.A,{component:te.W,onClick:()=>D.onTrue(),variant:"contained",startIcon:(0,S.jsx)(x.A,{icon:"mingcute:add-line"}),sx:{bgcolor:"error.dark","&:hover":{bgcolor:"error.main"}},children:j("new urgent appointment")})}),(0,S.jsx)(H.A,{value:I.status,onChange:E,sx:{px:2.5,boxShadow:`inset 0 -2px 0 0 ${(0,ne.X4)(g.palette.grey[500],.08)}`},children:Z.map(((e,n)=>(0,S.jsx)(U.A,{value:e.value,label:e.label,iconPosition:"end",icon:(0,S.jsx)(re.A,{variant:"all"===e.value||e.value===I.status?"filled":"soft",color:e.color,children:e.count})},n)))}),(0,S.jsxs)(ie.A,{sx:{position:"relative",overflow:"unset"},children:[(0,S.jsx)(ce.Uv,{dense:w.dense,numSelected:w.selected.length,rowCount:L.length,action:(0,S.jsx)(K.A,{title:"Unbook all",children:(0,S.jsx)(c.A,{color:"error",onClick:k.onTrue,children:(0,S.jsx)(x.A,{icon:"mdi:bell-cancel"})})}),color:"error"}),(0,S.jsx)(se.A,{children:(0,S.jsxs)(J.A,{size:w.dense?"small":"medium",sx:{minWidth:800},children:[(0,S.jsx)(ce.er,{order:w.order,orderBy:w.orderBy,headLabel:_,rowCount:W.length,numSelected:w.selected.length,onSort:w.onSort}),(0,S.jsxs)(Q.A,{children:[L.slice(w.page*w.rowsPerPage,w.page*w.rowsPerPage+w.rowsPerPage).map(((e,n)=>(0,S.jsx)(ye,{row:e,selected:w.selected.includes(e._id),refetch:M,onSelectRow:()=>w.onSelectRow(e._id),onViewRow:()=>X(e._id),onCancelRow:()=>V(e._id)},n))),(0,S.jsx)(ce.Sm,{notFound:R})]})]})})]}),(0,S.jsx)(ce.We,{count:L.length,page:w.page,rowsPerPage:w.rowsPerPage,onPageChange:w.onChangePage,onRowsPerPageChange:w.onChangeRowsPerPage,dense:w.dense,onChangeDense:w.onChangeDense})]})}),(0,S.jsx)(de.T,{open:k.value,onClose:k.onFalse,title:"Cancel",content:(0,S.jsxs)(S.Fragment,{children:[j("Are you sure want to cancel")," ",(0,S.jsxs)("strong",{children:[" ",w.selected.length," "]})," ",j("items"),"?"]}),action:(0,S.jsx)(v.A,{variant:"contained",color:"error",onClick:()=>{k.onFalse(),B()},children:j("cancel")})}),(0,S.jsx)(Ae.A,{refetch:M,open:D.value,onClose:D.onFalse})]})}var ke=i(39722),Pe=i(44022);function De(e){var n,i;let{one:l,refetch:a}=e;const{t:o}=(0,t.WD)(),{currentLang:r}=(0,t.jc)(),d="ar"===r.value,{enqueueSnackbar:v}=(0,y.dh)();return(0,S.jsxs)(C.A,{sx:{py:3,px:5,mb:2},children:[(0,S.jsxs)(s.A,{direction:"row",justifyContent:"flex-end",alignItems:"center",gap:2,children:[(0,S.jsx)(u.A,{variant:"subtitle2",children:(0,m.ts)(l.created_at)}),(0,S.jsx)(c.A,{color:"error",onClick:async()=>{try{await P.Ay.delete(P.vZ.Instructions.one(null===l||void 0===l?void 0:l._id)),a(),v(o("deleted successfully!"))}catch(e){v(d&&e.arabic_message||e.message,{variant:"error"})}},children:(0,S.jsx)(x.A,{icon:"mi:delete"})})]}),(0,S.jsxs)(s.A,{direction:"row",gap:10,ml:1,children:[(0,S.jsx)(u.A,{variant:"body2",children:null===l||void 0===l||null===(n=l.adjustable_documents)||void 0===n?void 0:n.title}),(0,S.jsx)(u.A,{variant:"body2",children:null===l||void 0===l||null===(i=l.adjustable_documents)||void 0===i?void 0:i.applied})]})]})}var Se=i(68413);function We(e){var n,i,l;let{patient:o,refetch:r}=e;const{t:c}=(0,t.WD)(),{user:p}=(0,f.Z)(),{currentLang:m}=(0,t.jc)(),h="ar"===m.value,{enqueueSnackbar:x}=(0,y.dh)(),[g,j]=(0,a.useState)(""),{adjustabledocument:b}=(0,Se.o)(null===p||void 0===p||null===(n=p.employee)||void 0===n?void 0:n._id),_=null===p||void 0===p||null===(i=p.employee)||void 0===i||null===(l=i.employee_engagements)||void 0===l?void 0:l[p.employee.selected_engagement],w=(0,A.mN)();return(0,S.jsx)(M.A,{methods:w,children:(null===b||void 0===b?void 0:b.length)>0&&(0,S.jsx)(C.A,{sx:{p:2,mb:2},children:(0,S.jsxs)(s.A,{gap:2,height:"100%",children:[(0,S.jsx)(u.A,{variant:"subtitle1",children:c("Instructions")}),(0,S.jsx)(s.A,{gap:1,sx:{maxHeight:300,overflow:"auto"},children:(0,S.jsx)(d.A,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:null===b||void 0===b?void 0:b.map((e=>(0,S.jsx)(d.A,{onClick:()=>j(null===e||void 0===e?void 0:e._id),sx:{cursor:"pointer"},children:(0,S.jsxs)(s.A,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{backgroundColor:"primary.lighter",paddingX:4,paddingY:1,borderRadius:2,border:g===(null===e||void 0===e?void 0:e._id)?"1px solid #00A76F":""},children:[(0,S.jsx)(u.A,{children:null===e||void 0===e?void 0:e.title}),(0,S.jsx)(u.A,{children:null===e||void 0===e?void 0:e.applied}),(0,S.jsx)(z.A,{checked:g===(null===e||void 0===e?void 0:e._id),value:null===e||void 0===e?void 0:e._id,onChange:()=>j(null===e||void 0===e?void 0:e._id)})]})},null===e||void 0===e?void 0:e._id)))})}),(0,S.jsx)("div",{style:{flex:1}}),(0,S.jsx)(s.A,{direction:"row",justifyContent:"flex-end",children:(0,S.jsx)(v.A,{variant:"contained",onClick:()=>(async()=>{try{var e,n;if(!g)return void x(c("no data to submit"),{variant:"error"});await P.Ay.post("/api/instructions",{patient:null===o||void 0===o||null===(e=o.patient)||void 0===e?void 0:e._id,unit_service_patient:null===o||void 0===o?void 0:o._id,adjustable_documents:g,unit_service:null===_||void 0===_||null===(n=_.unit_service)||void 0===n?void 0:n._id}),j(""),r(),x(c("instruction saved successfully"),{variant:"success"})}catch(i){x(h&&i.arabic_message||i.message,{variant:"error"})}})(),children:c("save")})})]})})})}function Me(e){var n,i,l,o,d;let{patient:c}=e;const{t:u}=(0,t.WD)(),{user:p}=(0,f.Z)(),{data:m,refetch:h}=(0,Pe.Z)({unit_service:null===p||void 0===p||null===(n=p.employee)||void 0===n||null===(i=n.employee_engagements)||void 0===i||null===(l=i[p.employee.selected_engagement])||void 0===l||null===(o=l.unit_service)||void 0===o?void 0:o._id,patient:null===c||void 0===c||null===(d=c.patient)||void 0===d?void 0:d._id,unit_service_patient:null===c||void 0===c?void 0:c._id}),[x,g]=a.useState(!1);return(0,S.jsxs)(r.A,{sx:{py:3,backgroundColor:"background.neutral"},maxWidth:"xl",children:[(0,S.jsx)(s.A,{sx:{mb:2},direction:"row",justifyContent:"flex-end",children:(0,S.jsx)(v.A,{variant:"contained",color:"primary",onClick:()=>g(!x),children:u(x?"X":"new instruction")})}),x&&(0,S.jsx)(We,{patient:c,refetch:()=>{g(!1),h()}}),null===m||void 0===m?void 0:m.map(((e,n)=>(0,S.jsx)(De,{one:e,refetch:h},n)))]})}var Ie=i(20448),Ye=i(85792),Te=i(88110);function Le(){const{id:e}=(0,o.g)(),n=(0,p.rd)(),{usPatientData:i}=(0,h.vXx)(e,{populate:[{path:"patient",populate:"drug_allergies drugs_prescriptions diseases surgeries medicines eating_diet"},{path:"drug_allergies drugs_prescriptions diseases surgeries medicines eating_diet"}]}),{setIdToCall:l,callUser:f,idToCall:_}=(0,b.d)(),y=i.patient?{...i.patient,...i}:i,{t:A}=(0,t.WD)(),{currentLang:w}=(0,t.jc)(),C="ar"===w.value,[k,P]=(0,a.useState)("communication"),D=[{value:"communication",label:A("communication")},{value:"file",label:A("file")},{value:"sick_leave",label:A("sick leave")},{value:"medical_reports",label:A("medical reports")},{value:"prescriptions",label:A("prescriptions")},{value:"appointments",label:A("appointments")},{value:"instructions",label:A("instructions")},{value:"requests",label:A("requests")},{value:"transfer",label:A("transfer")},{value:"checklist",label:A("checklist")},{value:"medical_analyses",label:A("medical analyses")}].filter(Boolean);return(0,S.jsx)(r.A,{sx:{backgroundColor:"#fff",minHeight:"100vh"},maxWidth:"",children:(0,S.jsxs)(s.A,{paddingTop:5,minHeight:"100vh",direction:{md:"row"},children:[(0,S.jsxs)(s.A,{gap:2,children:[(0,S.jsx)(g.A,{vertical:!0,pages:D.map((e=>({...e,onClick:()=>P(e.value),active:e.value===k})))}),"call"!==k&&(0,S.jsx)(d.A,{sx:{width:"100%",height:"100%",maxHeight:200},children:(0,S.jsx)(j.A,{onShowBig:()=>P("call")})})]}),(0,S.jsxs)(s.A,{gap:2,flex:1,children:[(0,S.jsxs)(s.A,{direction:"row",padding:3,paddingX:10,paddingTop:0,justifyContent:"space-between",children:[(0,S.jsxs)(s.A,{direction:"row",alignItems:"center",gap:2,children:[(0,S.jsx)(c.A,{onClick:()=>n.back(),children:(0,S.jsx)(x.A,{icon:"eva:arrow-ios-back-fill"})}),(0,S.jsx)(u.A,{variant:"h6",children:C?null===y||void 0===y?void 0:y.name_arabic:null===y||void 0===y?void 0:y.name_english})]}),(0,S.jsx)(u.A,{variant:"h6",children:A(null===y||void 0===y?void 0:y.gender)}),(0,S.jsx)(u.A,{variant:"h6",children:function(e){if(e){const n=new Date,i=new Date(e),l=n.getFullYear()-i.getFullYear();return 0===l?n.getMonth()-i.getMonth()+" months":`${l} years`}return""}(null===y||void 0===y?void 0:y.birth_date)}),(0,S.jsx)(u.A,{variant:"h6",children:(0,m.ts)(null===y||void 0===y?void 0:y.birth_date)}),(0,S.jsxs)(s.A,{direction:"row",gap:2,children:[(0,S.jsx)(v.A,{sx:{minWidth:120},variant:"contained",onClick:()=>P("edit"),children:A("edit")}),(null===y||void 0===y?void 0:y.user)&&(0,S.jsx)(v.A,{sx:{minWidth:120},variant:"contained",color:"primary",onClick:()=>{_||(l(null===y||void 0===y?void 0:y.user),f(null===y||void 0===y?void 0:y.user)),P("call")},children:A("call")})]})]}),"about"===k&&i&&(0,S.jsx)(Z,{patient:i}),"communication"===k&&i&&(0,S.jsx)(Ye.A,{patient:i}),"file"===k&&i&&(0,S.jsx)(Y,{patient:i}),"sick_leave"===k&&i&&(0,S.jsx)(ke.A,{patient:i}),"medical_reports"===k&&i&&(0,S.jsx)(Te.A,{patient:i}),"prescriptions"===k&&i&&(0,S.jsx)(Ie.A,{patient:i}),"appointments"===k&&i&&(0,S.jsx)(Ce,{patient:i}),"instructions"===k&&i&&(0,S.jsx)(Me,{patient:i}),"upload"===k&&i&&(0,S.jsx)(O.A,{patient:i}),"call"===k&&i&&(0,S.jsx)(j.A,{userId:null===y||void 0===y?void 0:y.user}),"edit"===k&&i&&(0,S.jsx)($,{patient:i}),"checklist"===k&&i&&(0,S.jsx)(G,{patient:i})]})]})})}function qe(){const{t:e}=(0,t.WD)();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(l.mg,{children:[(0,S.jsxs)("title",{children:[" ",e("Patient profile")," "]}),(0,S.jsx)("meta",{name:"description",content:"meta"})]}),(0,S.jsx)(Le,{})]})}},94193:(e,n,i)=>{i.d(n,{A:()=>r});i(65043);var l=i(74600),t=i(81e3),a=i(88887),o=i(70579);const r=function(e){let{pages:n,vertical:i=!1}=e;return(0,a.Q)("up","md")||(i=!1),(0,o.jsx)(l.A,{sx:{...i&&{position:"sticky",top:0,zIndex:10,alignSelf:"flex-start",width:"max-content"}},direction:i?"column":"row",justifyContent:i?"flex-start":"center",spacing:1,children:(0,o.jsx)(l.A,{direction:i?"column":"row",justifyContent:"center",divider:(0,o.jsx)("div",{style:{width:"1px",backgroundColor:"#ccc"}}),sx:{backgroundColor:"white",border:"1px solid #ccc",borderRadius:2,m:2,display:"inline-flex",overflow:"hidden",width:"fit-content",overflowX:"auto",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},children:n.map((e=>(0,o.jsx)(t.A,{onClick:e.onClick,sx:{cursor:e.onClick?"pointer":"default",display:"flex",flex:1,p:1.5,px:4,backgroundColor:e.active?"info.darker":"transparent",color:e.active?"common.white":"info.darker",textAlign:"center",minWidth:"max-content",justifyContent:"center",alignItems:"center",whiteSpace:{md:"nowrap"},borderRight:i?"none":"1px solid #ccc",borderBottom:i?"1px solid #ccc":"none","&:last-child":{borderRight:"none",borderBottom:"none"}},children:e.label},e.label)))})})}}}]);
//# sourceMappingURL=50645.eac51aa9.chunk.js.map