"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[33303],{33303:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var r=n(29490),o=n(68719),s=n(65043),l=n(12110),i=n(71806),a=n(77739),d=n(77224),c=n(73460),h=n(17392),x=n(74600),p=n(94496),g=n(79650),u=n(59229),A=n(31673),j=n(60778),m=n(75139),y=n(7625),f=n(35151),w=n(51440),b=n(75950),v=n(81e3),C=n(94814),k=n(68738),D=n(39652),M=n(26353),P=n(57442),_=n(34624),S=n(70579);function W(e){let{row:t,selected:n,refetch:r,onSelectRow:o,onViewRow:s,onCancelRow:l,onDeleteRow:i}=e;const{date:a,check_in_time:d,check_out_time:c,leave:x,work_type:p,note:g,leaveTime:u,workTime:A,created_at:m,user_creation:y,ip_address_user_creation:w,updated_at:b,user_modification:W,ip_address_user_modification:R,modifications_nums:B}=t,{t:T}=(0,j.WD)(),I=(0,_.f)(),F=(0,_.f)();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(k.A,{hover:!0,selected:n,children:[(0,S.jsx)(D.A,{align:"center",children:(0,P.ts)(a,"EEEE, dd MMMMMMMM yyyy")}),(0,S.jsx)(D.A,{align:"center",children:(0,P.qi)(d)}),(0,S.jsx)(D.A,{align:"center",children:(0,P.qi)(c)}),(0,S.jsx)(D.A,{align:"center",children:(0,P.lU)(u)}),(0,S.jsx)(D.A,{align:"center",children:(0,P.lU)(A)}),(0,S.jsx)(D.A,{align:"center",children:T(p)}),(0,S.jsx)(D.A,{align:"center",children:T(x)}),(0,S.jsx)(D.A,{align:"center",children:g}),(0,S.jsx)(D.A,{align:"right",sx:{px:1},children:(0,S.jsx)(h.A,{color:I.open?"inherit":"default",onClick:I.onOpen,children:(0,S.jsx)(f.A,{icon:"eva:more-vertical-fill"})})})]}),(0,S.jsx)(_.A,{open:I.open,onClose:I.onClose,arrow:"right-top",children:(0,S.jsxs)(C.A,{lang:"ar",onClick:F.onOpen,children:[(0,S.jsx)(f.A,{icon:"carbon:data-quality-definition"}),T("DDL")]})}),(0,S.jsxs)(_.A,{open:F.open,onClose:F.onClose,arrow:"right-top",sx:{padding:2,fontSize:"14px"},children:[(0,S.jsxs)(v.A,{sx:{fontWeight:600},children:[T("creation time"),":"]}),(0,S.jsx)(v.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,S.jsx)(M.A,{primary:(0,P.ts)(m,"dd MMMMMMMM yyyy"),secondary:(0,P.ts)(m,"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{component:"span",typography:"caption"}})}),(0,S.jsxs)(v.A,{sx:{pt:1,fontWeight:600},children:[T("created by"),":"]}),(0,S.jsx)(v.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===y||void 0===y?void 0:y.email}),(0,S.jsxs)(v.A,{sx:{pt:1,fontWeight:600},children:[T("created by IP"),":"]}),(0,S.jsx)(v.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:w}),(0,S.jsxs)(v.A,{sx:{pt:1,fontWeight:600},children:[T("editing time"),":"]}),(0,S.jsx)(v.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:(0,S.jsx)(M.A,{primary:(0,P.ts)(b,"dd MMMMMMMM yyyy"),secondary:(0,P.ts)(b,"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{component:"span",typography:"caption"}})}),(0,S.jsxs)(v.A,{sx:{pt:1,fontWeight:600},children:[T("editor"),":"]}),(0,S.jsx)(v.A,{sx:{pb:1,borderBottom:"1px solid gray"},children:null===W||void 0===W?void 0:W.email}),(0,S.jsxs)(v.A,{sx:{pt:1,fontWeight:600},children:[T("editor IP"),":"]}),(0,S.jsx)(v.A,{sx:{pb:1,borderBottom:"1px solid gray",fontWeight:"400"},children:R}),(0,S.jsxs)(v.A,{sx:{pt:1,fontWeight:600},children:[T("modifications no"),": ",B]})]})]})}var R=n(84284);function B(e){let{filters:t,onFilters:n,onAdd:r,hours:o,dateError:l,options:i}=e;const{t:a}=(0,j.WD)(),d=(0,_.f)(),c=(0,s.useCallback)((e=>{n("startDate",e)}),[n]),h=(0,s.useCallback)((e=>{n("endDate",e)}),[n]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(x.A,{direction:"row",justifyContent:"space-between",children:(0,S.jsxs)(x.A,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:[(0,S.jsx)(R.l,{label:a("start date"),value:t.startDate,onChange:c,slotProps:{textField:{fullWidth:!0}},sx:{width:{xs:1,md:200}}}),(0,S.jsx)(R.l,{label:a("end date"),value:t.endDate,onChange:h,slotProps:{textField:{fullWidth:!0,error:l}},sx:{width:{xs:1,md:200}}})]})}),(0,S.jsxs)(_.A,{open:d.open,onClose:d.onClose,arrow:"right-top",sx:{width:140},children:[(0,S.jsxs)(C.A,{lang:"ar",onClick:()=>{d.onClose()},children:[(0,S.jsx)(f.A,{icon:"solar:printer-minimalistic-bold"}),a("print")]}),(0,S.jsxs)(C.A,{lang:"ar",onClick:()=>{d.onClose()},children:[(0,S.jsx)(f.A,{icon:"solar:export-bold"}),a("export")]})]})]})}var T=n(26487),I=n(8555),F=n(49633),$=n(91264);function O(e){let{filters:t,onFilters:n,onResetFilters:r,results:o,...s}=e;const{t:l}=(0,j.WD)(),i=(0,$.fT)(t.startDate,t.endDate),a=()=>{n("startDate",null),n("endDate",null)};return(0,S.jsxs)(x.A,{spacing:1.5,...s,children:[(0,S.jsxs)(v.A,{sx:{typography:"body2"},children:[(0,S.jsx)("strong",{children:o}),(0,S.jsx)(v.A,{component:"span",sx:{color:"text.secondary",ml:.25},children:l("results found")})]}),(0,S.jsxs)(x.A,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[t.startDate&&!t.endDate&&(0,S.jsx)(U,{label:l("date:"),children:(0,S.jsx)(T.A,{size:"small",label:(0,P.ts)(t.startDate),onDelete:a})}),t.startDate&&t.endDate&&(0,S.jsx)(U,{label:l("date:"),children:(0,S.jsx)(T.A,{size:"small",label:i,onDelete:a})}),(0,S.jsx)(F.A,{color:"error",onClick:r,startIcon:(0,S.jsx)(f.A,{icon:"solar:trash-bin-trash-bold"}),children:l("clear")})]})]})}function U(e){let{label:t,children:n,sx:r,...o}=e;return(0,S.jsxs)(x.A,{component:I.A,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...r},...o,children:[(0,S.jsx)(v.A,{component:"span",sx:{typography:"subtitle2"},children:t}),(0,S.jsx)(x.A,{spacing:1,direction:"row",flexWrap:"wrap",children:n})]})}const z={startDate:null,endDate:null};function E(){var e,t;const{t:n}=(0,j.WD)(),{user:r}=(0,m.Z)(),o=null===r||void 0===r||null===(e=r.employee)||void 0===e||null===(t=e.employee_engagements)||void 0===t?void 0:t[r.employee.selected_engagement],v=[{id:"date",label:n("Day")},{id:"check_in_time",label:n("check in")},{id:"check_out_time",label:n("check out")},{id:"leave_time",label:n("leave time")},{id:"work_time",label:n("work time")},{id:"work_type",label:n("work type")},{id:"leave",label:n("leave")},{id:"note",label:n("note")},{id:""}].filter(Boolean),C=(0,b.K2)({defaultOrderBy:"code"}),k=(0,u.C)(),[D,M]=(0,s.useState)(z),{attendence:P,length:_,hours:R,annual:T,sick:I,public:F,unpaid:$,other:U,refetch:E}=(0,y.b6Q)(null===o||void 0===o?void 0:o._id,{page:C.page,rowsPerPage:C.rowsPerPage,order:C.order,sortBy:C.orderBy,...D}),L=!(!D.startDate||!D.endDate)&&D.startDate.getTime()>D.endDate.getTime(),N=!!D.startDate&&!!D.endDate,q=!P.length&&N||!P.length,G=(0,s.useCallback)(((e,t)=>{C.onResetPage(),M((n=>({...n,[e]:t})))}),[C]),X=(0,s.useCallback)((()=>{M(z)}),[]),K=(0,s.useCallback)((async e=>{await A.Ay.delete(A.vZ.attendence.one(e)),E()}),[E]);return(0,S.jsxs)(d.A,{maxWidth:"xl",children:[(0,S.jsxs)(x.A,{direction:{md:"row"},justifyContent:"space-around",mb:2,children:[(0,S.jsxs)(x.A,{alignItems:"center",direction:"row",gap:1,children:[(0,S.jsxs)(p.A,{children:[n("working hours"),":"]}),(0,S.jsx)(p.A,{children:R>60?`${Math.floor(R/60)} ${n("hr")} : ${(R%60).toString().padStart(2,"0")} ${n("min")}`:`${R} ${n("min")}`})]}),(0,S.jsxs)(x.A,{alignItems:"center",direction:"row",gap:1,children:[(0,S.jsxs)(p.A,{children:[n("annual days off"),":"]}),(0,S.jsx)(p.A,{children:T})]}),(0,S.jsxs)(x.A,{alignItems:"center",direction:"row",gap:1,children:[(0,S.jsxs)(p.A,{children:[n("sick days off"),":"]}),(0,S.jsx)(p.A,{children:I})]}),(0,S.jsxs)(x.A,{alignItems:"center",direction:"row",gap:1,children:[(0,S.jsxs)(p.A,{children:[n("unpaid days off"),":"]}),(0,S.jsx)(p.A,{children:$})]}),(0,S.jsxs)(x.A,{alignItems:"center",direction:"row",gap:1,children:[(0,S.jsxs)(p.A,{children:[n("public days off"),":"]}),(0,S.jsx)(p.A,{children:F})]}),(0,S.jsxs)(x.A,{alignItems:"center",direction:"row",gap:1,children:[(0,S.jsxs)(p.A,{children:[n("other days off"),":"]}),(0,S.jsx)(p.A,{children:U})]})]}),(0,S.jsxs)(l.A,{children:[(0,S.jsx)(B,{filters:D,onFilters:G,dateError:L}),N&&(0,S.jsx)(O,{filters:D,onFilters:G,onResetFilters:X,results:_,sx:{p:2.5,pt:0}}),(0,S.jsxs)(g.A,{sx:{position:"relative",overflow:"unset"},children:[(0,S.jsx)(b.Uv,{dense:C.dense,numSelected:C.selected.length,rowCount:P.length,action:(0,S.jsx)(a.A,{title:"Unbook all",children:(0,S.jsx)(h.A,{color:"error",onClick:k.onTrue,children:(0,S.jsx)(f.A,{icon:"mdi:bell-cancel"})})}),color:"error"}),(0,S.jsx)(w.A,{children:(0,S.jsxs)(i.A,{size:C.dense?"small":"medium",sx:{minWidth:800},children:[(0,S.jsx)(b.er,{order:C.order,orderBy:C.orderBy,headLabel:v,rowCount:P.length,numSelected:C.selected.length,onSort:C.onSort}),(0,S.jsxs)(c.A,{children:[P.map(((e,t)=>(0,S.jsx)(W,{row:e,refetch:E,onDeleteRow:K},t))),(0,S.jsx)(b.Sm,{notFound:q})]})]})})]}),(0,S.jsx)(b.We,{count:_,page:C.page,rowsPerPage:C.rowsPerPage,onPageChange:C.onChangePage,onRowsPerPageChange:C.onChangeRowsPerPage,dense:C.dense,onChangeDense:C.onChangeDense})]})]})}function L(){return(0,S.jsxs)(o.A,{category:"work_group",subcategory:"appointments",acl:"read",children:[(0,S.jsxs)(r.mg,{children:[(0,S.jsx)("title",{children:" My attendence "}),(0,S.jsx)("meta",{name:"description",content:"meta"})]}),(0,S.jsx)(E,{})]})}},33546:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(81e3),o=n(74600),s=n(90310),l=n(94496),i=n(70579);function a(e){let{title:t,imgUrl:n,action:a,filled:d,description:c,sx:h,...x}=e;return(0,i.jsxs)(o.A,{flexGrow:1,alignItems:"center",justifyContent:"center",sx:{px:3,height:1,...d&&{borderRadius:2,bgcolor:e=>(0,s.X4)(e.palette.grey[500],.04),border:e=>`dashed 1px ${(0,s.X4)(e.palette.grey[500],.08)}`},...h},...x,children:[(0,i.jsx)(r.A,{component:"img",alt:"empty content",src:n||"/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),t&&(0,i.jsx)(l.A,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:t}),c&&(0,i.jsx)(l.A,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:c}),a&&a]})}},44847:(e,t,n)=>{n.d(t,{A:()=>r.A});var r=n(33546)},75950:(e,t,n)=>{function r(e,t,n){return null===e[n]?1:null===t[n]||t[n]<e[n]?-1:t[n]>e[n]?1:0}function o(e,t){return"desc"===e?(e,n)=>r(e,n,t):(e,n)=>-r(e,n,t)}n.d(t,{er:()=>m,Sm:()=>x,We:()=>M,Uv:()=>w,hz:()=>o,K2:()=>l});var s=n(65043);function l(e){const[t,n]=(0,s.useState)(!(null===e||void 0===e||!e.defaultDense)),[r,o]=(0,s.useState)((null===e||void 0===e?void 0:e.defaultCurrentPage)||0),[l,i]=(0,s.useState)((null===e||void 0===e?void 0:e.defaultOrderBy)||"created_at"),[a,d]=(0,s.useState)((null===e||void 0===e?void 0:e.defaultRowsPerPage)||10),[c,h]=(0,s.useState)((null===e||void 0===e?void 0:e.defaultOrder)||"desc"),[x,p]=(0,s.useState)((null===e||void 0===e?void 0:e.defaultSelected)||[]),g=(0,s.useCallback)((e=>{""!==e&&(h(l===e&&"asc"===c?"desc":"asc"),i(e))}),[c,l]),u=(0,s.useCallback)((e=>{const t=x.includes(e)?x.filter((t=>t!==e)):[...x,e];p(t)}),[x]),A=(0,s.useCallback)((e=>{o(0),d(parseInt(e.target.value,10))}),[]),j=(0,s.useCallback)((e=>{n(e.target.checked)}),[]),m=(0,s.useCallback)(((e,t)=>{p(e?t:[])}),[]),y=(0,s.useCallback)(((e,t)=>{o(t)}),[]),f=(0,s.useCallback)((()=>{o(0)}),[]),w=(0,s.useCallback)((e=>{p([]),r&&e<2&&o(r-1)}),[r]),b=(0,s.useCallback)((e=>{let{totalRows:t,totalRowsInPage:n,totalRowsFiltered:s}=e;const l=x.length;if(p([]),r)if(l===n)o(r-1);else if(l===s)o(0);else if(l>n){const e=Math.ceil((t-l)/a)-1;o(e)}}),[r,a,x.length]);return{dense:t,order:c,page:r,orderBy:l,rowsPerPage:a,selected:x,onSelectRow:u,onSelectAllRows:m,onSort:g,onChangePage:y,onChangeDense:j,onResetPage:f,onChangeRowsPerPage:A,onUpdatePageDeleteRow:w,onUpdatePageDeleteRows:b,setPage:o,setDense:n,setOrder:h,setOrderBy:i,setSelected:p,setRowsPerPage:d}}var i=n(68738),a=n(39652),d=n(60778),c=n(44847),h=n(70579);function x(e){let{notFound:t,sx:n}=e;const{t:r}=(0,d.WD)();return(0,h.jsx)(i.A,{children:t?(0,h.jsx)(a.A,{colSpan:12,children:(0,h.jsx)(c.A,{filled:!0,title:r("No Data"),sx:{py:10,...n}})}):(0,h.jsx)(a.A,{colSpan:12,sx:{p:0}})})}var p=n(81e3),g=n(1273),u=n(84882),A=n(58093);const j={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function m(e){let{order:t,orderBy:n,rowCount:r=0,headLabel:o,numSelected:s=0,onSort:l,onSelectAllRows:c,sx:x}=e;const{t:m}=(0,d.WD)();return(0,h.jsx)(u.A,{sx:x,children:(0,h.jsxs)(i.A,{children:[c&&(0,h.jsx)(a.A,{padding:"checkbox",children:(0,h.jsx)(g.A,{indeterminate:!!s&&s<r,checked:!!r&&s===r,onChange:e=>c(e.target.checked)})}),o.map(((e,r)=>(0,h.jsx)(a.A,{align:e.align||"center",sortDirection:n===e.id&&t,sx:{width:e.width,minWidth:e.minWidth},children:l?(0,h.jsxs)(A.A,{hideSortIcon:!0,active:n===e.id,direction:n===e.id?t:"asc",onClick:()=>l(e.id),sx:{textTransform:"capitalize"},children:[m(e.label),n===e.id?(0,h.jsx)(p.A,{sx:{...j},children:"desc"===t?"sorted descending":"sorted ascending"}):null]}):m(e.label)},r)))]})})}var y=n(74600),f=n(94496);function w(e){let{dense:t,action:n,rowCount:r,numSelected:o,onSelectAllRows:s,sx:l,color:i,...a}=e;const{t:c}=(0,d.WD)();return o?(0,h.jsxs)(y.A,{direction:"row",alignItems:"center",sx:{pl:1,pr:2,top:0,left:0,width:1,zIndex:9,height:58,position:"absolute",bgcolor:`${i}.lighter`,...t&&{height:38},...l},...a,children:[(0,h.jsx)(g.A,{indeterminate:!!o&&o<r,checked:!!r&&o===r,onChange:e=>s(e.target.checked)}),(0,h.jsxs)(f.A,{variant:"subtitle2",sx:{ml:2,flexGrow:1,color:`${i}.main`,...t&&{ml:3}},children:[o," ",c("selected")]}),n&&n]}):null}var b=n(19042),v=n(72221),C=n(94814),k=n(79266),D=n(99784);function M(e){let{dense:t,count:n,page:r,onChangeDense:o,rowsPerPage:s,setPage:l,rowsPerPageOptions:i=[5,10,25,50],sx:a,...c}=e;const{t:x}=(0,d.WD)();return(0,h.jsxs)(p.A,{sx:{position:"relative",...a},children:[(0,h.jsx)(k.A,{showFirstButton:!0,showLastButton:!0,rowsPerPageOptions:i,component:"div",count:n,page:r,rowsPerPage:s,...c,sx:{borderTopColor:"transparent"}}),o&&(0,h.jsx)(D.A,{label:x("dense"),control:(0,h.jsx)(b.A,{checked:t,onChange:o}),sx:{pl:2,py:1.5,top:0,position:{sm:"absolute"}}}),l&&(0,h.jsx)(D.A,{label:x("page"),control:(0,h.jsx)(v.A,{value:r,onChange:e=>l(e.target.value),variant:"filled",sx:{height:0,width:68,mr:1,backgroundColor:"white",".MuiSelect-select":{paddingTop:1,paddingBottom:1,lineHeight:"40px"}},children:Array.from({length:Math.ceil(n/s)},((e,t)=>(0,h.jsx)(C.A,{value:t,children:t+1},t)))}),sx:{ml:18,my:2,top:5,position:{sm:"absolute"}}})]})}},79650:(e,t,n)=>{n.d(t,{A:()=>A});var r=n(58168),o=n(98587),s=n(65043),l=n(58387),i=n(98610),a=n(98206),d=n(34535),c=n(92532),h=n(72372);function x(e){return(0,h.Ay)("MuiTableContainer",e)}(0,c.A)("MuiTableContainer",["root"]);var p=n(70579);const g=["className","component"],u=(0,d.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),A=s.forwardRef((function(e,t){const n=(0,a.b)({props:e,name:"MuiTableContainer"}),{className:s,component:d="div"}=n,c=(0,o.A)(n,g),h=(0,r.A)({},n,{component:d}),A=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"]},x,t)})(h);return(0,p.jsx)(u,(0,r.A)({ref:t,as:d,className:(0,l.A)(A.root,s),ownerState:h},c))}))},91264:(e,t,n)=>{n.d(t,{fT:()=>i});var r=n(41210),o=n(407),s=n(2431),l=n(57442);function i(e,t){const n=(new Date).getFullYear(),i=e?(0,r.A)(e):null,a=t?(0,r.A)(t):null,d=n===i&&n===a,c=!(!e||!t)&&(0,o.A)(new Date(e),new Date(t)),h=!(!e||!t)&&(0,s.A)(new Date(e),new Date(t));return d?h?c?(0,l.ts)(t,"dd MMM yy"):`${(0,l.ts)(e,"dd")} - ${(0,l.ts)(t,"dd MMM yy")}`:`${(0,l.ts)(e,"dd MMM")} - ${(0,l.ts)(t,"dd MMM yy")}`:`${(0,l.ts)(e,"dd MMM yy")} - ${(0,l.ts)(t,"dd MMM yy")}`}n(70579);n(65043)}}]);
//# sourceMappingURL=33303.a4e97129.chunk.js.map