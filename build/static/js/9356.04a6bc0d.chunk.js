"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[9356],{6599:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R});var n=a(57689),o=a(6907),i=a(27031),r=a(66833),c=a(35456),s=a(8007),l=a(72791),d=a(61134),p=a(44695),m=a(68870),g=a(36314),u=a(12258),h=a(27938),v=a(4567),y=a(9195),x=a(68745),f=a(38072),Z=a(19208),b=a(66664),_=a(99116),k=a(8976),I=a(32869),X=a(26405),j=a(80184);const w=[{label:"read",value:"read"},{label:"create",value:"create"},{label:"edit",value:"update"},{label:"delete",value:"delete"}];function C(e){var t;let{acl:a}=e;const n=(0,Z.UO)().id,{user:o}=(0,k.E)(),{enqueueSnackbar:r}=(0,I.Ds)(),c=s.Ry().shape({unit_service:s.Ry().shape({departments:s.IX(),employees:s.IX(),activities:s.IX(),appointments:s.IX(),appointment_configs:s.IX(),accounting:s.IX(),employee_type:s.IX(),work_shift:s.IX(),insurance:s.IX(),offers:s.IX(),quality_control:s.IX(),subscriptions:s.IX(),unit_service_info:s.IX(),old_patient:s.IX()}),department:s.Ry().shape({employees:s.IX(),activities:s.IX(),appointments:s.IX(),appointment_configs:s.IX(),accounting:s.IX(),rooms:s.IX(),quality_control:s.IX(),work_groups:s.IX()}),employee:s.Ry().shape({entrance_management:s.IX(),appointments:s.IX(),appointment_configs:s.IX(),accounting:s.IX()})}),C=(0,l.useMemo)((()=>({employee:(null===a||void 0===a?void 0:a.employee)||{entrance_management:[],appointments:[],appointment_configs:[],accounting:[],offers:[],acl:[],communication:[],info:[]},department:(null===a||void 0===a?void 0:a.department)||{employees:[],activities:[],appointments:[],appointment_configs:[],accounting:[],rooms:[],quality_control:[],work_groups:[],department_info:[]},unit_service:(null===a||void 0===a?void 0:a.unit_service)||{departments:[],employees:[],activities:[],appointments:[],appointment_configs:[],accounting:[],employee_type:[],work_shift:[],insurance:[],offers:[],quality_control:[],subscriptions:[],unit_service_info:[],old_patient:[],communication:[]}})),[a]),R=(0,d.cI)({mode:"onTouched",resolver:(0,p.X)(c),defaultValues:C}),{watch:z,handleSubmit:S,formState:{isSubmitting:H}}=R,q=z(),O=S((async e=>{try{b.ZP.patch(b.Hv.tables.employeeEngagement(n),{acl:e}),_.Z.emit("updated",{user:o,link:f.H.unitservice.employees.acl(n),msg:"updated an employee permissions"}),r("Update success!")}catch(t){_.Z.emit("error",{error:t,user:o,location:window.location.pathname}),r("string"===typeof t?t:t.message,{variant:"error"}),console.error(t)}}));return(0,j.jsxs)(X.ZP,{methods:R,onSubmit:O,children:[(0,i.Z)({category:"employee",subcategory:"acl",acl:"update"})&&(0,j.jsx)(g.Z,{alignItems:"flex-end",sx:{mb:3,mr:3},children:(0,j.jsx)(u.Z,{type:"submit",tabIndex:-1,variant:"contained",loading:H,children:"Save Changes"})}),(0,j.jsx)(m.Z,{gap:{xs:3,lg:10},height:"1500px",display:{md:"flex",xs:"block"},alignItems:"center",flexDirection:"column",flexWrap:"wrap",children:null===(t=Object.keys(q))||void 0===t?void 0:t.map((e=>(0,j.jsxs)(h.Z,{variant:"outlined",sx:{bgcolor:"background.neutral",py:2,borderRadius:1.5},children:[(0,j.jsx)(v.Z,{variant:"h6",sx:{m:2,mt:0},children:e}),Object.keys(q[e]).map((t=>(0,j.jsxs)(y.Z,{children:[(0,j.jsx)(x.Z,{lang:"ar",component:"th",scope:"row",children:t}),(0,j.jsx)(x.Z,{lang:"ar",align:"center",children:(0,j.jsx)(X.s2,{name:"".concat(e,".").concat(t),options:w,sx:{ml:4,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(4, 1fr)"}}})})]},t)))]})))})]})}function R(){const{id:e}=(0,n.UO)(),{data:t,loading:a}=(0,r.X79)(e);return(0,j.jsxs)(i.Z,{hasContent:!0,category:"employee",subcategory:"acl",acl:"update",children:[(0,j.jsxs)(o.ql,{children:[(0,j.jsx)("title",{children:"Access control list"}),(0,j.jsx)("meta",{name:"description",content:"meta"})]}),a&&(0,j.jsx)(c.a,{}),!a&&(0,j.jsx)(C,{acl:t.acl})]})}},68745:(e,t,a)=>{a.d(t,{Z:()=>x});var n=a(63366),o=a(87462),i=a(72791),r=a(59278),c=a(94419),s=a(12065),l=a(14036),d=a(46646),p=a(829),m=a(31402),g=a(66934),u=a(90618),h=a(80184);const v=["align","className","component","padding","scope","size","sortDirection","variant"],y=(0,g.ZP)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],t["size".concat((0,l.Z)(a.size))],"normal"!==a.padding&&t["padding".concat((0,l.Z)(a.padding))],"inherit"!==a.align&&t["align".concat((0,l.Z)(a.align))],a.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:a}=e;return(0,o.Z)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?"1px solid ".concat(t.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===t.palette.mode?(0,s.$n)((0,s.Fq)(t.palette.divider,1),.88):(0,s._j)((0,s.Fq)(t.palette.divider,1),.68)),textAlign:"left",padding:16},"head"===a.variant&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===a.variant&&{color:(t.vars||t).palette.text.primary},"footer"===a.variant&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===a.size&&{padding:"6px 16px",["&.".concat(u.Z.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===a.padding&&{width:48,padding:"0 0 0 4px"},"none"===a.padding&&{padding:0},"left"===a.align&&{textAlign:"left"},"center"===a.align&&{textAlign:"center"},"right"===a.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===a.align&&{textAlign:"justify"},a.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})})),x=i.forwardRef((function(e,t){const a=(0,m.Z)({props:e,name:"MuiTableCell"}),{align:s="inherit",className:g,component:x,padding:f,scope:Z,size:b,sortDirection:_,variant:k}=a,I=(0,n.Z)(a,v),X=i.useContext(d.Z),j=i.useContext(p.Z),w=j&&"head"===j.variant;let C;C=x||(w?"th":"td");let R=Z;"td"===C?R=void 0:!R&&w&&(R="col");const z=k||j&&j.variant,S=(0,o.Z)({},a,{align:s,component:C,padding:f||(X&&X.padding?X.padding:"normal"),size:b||(X&&X.size?X.size:"medium"),sortDirection:_,stickyHeader:"head"===z&&X&&X.stickyHeader,variant:z}),H=(e=>{const{classes:t,variant:a,align:n,padding:o,size:i,stickyHeader:r}=e,s={root:["root",a,r&&"stickyHeader","inherit"!==n&&"align".concat((0,l.Z)(n)),"normal"!==o&&"padding".concat((0,l.Z)(o)),"size".concat((0,l.Z)(i))]};return(0,c.Z)(s,u.U,t)})(S);let q=null;return _&&(q="asc"===_?"ascending":"descending"),(0,h.jsx)(y,(0,o.Z)({as:C,ref:t,className:(0,r.Z)(H.root,g),"aria-sort":q,scope:R,ownerState:S},I))}))},9195:(e,t,a)=>{a.d(t,{Z:()=>y});var n=a(87462),o=a(63366),i=a(72791),r=a(59278),c=a(94419),s=a(12065),l=a(829),d=a(31402),p=a(66934),m=a(61613),g=a(80184);const u=["className","component","hover","selected"],h=(0,p.ZP)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.head&&t.head,a.footer&&t.footer]}})((e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,["&.".concat(m.Z.hover,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(m.Z.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,s.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,s.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}})),v="tr",y=i.forwardRef((function(e,t){const a=(0,d.Z)({props:e,name:"MuiTableRow"}),{className:s,component:p=v,hover:y=!1,selected:x=!1}=a,f=(0,o.Z)(a,u),Z=i.useContext(l.Z),b=(0,n.Z)({},a,{component:p,hover:y,selected:x,head:Z&&"head"===Z.variant,footer:Z&&"footer"===Z.variant}),_=(e=>{const{classes:t,selected:a,hover:n,head:o,footer:i}=e,r={root:["root",a&&"selected",n&&"hover",o&&"head",i&&"footer"]};return(0,c.Z)(r,m.G,t)})(b);return(0,g.jsx)(h,(0,n.Z)({as:p,ref:t,className:(0,r.Z)(_.root,s),role:p===v?null:"row",ownerState:b},f))}))},46646:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a(72791).createContext()},829:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a(72791).createContext()}}]);
//# sourceMappingURL=9356.04a6bc0d.chunk.js.map