"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[8414],{88414:(e,n,i)=>{i.r(n),i.d(n,{default:()=>C});var t=i(6907),s=i(27031),a=i(8976),r=i(16029),c=i(10266),o=i(76119),l=i(72791),d=i(50533),p=i(53767),u=i(13838),g=i(94721),m=i(4567),h=i(38072),x=i(19208),_=i(22459),v=i(66664),j=i(20748),y=i(50403),k=i(40268),Z=i(77008),f=i(80184);function b(e){let{card:n,sx:i,...t}=e;const{name_english:s,name_arabic:c,period_in_months:o,price_in_usd:b,package_appointment:w,package_accounting:C,package_docotor_report:S,package_final_reporting:D,package_old_files_Management:F,package_TAX_Income_reporting:E,Users_num:I}=n,{user:M,initialize:T}=(0,a.E)(),{t:z}=(0,y.qM)(),{currentLang:A}=(0,y.nt)(),q="ar"===A.value,H=(0,x.tv)(),R=(0,_.k)(),[U,X]=(0,l.useState)([]);(0,l.useEffect)((()=>{X([]),w&&X((e=>[...e,"appointment package"])),C&&X((e=>[...e,"accounting package"])),S&&X((e=>[...e,"docotor report package"])),D&&X((e=>[...e,"final reporting package"])),F&&X((e=>[...e,"old files Management package"])),E&&X((e=>[...e,"TAX Income reporting package"]))}),[w,C,S,D,F,E]);const Y=(0,f.jsx)(p.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:(0,f.jsx)(r.Z,{sx:{width:48,height:48},children:(0,f.jsx)(j.Zk,{})})}),$=(0,f.jsxs)(p.Z,{spacing:1,children:[(0,f.jsx)(m.Z,{variant:"h4",sx:{textTransform:"capitalize"},children:q?c:s}),(0,f.jsxs)(m.Z,{variant:"subtitle2",children:[I," ",z("users")]})]}),B=(0,f.jsxs)(p.Z,{direction:"row",children:[(0,f.jsx)(m.Z,{variant:"h4",children:b?"$":""}),(0,f.jsx)(m.Z,{lang:"ar",variant:"h2",children:b||z("FREE")}),(0,f.jsxs)(m.Z,{component:"span",sx:{alignSelf:"center",color:"text.disabled",ml:1,typography:"body2"},children:["/ ",o," ",z(o>1?"months":"month")]})]}),L=(0,f.jsxs)(p.Z,{spacing:2,children:[(0,f.jsxs)(p.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,f.jsx)(r.Z,{component:"span",sx:{typography:"overline"},children:z("Backages")}),(0,f.jsx)(d.Z,{variant:"body2",color:"inherit",underline:"always",children:w&&C&&S&&D&&F&&E?"All":""})]}),U.map((e=>(0,f.jsxs)(p.Z,{spacing:1,direction:"row",alignItems:"center",sx:{typography:"body2"},children:[(0,f.jsx)(k.Z,{icon:"eva:checkmark-fill",width:16,sx:{mr:1}}),z(e)]},e)))]});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(p.Z,{spacing:5,sx:{p:5,borderRadius:2,boxShadow:e=>({xs:e.customShadows.card}),...i},...t,children:[Y,$,B,(0,f.jsx)(g.Z,{sx:{borderStyle:"dashed"}}),L,(0,f.jsx)(u.Z,{fullWidth:!0,size:"large",variant:"contained",color:"primary",onClick:R.onTrue,children:z("Select")})]}),(0,f.jsx)(Z.Q,{open:R.value,onClose:R.onFalse,title:z("Confirm"),content:(0,f.jsxs)(f.Fragment,{children:[z("Do you confirm choosing")," ",(0,f.jsxs)("strong",{children:[" ",q?c:s," "]})," ",z("subscription ?")]}),action:(0,f.jsx)(u.Z,{variant:"contained",color:"success",onClick:()=>{R.onFalse(),(async()=>{try{var e,i,t,s;const a=new Date,r=new Date(a.getFullYear(),a.getMonth(),a.getDate()),c=new Date(r.getFullYear(),r.getMonth()+o,r.getDate());await v.ZP.post(v.Hv.license_movements.all,{unit_service:null===M||void 0===M||null===(e=M.employee)||void 0===e||null===(i=e.employee_engagements)||void 0===i||null===(t=i[M.employee.selected_engagement])||void 0===t||null===(s=t.unit_service)||void 0===s?void 0:s._id,subscription:n._id,Start_date:r,End_date:c,Users_num:I,price:b||0}),T(),H.push(h.H.unitservice.subscriptions.root)}catch(a){console.error(a)}})()},children:z("confirm")})})]})}function w(){const{subscriptionsData:e}=(0,o.uc$)();return(0,f.jsx)(c.Z,{children:(0,f.jsx)(r.Z,{gap:{xs:3,md:5},display:"grid",alignItems:{md:"center"},gridTemplateColumns:{md:"repeat(3, 1fr)"},children:e.map(((e,n)=>(0,f.jsx)(b,{card:e,index:n},e.subscription)))})})}function C(){var e,n,i,r,c;const{user:o}=(0,a.E)(),l=null===o||void 0===o||null===(e=o.employee)||void 0===e||null===(n=e.employee_engagements)||void 0===n||null===(i=n[null===o||void 0===o||null===(c=o.employee)||void 0===c?void 0:c.selected_engagement])||void 0===i||null===(r=i.unit_service)||void 0===r?void 0:r.name_english;return(0,f.jsxs)(s.Z,{category:"unit_service",subcategory:"unit_service_info",acl:"create",children:[(0,f.jsxs)(t.ql,{children:[(0,f.jsxs)("title",{children:[l||"Service unit"," : New Subscription"]}),(0,f.jsx)("meta",{name:"description",content:"meta"})]}),(0,f.jsx)(w,{})]})}}}]);
//# sourceMappingURL=8414.3f71b235.chunk.js.map