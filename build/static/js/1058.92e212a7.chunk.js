"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[1058],{80372:(e,t,r)=>{r.r(t),r.d(t,{default:()=>A});var a=r(8007),o=r(72791),n=r(61134),l=r(44695),i=r(82337),s=r(63515),c=r(53767),d=r(17003),m=r(13400),u=r(12258),p=r(4567),h=r(82626),v=r(63466),x=r(38072),g=r(19208),Z=r(22459),f=r(50403),y=r(8976),j=r(76119),b=r(41364),w=r(40268),_=r(68697),C=r(80184);function A(){var e;const{countriesData:t}=(0,j.Rpj)(),{register:r}=(0,y.E)(),{t:A}=(0,f.qM)(),S=(0,g.tv)(),[M,P]=(0,o.useState)(""),{user:k}=(0,y.E)(),q=(0,Z.k)(),z=a.Ry().shape({first_name:a.Z_().required("First name required"),family_name:a.Z_().required("Last name required"),email:a.Z_().required("Email is required").email("Email must be a valid email address"),password:a.Z_().required("Password is required"),confirmPassword:a.Z_().oneOf([a.iH("password"),null],"Passwords must match").min(8,"Confirm password must be at least 8 characters"),identification_num:a.Z_().required("Identification number is required"),birth_date:a.hT().required("birth_date is required"),gender:a.Z_().required("Gender is required"),country:a.Z_().required("Country is required"),city:a.Z_().required("City is required")}),L={first_name:"",family_name:"",email:"",family_members:null===k||void 0===k||null===(e=k.patient)||void 0===e?void 0:e._id,password:"",confirmPassword:"",birth_date:"",identification_num:"",gender:"",country:null,city:null},I=(0,n.cI)({mode:"onTouched",resolver:(0,l.X)(z),defaultValues:L}),{reset:R,watch:N,control:T,handleSubmit:O,formState:{isSubmitting:F}}=I,H=N(),{tableData:B}=(0,j.s_U)(H.country),E=O((async e=>{try{await(null===r||void 0===r?void 0:r({userName:"".concat(e.first_name," ").concat(e.family_name),...e})),S.push(x.H.auth.verify(e.email))}catch(t){console.error(t),R(),P("string"===typeof t?t:t.message)}}));return(0,C.jsx)(_.ZP,{methods:I,onSubmit:E,children:(0,C.jsxs)(i.Z,{sx:{display:"flex",flexDirection:{md:"row",xs:"column"}},children:[(0,C.jsxs)(c.Z,{spacing:2.5,sx:{width:{md:"50%",xs:"80%"},ml:5,mt:5,mr:15},children:[!!M&&(0,C.jsx)(s.Z,{severity:"error",children:M}),(0,C.jsx)(p.Z,{variant:"h3",sx:{textAlign:"center",display:{md:"none",xs:"block"}},children:"Add Account"}),(0,C.jsxs)(c.Z,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,C.jsx)(_.au,{name:"first_name",label:"First name"}),(0,C.jsx)(_.au,{name:"family_name",label:"Last name"})]}),(0,C.jsx)(_.au,{name:"email",label:"Email address"}),(0,C.jsx)(_.au,{name:"identification_num",label:"Identification number"}),(0,C.jsx)(n.Qr,{name:"birth_date",control:T,render:e=>{let{field:t,fieldState:{error:r}}=e;return(0,C.jsx)(d.M,{label:A("birth date"),value:new Date(H.birth_date?H.birth_date:""),onChange:e=>{t.onChange(e)},slotProps:{textField:{fullWidth:!0,error:!!r,helperText:null===r||void 0===r?void 0:r.message}}})}}),(0,C.jsxs)(c.Z,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,C.jsx)(_.Cc,{onChange:e=>{const t=e.target.value;I.setValue("country",t,{shouldValidate:!0})},name:"country",label:A("country"),children:null===t||void 0===t?void 0:t.map(((e,t)=>(0,C.jsx)(h.Z,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name_english},t)))}),(0,C.jsx)(_.Cc,{name:"city",label:"City",children:null===B||void 0===B?void 0:B.map(((e,t)=>(0,C.jsx)(h.Z,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name_english},t)))}),(0,C.jsxs)(_.Cc,{name:"gender",label:"Gender",children:[(0,C.jsx)(h.Z,{value:"male",children:"male"}),(0,C.jsx)(h.Z,{value:"female",children:"female"})]})]}),(0,C.jsx)(_.au,{name:"password",label:"Password",type:q.value?"text":"password",InputProps:{endAdornment:(0,C.jsx)(v.Z,{position:"end",children:(0,C.jsx)(m.Z,{onClick:q.onToggle,edge:"end",children:(0,C.jsx)(w.Z,{icon:q.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,C.jsx)(_.au,{name:"confirmPassword",label:"Confirm Password",type:q.value?"text":"password",InputProps:{endAdornment:(0,C.jsx)(v.Z,{position:"end",children:(0,C.jsx)(m.Z,{onClick:q.onToggle,edge:"end",children:(0,C.jsx)(w.Z,{icon:q.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,C.jsx)(u.Z,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:F,children:"Create account"})]}),(0,C.jsxs)(c.Z,{sx:{display:{md:"block",xs:"none"},ml:10,mt:5},children:[(0,C.jsx)(p.Z,{variant:"h3",sx:{textAlign:"center"},children:"Add Account"}),(0,C.jsx)(b.Z,{src:"https://www.sender.net/wp-content/uploads/2022/07/best-newsletter-software.webp"})]})]})})}},63515:(e,t,r)=>{r.d(t,{Z:()=>k});var a=r(63366),o=r(87462),n=r(72791),l=r(59278),i=r(20838),s=r(54131),c=r(2588),d=r(66934),m=r(18833),u=r(14036),p=r(27938),h=r(46131),v=r(13400),x=r(74223),g=r(80184);const Z=(0,x.Z)((0,g.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),f=(0,x.Z)((0,g.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),y=(0,x.Z)((0,g.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),j=(0,x.Z)((0,g.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");var b=r(8799);const w=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],_=(0,c.U)("MuiAlert"),C=(0,d.ZP)(p.Z,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t["".concat(r.variant).concat((0,u.Z)(r.color||r.severity))]]}})((e=>{let{theme:t}=e;const r="light"===t.palette.mode?s._j:s.$n,a="light"===t.palette.mode?s.$n:s._j;return(0,o.Z)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[o]=e;return{props:{colorSeverity:o,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(o,"Color")]:r(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(o,"StandardBg")]:a(t.palette[o].light,.9),["& .".concat(h.Z.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(o,"IconColor")]}:{color:t.palette[o].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[a]=e;return{props:{colorSeverity:a,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(a,"Color")]:r(t.palette[a].light,.6),border:"1px solid ".concat((t.vars||t).palette[a].light),["& .".concat(h.Z.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(a,"IconColor")]}:{color:t.palette[a].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.dark})).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"filled"},style:(0,o.Z)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(r,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(r,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}}))]})})),A=(0,d.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),S=(0,d.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),M=(0,d.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),P={success:(0,g.jsx)(Z,{fontSize:"inherit"}),warning:(0,g.jsx)(f,{fontSize:"inherit"}),error:(0,g.jsx)(y,{fontSize:"inherit"}),info:(0,g.jsx)(j,{fontSize:"inherit"})},k=n.forwardRef((function(e,t){const r=_({props:e,name:"MuiAlert"}),{action:n,children:s,className:c,closeText:d="Close",color:p,components:x={},componentsProps:Z={},icon:f,iconMapping:y=P,onClose:j,role:k="alert",severity:q="success",slotProps:z={},slots:L={},variant:I="standard"}=r,R=(0,a.Z)(r,w),N=(0,o.Z)({},r,{color:p,severity:q,variant:I,colorSeverity:p||q}),T=(e=>{const{variant:t,color:r,severity:a,classes:o}=e,n={root:["root","color".concat((0,u.Z)(r||a)),"".concat(t).concat((0,u.Z)(r||a)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,i.Z)(n,h.t,o)})(N),O={slots:(0,o.Z)({closeButton:x.CloseButton,closeIcon:x.CloseIcon},L),slotProps:(0,o.Z)({},Z,z)},[F,H]=(0,m.Z)("closeButton",{elementType:v.Z,externalForwardedProps:O,ownerState:N}),[B,E]=(0,m.Z)("closeIcon",{elementType:b.Z,externalForwardedProps:O,ownerState:N});return(0,g.jsxs)(C,(0,o.Z)({role:k,elevation:0,ownerState:N,className:(0,l.Z)(T.root,c),ref:t},R,{children:[!1!==f?(0,g.jsx)(A,{ownerState:N,className:T.icon,children:f||y[q]||P[q]}):null,(0,g.jsx)(S,{ownerState:N,className:T.message,children:s}),null!=n?(0,g.jsx)(M,{ownerState:N,className:T.action,children:n}):null,null==n&&j?(0,g.jsx)(M,{ownerState:N,className:T.action,children:(0,g.jsx)(F,(0,o.Z)({size:"small","aria-label":d,title:d,color:"inherit",onClick:j},H,{children:(0,g.jsx)(B,(0,o.Z)({fontSize:"small"},E))}))}):null]}))}))},82337:(e,t,r)=>{r.d(t,{Z:()=>l});var a=r(84925),o=r(23814);const n=(0,r(59703).Z)("MuiBox",["root"]),l=(0,o.Z)({defaultClassName:n.root,generateClassName:a.Z.generate})}}]);
//# sourceMappingURL=1058.92e212a7.chunk.js.map