"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[87324],{28082:(e,n,t)=>{t.d(n,{A:()=>s});var a=t(74600),i=t(49633),o=t(57442),l=t(60778),r=t(70579);function s(e){let{name:n,list:t,helperText:s,value:d,onChange:m,...c}=e;const{currentLang:u}=(0,l.jc)(),p="ar"===u.value,{myunitTime:h}=(0,o.nM)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a.A,{sx:{my:3,maxHeight:300,overflow:"auto",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-start","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{background:"white"},"&::-webkit-scrollbar-thumb":{background:"white",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:"white"},gap:1},children:t.map((e=>(0,r.jsx)(i.A,{variant:"outlined",sx:{width:100,"&:hover":{bgcolor:"white",color:"primary.main"},fontWeight:d===e._id?600:500,backgroundColor:d===e._id?"primary.main":"white",color:d===e._id?"white":"primary.main",borderRadius:2},onClick:()=>{m(e._id)},children:(0,o.qi)(h(e.start_time),"p",p)})))})})}},38974:(e,n,t)=>{t.d(n,{d:()=>i});var a=t(65043);function i(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;const[t,i]=(0,a.useState)(e);return(0,a.useEffect)((()=>{const t=setTimeout((()=>{i(e)}),n);return()=>{clearTimeout(t)}}),[e,n]),t}},74818:(e,n,t)=>{t.d(n,{n:()=>i});const a=e=>new Date(e).toISOString().replace(/-/g,"").replace(/:/g,"").replace(/\.\d{3}/,"");async function i(e){try{var n,t,i;const l=encodeURIComponent(a(e.start_time)),r=encodeURIComponent(a(e.end_time)),s=encodeURIComponent(`appointment at ${null===(n=e.unit_service)||void 0===n?void 0:n.name_english}`),d=`https://calendar.google.com/calendar/render?action=TEMPLATE&dates=${l}/${r}&text=${s}&location=${encodeURIComponent((null===(t=e.unit_service)||void 0===t?void 0:t.location_gps)||(null===(i=e.unit_service)||void 0===i?void 0:i.address))}`;confirm("Would you like to add this event to your Google Calendar?")&&(o=d,/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?window.location.href=o:window.open(o,"_blank"))}catch(l){console.error(l)}var o}},83858:(e,n,t)=>{t.d(n,{A:()=>a.A});var a=t(91720)},87324:(e,n,t)=>{t.r(n),t.d(n,{default:()=>he});var a=t(29490),i=t(68719),o=t(80899),l=t(19853),r=t.n(l),s=t(72221),d=t(39336),m=t(77224),c=t(94496),u=t(17642),p=t(53193),h=t(74050),g=t(74157),b=t(19260),x=t(48407),v=t(75139),_=t(60778),j=t(7625),y=t(24858),A=t(18403),f=t(65043),w=t(38246),k=t(49633),C=t(12110),S=t(81e3),D=t(94814),P=t(17392),T=t(74600),$=t(65381),R=t(67132),F=t(59229),q=t(74818),E=t(57442),W=t(31673),I=t(38974),Z=t(35151),L=t(94857),G=t(83858),Y=t(87410),B=t(59699),z=t(45837),M=t(79958),O=t(67784),U=t(26353),V=t(18099),K=t(88887),N=t(28082),Q=t(70579);function H(e){let{selected:n,AppointDates:t,setSelected:a,selectedDate:i,setSelectedDate:o,list:l,loading:r}=e;const{t:s}=(0,_.WD)(),{data:m}=(0,j.VK$)(n,{select:"_id work_group appointment_type unit_service start_time online_available",populate:[{path:"work_group",select:"name_english name_arabic"},{path:"unit_service",select:"name_english name_arabic"},{path:"appointment_type",select:"name_english name_arabic"}]}),[u,p]=(0,f.useState)(),h=(0,K.Q)("up","md");(0,f.useEffect)((()=>{var e,t;if(!r.value)if(n)if(l.some((e=>e._id===n)))l.forEach(((e,t)=>{var i,o;e._id===n&&(a(null===l||void 0===l||null===(i=l[t])||void 0===i?void 0:i._id),p(null===l||void 0===l||null===(o=l[t])||void 0===o?void 0:o._id))}));else{var i,o;a(null===l||void 0===l||null===(i=l[0])||void 0===i?void 0:i._id),p(null===l||void 0===l||null===(o=l[0])||void 0===o?void 0:o._id)}else a(null===l||void 0===l||null===(e=l[0])||void 0===e?void 0:e._id),p(null===l||void 0===l||null===(t=l[0])||void 0===t?void 0:t._id)}),[l,r.value]);return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(T.A,{direction:h?"row":"column",justifyContent:"space-around",children:[(0,Q.jsx)(V.$,{localeText:!1,sx:{width:"100%",flexGrow:1,flexShrink:.4},orientation:h?"landscape":"",shouldDisableDate:e=>!t.some((n=>{const t=new Date(n),a=new Date(e);return t.getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()&&t.getDate()===a.getDate()})),slots:{toolbar:"test"},slotProps:{actionBar:{actions:[]}},value:new Date(i),onChange:e=>o(new Date(e.getFullYear(),e.getMonth(),e.getDate(),12,0,0))}),(0,Q.jsx)(T.A,{sx:{width:"100%",height:"100%",flexGrow:1,flexShrink:.6,px:3},children:(0,Q.jsx)(N.A,{list:l,onChange:e=>{a(e),p(e)},value:u})})]}),(0,Q.jsx)(d.A,{sx:{borderStyle:"dashed"}}),n&&(0,Q.jsx)(M.A,{title:(0,Q.jsx)(c.A,{sx:{py:2,fontWeight:700},variant:"caption",color:"text.secondary",textTransform:"uppercase",children:s("Appointment details")})}),m&&(0,Q.jsx)(X,{item:m}),(0,Q.jsx)(d.A,{sx:{borderStyle:"dashed",mb:3}})]})}function X(e){var n,t;let{item:a}=e;const{_id:i,work_group:o,appointment_type:l,unit_service:r,start_time:s,online_available:d}=a,{t:m}=(0,_.WD)(),{currentLang:c}=(0,_.jc)(),u="ar"===c.value,{enqueueSnackbar:p}=(0,L.dh)(),{appointmenttypesData:h}=(0,j.uZ5)(),[g,b]=(0,f.useState)(null===l||void 0===l?void 0:l._id),x=(0,K.Q)("up","md");return(0,Q.jsx)(T.A,{dir:u?"rtl":"ltr",spacing:2,sx:{p:3,position:"relative"},children:(0,Q.jsxs)(T.A,{direction:x?"row":"column",alignItems:"center",spacing:2,children:[(0,Q.jsx)(U.A,{primary:(0,z.A)(new Date(s))&&new Date(s).toLocaleTimeString(m("en-US"),{timeZone:(null===r||void 0===r||null===(n=r.country)||void 0===n?void 0:n.time_zone)||"Asia/Amman",hour:"2-digit",minute:"2-digit"}),secondary:(0,z.A)(new Date(s))&&new Date(s).toLocaleDateString(m("en-US"),{timeZone:(null===r||void 0===r||null===(t=r.country)||void 0===t?void 0:t.time_zone)||"Asia/Amman"}),primaryTypographyProps:{typography:"subtitle1",noWrap:!0},secondaryTypographyProps:{typography:"body2",component:"span",mt:.5,color:"text.disabled"}}),[{label:(0,Q.jsx)(O.A,{variant:"standard",select:!0,size:"small",sx:{width:"170px",mx:2},value:g,onChange:async e=>{try{await W.Ay.patch(W.vZ.appointments.one(i),{appointment_type:e.target.value}),b(e.target.value),p(m("updated successfully"))}catch(n){p(u&&`${n.arabic_message}`||`${n.message}`,{variant:"error"})}},placeholder:m("appointment type"),children:null===h||void 0===h?void 0:h.map(((e,n)=>(0,Q.jsx)(D.A,{selected:g===e._id,value:e._id,children:u?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},n)))}),icon:(0,Q.jsx)(Z.A,{icon:"streamline:waiting-appointments-calendar"})},{label:u?null===o||void 0===o?void 0:o.name_arabic:null===o||void 0===o?void 0:o.name_english,icon:(0,Q.jsx)(Z.A,{icon:"ri:group-line"})},{label:m("available online"),icon:(0,Q.jsx)(Z.A,{icon:d?"typcn:tick-outline":"mdi:close-outline",sx:{color:d?"success.main":"error.main"}})}].map(((e,n)=>(0,Q.jsxs)(T.A,{spacing:.5,direction:"row",children:[e.icon,(0,Q.jsx)(U.A,{primary:e.label,secondary:(0,Q.jsx)("span",{dir:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"===e.label?"ltr":"auto",children:e.value}),primaryTypographyProps:{typography:"body2",color:"text.secondary",mb:.5},secondaryTypographyProps:{typography:"subtitle2",color:"text.primary",component:"span",textTransform:"none"}})]},n)))]})})}var J=t(71806),ee=t(26240),ne=t(73460),te=t(77502),ae=t(20698),ie=t(51440),oe=t(75950),le=t(68738),re=t(39652),se=t(70074);function de(e){let{row:n,note:t,setNote:a,selected:i,submitting:o,onEmploymentRow:l,SelectedAppointment:r}=e;const{sequence_number:s,name_english:d,name_arabic:m,nationality:u,birth_date:p,identification_num:h,mobile_num1:g,mobile_num2:b}=n,{t:x}=(0,_.WD)(),{currentLang:v}=(0,_.jc)(),j="ar"===v.value,y=(0,F.C)(),A=(0,Q.jsxs)(le.A,{hover:!0,selected:i,children:[(0,Q.jsx)(re.A,{align:"center",children:(0,Q.jsxs)(S.A,{children:[null!==u&&void 0!==u&&u.code?String(null===u||void 0===u?void 0:u.code).padStart(3,"0"):"","-",s]})}),(0,Q.jsx)(re.A,{align:"center",children:d}),(0,Q.jsx)(re.A,{align:"center",children:m}),(0,Q.jsx)(re.A,{align:"center",children:g}),(0,Q.jsx)(re.A,{align:"center",children:b}),(0,Q.jsx)(re.A,{align:"center",children:h}),(0,Q.jsx)(re.A,{align:"center",children:j?null===u||void 0===u?void 0:u.name_arabic:null===u||void 0===u?void 0:u.name_english}),(0,Q.jsx)(re.A,{align:"center",children:(0,E.ts)(p)}),(0,Q.jsx)(re.A,{align:"center",sx:{px:1,whiteSpace:"nowrap"},children:(0,Q.jsx)(P.A,{onClick:y.onToggle,children:(0,Q.jsx)(Z.A,{width:"27px",color:"info.main",icon:"mdi:book-add"})})})]});return(0,Q.jsxs)(Q.Fragment,{children:[A,(0,Q.jsx)(se.T,{open:y.value,onClose:y.onFalse,title:x("Patient identity confirmation:"),content:(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(c.A,{children:[" ",x("By booking the appointment, you confirm that you have been checked patient data and there are at minimum three data that matches with next patient identity:")]}),(0,Q.jsxs)(C.A,{sx:{p:2,m:2},children:[(0,Q.jsxs)(c.A,{children:[x("patient")," : ",j?m:d]}),(0,Q.jsxs)(c.A,{children:[x("appoitment")," : ",(0,E.uK)(r.start_time)]})]}),(0,Q.jsx)(O.A,{multiline:!0,fullWidth:!0,label:x("note"),rows:2,sx:{my:2},onChange:e=>a(e.target.value),value:t})]}),action:(0,Q.jsx)(w.A,{variant:"contained",color:"info",loading:o,onClick:()=>{l(),y.onFalse(),a("")},children:x("confirm")})})]})}function me(e){let{SelectedAppointment:n,reset:t,selected:a,oldPatients:i,usPatients:o}=e;const{t:l}=(0,_.WD)(),{currentLang:r}=(0,_.jc)(),s="ar"===r.value,d=[{id:"code",label:l("code")},{id:"name_english",label:l("name in english")},{id:"name_arabic",label:l("name in arabic")},{id:"mobile_num1",label:l("mobile number")},{id:"mobile_num2",label:l("alternative mobile number")},{id:"identification_num",label:l("ID number")},{id:"nationality",label:l("nationality")},{id:"birth_date",label:l("birth date")},{id:"book",width:88}],m=(0,R.rd)(),{enqueueSnackbar:c}=(0,L.dh)(),u=(0,oe.K2)({defaultRowsPerPage:10}),[p,h]=(0,f.useState)(),[g,b]=(0,f.useState)(!1),x=(0,ee.A)(),{dense:v,page:j,order:y,orderBy:A,rowsPerPage:w,onSort:k,onChangeDense:C,onChangePage:S,onChangeRowsPerPage:D}=u;return(0,Q.jsxs)(ie.A,{children:[(0,Q.jsxs)(J.A,{size:v?"small":"medium",sx:{minWidth:960,borderCollapse:"separate",borderSpacing:"0 16px"},children:[(0,Q.jsx)(oe.er,{order:y,orderBy:A,headLabel:d,onSort:k,sx:{[`& .${te.A.head}`]:{"&:first-of-type":{borderTopLeftRadius:12,borderBottomLeftRadius:12},"&:last-of-type":{borderTopRightRadius:12,borderBottomRightRadius:12}}}}),(0,Q.jsxs)(ne.A,{children:[i.slice(j*w,j*w+w).map(((e,i,r)=>(0,Q.jsx)(de,{row:e,note:p,setNote:h,submitting:g,SelectedAppointment:n,onEmploymentRow:()=>(async e=>{try{b(!0);const i={note:p,lang:s};o?(i.unit_service_patient=e._id,i.patient=null===e||void 0===e?void 0:e.patient):i.patient=e._id,await W.Ay.patch(W.vZ.appointments.book(a),i),await(0,q.n)(n),c(l("booked successfully!")),b(!1),t(),m.back()}catch(i){c(s&&`${i.arabic_message}`||`${i.message}`,{variant:"error"}),b(!1),window.location.reload(),console.error(i)}})(e)},r))),(0,Q.jsx)(oe.Sm,{notFound:0===i.length,sx:{m:-2,borderRadius:1.5,border:`dashed 1px ${x.palette.divider}`}})]})]}),(0,Q.jsx)(oe.We,{count:i.length,page:j,rowsPerPage:w,onPageChange:S,onRowsPerPageChange:D,dense:v,onChangeDense:C,sx:{[`& .${ae.A.toolbar}`]:{borderTopColor:"transparent"}}})]})}var ce=t(90470);const ue={status:"available",work_group:null,startTime:null,endTime:null};function pe(){var e,n,t,a,l,z,M;const{user:O}=(0,v.Z)(),U=(0,R.rd)(),{t:V}=(0,_.WD)(),{currentLang:K}=(0,_.jc)(),N="ar"===K.value,{countriesData:X}=(0,j.oOq)({select:"name_english name_arabic"}),{myunitTime:J}=(0,E.nM)(),ee=(0,F.C)(),ne=(0,i.v)(),[te,ae]=(0,f.useState)(ue),ie=!r()(te,ue),oe=(0,R.ok)(),le=oe.get("appointment"),re=oe.get("day"),[se,de]=(0,f.useState)(re?new Date(re):new Date),{appointmentsData:pe,AppointDates:he,loading:ge,refetch:be}=(0,j.ASN)(null===O||void 0===O||null===(e=O.employee)||void 0===e||null===(n=e.employee_engagements)||void 0===n||null===(t=n[null===O||void 0===O?void 0:O.employee.selected_engagement])||void 0===t||null===(a=t.unit_service)||void 0===a?void 0:a._id,{...te,startDate:se,select:"start_time"});(0,f.useEffect)((()=>{ge||pe.length||!he.length||de(he[0])}),[ge,pe.length,he]);const[xe,ve]=(0,f.useState)(le),{workGroupsData:_e}=(0,j.VnY)(null===O||void 0===O||null===(l=O.employee)||void 0===l||null===(z=l.employee_engagements)||void 0===z||null===(M=z[null===O||void 0===O?void 0:O.employee.selected_engagement])||void 0===M?void 0:M._id),{data:je}=(0,j.VK$)(xe,{select:"work_group"}),{enqueueSnackbar:ye}=(0,L.dh)(),Ae=o.Ik().shape({sequence_number:o.Yj(),name_english:o.Yj(),name_arabic:o.Yj(),nationality:o.Yj().required(V("required field")),mobile_num1:o.Yj().required(V("required field")),mobile_num2:o.Yj(),note:o.Yj(),patientExist:o.Yj()}),fe=(0,f.useMemo)((()=>{var e,n,t,a,i;return{sequence_number:"",name_english:"",name_arabic:"",nationality:null,mobile_num1:"",mobile_num2:"",note:"",patientExist:"my_patients",work_group:null===_e||void 0===_e||null===(e=_e[0])||void 0===e?void 0:e._id,unit_service:null===O||void 0===O||null===(n=O.employee)||void 0===n||null===(t=n.employee_engagements)||void 0===t||null===(a=t[null===O||void 0===O?void 0:O.employee.selected_engagement])||void 0===a||null===(i=a.unit_service)||void 0===i?void 0:i._id}}),[null===O||void 0===O?void 0:O.employee,_e]),we=(0,y.mN)({mode:"all",resolver:(0,A.t)(Ae),defaultValues:fe}),{reset:ke,handleSubmit:Ce,watch:Se,setValue:De,formState:{isSubmitting:Pe,errors:Te}}=we;(0,f.useEffect)((()=>{Object.keys(Te).length&&Object.keys(Te).forEach(((e,n)=>{var t;return ye(`${e}: ${(null===Te||void 0===Te||null===(t=Te[e])||void 0===t?void 0:t.message)||"error"}`,{variant:"error"})}))}),[Te,ye]);const $e=Se(),Re=(0,I.d)({sequence_number:$e.sequence_number,name_english:$e.name_english,name_arabic:$e.name_arabic,mobile_num1:$e.mobile_num1,mobile_num2:$e.mobile_num2}),{existPatients:Fe}=(0,j.C_f)({...Re,select:"code name_english name_arabic mobile_num1 mobile_num2 identification_num nationality birth_date"}),{foundPatients:qe}=(0,j.gZT)({...Re,work_group:null===je||void 0===je?void 0:je.work_group,select:"code name_english name_arabic patient mobile_num1 mobile_num2 identification_num nationality birth_date"}),Ee=Ce((async e=>{try{delete e.sequence_number,await W.Ay.patch(W.vZ.appointments.patient.createPatientAndBookAppoint(xe),{...e,lang:N});const n=pe.find((e=>e._id===xe));ye(V("created successfully!")),await(0,q.n)(n),U.back()}catch(n){ye(N&&`${n.arabic_message}`||`${n.message}`,{variant:"error"}),be(),console.error(n)}})),We=e=>{/^[\u0600-\u06FF0-9\s!@#$%^&*_\-().]*$/.test(e.target.value)&&De(e.target.name,e.target.value)},Ie=e=>{/^[a-zA-Z0-9\s,@#$!*_\-&^%.()]*$/.test(e.target.value)&&De(e.target.name,e.target.value)},Ze=e=>{const{value:n}=e.target,t=n.replace(/\D/g,"");t.length<=3?De(e.target.name,t):t.length>=4&&"-"===t.charAt(3)?De(e.target.name,t.slice(0,3)):t.length>=4&&"-"!==t.charAt(3)?De(e.target.name,`${t.slice(0,3)}-${t.slice(3)}`):De(e.target.name,t)},Le=(0,f.useCallback)((()=>{ae(ue)}),[]);return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(m.A,{maxWidth:"xl",children:[(0,Q.jsx)(G.A,{heading:V("Book Appointment"),links:[{name:V("dashboard"),href:x.f.employee.root},{name:V("appointments"),href:x.f.employee.appointments.root},{name:V("book")}],action:ne({category:"unit_service",subcategory:"appointments",acl:"create"})&&(0,Q.jsx)(k.A,{component:$.W,onClick:()=>ee.onTrue(),variant:"contained",startIcon:(0,Q.jsx)(Z.A,{icon:"mingcute:add-line"}),sx:{bgcolor:"error.dark","&:hover":{bgcolor:"error.main"}},children:V("new appointment")}),sx:{mb:{xs:3,md:5}}}),(0,Q.jsx)(Y.A,{methods:we,onSubmit:Ee,children:(0,Q.jsxs)(C.A,{sx:{px:3,pb:3,pt:2},children:[(0,Q.jsxs)(c.A,{variant:"subtitle2",children:[V("filters"),":"]}),(0,Q.jsxs)(S.A,{sx:{mb:3,mx:3,mt:2},rowGap:3,columnGap:2,display:"flex",children:[(0,Q.jsxs)(p.A,{sx:{width:{xs:1,md:200}},children:[(0,Q.jsx)(u.A,{shrink:!0,children:`${V("work group")}`}),(0,Q.jsx)(s.A,{value:te.group,onChange:e=>ae((n=>({...n,group:e.target.value}))),size:"small",input:(0,Q.jsx)(h.A,{label:V("work group")}),children:_e.map(((e,n)=>(0,Q.jsx)(D.A,{lang:"ar",value:e._id,children:N?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},n)))})]}),(0,Q.jsx)(g.A,{closeOnSelect:!0,viewRenderers:{hours:b.Zo,minutes:b.Zo,seconds:b.Zo},slots:{actionBar:"cancel"},ampm:!1,format:"hh:mm a",minutesStep:5,label:V("from time"),value:J(te.startTime),onChange:e=>{const n=J(e);ae((e=>({...e,startTime:n})))},slotProps:{textField:{fullWidth:!0,size:"small"}},sx:{width:{xs:1,md:200}}}),(0,Q.jsx)(g.A,{closeOnSelect:!0,viewRenderers:{hours:b.Zo,minutes:b.Zo,seconds:b.Zo},slots:{actionBar:"cancel"},minutesStep:5,label:V("to time"),value:J(te.endTime),onChange:e=>{const n=J(e);ae((e=>({...e,endTime:n})))},ampm:!1,format:"hh:mm a",slotProps:{textField:{fullWidth:!0,size:"small"}},sx:{width:{xs:1,md:200}}}),ie&&(0,Q.jsx)(P.A,{sx:{color:"error.main"},onClick:Le,children:(0,Q.jsx)(Z.A,{icon:"solar:trash-bin-trash-bold"})})]}),(0,Q.jsx)(d.A,{sx:{borderStyle:"dashed"}}),!ge&&(0,Q.jsx)(H,{selected:xe,AppointDates:he,loading:ge,setSelected:ve,selectedDate:se,setSelectedDate:de,list:pe}),xe&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(c.A,{sx:{py:2,fontWeight:700},variant:"caption",color:"text.secondary",textTransform:"uppercase",children:V("patient information")}),(0,Q.jsx)("br",{}),(0,Q.jsx)("br",{}),(0,Q.jsx)(B.b$,{row:!0,name:"patientExist",options:[{label:V("my patient"),value:"my_patients"},{label:V("new patient"),value:"new"}]}),(0,Q.jsx)("br",{}),(0,Q.jsx)("br",{}),"my_patients"===$e.patientExist&&(0,Q.jsxs)(S.A,{sx:{mb:3},rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(3, 1fr)"},children:[(0,Q.jsx)(B.o3,{onChange:Ie,name:"name_english",label:V("patient name in english")}),(0,Q.jsx)(B.o3,{onChange:We,name:"name_arabic",label:V("patient name in arabic")}),(0,Q.jsx)(B.o3,{type:"email",name:"email",label:V("email address")}),(0,Q.jsx)(B.o3,{onChange:Ie,name:"identification_num",label:V("ID number")}),(0,Q.jsx)(B.u,{name:"mobile_num1",label:V("mobile number")}),(0,Q.jsx)(B.u,{name:"mobile_num2",label:V("alternative mobile number")})]}),"exist"===$e.patientExist&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(B.o3,{InputLabelProps:{shrink:!0},inputProps:{style:{textAlign:"center"}},sx:{width:"200px",mb:3,textAlign:"center"},size:"small",name:"sequence_number",onChange:Ze,placeholder:"001-22",label:V("patient-code")}),(0,Q.jsxs)(S.A,{sx:{mb:3},rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(3, 1fr)"},children:[(0,Q.jsx)(B.o3,{onChange:Ie,name:"name_english",label:V("patient name in english")}),(0,Q.jsx)(B.o3,{onChange:We,name:"name_arabic",label:V("patient name in arabic")}),(0,Q.jsx)(B.o3,{type:"email",name:"email",label:V("email address")}),(0,Q.jsx)(B.o3,{onChange:Ie,name:"identification_num",label:V("ID number")}),(0,Q.jsx)(B.u,{name:"mobile_num1",label:V("mobile number")}),(0,Q.jsx)(B.u,{name:"mobile_num2",label:V("alternative mobile number")})]})]}),"new"===$e.patientExist&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(c.A,{sx:{mb:2},variant:"subtitle2",color:"info.dark",children:V("if the patient did not exist in our system you are required to add name (arabic or english), nationality and mobile number")}),(0,Q.jsx)(B.o3,{InputLabelProps:{shrink:!0},inputProps:{style:{textAlign:"center"}},sx:{width:"200px",mb:3,textAlign:"center"},size:"small",name:"sequence_number",onChange:Ze,placeholder:"001-22",label:V("patient-code")}),(0,Q.jsxs)(S.A,{sx:{mb:3},rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(3, 1fr)"},children:[(0,Q.jsx)(B.o3,{onChange:Ie,name:"name_english",label:V("patient name in english")}),(0,Q.jsx)(B.o3,{onChange:We,name:"name_arabic",label:V("patient name in arabic")}),(0,Q.jsx)(B.u,{name:"mobile_num1",label:V("mobile number")}),(0,Q.jsx)(B.u,{name:"mobile_num2",label:V("alternative mobile number")}),(0,Q.jsx)(B.tX,{name:"nationality",label:V("nationality"),children:X.map(((e,n)=>(0,Q.jsx)(D.A,{lang:"ar",value:e._id,children:N?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english},n)))})]}),(0,Q.jsx)(B.o3,{multiline:!0,rows:2,name:"note",label:V("note")}),(0,Q.jsx)(T.A,{alignItems:"flex-end",sx:{mt:3},children:(0,Q.jsx)(w.A,{disabled:!xe,type:"submit",tabIndex:-1,variant:"contained",loading:Pe,children:V("create new patient and book")})})]}),Fe.length>0&&"new"===$e.patientExist&&(0,Q.jsx)(me,{SelectedAppointment:pe.find((e=>e._id===xe)),selected:xe,reset:ke,oldPatients:Fe}),qe.length>0&&"my_patients"===$e.patientExist&&(0,Q.jsx)(me,{SelectedAppointment:pe.find((e=>e._id===xe)),selected:xe,reset:ke,oldPatients:qe,usPatients:!0})]})]})})]}),(0,Q.jsx)(ce.A,{refetch:be,open:ee.value,onClose:ee.onFalse})]})}function he(){return(0,Q.jsxs)(i.A,{category:"unit_service",subcategory:"appointments",acl:"read",children:[(0,Q.jsxs)(a.mg,{children:[(0,Q.jsx)("title",{children:" Book Appointment "}),(0,Q.jsx)("meta",{name:"description",content:"meta"})]}),(0,Q.jsx)(pe,{})]})}}}]);
//# sourceMappingURL=87324.3f5a711e.chunk.js.map