"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[9356],{6599:(e,n,i)=>{i.r(n),i.d(n,{default:()=>X});var a=i(57689),t=i(6907),s=i(27031),l=i(36093),o=i(8007),r=i(61134),c=i(72791),d=i(44695),u=i(53767),v=i(12258),p=i(61889),m=i(4567),g=i(57621),x=i(9585),h=i(10266),_=i(38072),f=i(19208),Z=i(38887),j=i(66664),y=i(99116),b=i(8976),w=i(76932),T=i(32869),P=i(26405),C=i(80184);function M(){const{t:e}=(0,w.qM)(),{currentLang:n}=(0,w.nt)(),i="ar"===n.value,a=[{label:e("read"),value:"read"},{label:e("create"),value:"create"},{label:e("edit"),value:"update"},{label:e("delete"),value:"delete"}],{id:t}=(0,f.UO)(),{user:s}=(0,b.E)(),{data:M}=(0,l.X7)(t),X=(0,Z.F)("up","md"),{enqueueSnackbar:I}=(0,T.Ds)(),R=o.Ry().shape({departments:o.IX(),employees:o.IX(),management_tables:o.IX(),appointments:o.IX(),appointment_configs:o.IX(),accounting:o.IX(),offers:o.IX(),quality_control:o.IX(),unit_service_info:o.IX(),old_patient:o.IX()}),z=(0,c.useMemo)((()=>{var e,n,i,a,t,s,l,o,r,c,d,u,v,p,m,g,x,h,_,f,Z,j;return{departments:(null===M||void 0===M||null===(e=M.acl)||void 0===e||null===(n=e.unit_service)||void 0===n?void 0:n.departments)||[],employees:(null===M||void 0===M||null===(i=M.acl)||void 0===i||null===(a=i.unit_service)||void 0===a?void 0:a.employees)||[],management_tables:(null===M||void 0===M||null===(t=M.acl)||void 0===t||null===(s=t.unit_service)||void 0===s?void 0:s.management_tables)||[],appointments:(null===M||void 0===M||null===(l=M.acl)||void 0===l||null===(o=l.unit_service)||void 0===o?void 0:o.appointments)||[],appointment_configs:(null===M||void 0===M||null===(r=M.acl)||void 0===r||null===(c=r.unit_service)||void 0===c?void 0:c.appointment_configs)||[],accounting:(null===M||void 0===M||null===(d=M.acl)||void 0===d||null===(u=d.unit_service)||void 0===u?void 0:u.accounting)||[],offers:(null===M||void 0===M||null===(v=M.acl)||void 0===v||null===(p=v.unit_service)||void 0===p?void 0:p.offers)||[],quality_control:(null===M||void 0===M||null===(m=M.acl)||void 0===m||null===(g=m.unit_service)||void 0===g?void 0:g.quality_control)||[],unit_service_info:(null===M||void 0===M||null===(x=M.acl)||void 0===x||null===(h=x.unit_service)||void 0===h?void 0:h.unit_service_info)||[],old_patient:(null===M||void 0===M||null===(_=M.acl)||void 0===_||null===(f=_.unit_service)||void 0===f?void 0:f.old_patient)||[],permissions:(null===M||void 0===M||null===(Z=M.acl)||void 0===Z||null===(j=Z.unit_service)||void 0===j?void 0:j.old_patient)||[]}}),[M]),N=(0,r.cI)({mode:"onTouched",resolver:(0,d.X)(R),defaultValues:z}),{reset:S,handleSubmit:k,formState:{isSubmitting:q}}=N;(0,c.useEffect)((()=>{var e,n,i,a,t,s,l,o,r,c,d,u,v,p,m,g,x,h,_,f,Z,j;S({departments:(null===M||void 0===M||null===(e=M.acl)||void 0===e||null===(n=e.unit_service)||void 0===n?void 0:n.departments)||[],employees:(null===M||void 0===M||null===(i=M.acl)||void 0===i||null===(a=i.unit_service)||void 0===a?void 0:a.employees)||[],management_tables:(null===M||void 0===M||null===(t=M.acl)||void 0===t||null===(s=t.unit_service)||void 0===s?void 0:s.management_tables)||[],appointments:(null===M||void 0===M||null===(l=M.acl)||void 0===l||null===(o=l.unit_service)||void 0===o?void 0:o.appointments)||[],appointment_configs:(null===M||void 0===M||null===(r=M.acl)||void 0===r||null===(c=r.unit_service)||void 0===c?void 0:c.appointment_configs)||[],accounting:(null===M||void 0===M||null===(d=M.acl)||void 0===d||null===(u=d.unit_service)||void 0===u?void 0:u.accounting)||[],offers:(null===M||void 0===M||null===(v=M.acl)||void 0===v||null===(p=v.unit_service)||void 0===p?void 0:p.offers)||[],quality_control:(null===M||void 0===M||null===(m=M.acl)||void 0===m||null===(g=m.unit_service)||void 0===g?void 0:g.quality_control)||[],unit_service_info:(null===M||void 0===M||null===(x=M.acl)||void 0===x||null===(h=x.unit_service)||void 0===h?void 0:h.unit_service_info)||[],old_patient:(null===M||void 0===M||null===(_=M.acl)||void 0===_||null===(f=_.unit_service)||void 0===f?void 0:f.old_patient)||[],permissions:(null===M||void 0===M||null===(Z=M.acl)||void 0===Z||null===(j=Z.unit_service)||void 0===j?void 0:j.old_patient)||[]})}),[t,M]);const H=k((async n=>{try{const i=M.acl;i.unit_service=n,j.ZP.patch(j.Hv.employee_engagements.one(t),{acl:i}),y.Z.emit("updated",{user:s,link:_.H.unitservice.employees.acl(t),msg:"updated a service unit employee permissions"}),I(e("updated successfully!"))}catch(a){I(i?a.arabic_message:a.message,{variant:"error"}),console.error(a)}})),A=(0,C.jsxs)(C.Fragment,{children:[X&&(0,C.jsxs)(p.ZP,{md:4,children:[(0,C.jsx)(m.Z,{lang:"ar",variant:"h6",sx:{mb:.5},children:e("permissions")}),(0,C.jsx)(m.Z,{lang:"ar",variant:"body2",sx:{color:"text.secondary"},children:e("giving or withdrowing permissions refered to all")}),(0,C.jsx)(m.Z,{lang:"ar",variant:"body2",sx:{color:"text.secondary"},children:e("service unit and all its departments")})]}),(0,C.jsx)(p.ZP,{xs:12,md:8,children:(0,C.jsxs)(g.Z,{children:[!X&&(0,C.jsx)(x.Z,{lang:"ar",title:e("permissions")}),(0,C.jsxs)(u.Z,{spacing:3,sx:{p:3},children:[(0,C.jsxs)(u.Z,{spacing:1,children:[(0,C.jsx)(m.Z,{title:"Permissions",textTransform:"capitalize",variant:"subtitle2",children:e("departments")}),(0,C.jsx)(P.s2,{row:!0,spacing:4,name:"departments",options:a})]}),(0,C.jsxs)(u.Z,{spacing:1,children:[(0,C.jsx)(m.Z,{lang:"ar",textTransform:"capitalize",variant:"subtitle2",children:e("employees")}),(0,C.jsx)(P.s2,{row:!0,spacing:4,name:"employees",options:a})]}),(0,C.jsxs)(u.Z,{spacing:1,children:[(0,C.jsx)(m.Z,{lang:"ar",textTransform:"capitalize",variant:"subtitle2",children:e("management tables")}),(0,C.jsx)(P.s2,{row:!0,spacing:4,name:"management_tables",options:a})]}),(0,C.jsxs)(u.Z,{spacing:1,children:[(0,C.jsx)(m.Z,{lang:"ar",textTransform:"capitalize",variant:"subtitle2",children:e("appointments")}),(0,C.jsx)(P.s2,{row:!0,spacing:4,name:"appointments",options:a})]}),(0,C.jsxs)(u.Z,{spacing:1,children:[(0,C.jsx)(m.Z,{lang:"ar",textTransform:"capitalize",variant:"subtitle2",children:e("appointment configuration")}),(0,C.jsx)(P.s2,{row:!0,spacing:4,name:"appointment_configs",options:a})]}),(0,C.jsxs)(u.Z,{spacing:1,children:[(0,C.jsx)(m.Z,{lang:"ar",textTransform:"capitalize",variant:"subtitle2",children:e("accounting")}),(0,C.jsx)(P.s2,{row:!0,spacing:4,name:"accounting",options:a})]}),(0,C.jsxs)(u.Z,{spacing:1,children:[(0,C.jsx)(m.Z,{lang:"ar",textTransform:"capitalize",variant:"subtitle2",children:e("offers")}),(0,C.jsx)(P.s2,{row:!0,spacing:4,name:"offers",options:a})]}),(0,C.jsxs)(u.Z,{spacing:1,children:[(0,C.jsx)(m.Z,{lang:"ar",textTransform:"capitalize",variant:"subtitle2",children:e("quality control")}),(0,C.jsx)(P.s2,{row:!0,spacing:4,name:"quality_control",options:a})]}),(0,C.jsxs)(u.Z,{spacing:1,children:[(0,C.jsx)(m.Z,{lang:"ar",textTransform:"capitalize",variant:"subtitle2",children:e("old patient data")}),(0,C.jsx)(P.s2,{row:!0,spacing:4,name:"old_patient",options:a})]}),(0,C.jsxs)(u.Z,{spacing:1,children:[(0,C.jsx)(m.Z,{lang:"ar",textTransform:"capitalize",variant:"subtitle2",children:e("service unit info")}),(0,C.jsx)(P.s2,{row:!0,spacing:4,name:"unit_service_info",options:a})]}),(0,C.jsxs)(u.Z,{spacing:1,children:[(0,C.jsx)(m.Z,{lang:"ar",textTransform:"capitalize",variant:"subtitle2",children:e("permissions")}),(0,C.jsx)(P.s2,{row:!0,spacing:4,name:"permissions",options:a})]})]})]})})]}),E=(0,C.jsxs)(C.Fragment,{children:[X&&(0,C.jsx)(p.ZP,{md:4}),(0,C.jsx)(p.ZP,{xs:12,md:8,sx:{display:"flex",justifyContent:"flex-end"},children:(0,C.jsx)(v.Z,{type:"submit",variant:"contained",loading:q,sx:{m:2},children:e("save changes")})})]});return(0,C.jsx)(h.Z,{maxWidth:"lg",children:(0,C.jsx)(P.ZP,{methods:N,onSubmit:H,children:(0,C.jsxs)(p.ZP,{container:!0,spacing:3,children:[A,E]})})})}function X(){const e=(0,a.UO)(),{id:n}=e,{data:i}=(0,l.X7)(n);return(0,C.jsxs)(s.Z,{category:"unit_service",subcategory:"permissions",acl:"update",children:[(0,C.jsxs)(t.ql,{children:[(0,C.jsxs)("title",{children:[i.name_english||"Employee"," : Access control list"]}),(0,C.jsx)("meta",{name:"description",content:"meta"})]}),(0,C.jsx)(M,{})]})}},9585:(e,n,i)=>{i.d(n,{Z:()=>j});var a=i(63366),t=i(87462),s=i(72791),l=i(59278),o=i(94419),r=i(4567),c=i(31402),d=i(66934),u=i(75878),v=i(21217);function p(e){return(0,v.Z)("MuiCardHeader",e)}const m=(0,u.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var g=i(80184);const x=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],h=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,n)=>(0,t.Z)({["& .".concat(m.title)]:n.title,["& .".concat(m.subheader)]:n.subheader},n.root)})({display:"flex",alignItems:"center",padding:16}),_=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,n)=>n.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),f=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,n)=>n.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),Z=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,n)=>n.content})({flex:"1 1 auto"}),j=s.forwardRef((function(e,n){const i=(0,c.Z)({props:e,name:"MuiCardHeader"}),{action:s,avatar:d,className:u,component:v="div",disableTypography:m=!1,subheader:j,subheaderTypographyProps:y,title:b,titleTypographyProps:w}=i,T=(0,a.Z)(i,x),P=(0,t.Z)({},i,{component:v,disableTypography:m}),C=(e=>{const{classes:n}=e;return(0,o.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},p,n)})(P);let M=b;null==M||M.type===r.Z||m||(M=(0,g.jsx)(r.Z,(0,t.Z)({variant:d?"body2":"h5",className:C.title,component:"span",display:"block"},w,{children:M})));let X=j;return null==X||X.type===r.Z||m||(X=(0,g.jsx)(r.Z,(0,t.Z)({variant:d?"body2":"body1",className:C.subheader,color:"text.secondary",component:"span",display:"block"},y,{children:X}))),(0,g.jsxs)(h,(0,t.Z)({className:(0,l.Z)(C.root,u),as:v,ref:n,ownerState:P},T,{children:[d&&(0,g.jsx)(_,{className:C.avatar,ownerState:P,children:d}),(0,g.jsxs)(Z,{className:C.content,ownerState:P,children:[M,X]}),s&&(0,g.jsx)(f,{className:C.action,ownerState:P,children:s})]}))}))},57621:(e,n,i)=>{i.d(n,{Z:()=>h});var a=i(87462),t=i(63366),s=i(72791),l=i(59278),o=i(94419),r=i(66934),c=i(31402),d=i(27938),u=i(75878),v=i(21217);function p(e){return(0,v.Z)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var m=i(80184);const g=["className","raised"],x=(0,r.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,n)=>n.root})((()=>({overflow:"hidden"}))),h=s.forwardRef((function(e,n){const i=(0,c.Z)({props:e,name:"MuiCard"}),{className:s,raised:r=!1}=i,d=(0,t.Z)(i,g),u=(0,a.Z)({},i,{raised:r}),v=(e=>{const{classes:n}=e;return(0,o.Z)({root:["root"]},p,n)})(u);return(0,m.jsx)(x,(0,a.Z)({className:(0,l.Z)(v.root,s),elevation:r?8:void 0,ref:n,ownerState:u},d))}))}}]);
//# sourceMappingURL=9356.e0658ef5.chunk.js.map