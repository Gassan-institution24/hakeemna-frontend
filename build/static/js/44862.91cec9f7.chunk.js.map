{"version":3,"file":"static/js/44862.91cec9f7.chunk.js","mappings":"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","sources":["api/sickleave.js","sections/employee/appointmentsToday/sickleavePage.jsx","pages/employee/appointmentsToday/sickleavePage.jsx"],"sourcesContent":["import { useMemo } from 'react';\nimport useSWR, { mutate } from 'swr';\n\nimport { fetcher, endpoints } from 'src/utils/axios';\n\nexport function useGetSickLeaves(params) {\n  const URL = [endpoints.sickleave.all, { params }];\n\n  const { data, isLoading, error, isValidating } = useSWR(URL, fetcher);\n  const memoizedValue = useMemo(\n    () => ({\n      data,\n      loading: isLoading,\n      error,\n      validating: isValidating,\n      empty: !isLoading && !data?.length,\n    }),\n    [data, error, isLoading, isValidating]\n  );\n  const refetch = async () => {\n    // Use the mutate function to re-fetch the data for the specified key (URL)\n    await mutate(URL);\n  };\n\n  return { ...memoizedValue, refetch };\n}\n\nexport function useGetPatintSickLeaves(id) {\n  const URL = endpoints.sickleave.one(id);\n\n  const { data, isLoading, error, isValidating } = useSWR(URL, fetcher);\n  const memoizedValue = useMemo(\n    () => ({\n      data,\n      loading: isLoading,\n      error,\n      validating: isValidating,\n      empty: !isLoading && !data?.length,\n    }),\n    [data, error, isLoading, isValidating]\n  );\n  const refetch = async () => {\n    await mutate(URL);\n  };\n\n  return { ...memoizedValue, refetch };\n}\nexport function useGetOneSickLeaves(id) {\n  const URL = endpoints.sickleave.onee(id);\n\n  const { data, isLoading, error, isValidating } = useSWR(URL, fetcher);\n  const memoizedValue = useMemo(\n    () => ({\n      data,\n      loading: isLoading,\n      error,\n      validating: isValidating,\n      empty: !isLoading && !data?.length,\n    }),\n    [data, error, isLoading, isValidating]\n  );\n  const refetch = async () => {\n    await mutate(URL);\n  };\n\n  return { ...memoizedValue, refetch };\n}\nexport function useGetEntranceSickLeaves(id) {\n  const URL = endpoints.sickleave.entrance(id);\n\n  const { data, isLoading, error, isValidating } = useSWR(URL, fetcher);\n  const memoizedValue = useMemo(\n    () => ({\n      data,\n      loading: isLoading,\n      error,\n      validating: isValidating,\n      empty: !isLoading && !data?.length,\n    }),\n    [data, error, isLoading, isValidating]\n  );\n  const refetch = async () => {\n    await mutate(URL);\n  };\n\n  return { ...memoizedValue, refetch };\n}\n","import * as Yup from 'yup';\nimport { useNavigate } from 'react-router';\nimport { enqueueSnackbar } from 'notistack';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { useForm, Controller } from 'react-hook-form';\n\nimport { Stack } from '@mui/system';\nimport { DatePicker } from '@mui/x-date-pickers';\nimport {\n  Box,\n  Card,\n  Button,\n  Dialog,\n  Typography,\n  DialogTitle,\n  DialogActions,\n  DialogContent,\n} from '@mui/material';\n\nimport { useParams } from 'src/routes/hooks';\n\nimport { useBoolean } from 'src/hooks/use-boolean';\n\nimport axiosInstance from 'src/utils/axios';\nimport { fDateTime } from 'src/utils/format-time';\n\nimport { useLocales, useTranslate } from 'src/locales';\nimport { useGetOneSickLeaves } from 'src/api/sickleave';\n\nimport Iconify from 'src/components/iconify';\nimport { RHFTextField } from 'src/components/hook-form';\nimport FormProvider from 'src/components/hook-form/form-provider';\n\nexport default function MdicalreportPage() {\n  const { t } = useTranslate();\n  const { currentLang } = useLocales();\n  const curLangAr = currentLang.value === 'ar';\n  const { id } = useParams();\n  const { data, refetch } = useGetOneSickLeaves(id);\n  const medicalReportDialog = useBoolean();\n  const navigate = useNavigate();\n  const medicalReportSchema = Yup.object().shape({\n    employee: Yup.string(),\n    patient: Yup.string(),\n    Medical_sick_leave_start: Yup.string(),\n    Medical_sick_leave_end: Yup.string(),\n    entrance_mangament: Yup.string(),\n    description: Yup.string().required(t('Description is required')),\n  });\n  const defaultValues = {\n    description: '',\n  };\n  const methods = useForm({\n    mode: 'all',\n    resolver: yupResolver(medicalReportSchema),\n    defaultValues,\n  });\n\n  const {\n    reset,\n    handleSubmit,\n    control,\n    formState: { isSubmitting },\n  } = methods;\n\n  const onSubmit = async (submitdata) => {\n    try {\n      await axiosInstance.patch(`/api/sickleave/${id}`, submitdata);\n\n      enqueueSnackbar('Prescription updated successfully', { variant: 'success' });\n      navigate(-1);\n      refetch();\n      reset();\n    } catch (error) {\n      console.error(error.message);\n      enqueueSnackbar('Error updating data', { variant: 'error' });\n    }\n  };\n\n  return (\n    <>\n      <Box\n        sx={{\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n        }}\n      >\n        <Stack\n          component={Card}\n          sx={{\n            p: 3,\n            width: '80%',\n            display: 'grid',\n            gridTemplateColumns: { md: '1fr 1fr', xs: '1fr' },\n          }}\n        >\n          <Box>\n            <Typography variant=\"h3\">{data?.patient?.name_english}</Typography>\n            <Typography sx={{ fontWeight: 600, p: 2 }}>\n              {t('from')}:&nbsp; &nbsp;\n              <span style={{ color: 'gray', fontWeight: 400 }}>\n                {fDateTime(data?.Medical_sick_leave_start)}\n              </span>\n            </Typography>\n            <Typography sx={{ fontWeight: 600, p: 2 }}>\n              {t('to')}:&nbsp; &nbsp;\n              <span style={{ color: 'gray', fontWeight: 400 }}>\n                {fDateTime(data?.Medical_sick_leave_end)}\n              </span>\n            </Typography>\n            <Typography sx={{ fontWeight: 600, p: 2 }}>\n              {t('Dr.')}&nbsp;\n              {curLangAr\n                ? `قام ${data?.employee?.name_arabic} باضافة اجازة مرضية`\n                : `${data?.employee?.name_english} added sick leave`}\n            </Typography>\n            <Typography sx={{ fontWeight: 600, p: 2 }}>\n              {t('description')}:&nbsp;&nbsp;\n              <span style={{ color: 'gray', fontWeight: 400 }}>{data?.description}</span>{' '}\n            </Typography>\n            <Button variant=\"outlined\" sx={{ mt: 2 }} onClick={() => navigate(-1)}>\n              <Iconify icon=\"icon-park:back\" />\n              &nbsp; {t('back')}\n            </Button>\n          </Box>\n          <Box>\n            <Button variant=\"outlined\" sx={{ mt: 2 }} onClick={medicalReportDialog.onTrue}>\n              <Iconify icon=\"icon-park:edit-two\" />\n              &nbsp; {t('update')}\n            </Button>\n          </Box>\n        </Stack>\n      </Box>\n\n      <Dialog open={medicalReportDialog.value} onClose={medicalReportDialog.onFalse}>\n        <FormProvider methods={methods} onSubmit={handleSubmit(onSubmit)}>\n          <DialogTitle sx={{ color: 'success.main', position: 'relative', top: '10px' }}>\n            {t('update sick leave')}\n          </DialogTitle>\n          <DialogContent>\n            <RHFTextField\n              lang=\"en\"\n              multiline\n              name=\"description\"\n              label={t('description')}\n              sx={{ mb: 2, mt: 2 }}\n            />\n            <Controller\n              name=\"Medical_sick_leave_start\"\n              control={control}\n              render={({ field, fieldState: { error } }) => (\n                <DatePicker\n                  {...field}\n                  label={t('Start time')}\n                  sx={{ mb: 2 }}\n                  slotProps={{\n                    textField: {\n                      fullWidth: true,\n                      error: !!error,\n                      helperText: error?.message,\n                    },\n                  }}\n                />\n              )}\n            />\n            <Controller\n              name=\"Medical_sick_leave_end\"\n              control={control}\n              render={({ field, fieldState: { error } }) => (\n                <DatePicker\n                  {...field}\n                  label={t('End time')}\n                  sx={{ mb: 2 }}\n                  slotProps={{\n                    textField: {\n                      fullWidth: true,\n                      error: !!error,\n                      helperText: error?.message,\n                    },\n                  }}\n                />\n              )}\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button variant=\"outlined\" color=\"inherit\" onClick={medicalReportDialog.onFalse}>\n              {t('Cancel')}\n            </Button>\n            <Button type=\"submit\" loading={isSubmitting} variant=\"contained\">\n              {t('Upload')}\n            </Button>\n          </DialogActions>\n        </FormProvider>\n      </Dialog>\n    </>\n  );\n}\n","import { Helmet } from 'react-helmet-async';\n\nimport SickLeave from 'src/sections/employee/appointmentsToday/sickleavePage';\n\n// ----------------------------------------------------------------------\n\nexport default function SickleavePageview() {\n  return (\n    <>\n      <Helmet>\n        <title>sickleave</title>\n        <meta name=\"description\" content=\"meta\" />\n      </Helmet>\n      <SickLeave />\n    </>\n  );\n}\n"],"names":["useGetSickLeaves","params","URL","endpoints","sickleave","all","data","isLoading","error","isValidating","useSWR","fetcher","useMemo","loading","validating","empty","length","refetch","async","mutate","useGetPatintSickLeaves","id","one","useGetOneSickLeaves","onee","useGetEntranceSickLeaves","entrance","MdicalreportPage","_data$patient","_data$employee","_data$employee2","t","useTranslate","currentLang","useLocales","curLangAr","value","useParams","medicalReportDialog","useBoolean","navigate","useNavigate","medicalReportSchema","Yup","shape","employee","patient","Medical_sick_leave_start","Medical_sick_leave_end","entrance_mangament","description","required","methods","useForm","mode","resolver","yupResolver","defaultValues","reset","handleSubmit","control","formState","isSubmitting","_jsxs","_Fragment","children","_jsx","Box","sx","display","justifyContent","alignItems","Stack","component","Card","p","width","gridTemplateColumns","md","xs","Typography","variant","name_english","fontWeight","style","color","fDateTime","name_arabic","Button","mt","onClick","Iconify","icon","onTrue","Dialog","open","onClose","onFalse","FormProvider","onSubmit","axiosInstance","patch","submitdata","enqueueSnackbar","console","message","DialogTitle","position","top","DialogContent","RHFTextField","lang","multiline","name","label","mb","Controller","render","_ref","field","fieldState","DatePicker","slotProps","textField","fullWidth","helperText","_ref2","DialogActions","type","SickleavePageview","Helmet","content","SickLeave"],"sourceRoot":""}