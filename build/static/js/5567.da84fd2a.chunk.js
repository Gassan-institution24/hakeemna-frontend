"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[5567],{35567:(e,i,n)=>{n.r(i),n.d(i,{default:()=>W});var o=n(8007),t=n(57689),l=n(44695),s=n(61134),r=n(79836),a=n(12065),d=n(17003),c=n(36562),u=n(46395),h=n(28666),m=n(35651),x=n(65552),p=n(27454),v=n(13838),Z=n(5574),j=n(65661),b=n(39157),y=n(4567),_=n(97123),f=n(82626),g=n(57621),k=n(39281),C=n(56890),T=n(9195),w=n(68745),F=n(53382),S=n(27938),P=n(22459),M=n(66664),N=n(9145),R=n(8976),E=n(81164),q=n(19721),A=n(40268),D=n(59493),I=n(84802),O=n(80184);function W(){var e,i,n,W;const z=(0,t.UO)(),{id:U}=z,{medicines:X}=(0,q.G0X)(),{user:H}=(0,R.E)(),{Entrance:Q}=(0,q.Og5)(U),{historyData:G}=(0,q.JjE)(null===Q||void 0===Q||null===(e=Q.patient)||void 0===e?void 0:e._id),J=(0,P.k)(),L=(0,P.k)(),{t:V}=(0,E.qM)(),{currentLang:B}=(0,E.nt)(),K="ar"===B.value,Y=o.Ry().shape({employee:o.Z_(),patient:o.Z_(),Num_days:o.Rx(),medicines:o.Z_(),Start_time:o.hT(),End_time:o.hT(),Frequency_per_day:o.Z_(),Doctor_Comments:o.Z_(),description:o.Z_()}),$={employee:null===H||void 0===H||null===(i=H.employee)||void 0===i?void 0:i._id,patient:null===Q||void 0===Q||null===(n=Q.patient)||void 0===n?void 0:n._id},ee=(0,s.cI)({mode:"onTouched",resolver:(0,l.X)(Y),defaultValues:$}),{watch:ie,reset:ne,handleSubmit:oe,control:te,formState:{isSubmitting:le}}=ee;console.log(ie(),"data");const se=async e=>{try{await M.ZP.post("/api/drugs",e),await M.ZP.post("/api/examination",e),(0,I.yv)("prescription uploaded successfully",{variant:"success"}),L.onFalse(),J.onFalse(),ne()}catch(i){console.error(i.message)}},re=[{key:1,title:"".concat(null===Q||void 0===Q||null===(W=Q.patient)||void 0===W?void 0:W.name_english," medical history"),icon:G?(0,O.jsx)(A.Z,{sx:{color:"#00A76F"},icon:"icon-park-outline:correct",width:24}):(0,O.jsx)(A.Z,{icon:"eva:folder-add-fill",width:24})},{key:2,title:"last activity",color:"primary",icon:(0,O.jsx)(A.Z,{icon:"cil:room",width:24})},{key:3,title:"Next activity",color:"primary",icon:(0,O.jsx)(A.Z,{icon:"cil:room",width:24})},{key:4,title:"prescription (optional)",color:"secondary",icon:(0,O.jsx)(A.Z,{icon:"material-symbols-light:prescriptions-outline",width:24})},{key:5,title:"medical report (optional)",color:"info",icon:(0,O.jsx)(A.Z,{icon:"streamline:checkup-medical-report-clipboard",width:23})}],ae=(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(v.Z,{variant:"outlined",color:"success",onClick:J.onTrue,sx:{mt:1},children:[V("Add medical report"),(0,O.jsx)(A.Z,{icon:"mingcute:add-line"})]}),(0,O.jsx)(Z.Z,{open:J.value,onClose:J.onFalse,children:(0,O.jsxs)(D.ZP,{methods:ee,onSubmit:oe(se),children:[(0,O.jsx)(j.Z,{sx:{color:"red",position:"relative",top:"10px"},children:V("IMPORTANT")}),(0,O.jsxs)(b.Z,{children:[(0,O.jsx)(y.Z,{sx:{mb:5,fontSize:14},children:K?"\u0644\u0627 \u064a\u0646\u0628\u063a\u064a \u0623\u0646 \u064a\u062a\u0645 \u062a\u0641\u0633\u064a\u0631 \u0627\u0644\u0646\u062a\u0627\u0626\u062c \u0648\u062a\u0642\u064a\u064a\u0645\u0647\u0627 \u0628\u0634\u0643\u0644 \u0641\u0631\u062f\u064a\u060c \u0628\u0644 \u0628\u062d\u0636\u0648\u0631 \u0627\u0644\u0637\u0628\u064a\u0628 \u0627\u0644\u0630\u064a \u064a\u062a\u0645 \u0627\u0633\u062a\u0634\u0627\u0631\u062a\u0647 \u0628\u0634\u0623\u0646 \u062a\u0644\u0643 \u0627\u0644\u0646\u062a\u0627\u0626\u062c \u0645\u0639 \u0645\u0631\u0627\u0639\u0627\u0629 \u0627\u0644\u0633\u064a\u0627\u0642 \u0627\u0644\u0637\u0628\u064a \u0627\u0644\u0643\u0627\u0645\u0644 \u0644\u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u0631\u064a\u0636":"The interpretation and evaluation of the results should not be done individually, but rather in the presence of a physician who is consulted on those results and taking into account the full medical context of the patient\u2019s condition."}),(0,O.jsx)(D.au,{lang:"en",name:"description",label:V("description")})]}),(0,O.jsxs)(_.Z,{children:[(0,O.jsx)(v.Z,{variant:"outlined",color:"inherit",onClick:J.onFalse,children:V("Cancel")}),(0,O.jsx)(v.Z,{type:"submit",loading:le,variant:"contained",children:V("Upload")})]})]})})]}),de=(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(v.Z,{variant:"outlined",color:"success",onClick:L.onTrue,sx:{mt:1},children:[V("Add prescription"),(0,O.jsx)(A.Z,{icon:"mingcute:add-line"})]}),(0,O.jsx)(Z.Z,{open:L.value,onClose:L.onFalse,children:(0,O.jsxs)(D.ZP,{methods:ee,onSubmit:oe(se),children:[(0,O.jsx)(j.Z,{sx:{color:"red",position:"relative",top:"10px"},children:V("IMPORTANT")}),(0,O.jsxs)(b.Z,{children:[(0,O.jsx)(y.Z,{sx:{mb:5,fontSize:14},children:K?"\u0644\u0627 \u064a\u0646\u0628\u063a\u064a \u0623\u0646 \u064a\u062a\u0645 \u062a\u0641\u0633\u064a\u0631 \u0627\u0644\u0646\u062a\u0627\u0626\u062c \u0648\u062a\u0642\u064a\u064a\u0645\u0647\u0627 \u0628\u0634\u0643\u0644 \u0641\u0631\u062f\u064a\u060c \u0628\u0644 \u0628\u062d\u0636\u0648\u0631 \u0627\u0644\u0637\u0628\u064a\u0628 \u0627\u0644\u0630\u064a \u064a\u062a\u0645 \u0627\u0633\u062a\u0634\u0627\u0631\u062a\u0647 \u0628\u0634\u0623\u0646 \u062a\u0644\u0643 \u0627\u0644\u0646\u062a\u0627\u0626\u062c \u0645\u0639 \u0645\u0631\u0627\u0639\u0627\u0629 \u0627\u0644\u0633\u064a\u0627\u0642 \u0627\u0644\u0637\u0628\u064a \u0627\u0644\u0643\u0627\u0645\u0644 \u0644\u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u0631\u064a\u0636":"The interpretation and evaluation of the results should not be done individually, but rather in the presence of a physician who is consulted on those results and taking into account the full medical context of the patient\u2019s condition."}),(0,O.jsx)(D.Cc,{label:V("medicine*"),fullWidth:!0,name:"medicines",PaperPropsSx:{textTransform:"capitalize"},sx:{mb:2},children:null===X||void 0===X?void 0:X.map(((e,i)=>(0,O.jsx)(f.Z,{lang:"ar",value:null===e||void 0===e?void 0:e._id,sx:{mb:1},children:null===e||void 0===e?void 0:e.trade_name},i)))}),(0,O.jsx)(D.au,{lang:"en",name:"Frequency_per_day",label:V("Frequency pe day"),sx:{mb:2}}),(0,O.jsx)(s.Qr,{name:"Start_time",control:te,render:e=>{let{field:i,fieldState:{error:n}}=e;return(0,O.jsx)(d.M,{...i,label:V("Start time*"),sx:{mb:2},slotProps:{textField:{fullWidth:!0,error:!!n,helperText:null===n||void 0===n?void 0:n.message}}})}}),(0,O.jsx)(s.Qr,{name:"End_time",control:te,render:e=>{let{field:i,fieldState:{error:n}}=e;return(0,O.jsx)(d.M,{...i,label:V("End time*"),sx:{mb:2},slotProps:{textField:{fullWidth:!0,error:!!n,helperText:null===n||void 0===n?void 0:n.message}}})}}),(0,O.jsx)(D.au,{lang:"en",name:"Num_days",label:V("Num days"),sx:{mb:2}}),(0,O.jsx)(D.au,{lang:"en",name:"Doctor_Comments",label:V("Doctor Comments"),sx:{mb:2}})]}),(0,O.jsxs)(_.Z,{children:[(0,O.jsx)(v.Z,{variant:"outlined",color:"inherit",onClick:L.onFalse,children:V("Cancel")}),(0,O.jsx)(v.Z,{type:"submit",loading:le,variant:"contained",children:V("Upload")})]})]})})]}),ce=(0,O.jsx)(g.Z,{sx:{mt:2},children:(0,O.jsx)(k.Z,{sx:{mb:2,maxHeight:200},children:(0,O.jsxs)(r.Z,{sx:{minWidth:400},children:[(0,O.jsx)(C.Z,{children:(0,O.jsxs)(T.Z,{children:[(0,O.jsx)(w.Z,{children:V("Date")}),(0,O.jsx)(w.Z,{children:V("Subject")}),(0,O.jsx)(w.Z,{children:V("Info")})]})}),(0,O.jsx)(F.Z,{sx:{maxHeight:200},children:null===G||void 0===G?void 0:G.map(((e,i)=>"active"===(null===e||void 0===e?void 0:e.status)&&(0,O.jsxs)(T.Z,{children:[(0,O.jsx)(w.Z,{children:(0,N.sj)(null===e||void 0===e?void 0:e.created_at)}),(0,O.jsx)(w.Z,{children:K?null===e||void 0===e?void 0:e.name_arabic:null===e||void 0===e?void 0:e.name_english}),(0,O.jsx)(w.Z,{children:K?null===e||void 0===e?void 0:e.sub_arabic:null===e||void 0===e?void 0:e.sub_english})]},i)))})]})})});return(0,O.jsx)(c.Z,{position:"alternate",children:re.map((e=>{var i;return(0,O.jsxs)(u.Z,{children:[(0,O.jsxs)(h.Z,{children:[(0,O.jsx)(m.Z,{color:e.color,children:e.icon}),(0,O.jsx)(x.Z,{})]}),(0,O.jsx)(p.Z,{children:(0,O.jsxs)(S.Z,{sx:{p:3,bgcolor:e=>(0,a.Fq)(e.palette.grey[500],.12)},children:[(0,O.jsx)(y.Z,{variant:"subtitle2",children:e.title}),(0,O.jsxs)(y.Z,{variant:"body2",sx:{color:"text.secondary"},children:["medical report (optional)"===e.title&&ae,"prescription (optional)"===e.title&&de,e.title==="".concat(null===Q||void 0===Q||null===(i=Q.patient)||void 0===i?void 0:i.name_english," medical history")&&ce]})]})})]},e.key)}))})}},39281:(e,i,n)=>{n.d(i,{Z:()=>v});var o=n(87462),t=n(63366),l=n(72791),s=n(59278),r=n(20838),a=n(31402),d=n(66934),c=n(59703),u=n(64657);function h(e){return(0,u.ZP)("MuiTableContainer",e)}(0,c.Z)("MuiTableContainer",["root"]);var m=n(80184);const x=["className","component"],p=(0,d.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,i)=>i.root})({width:"100%",overflowX:"auto"}),v=l.forwardRef((function(e,i){const n=(0,a.Z)({props:e,name:"MuiTableContainer"}),{className:l,component:d="div"}=n,c=(0,t.Z)(n,x),u=(0,o.Z)({},n,{component:d}),v=(e=>{const{classes:i}=e;return(0,r.Z)({root:["root"]},h,i)})(u);return(0,m.jsx)(p,(0,o.Z)({ref:i,as:d,className:(0,s.Z)(v.root,l),ownerState:u},c))}))}}]);
//# sourceMappingURL=5567.da84fd2a.chunk.js.map