{"version":3,"file":"static/js/81260.d5a9a640.chunk.js","mappings":"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","sources":["hooks/use-debounce.js","sections/employee/appointmentsToday/prescription.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\n\n// ----------------------------------------------------------------------\n\nexport function useDebounce(value, delay = 500) {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n","import * as Yup from 'yup';\nimport PropTypes from 'prop-types';\nimport { enqueueSnackbar } from 'notistack';\nimport React, { useState, useEffect } from 'react';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { useForm, Controller } from 'react-hook-form';\n\nimport { DatePicker } from '@mui/x-date-pickers';\nimport {\n  Button,\n  Dialog,\n  Divider,\n  Checkbox,\n  TextField,\n  Typography,\n  DialogTitle,\n  Autocomplete,\n  DialogActions,\n  DialogContent,\n} from '@mui/material';\n\nimport { paths } from 'src/routes/paths';\nimport { useRouter } from 'src/routes/hooks';\n\nimport { useBoolean } from 'src/hooks/use-boolean';\nimport { useDebounce } from 'src/hooks/use-debounce';\n\nimport axiosInstance, { endpoints } from 'src/utils/axios';\n\nimport { useAuthContext } from 'src/auth/hooks';\nimport { useLocales, useTranslate } from 'src/locales';\nimport { useGetMedicines, useGeEntrancePrescription } from 'src/api';\n\nimport Iconify from 'src/components/iconify';\nimport FormProvider, { RHFTextField } from 'src/components/hook-form';\n\nexport default function Prescription({ Entrance }) {\n  const { user } = useAuthContext();\n  const router = useRouter();\n  const { prescriptionData, refetch } = useGeEntrancePrescription(Entrance?._id);\n  const prescriptionDialog = useBoolean();\n\n  const [medSerach, setMedSerach] = useState();\n  const debouncedQuery = useDebounce(medSerach);\n  const { medicinesData } = useGetMedicines({\n    select: 'trade_name concentration',\n    search: debouncedQuery,\n  });\n\n  const { t } = useTranslate();\n  const { currentLang } = useLocales();\n  const curLangAr = currentLang.value === 'ar';\n  const [hoveredButtonId, setHoveredButtonId] = useState(null);\n  const [prescriptions, setPrescriptions] = useState([{ id: 0 }]);\n\n  const handleHover = (hoveredId) => {\n    setHoveredButtonId(hoveredId);\n  };\n  const handleMouseOut = () => {\n    setHoveredButtonId(null);\n  };\n  const handleViewClick = (idd) => {\n    router.push(paths.employee.prescription(idd));\n  };\n\n  const addPrescriptionField = () => {\n    const newPrescription = {\n      id: prescriptions.length,\n      employee: user?.employee?._id || '',\n      patient: Entrance?.patient?._id || '',\n      unit_service_patient: Entrance?.unit_service_patient,\n      entrance_mangament: Entrance?._id || '',\n      Start_time: new Date(),\n      End_time: new Date(),\n      Frequency_per_day: '',\n      Num_days: 0,\n      Doctor_Comments: '',\n    };\n\n    setPrescriptions((prevPrescriptions) => [...prevPrescriptions, newPrescription]);\n\n    // Update form values directly\n    setValue(`prescriptions[${prescriptions.length}]`, newPrescription);\n  };\n\n  const removePrescriptionField = (id) => {\n    setPrescriptions((prevPrescriptions) =>\n      prevPrescriptions.filter((prescription) => prescription.id !== id)\n    );\n\n    // Remove the field from the form state\n    setValue(\n      `prescriptions`,\n      prescriptions.filter((prescription) => prescription.id !== id)\n    );\n  };\n\n  const PrescriptionsSchema = Yup.object().shape({\n    employee: Yup.string(),\n    patient: Yup.string(),\n    medicines: Yup.string(),\n    Start_time: Yup.mixed(),\n    End_time: Yup.mixed(),\n    Frequency_per_day: Yup.string(),\n    entrance_mangament: Yup.string(),\n    Doctor_Comments: Yup.string(),\n    chronic: Yup.boolean(),\n    Drugs_report: Yup.string(),\n    medical_report: Yup.string(),\n  });\n\n  const defaultValues = {\n    prescriptions: [\n      {\n        employee: user?.employee?._id || '',\n        patient: Entrance?.patient?._id || '',\n        unit_service:\n          user?.employee?.employee_engagements?.[user.employee.selected_engagement]?.unit_service\n            ?._id,\n        unit_service_patient: Entrance?.unit_service_patient,\n        entrance_mangament: Entrance?._id || '',\n        Start_time: new Date(),\n        End_time: new Date(),\n        Frequency_per_day: '',\n        Num_days: 0,\n        medicines: null,\n        Doctor_Comments: '',\n      },\n    ],\n  };\n\n  const methods = useForm({\n    mode: 'all',\n    resolver: yupResolver(PrescriptionsSchema),\n    defaultValues,\n  });\n\n  const {\n    reset,\n    handleSubmit,\n    control,\n    watch,\n    setValue,\n    formState: { isSubmitting },\n  } = methods;\n\n  const removePrescription = async (IdToremove) => {\n    await axiosInstance.delete(endpoints.prescription.one(IdToremove));\n\n    enqueueSnackbar(t('Field removed successfully'), { variant: 'success' });\n    refetch();\n    reset();\n  };\n\n  const watchStartTimes = watch('prescriptions')?.map((_, index) =>\n    watch(`prescriptions[${index}].Start_time`)\n  );\n  const watchEndTimes = watch('prescriptions')?.map((_, index) =>\n    watch(`prescriptions[${index}].End_time`)\n  );\n\n  useEffect(() => {\n    watchStartTimes.forEach((startTime, index) => {\n      const endTime = watchEndTimes[index];\n      if (startTime && endTime) {\n        const start = new Date(startTime);\n        const end = new Date(endTime);\n        const difference = Math.ceil((end - start) / (1000 * 60 * 60 * 24));\n        setValue(`prescriptions[${index}].Num_days`, difference > 0 ? difference : 0);\n      }\n    });\n  }, [watchStartTimes, watchEndTimes, setValue]);\n\n  const onSubmit = async (submitData) => {\n    try {\n      const prescriptionsToSubmit = submitData.prescriptions.map((prescription) => ({\n        ...prescription,\n      }));\n\n      if (prescriptionDialog.value) {\n        await axiosInstance.post(endpoints.history.all, {\n          patient: Entrance?.patient?._id,\n          unit_service_patient: Entrance?.unit_service_patient,\n          name_english: 'a prescription has been added',\n          name_arabic: 'تم ارفاق وصفة طبية',\n          sub_english: `prescription from ${Entrance?.service_unit?.name_english}`,\n          sub_arabic: `وصفة طبية من ${Entrance?.service_unit?.name_arabic}`,\n          actual_date: Entrance?.created_at,\n          title: 'prescription',\n          service_unit: Entrance?.service_unit?._id,\n        });\n\n        await axiosInstance.post('/api/drugs', prescriptionsToSubmit);\n        await axiosInstance.patch(`/api/entrance/${Entrance?._id}`, {\n          Drugs_report_status: true,\n        });\n        enqueueSnackbar(t('Prescription uploaded successfully'), { variant: 'success' });\n        prescriptionDialog.onFalse();\n        refetch();\n        reset();\n        setPrescriptions([{ id: 0 }]); // Reset prescriptions to initial state\n      }\n    } catch (error) {\n      console.error(error.message);\n      enqueueSnackbar('Error uploading data', { variant: 'error' });\n    }\n  };\n\n  useEffect(() => {\n    reset({\n      prescriptions: [\n        {\n          employee: user?.employee?._id || '',\n          patient: Entrance?.patient?._id || '',\n          unit_service:\n            user?.employee?.employee_engagements?.[user.employee.selected_engagement]?.unit_service\n              ?._id,\n          unit_service_patient: Entrance?.unit_service_patient,\n          entrance_mangament: Entrance?._id || '',\n          Start_time: new Date(),\n          End_time: new Date(),\n          Frequency_per_day: '',\n          Num_days: 0,\n          medicines: null,\n          Doctor_Comments: '',\n        },\n      ],\n    });\n  }, [user, Entrance, reset]);\n\n  return (\n    <>\n      <Button variant=\"outlined\" color=\"success\" onClick={prescriptionDialog.onTrue} sx={{ m: 2 }}>\n        {t('Add prescription')}\n        <Iconify icon=\"mingcute:add-line\" />\n      </Button>\n      {prescriptionData?.map((info, i) => (\n        <Typography\n          variant=\"h6\"\n          sx={{\n            bgcolor: '#fff',\n            m: 2,\n            border: 2,\n            borderRadius: 2,\n            borderColor: '#EDEFF2',\n            p: 2,\n          }}\n          key={i}\n        >\n          {info?.medicines?.map((medicineName, index) => (\n            <ul\n              style={{\n                listStyleType: 'none',\n                display: 'flex',\n                flexDirection: 'column',\n              }}\n            >\n              <li key={index}>{medicineName?.medicines?.trade_name}</li>\n            </ul>\n          ))}\n\n          <br />\n          <Button\n            onMouseOver={() => handleHover(info?._id)}\n            onMouseOut={handleMouseOut}\n            onClick={() => handleViewClick(info?._id)}\n            sx={{ m: 1 }}\n          >\n            {t('View')} &nbsp;{' '}\n            <Iconify icon={hoveredButtonId === info?._id ? 'emojione:eye' : 'tabler:eye-closed'} />\n          </Button>\n\n          <Button onClick={() => removePrescription(info?._id)}>\n            {t('Remove')} &nbsp; <Iconify icon=\"flat-color-icons:delete-database\" />\n          </Button>\n        </Typography>\n      ))}\n      <Dialog open={prescriptionDialog.value} onClose={prescriptionDialog.onFalse}>\n        <FormProvider methods={methods} onSubmit={handleSubmit(onSubmit)}>\n          <DialogTitle sx={{ color: 'success.main', position: 'relative', top: '10px' }}>\n            {curLangAr ? 'اضافة وصفة طبية' : 'add prescription'}\n          </DialogTitle>\n          <DialogContent>\n            {prescriptions?.map((prescription, index) => (\n              <div key={prescription.id}>\n                <Autocomplete\n                  sx={{ minWidth: 300, flex: 1, my: 2 }}\n                  options={medicinesData}\n                  onBlur={() => setMedSerach()}\n                  onChange={(event, newValue) =>\n                    setValue(`prescriptions[${index}].medicines`, newValue?._id)\n                  }\n                  // eslint-disable-next-line\n                  getOptionLabel={(option) => option.trade_name + ' ' + option.concentration || ''}\n                  onInputChange={(event, newInputValue) => {\n                    setMedSerach(newInputValue);\n                  }}\n                  renderInput={(params) => (\n                    <TextField {...params} label={t('medicine')} variant=\"outlined\" />\n                  )}\n                />\n                <RHFTextField\n                  name={`prescriptions[${index}].Frequency_per_day`}\n                  label={t('Frequency per day')}\n                  sx={{ mb: 2 }}\n                />\n                <RHFTextField\n                  name={`prescriptions[${index}].Num_days`}\n                  label={t('Number of days')}\n                  sx={{ mb: 2 }}\n                />\n\n                <Controller\n                  name={`prescriptions[${index}].Start_time`}\n                  control={control}\n                  render={({ field, fieldState: { error } }) => (\n                    <DatePicker\n                      {...field}\n                      label={t('Start time')}\n                      sx={{ mb: 2 }}\n                      slotProps={{\n                        textField: {\n                          fullWidth: true,\n                          error: !!error,\n                          helperText: error?.message,\n                        },\n                      }}\n                    />\n                  )}\n                />\n                <Controller\n                  name={`prescriptions[${index}].End_time`}\n                  control={control}\n                  render={({ field, fieldState: { error } }) => (\n                    <DatePicker\n                      {...field}\n                      label={t('End time')}\n                      sx={{ mb: 2 }}\n                      shouldDisableDate={(date) => {\n                        const startTime = watch(`prescriptions[${index}].Start_time`);\n                        return startTime && date < new Date(startTime);\n                      }}\n                      slotProps={{\n                        textField: {\n                          fullWidth: true,\n                          error: !!error,\n                          helperText: error?.message,\n                        },\n                      }}\n                    />\n                  )}\n                />\n\n                <Controller\n                  name={`prescriptions[${index}].Doctor_Comments`}\n                  control={control}\n                  render={({ field, fieldState: { error } }) => (\n                    <RHFTextField\n                      {...field}\n                      label={t('doctor comment')}\n                      multiline\n                      sx={{ mb: 2 }}\n                      error={!!error}\n                      helperText={error?.message}\n                    />\n                  )}\n                />\n\n                <Controller\n                  name={`prescriptions[${index}].chronic`}\n                  control={control}\n                  render={({ field }) => (\n                    <Checkbox\n                      {...field}\n                      checked={field.value}\n                      onChange={(e) => field.onChange(e.target.checked)}\n                    />\n                  )}\n                />\n                <Typography\n                  sx={{\n                    color: 'text.secondary',\n                    mt: { md: -3, xs: -2.3 },\n                    ml: { md: 8, xs: 4 },\n                    typography: 'caption',\n                    fontSize: { md: 15, xs: 10 },\n                  }}\n                >\n                  {t('chronic')}\n                </Typography>\n\n                <Button\n                  onClick={() => removePrescriptionField(prescription.id)}\n                  sx={{ mt: 2, mb: 2 }}\n                  variant=\"outlined\"\n                  disabled={prescriptions.length === 1} // Disable if only one prescription\n                >\n                  {t('Remove Prescription')}\n                </Button>\n\n                {index === prescriptions.length - 1 && (\n                  <Button\n                    onClick={addPrescriptionField}\n                    sx={{ ml: 2, bgcolor: 'success.main', display: 'inline' }}\n                    variant=\"contained\"\n                  >\n                    {t('Add more')}\n                  </Button>\n                )}\n              </div>\n            ))}\n            <Divider />\n          </DialogContent>\n          <DialogActions>\n            <Button variant=\"outlined\" color=\"inherit\" onClick={prescriptionDialog.onFalse}>\n              {t('Cancel')}\n            </Button>\n            <Button type=\"submit\" loading={isSubmitting} variant=\"contained\">\n              {t('Upload')}\n            </Button>\n          </DialogActions>\n        </FormProvider>\n      </Dialog>\n    </>\n  );\n}\n\nPrescription.propTypes = {\n  Entrance: PropTypes.object,\n};\n"],"names":["useDebounce","value","delay","arguments","length","undefined","debouncedValue","setDebouncedValue","useState","useEffect","handler","setTimeout","clearTimeout","Prescription","_ref","_user$employee2","_Entrance$patient2","_user$employee3","_user$employee3$emplo","_user$employee3$emplo2","_user$employee3$emplo3","_watch","_watch2","Entrance","user","useAuthContext","router","useRouter","prescriptionData","refetch","useGeEntrancePrescription","_id","prescriptionDialog","useBoolean","medSerach","setMedSerach","debouncedQuery","medicinesData","useGetMedicines","select","search","t","useTranslate","currentLang","useLocales","curLangAr","hoveredButtonId","setHoveredButtonId","prescriptions","setPrescriptions","id","handleMouseOut","addPrescriptionField","_user$employee","_Entrance$patient","newPrescription","employee","patient","unit_service_patient","entrance_mangament","Start_time","Date","End_time","Frequency_per_day","Num_days","Doctor_Comments","prevPrescriptions","setValue","PrescriptionsSchema","Yup","shape","medicines","chronic","Drugs_report","medical_report","defaultValues","unit_service","employee_engagements","selected_engagement","methods","useForm","mode","resolver","yupResolver","reset","handleSubmit","control","watch","formState","isSubmitting","watchStartTimes","map","_","index","watchEndTimes","forEach","startTime","endTime","start","end","difference","Math","ceil","_user$employee4","_Entrance$patient4","_user$employee5","_user$employee5$emplo","_user$employee5$emplo2","_user$employee5$emplo3","_jsxs","_Fragment","children","Button","variant","color","onClick","onTrue","sx","m","_jsx","Iconify","icon","info","i","_info$medicines","Typography","bgcolor","border","borderRadius","borderColor","p","medicineName","_medicineName$medicin","style","listStyleType","display","flexDirection","trade_name","onMouseOver","handleHover","hoveredId","onMouseOut","handleViewClick","idd","push","paths","prescription","async","axiosInstance","delete","endpoints","one","IdToremove","enqueueSnackbar","removePrescription","Dialog","open","onClose","onFalse","FormProvider","onSubmit","prescriptionsToSubmit","submitData","_Entrance$patient3","_Entrance$service_uni","_Entrance$service_uni2","_Entrance$service_uni3","post","history","all","name_english","name_arabic","sub_english","service_unit","sub_arabic","actual_date","created_at","title","patch","Drugs_report_status","error","console","message","DialogTitle","position","top","DialogContent","Autocomplete","minWidth","flex","my","options","onBlur","onChange","event","newValue","getOptionLabel","option","concentration","onInputChange","newInputValue","renderInput","params","TextField","label","RHFTextField","name","mb","Controller","render","_ref2","field","fieldState","DatePicker","slotProps","textField","fullWidth","helperText","_ref3","shouldDisableDate","date","_ref4","multiline","_ref5","Checkbox","checked","e","target","mt","md","xs","ml","typography","fontSize","removePrescriptionField","filter","disabled","Divider","DialogActions","type","loading"],"sourceRoot":""}