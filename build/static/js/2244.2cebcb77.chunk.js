"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[2244],{82007:(e,t,o)=>{o.d(t,{Z:()=>i});var a=o(61134),n=o(80184);function i(e){let{children:t,onSubmit:o,methods:i}=e;return(0,n.jsx)(a.RV,{...i,children:(0,n.jsx)("form",{onSubmit:o,children:t})})}},80639:(e,t,o)=>{o.d(t,{Z:()=>d});var a=o(72791),n=o(87087),i=o(16029),r=o(13967),s=o(12065);function l(){return{"4/3":"calc(100% / 4 * 3)","3/4":"calc(100% / 3 * 4)","6/4":"calc(100% / 6 * 4)","4/6":"calc(100% / 4 * 6)","16/9":"calc(100% / 16 * 9)","9/16":"calc(100% / 9 * 16)","21/9":"calc(100% / 21 * 9)","9/21":"calc(100% / 9 * 21)","1/1":"100%"}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1/1"]}var c=o(80184);const d=(0,a.forwardRef)(((e,t)=>{let{ratio:o,overlay:a,disabledEffect:d=!1,alt:m,src:p,afterLoad:h,delayTime:u,threshold:v,beforeLoad:x,delayMethod:f,placeholder:Z,wrapperProps:g,scrollPosition:b,effect:j="blur",visibleByDefault:y,wrapperClassName:k,useIntersectionObserver:S,sx:w,...C}=e;const z=(0,r.Z)(),_=!!a&&{"&:before":{content:"''",top:0,left:0,width:1,height:1,zIndex:1,position:"absolute",background:a||(0,s.Fq)(z.palette.grey[900],.48)}},P=(0,c.jsx)(i.Z,{component:n.LazyLoadImage,alt:m,src:p,afterLoad:h,delayTime:u,threshold:v,beforeLoad:x,delayMethod:f,placeholder:Z,wrapperProps:g,scrollPosition:b,visibleByDefault:y,effect:d?void 0:j,useIntersectionObserver:S,wrapperClassName:k||"component-image-wrapper",placeholderSrc:d?"/assets/transparent.png":"/assets/placeholder.svg",sx:{width:1,height:1,objectFit:"cover",verticalAlign:"bottom",...!!o&&{top:0,left:0,position:"absolute"}}});return(0,c.jsx)(i.Z,{ref:t,component:"span",className:"component-image",sx:{overflow:"hidden",position:"relative",verticalAlign:"bottom",display:"inline-block",...!!o&&{width:1},"& span.component-image-wrapper":{width:1,height:1,verticalAlign:"bottom",backgroundSize:"cover !important",...!!o&&{pt:l(o)}},..._,...w},...C,children:P})}))},41364:(e,t,o)=>{o.d(t,{Z:()=>a.Z});var a=o(80639)},82244:(e,t,o)=>{o.r(t),o.d(t,{default:()=>F});var a=o(6907),n=o(76932),i=o(4567),r=o(13838),s=o(8976),l=o(36093),c=o(8007),d=o(72791),m=o(61134),p=o(44695),h=o(16029),u=o(49792),v=o(5574),x=o(15581),f=o(4110),Z=o(62861),g=o(68096),b=o(65661),j=o(97123),y=o(39157),k=o(22459),S=o(66664),w=o(41364),C=o(32869),z=o(82007),_=o(80184);function P(e){var t;let{employeesData:o}=e;const{enqueueSnackbar:a}=(0,C.Ds)(),{t:P}=(0,n.qM)(),{currentLang:R}=(0,n.nt)(),F="ar"===R.value,B=c.Ry().shape({Body:c.Z_(),Selection:c.Z_().nullable()}),[D,I]=(0,d.useState)(),{user:M}=(0,s.E)(),{appointmentsData:N}=(0,l.BL)(null===M||void 0===M||null===(t=M.patient)||void 0===t?void 0:t._id),L=(0,m.cI)({mode:"onTouched",resolver:(0,p.X)(B),defaultValues:{Body:"",Selection:null}}),{register:O,handleSubmit:W,formState:{isSubmitting:T}}=L,q=(0,k.k)(!0),[E,A]=d.useState(void 0),V=["Neglectful treatment","Employee Behavior","Cleanliness","Price"],H=(e,t)=>{A(t)},{fullWidth:U}=(0,d.useState)(!1),{maxWidth:X}=(0,d.useState)("xs");return(0,_.jsx)(v.Z,{open:q.value,maxWidth:X,onClose:q.onTrue,fullWidth:U,children:(0,_.jsxs)(z.Z,{methods:L,onSubmit:W((async e=>{try{var t,n;const i={...e,Selection:E,Rate:D,patient:null===M||void 0===M?void 0:M.patient._id,appointment:N._id,department:null===(t=N.department)||void 0===t?void 0:t._id,employee:null===(n=o.employee)||void 0===n?void 0:n._id};await S.ZP.post("api/feedback",i),await S.ZP.patch("api/appointments/".concat(N._id),{hasFeedback:!0}),q.onFalse(),a(P("Thanks for your cooperation"),{variant:"success"}),setTimeout((()=>{window.location.reload()}),1e3)}catch(i){console.error(i.message),a(F?i.arabic_message:i.message,{variant:"error"})}})),children:[(0,_.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",textalign:"center",margin:"20px",gap:"10px"},children:[(0,_.jsx)(b.Z,{children:P("Rate your appointment")}),(0,_.jsx)(w.Z,{src:"https://cdn.altibbi.com/cdn/large/0/10/logo_1296490409_651.gif",sx:{width:"60px",height:"60px",border:1,borderRadius:"50px"}}),(0,_.jsx)(x.Z,{size:"large",precision:1,max:5,name:"Rate",value:D,onChange:e=>{I(parseFloat(e.target.value))}})]}),D<5?(0,_.jsx)(y.Z,{children:(0,_.jsxs)(h.Z,{component:"form",noValidate:!0,children:[(0,_.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr"},children:null===V||void 0===V?void 0:V.map(((e,t,o)=>{return(0,_.jsx)("div",{children:(0,_.jsxs)(h.Z,{sx:{fontSize:{md:"15px",xs:"9px"},fontWeight:{md:"400",xs:"bolder"}},children:[(0,_.jsx)(u.Z,{...(a=e,{checked:E===a,onChange:e=>H(e,a),value:a,name:"color-radio-button-demo",inputProps:{"aria-label":a}}),name:"Selection"}),e]})},o);var a}))}),(0,_.jsxs)(g.Z,{sx:{my:5,minWidth:"100%"},children:[(0,_.jsx)(Z.Z,{htmlFor:"max-width",children:"Other"}),(0,_.jsx)(f.Z,{id:"max-width",...O("Body")})]})]})}):(0,_.jsxs)(y.Z,{children:[(0,_.jsx)(i.Z,{sx:{ml:2,mb:1,fontSize:15},children:P("We hope that everything was to your satisfaction")}),(0,_.jsx)(h.Z,{component:"form",noValidate:!0,children:(0,_.jsxs)(g.Z,{sx:{my:3,minWidth:"100%"},children:[(0,_.jsx)(Z.Z,{htmlFor:"max-width",children:"Other"}),(0,_.jsx)(f.Z,{id:"max-width",...O("Body")})]})})]}),(0,_.jsxs)(j.Z,{children:[(0,_.jsx)(r.Z,{onClick:async()=>{try{await S.ZP.patch("api/appointments/".concat(N._id),{hasFeedback:!0}),q.onFalse()}catch(e){console.error(e.message)}},loading:T,variant:"outlined",color:"inherit",type:"submit",children:P("Skip")}),(0,_.jsx)(r.Z,{type:"submit",variant:"contained",children:P("Submit")})]})]})})}function R(){var e,t;const{user:o}=(0,s.E)(),{appointmentsData:a}=(0,l.BL)(null===o||void 0===o||null===(e=o.patient)||void 0===e?void 0:e._id),{employeesData:n}=(0,l.HO)(null===a||void 0===a||null===(t=a.unit_service)||void 0===t?void 0:t._id),c=new Date;return!1===(null===a||void 0===a?void 0:a.hasFeedback)&&c>(null===a||void 0===a?void 0:a.start_time)?null===n||void 0===n?void 0:n.map(((e,t)=>(0,_.jsx)(P,{employeesData:e},t))):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(i.Z,{children:"Are you coming?"}),(0,_.jsx)(r.Z,{variant:"contained",sx:{bgcolor:"success.main",width:"100px",mb:3},onClick:()=>{alert("ok")},children:"yes"}),(0,_.jsx)(r.Z,{variant:"contained",sx:{bgcolor:"success.main",width:"100px"},onClick:()=>{alert("ok")},children:"no"})]})}function F(){const{t:e}=(0,n.qM)();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(a.ql,{children:[(0,_.jsx)("title",{children:e("watingroom")}),(0,_.jsx)("meta",{name:"description",content:"meta"})]}),(0,_.jsx)(R,{})]})}},49792:(e,t,o)=>{o.d(t,{Z:()=>B});var a=o(63366),n=o(87462),i=o(72791),r=o(59278),s=o(20838),l=o(54131),c=o(97278),d=o(31402),m=o(74223),p=o(80184);const h=(0,m.Z)((0,p.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),u=(0,m.Z)((0,p.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked");var v=o(66934),x=o(15070);const f=(0,v.ZP)("span",{shouldForwardProp:x.Z})({position:"relative",display:"flex"}),Z=(0,v.ZP)(h)({transform:"scale(1)"}),g=(0,v.ZP)(u)((e=>{let{theme:t,ownerState:o}=e;return(0,n.Z)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},o.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));const b=function(e){const{checked:t=!1,classes:o={},fontSize:a}=e,i=(0,n.Z)({},e,{checked:t});return(0,p.jsxs)(f,{className:o.root,ownerState:i,children:[(0,p.jsx)(Z,{fontSize:a,className:o.background,ownerState:i}),(0,p.jsx)(g,{fontSize:a,className:o.dot,ownerState:i})]})};var j=o(14036);const y=o(55253).Z;const k=i.createContext(void 0);var S=o(59703),w=o(64657);function C(e){return(0,w.ZP)("MuiRadio",e)}const z=(0,S.Z)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),_=["checked","checkedIcon","color","icon","name","onChange","size","className"],P=(0,v.ZP)(c.Z,{shouldForwardProp:e=>(0,x.Z)(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,"medium"!==o.size&&t["size".concat((0,j.Z)(o.size))],t["color".concat((0,j.Z)(o.color))]]}})((e=>{let{theme:t,ownerState:o}=e;return(0,n.Z)({color:(t.vars||t).palette.text.secondary},!o.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===o.color?t.vars.palette.action.activeChannel:t.vars.palette[o.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,l.Fq)("default"===o.color?t.palette.action.active:t.palette[o.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==o.color&&{["&.".concat(z.checked)]:{color:(t.vars||t).palette[o.color].main}},{["&.".concat(z.disabled)]:{color:(t.vars||t).palette.action.disabled}})}));const R=(0,p.jsx)(b,{checked:!0}),F=(0,p.jsx)(b,{}),B=i.forwardRef((function(e,t){var o,l;const c=(0,d.Z)({props:e,name:"MuiRadio"}),{checked:m,checkedIcon:h=R,color:u="primary",icon:v=F,name:x,onChange:f,size:Z="medium",className:g}=c,b=(0,a.Z)(c,_),S=(0,n.Z)({},c,{color:u,size:Z}),w=(e=>{const{classes:t,color:o,size:a}=e,i={root:["root","color".concat((0,j.Z)(o)),"medium"!==a&&"size".concat((0,j.Z)(a))]};return(0,n.Z)({},t,(0,s.Z)(i,C,t))})(S),z=i.useContext(k);let B=m;const D=y(f,z&&z.onChange);let I=x;var M,N;return z&&("undefined"===typeof B&&(M=z.value,B="object"===typeof(N=c.value)&&null!==N?M===N:String(M)===String(N)),"undefined"===typeof I&&(I=z.name)),(0,p.jsx)(P,(0,n.Z)({type:"radio",icon:i.cloneElement(v,{fontSize:null!=(o=F.props.fontSize)?o:Z}),checkedIcon:i.cloneElement(h,{fontSize:null!=(l=R.props.fontSize)?l:Z}),ownerState:S,classes:w,name:I,checked:B,onChange:D,ref:t,className:(0,r.Z)(w.root,g)},b))}))}}]);
//# sourceMappingURL=2244.2cebcb77.chunk.js.map